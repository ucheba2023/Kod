(()=>{"use strict";var e,t,i,r,n,s,a={622451:(e,t,i)=>{i.d(t,{Icon16HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon16HelpOutline","help_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="help_outline_16"><path fill="currentColor" d="M7.972 9.598c.376 0 .583-.21.662-.572.07-.454.228-.686.932-1.102.747-.449 1.134-1.005 1.134-1.82 0-1.26-1.012-2.102-2.516-2.102-1.139 0-1.986.46-2.325 1.172-.106.206-.159.41-.159.643 0 .41.26.675.678.675.323 0 .561-.15.694-.497.17-.48.519-.74 1.038-.74.583 0 .985.368.985.897 0 .497-.206.767-.89 1.183-.625.373-.948.794-.948 1.432v.075c0 .443.265.756.715.756ZM8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.9 3.1a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9.9.9 0 0 1 .9-.9.9.9 0 0 1 .9.9Z" /></symbol>',16,16,!1,void 0)},495906:(e,t,i)=>{i.d(t,{Icon20HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.145 2.298l-.008.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25zM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0z" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},894758:(e,t,i)=>{i.d(t,{Icon24HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon24HelpOutline","help_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="help_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M4.929 4.929A9.97 9.97 0 0 1 12 2a9.972 9.972 0 0 1 7.071 2.929A9.97 9.97 0 0 1 22 12a9.971 9.971 0 0 1-2.929 7.071A9.972 9.972 0 0 1 12 22a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12a9.971 9.971 0 0 1 2.929-7.071ZM12 3.8a8.171 8.171 0 0 0-5.798 2.402C4.717 7.687 3.8 9.735 3.8 12s.917 4.313 2.402 5.798A8.171 8.171 0 0 0 12 20.2a8.172 8.172 0 0 0 5.798-2.402C19.283 16.313 20.2 14.265 20.2 12s-.917-4.313-2.402-5.798A8.172 8.172 0 0 0 12 3.8Zm-.768 4.29c-.254.195-.409.434-.46.634a.9.9 0 0 1-1.744-.448c.17-.663.6-1.224 1.108-1.613C10.646 6.27 11.303 6 12 6c1.602 0 3 1.398 3 3 0 1.37-.75 2.22-1.285 2.807-.599.655-.815.91-.815 1.293a.9.9 0 0 1-1.8 0c0-1.123.71-1.886 1.174-2.386l.111-.12c.515-.565.815-.965.815-1.594 0-.608-.592-1.2-1.2-1.2-.235 0-.516.097-.768.29ZM13.2 16.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z" /></symbol>',24,24,!1,void 0)},239532:(e,t,i)=>{i.d(t,{Icon28HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon28HelpOutline","help_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="help_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M3 14C3 7.928 7.928 3 14 3s11 4.928 11 11-4.928 11-11 11S3 20.072 3 14Zm1.8 0c0 5.078 4.122 9.2 9.2 9.2 5.078 0 9.2-4.122 9.2-9.2 0-5.078-4.122-9.2-9.2-9.2-5.078 0-9.2 4.122-9.2 9.2Zm8.1 5.65v-.3a.95.95 0 0 1 .95-.95h.3a.95.95 0 0 1 .95.95v.3a.95.95 0 0 1-.95.95h-.3a.95.95 0 0 1-.95-.95Zm2.97-5.447c-.477.488-.821.912-.966 1.652a2.2 2.2 0 0 0-.029.298.889.889 0 0 1-.887.847h-.01a.891.891 0 0 1-.89-.894c0-.25.008-.413.023-.49.138-.718.487-1.361.977-1.863l1.105-1.134c.316-.318.525-.774.525-1.269 0-.99-.801-1.8-1.781-1.8a1.78 1.78 0 0 0-1.493.82 3.745 3.745 0 0 0-.238.465.891.891 0 0 1-1.1.48l-.034-.012a.85.85 0 0 1-.513-1.128c.064-.155.125-.291.183-.41.612-1.245 1.764-2.015 3.195-2.015 1.968 0 3.563 1.611 3.563 3.6 0 .792-.32 1.512-.828 2.025l-.802.828Z" /></g></symbol>',28,28,!1,void 0)},932146:(e,t,i)=>{i.d(t,{Icon36HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon36HelpOutline","help_outline_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 36 36" id="help_outline_36"><path fill="currentColor" d="M18 11.5c-1.18 0-2.064.687-2.29 1.562a1.25 1.25 0 1 1-2.42-.624C13.848 10.268 15.89 9 18 9c2.56 0 4.75 1.872 4.75 4.588 0 1.001-.254 1.805-.668 2.483-.392.643-.907 1.13-1.312 1.51l-.024.022c-.828.776-1.359 1.274-1.509 2.324a1.25 1.25 0 1 1-2.475-.354c.276-1.932 1.387-2.967 2.182-3.707l.117-.109c.415-.389.692-.67.887-.989.174-.284.302-.637.302-1.18 0-1.182-.912-2.088-2.25-2.088ZM18 27a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5Z" /><path fill="currentColor" fill-rule="evenodd" d="M18 3C9.716 3 3 9.716 3 18s6.716 15 15 15 15-6.716 15-15S26.284 3 18 3ZM5.5 18c0 6.904 5.596 12.5 12.5 12.5S30.5 24.904 30.5 18 24.904 5.5 18 5.5 5.5 11.096 5.5 18Z" clip-rule="evenodd" /></symbol>',36,36,!1,void 0)},212380:(e,t,i)=>{i.d(t,{Icon56HelpOutline:()=>r});var r=(0,i(28178).makeIcon)("Icon56HelpOutline","help_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="help_outline_56"><path fill="currentColor" d="M25.46 18.099c-.63.377-1.176.98-1.567 1.958a1.5 1.5 0 1 1-2.786-1.114c.61-1.523 1.562-2.669 2.809-3.417C25.145 14.79 26.556 14.5 28 14.5c4.473 0 7 3.85 7 7 0 2.81-1.716 4.354-2.983 5.494l-.257.232c-1.307 1.19-2.26 2.19-2.26 4.274a1.5 1.5 0 0 1-3 0c0-3.416 1.797-5.177 3.24-6.492l.071-.065C31.24 23.643 32 22.949 32 21.5c0-1.85-1.518-4-4-4-1.056 0-1.895.211-2.54.599ZM28 41a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" /><path fill="currentColor" fill-rule="evenodd" d="M28 52c13.255 0 24-10.745 24-24S41.255 4 28 4 4 14.745 4 28s10.745 24 24 24Zm0-3c11.598 0 21-9.402 21-21S39.598 7 28 7 7 16.402 7 28s9.402 21 21 21Z" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},874162:(e,t,i)=>{i.d(t,{DEFAULT_CACHE:()=>c,ORDER_ERRORS:()=>d,ORDER_ITEM_ERRORS:()=>u,SAMPLE_RECIPIENT_ID:()=>l,STICKER_ANIMATION:()=>o,STICKER_IMAGE:()=>a,STICKER_PACK_ICON:()=>n,STICKER_PACK_THUMB:()=>s});var r=i(899033);const n={square_png:{id:"square.png",width:104,height:104},square_15x_png:{id:"square_1.5x.png",width:156,height:156},square_2x_png:{id:"square_2x.png",width:208,height:208},square_3x_png:{id:"square_3x.png",width:312,height:312},square_4x_png:{id:"square_4x.png",width:416,height:416}},s={"102_png":{id:"102.png",width:102,height:102,theme:r.Theme.LIGHT},"51_png":{id:"51.png",width:51,height:51,theme:r.Theme.LIGHT},"68_png":{id:"68.png",width:68,height:68,theme:r.Theme.LIGHT},"34_png":{id:"34.png",width:34,height:34,theme:r.Theme.LIGHT},"60_png":{id:"60.png",width:60,height:60,theme:r.Theme.LIGHT},"30_png":{id:"30.png",width:30,height:30,theme:r.Theme.LIGHT},"102b_png":{id:"102b.png",width:102,height:102,theme:r.Theme.DARK},"51b_png":{id:"51b.png",width:51,height:51,theme:r.Theme.DARK},"68b_png":{id:"68b.png",width:68,height:68,theme:r.Theme.DARK},"34b_png":{id:"34b.png",width:34,height:34,theme:r.Theme.DARK},"60b_png":{id:"60b.png",width:60,height:60,theme:r.Theme.DARK},"30b_png":{id:"30b.png",width:30,height:30,theme:r.Theme.DARK},"44_png":{id:"44.png",width:44,height:44},"22_png":{id:"22.png",width:22,height:22}},a={"64_png":{id:"64.png",width:64,height:64,theme:r.Theme.LIGHT},"128_png":{id:"128.png",width:128,height:128,theme:r.Theme.LIGHT},"256_png":{id:"256.png",width:256,height:256,theme:r.Theme.LIGHT},"352_png":{id:"352.png",width:352,height:352,theme:r.Theme.LIGHT},"512_png":{id:"512.png",width:512,height:512,theme:r.Theme.LIGHT},"64b_png":{id:"64b.png",width:64,height:64,theme:r.Theme.DARK},"128b_png":{id:"128b.png",width:128,height:128,theme:r.Theme.DARK},"256b_png":{id:"256b.png",width:256,height:256,theme:r.Theme.DARK},"352b_png":{id:"352b.png",width:352,height:352,theme:r.Theme.DARK},"512b_png":{id:"512b.png",width:512,height:512,theme:r.Theme.DARK}},o={[r.Theme.LIGHT]:"animation.json",[r.Theme.DARK]:"animation.b.json"},c={products:(0,r.createProductsMap)([]),productIdsQueue:new Set,productsPromise:void 0,productPromises:new Map,stickers:new Map},l=-1;var d,u;!function(e){e.NOT_SIGNED_IN="not_signed_in",e.NO_VALID_ITEMS="no_valid_items"}(d||(d={})),function(e){e.DUPLICATE_PRODUCT="duplicate_product"}(u||(u={}))},899033:(e,t,i)=>{var r;i.d(t,{ProductsByType:()=>_,Theme:()=>r,UserProductStateKey:()=>o,createProductsMap:()=>a,imageSizeCache:()=>s,imageSizesIndex:()=>n,isBasePack:()=>c,isPackProduct:()=>d,isStyleProduct:()=>l}),function(e){e.LIGHT="light",e.DARK="dark",e.DEFAULT="light"}(r||(r={}));const n=Symbol(),s=Symbol(),a=e=>new Map(e);var o;!function(e){e.IsNew="is_new"}(o||(o={}));const c=e=>void 0!==e.sticker_ids,l=e=>void 0!==e.base_id,d=e=>c(e)&&!l(e);var u;!function(e){e.Pack="pack",e.Style="style"}(u||(u={}));class _{add(e){e&&(d(e)?this.pack.add(e):l(e)&&this.style.add(e))}getPack(){return this.pack.values().next().value}getStyles(){return Array.from(this.style.values())}getCount(){return this.pack.size+this.style.size}constructor(e=[]){this.pack=new Set,this.style=new Set,e.forEach((e=>this.add(e)))}}},457299:(e,t,i)=>{i.d(t,{getStickerAnimationUrl:()=>d,getStickerImageUrl:()=>l,getStickerPackIconUrl:()=>u,getStickersKitModule:()=>h,isSampleOrderItem:()=>_,logStickersError:()=>g});var r=i(899033),n=i(874162),s=i(970978);const a=(e,t,i,n=r.Theme.DEFAULT)=>{const s=window.devicePixelRatio,a=[t*=s,i*=s,n].toString();let o=e[r.imageSizeCache];if(o&&o.has(a)){const e=o.get(a);if(e)return e}o||(o=new Map,e[r.imageSizeCache]=o);const c=(e=>{let t=e[r.imageSizesIndex];return t||(t=Object.values(e).sort(((e,t)=>e.width-t.width||e.height-t.height)),e[r.imageSizesIndex]=t),t})(e).filter((e=>!e.theme||e.theme===n)),l=c.find((e=>e.width>=t&&e.height>=i))||c[c.length-1];return o.set(a,l),l},o=(e,t,i=r.Theme.DEFAULT)=>a(n.STICKER_IMAGE,e,t,i),c=(e,t)=>e.image.base_url+"/"+t.id+(e.image.version?`?${e.image.version}`:"");function l(e,t,i,n=r.Theme.DEFAULT){var s;if(null==(s=e.render)?void 0:s.images){const{images:r}=e.render;let s;r.sort(((e,t)=>e.width-t.width||e.height-t.height));for(const e of r)if(e.width>=t&&e.height>=i){if(e.theme===n)return e.url;s=e}if(s)return s.url}return c(e,o(t,i,n))}const d=(e,t=r.Theme.DEFAULT)=>e.animation?e.animation.base_url+"/"+n.STICKER_ANIMATION[t]+(e.animation.version?`?${e.animation.version}`:""):"",u=(e,t,i,s=r.Theme.DEFAULT)=>((e,t)=>e.icon.base_url+"/"+t.id+(e.thumb.version?`?${e.thumb.version}`:""))(e,((e,t,i=r.Theme.DEFAULT)=>a(n.STICKER_PACK_ICON,e,t,i))(t,i,s)),_=e=>e.recipient_id===n.SAMPLE_RECIPIENT_ID,h=()=>i.e(51162).then(i.bind(i,406857)),g=e=>{(0,s.logError)(new Error(`Stickers: ${e}`),{environment:"stickers"})}},537783:(e,t,i)=>{i.d(t,{InitOptionsProvider:()=>o,useInitOptions:()=>c});var r=i(434788),n=i(820224),s=i(667294);const a=(0,s.createContext)({}),o=a.Provider;function c(){const e=(0,s.useContext)(a),{payload:t}=e,i=(0,n._)(e,["payload"]);return(0,r._)({},t,i)}},390420:(e,t,i)=>{i.d(t,{stickers:()=>r});const r=(0,i(798116).createDomain)()},153536:(e,t,i)=>{i.d(t,{buyFx:()=>o});var r=i(11010),n=i(393356),s=i(390420),a=i(494774);const o=s.stickers.createEffect((0,r._)((function*(){const e=window.Stickers.Cart.create([a.RANDOM_PRODUCT_ID]);yield e.load();const t=yield e.order({v:n.API_VERSION,ignoreEmptyError:!0,emptyErrorLoader:!1}).catch((()=>null));return t&&t.random_selector_result&&!t.error?t:null})))},933494:(e,t,i)=>{i.d(t,{showSnackbar:()=>r});const r=(0,i(798116).createEvent)()},494774:(e,t,i)=>{i.d(t,{RANDOM_PRODUCT_ID:()=>r,StickersGroup:()=>s,UGC_STICKERS_APP_ID:()=>n});const r=10101,n=51538586;var s;!function(e){e.LAYER="layer"}(s||(s={}))},276782:(e,t,i)=>{i.d(t,{openProductModal:()=>r});const r=i(390420).stickers.createEvent()},438470:(e,t,i)=>{i.d(t,{openRandomSelectorPacksModal:()=>r});const r=i(390420).stickers.createEvent()},727211:(e,t,i)=>{i.d(t,{openRandomSelectorResultModal:()=>r});const r=i(390420).stickers.createEvent()},424812:(e,t,i)=>{var r,n,s,a=i(434788),o=i(211314),c=i(814323),l=i(167198),d=i(902220),u=i(991243),_=i(753884),h=i(385036),g=i(374884);(null==(n=window.vk)||null==(r=n.pe)?void 0:r.static_manager_dynamic_imports)&&(null==(s=window.vk)?void 0:s.stDomain)&&(i.p=window.vk.stDomain+"/dist/"),window.StickersAnimation=c.StickersAnimation,window.StickersSettings=l.StickersSettings,window.Stickers=(0,a._)({},o.Stickers,{Cart:d.Cart,getPurchaseResult:u.getPurchaseResult,giftStickerProducts:_.giftStickerProducts,openStickersLayerView:h.openStickersLayerView,openStickersRandomSelectorView:g.openStickersRandomSelectorView});try{window.stManager.done(window.jsc("web/stickers.js"))}catch(e){}},222325:(e,t,i)=>{i.d(t,{hideSnackbar:()=>I,showSnackbar:()=>L,showSnackbarUnsafe:()=>v});var r=i(11010),n=i(434788),s=i(820224),a=i(667294),o=i(973935),c=i(659397),l=i(800325),d=i(228042),u=i(417873),_=i(773693),h=i(667465),g=i(584356),p=i(786858);const f={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},m={ok:(0,l.getIcon24CheckCircleOutline)().icon,warning:(0,d.getIcon24WarningTriangleOutline)().icon,error:(0,u.getIcon24ErrorCircleOutline)().icon,ok28:(0,_.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,h.getIcon28LoudspeakerSlashOutline)().icon},k={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker"};function v(e){return w.apply(this,arguments)}function w(){return(w=(0,r._)((function*({id:e,type:t,text:i,subtitle:r,action:n,before:s,after:a,link:o,timeout:c,align:l,onClick:d,onClose:u}){var _,h,v;let w;const S={id:e,link:o,timeout:c,onClick:d?()=>((0,p.assertNotNull)(w),d(w)):void 0,onHide:u},y={author_link:null==(h=s)||null==(_=h.avatar)?void 0:_.link,add_photo:null==(v=a)?void 0:v.url,tooltipHandler:e=>{var i,r,o,c,d,u,_,h,g,v;e.classList.add("notifier_snackbar"),t&&m[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(k[t])):(null==(r=s)||null==(i=r.avatar)?void 0:i.url)||(null==(c=s)||null==(o=c.avatar)?void 0:o.content)?s.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!(null==(u=s)||null==(d=u.avatar)?void 0:d.content)&&(null==(_=s)?void 0:_.content)&&e.classList.add("notifier_snackbar_with_custom_before"),(null==(v=null==(h=a)?void 0:h.rounded)||v)&&e.classList.add("notifier_snackbar_with_rounded_after");const S=l?f[l]:void 0;if(S&&e.classList.add(S),null==(g=n)?void 0:g.onClick){var y;null==(y=e.querySelector(".notifier_snackbar_action"))||y.addEventListener("click",(e=>{var t,i;(0,p.assertNotNull)(w),null==(t=(i=n).onClick)||t.call(i,e,w)}))}}};if(t&&m[t])y.avatar_custom_content=m[t];else if(s){var b,P,C,L,I;y.author_link=null==(b=s.avatar)?void 0:b.link,(null==(P=s.avatar)?void 0:P.url)?y.author_photo=s.avatar.url:(null==(C=s.avatar)?void 0:C.content)?y.avatar_custom_content=s.avatar.content:s.content&&(y.avatar_custom_content=s.content),(null==(L=s.icon)?void 0:L.type)?y.icon_type=s.icon.type:(null==(I=s.icon)?void 0:I.url)&&(y.icon_custom={image_url:s.icon.url})}const A=[`<div class="notifier_snackbar_text">${i}</div>`,r&&`<div class="notifier_snackbar_subtitle">${r}</div>`,n&&`<div><a class="notifier_snackbar_action" ${n.href?`href="${n.href}"`:""}>${n.label}</a></div>`].filter(Boolean).join("");return w=yield(0,g.showDoneBoxAsync)(A,S,y),w}))).apply(this,arguments)}const S=e=>{var{label:t,href:i}=e,r=(0,s._)(e,["label","href"]);return(0,n._)({label:A(t),href:i&&(0,c.escape)(i)},r)},y=e=>{var{link:t,url:i,content:r}=e,a=(0,s._)(e,["link","url","content"]);return(0,n._)({link:t&&(0,c.escape)(t),url:i&&(0,c.escape)(i),content:r?A(r):void 0},a)},b=e=>{var{url:t}=e,i=(0,s._)(e,["url"]);return(0,n._)({url:t&&(0,c.escape)(t)},i)},P=({avatar:e,content:t,icon:i})=>({avatar:e&&y(e),content:t?A(t):void 0,icon:i&&b(i)}),C=e=>{var{url:t}=e,i=(0,s._)(e,["url"]);return(0,n._)({url:t&&(0,c.escape)(t)},i)};function L(e){var{text:t,subtitle:i,action:r,before:a,after:o,link:l}=e,d=(0,s._)(e,["text","subtitle","action","before","after","link"]);return v((0,n._)({text:A(t),subtitle:i?A(i):void 0,action:r&&S(r),before:a&&P(a),after:o&&C(o),link:l&&(0,c.escape)(l)},d))}function I(e){var t;null==(t=window.Notifier)||t.hideEvent(e)}function A(e){const t=document.createElement("div");return(0,o.render)((0,a.createElement)(a.Fragment,null,e),t),t.innerHTML}},898718:(e,t,i)=>{i.d(t,{getCache:()=>l,getPackByStickerId:()=>g,getSticker:()=>u,getStickers:()=>_,updateCache:()=>d});var r=i(434788),n=i(363444),s=i(874162),a=i(899033),o=i(581522),c=i(531730);const l=()=>{if(!window.stickersCache){const e=c.ls.get("stickers_cache");window.stickersCache=(0,r._)({},s.DEFAULT_CACHE,e)}return window.stickersCache},d=e=>{window.stickersCache=(0,r._)({},l(),e)},u=e=>l().stickers.get(e),_=e=>{const{stickers:t}=l();return e.map((e=>t.get(e)))},h=e=>{const t=u(e);if(!t||!t.pack_id)return null;const i=(0,o.getProductFromCache)(t.pack_id);return i&&(0,a.isBasePack)(i)?i:null},g=e=>{const t=h(e);return t?Promise.resolve(t):new Promise((t=>{n.ajax.post("stickers.php",{act:"get_products",sticker_ids:[e]},{onDone(i){(0,o.cacheProductsData)(i),t(h(e))},onFail:e=>(console.error(e),t(null),!0)})}))}},902220:(e,t,i)=>{i.d(t,{Cart:()=>d});var r=i(434788),n=i(820224),s=i(363444),a=i(383320),o=i(874162),c=i(581522),l=i(584356);class d{static create(e,t=[]){const i=e.map((e=>({product_id:e,amount:1})));return new d(i,t)}copy(){const e=new d(this.getItems(),this.getRecipientIds());return e.setOrder(this.getOrder()),e}getItems(){return Array.from(this.items.values())}setItems(e){this.items=new Map(e.map((e=>[e.product_id,e])))}loadItems(){const e=Array.from(this.items.keys());return(0,c.getProducts)(e).then((()=>{for(const e of Array.from(this.items.values()))e.product=(0,c.getProductFromCache)(e.product_id)}))}getProducts(){return(0,c.getProductsFromCache)(Array.from(this.items.keys()))}hasProduct(e){return this.items.has(e)}addProduct(e,t=!1){if(!this.hasProduct(e)){const i={product_id:e,amount:1};t?this.setItems([...this.getItems(),i]):this.setItems([i,...this.getItems()]),this.onChange&&this.onChange()}}removeProduct(e){this.hasProduct(e)&&(this.items.delete(e),this.onChange&&this.onChange())}getRecipientIds(e=!1){return this.recipientIds.size?Array.from(this.recipientIds.values()):this.isGift&&e?[o.SAMPLE_RECIPIENT_ID]:[]}setRecipientIds(e){this.recipientIds=new Set(e)}hasRecipientId(e){return this.recipientIds.has(e)}addRecipientId(e){this.hasRecipientId(e)||(this.recipientIds.add(e),this.onChange&&this.onChange())}removeRecipientId(e){this.hasRecipientId(e)&&(this.recipientIds.delete(e),this.onChange&&this.onChange())}setOrder(e){if(this._order=e,e){this.recipientIds.clear();for(const t of e.items)t.recipient_id!==o.SAMPLE_RECIPIENT_ID&&this.recipientIds.add(t.recipient_id)}}loadOrder(e){const t=e.items.map((e=>e.product_id));return(0,c.getProducts)(t).then((t=>(0,r._)({},e,{items:e.items.map(((e,i)=>(0,r._)({},e,{product:t[i]})))})),(()=>e))}getOrder(){return this._order}getRecipientsMap(){return this.recipients}getRecipients(){return Array.from(this.recipients.values())}getRecipientById(e){return this.recipients.get(e)}addRecipients(e){this.recipients=new Map([...this.getRecipients(),...e].map((e=>[e[0],e])))}getJSON(){return JSON.stringify({items:this.getItems().map((e=>(0,r._)({},e,{product:void 0}))),recipient_ids:this.getRecipientIds(!0)})}isLoaded(){return null!==this.getOrder()}cancelLoad(){this.loadTimeout&&(window.clearTimeout(this.loadTimeout),this.loadTimeout=null),this.loadCancellationToken&&(this.loadCancellationToken.cancel(),this.loadCancellationToken=null)}load(e=!1){return this.cancelLoad(),new Promise((t=>{this.loadTimeout=window.setTimeout((()=>{this.loadCancellationToken=new a.AjaxCancellationToken,s.ajax.post("stickers.php",{act:"preview_products_order",cart:this.getJSON(),with_suggested_recipients:e?1:0},{cancellationToken:this.loadCancellationToken,onDone:e=>{(0,c.cacheProductsData)(e),Promise.all([this.loadItems(),this.loadOrder(e.order)]).then((([,i])=>{this.setOrder(i),e.recipients&&this.addRecipients(e.recipients),t(this)}),(()=>{}))},onFail:e=>(e&&window.__dev&&console.error(e),t(this),!0)})}),300)}))}order(e={}){var{ignoreEmptyError:t,emptyErrorLoader:i}=e,r=(0,n._)(e,["ignoreEmptyError","emptyErrorLoader"]);return new Promise((e=>{var n;s.ajax.post("stickers.php",{act:"order_products",cart:this.getJSON(),hash:r.hash||(null==(n=this.getOrder())?void 0:n.hash),message:r.message,is_private:r.is_private?1:0,ref:r.ref,gift_ref:r.gift_ref,v:r.v},{onDone:t=>{requestAnimationFrame((()=>{(0,l.hideBoxLoader)()})),(0,c.cacheProductsData)(t),t.result.random_selector_result=t.random_selector_result,Promise.all([this.loadOrder(t.order),this.loadOrder(t.result)]).then((([t,i])=>{this.setOrder(t),e(i)}),(()=>{}))},onFail:r=>!r&&t?(i&&requestAnimationFrame((()=>{(0,l.showBoxLoader)()})),!0):(r&&console.error(r),e(null),!0)})}))}constructor(e,t=[]){this.loadTimeout=null,this.loadCancellationToken=null,this.isGift=!1,this.onChange=null,this._order=null,this.setItems(e),this.recipientIds=new Set(t),this.recipients=new Map}}},580284:(e,t,i)=>{i.d(t,{default:()=>S});var r=i(434788),n=i(785893),s=i(667294),a=i(401840),o=i(584356),c=i(221780),l=i(29271),d=i(549309),u=i(562329),_=i(92116),h=i(866781),g=i(899033),p=i(457299),f=i(138255),m=i(445664),k=i(260795),v=i(358740),w=i(659397);const S=({cart:e,options:{ref:t,gift_ref:i},closeBox:S,updateBox:y})=>{var b,P;const[C,L]=(0,f.useCart)(e),I=!C.isLoaded()&&L;(0,s.useEffect)((()=>{y()}),[I]);const A=C.getRecipientIds(),E=C.getOrder(),T=E&&!E.error&&E.items.find((e=>!e.error&&!(0,p.isSampleOrderItem)(e))),[x,R]=function(e){if(!e)return[null,null];let t;for(const i of e.items){const{product:e}=i;if(e&&(0,g.isPackProduct)(e)){t=e;break}}let i=e.items.filter((({product:e})=>{var t;return null==(t=e)?void 0:t.can_gift}));const r=i.filter((e=>!e.error&&!(0,p.isSampleOrderItem)(e)));r.length&&(i=r);const n=new g.ProductsByType(i.map((e=>e.product))),s=n.pack.values().next().value,a=Array.from(n.style);let o="",d="";if(1===a.length)o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_1_style"),"title",a[0].title),s?d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_with_pack"),"title",s.title):t&&(d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_for_pack"),"title",t.title));else if(s){if(o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_pack"),"title",s.title),a.length)switch(a.length){case 2:d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_with_2_styles"),"title1",a[0].title,"title2",a[1].title);break;case 3:d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_with_3_styles"),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title);break;case 4:d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_with_3_styles_and_1_more"),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title);break;default:const e=a.length-3;d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_with_3_styles_and_n_more",e),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title,"n",e)}}else if(a.length){switch(a.length){case 2:o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_2_styles"),"title1",a[0].title,"title2",a[1].title);break;case 3:o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_3_styles"),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title);break;case 4:o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_3_styles_and_1_more"),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title);break;default:const e=a.length-3;o=(0,c.langStr)(l.getLang("purchases_stickers_gift_title_3_styles_and_n_more",e),"title1",a[0].title,"title2",a[1].title,"title3",a[2].title,"n",e)}t&&(d=(0,c.langStr)(l.getLang("purchases_stickers_gift_description_for_pack"),"title",t.title))}a.length?d+=" "+l.getLang("purchases_stickers_gift_description_styles"):d+=" "+l.getLang("purchases_stickers_gift_description");return[o,d]}(E),[,M]=(0,s.useState)(null);(0,s.useLayoutEffect)((()=>{const e=C.getRecipients();if(M(window.WideDropdown.init("StickerProductsGiftRecipientsDropdown",{defaultItems:e,items:e,noResult:l.getLang("gifts_nobody_found"),introText:l.getLang("gifts_start_typing_recipient"),maxItems:20,onChange:(e,t)=>{1===e?C.addRecipientId(+t):C.removeRecipientId(+t)}})),A.length)for(const e of A){const t=C.getRecipientById(e);t&&window.WideDropdown.select("StickerProductsGiftRecipientsDropdown",!1,t)}else window.WideDropdown.focus("StickerProductsGiftRecipientsDropdown");return()=>{window.WideDropdown.deinit("StickerProductsGiftRecipientsDropdown")}}),[I]);const[O,j]=(0,s.useState)(""),[D,N]=(0,s.useState)(!1),[G,B]=(0,s.useState)(!1),H=()=>{G||(B(!0),C.order({message:O,is_private:D,ref:t,gift_ref:i}).then((e=>{B(!1),e&&!e.error&&((0,o.showDoneBox)(function(e,t){const i=new g.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),r=function(e){const t=e.getPack(),i=e.getStyles();if(t)return i.length?(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_pack_and_styles",i.length),"title",t.title,"styles_num",i.length):(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_pack"),"title",t.title);if(i.length)switch(i.length){case 1:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_1_style"),"title",i[0].title);case 2:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_2_styles"),"title1",i[0].title,"title2",i[1].title);case 3:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_3_styles"),"title1",i[0].title,"title2",i[1].title,"title3",i[2].title);case 4:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_3_styles_and_1_more"),"title1",i[0].title,"title2",i[1].title,"title3",i[2].title);default:{const e=i.length-3;return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_products_3_styles_and_n_more",e),"title1",i[0].title,"title2",i[1].title,"title3",i[2].title,"n",e)}}return null}(i);if(!r)return null;const n=new Set;for(const i of e.items){const{error:e,recipient_id:r}=i;if(e)continue;const s=t(r);s&&n.add(s)}const s=function(e,t){const i=Array.from(e.values());switch(i.length){case 0:return null;case 1:{const e=1===t?l.getLang("purchases_stickers_gift_result_1_recipient_single","raw"):l.getLang("purchases_stickers_gift_result_1_recipient_multiple","raw");return(0,c.langStr)((0,l.langSex)(i[0][8],e),"name",i[0][8])}case 2:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_2_recipients",t),"name1",i[0][8],"name2",i[1][8]);case 3:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_3_recipients",t),"name1",i[0][8],"name2",i[1][8],"name3",i[2][8]);case 4:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_4_recipients",t),"name1",i[0][8],"name2",i[1][8],"name3",i[2][8],"name4",i[3][8]);case 5:return(0,c.langStr)(l.getLang("purchases_stickers_gift_result_5_recipients",t),"name1",i[0][8],"name2",i[1][8],"name3",i[2][8],"name4",i[3][8],"name5",i[4][8]);default:{const e=i.length-4,r=1===t?l.getLang("purchases_stickers_gift_result_4_recipients_and_n_more_single"):l.getLang("purchases_stickers_gift_result_4_recipients_and_n_more_multiple");return(0,c.langStr)(r,"name1",i[0][8],"name2",i[1][8],"name3",i[2][8],"name4",i[3][8],"n",e)}}return null}(n,i.getCount());if(!s)return null;return(0,c.langStr)(s,"products",r)}(e,(e=>C.getRecipientById(e)))),S())}),(()=>{})))};return(0,s.useEffect)((()=>{window.WideDropdown.disable("StickerProductsGiftRecipientsDropdown",G)}),[G]),(0,n.jsxs)("article",{className:"StickerProductsGift",children:[(0,n.jsx)(d.ModalHeader,{className:"StickerProductsGift__header",title:l.getLang("purchases_stickers_gift_box_title"),onClose:S}),I?(0,n.jsx)("section",{className:"StickerProductsGift__content StickerProductsGift__content--loading",children:(0,n.jsx)(u.default,{size:24})}):(0,n.jsxs)(s.Fragment,{children:[(0,n.jsxs)("section",{className:"StickerProductsGift__content",children:[(0,n.jsx)(m.default,{order:E,forceValid:!T}),(0,n.jsx)("h1",{className:"StickerProductsGift__productsTitle",children:(0,w.decodeHTMLEntities)(x||"")}),(0,n.jsx)("p",{className:"StickerProductsGift__productsDescription",children:(0,w.decodeHTMLEntities)(R||"")}),E&&(0,n.jsxs)(s.Fragment,{children:[(0,n.jsxs)("dl",{className:"StickerProductsGift__price",children:[(0,n.jsx)("dt",{className:"StickerProductsGift__priceLabel",children:l.getLang("purchases_gift_price_label")})," ",(0,n.jsx)("dd",{className:"StickerProductsGift__priceValue",children:l.getLang("global_n_votes",E.price.current)})]}),(0,n.jsx)("div",{className:"StickerProductsGift__balance",children:(0,c.langStr)(l.getLang("gifts_you_have_X_votes"),"votes",l.getLang("global_n_votes",E.balance))})]}),(0,n.jsxs)("div",{className:"StickerProductsGift__recipients",children:[(0,n.jsx)("label",{className:"StickerProductsGift__recipientsLabel",htmlFor:"StickerProductsGiftRecipientsInput",children:l.getLang("gifts_receiver")}),(0,n.jsxs)("div",{className:"wdd StickerProductsGift__recipientsDropdown",id:"StickerProductsGiftRecipientsDropdown",children:[(0,n.jsx)("div",{className:"fl_r wdd_arr"}),(0,n.jsx)("input",{className:"wdd_text fl_l",id:"StickerProductsGiftRecipientsInput",placeholder:l.getLang("gifts_choose_recipients")})]})]}),(0,n.jsxs)("div",{className:"StickerProductsGift__message",children:[(0,n.jsx)("label",{className:"StickerProductsGift__messageLabel",htmlFor:"StickerProductsGiftMessageInput",children:l.getLang("purchases_gift_your_message")}),(0,n.jsx)(_.Textarea,{className:"StickerProductsGift__messageInput",id:"StickerProductsGiftMessageInput",value:O,onChange:e=>j(e.currentTarget.value),onResize:()=>y(),style:{height:80},disabled:G})]}),(0,n.jsx)(h.default,{className:"StickerProductsGift__isPrivate",checked:D,disabled:G,onChange:()=>N(!D),children:l.getLang("gifts_receiver_only")})]}),(0,n.jsxs)("footer",{className:"StickerProductsGift__footer",children:[(0,n.jsx)("div",{className:"StickerProductsGift__footerNote",children:!L&&E&&(0,n.jsxs)("div",{className:"StickerProductsGift__details",children:[l.getLang("purchases_stickers_gift_details_label"),(0,n.jsx)(a.HintIcon,{gap:"l",tooltip:(0,r._)({placement:"top"},(0,k.stickerProductsGiftDetails)({order:E,recipients:C.getRecipientsMap()}))})]})}),(0,n.jsx)("div",{className:"StickerProductsGift__footerButtons",children:(0,n.jsx)(v.default,{className:"StickerProductsGift__gift",mode:T?"primary":"secondary",size:"m",loading:L||G,disabled:!T,price:null==(b=E)?void 0:b.price,text:T?(0,c.langStr)(l.getLang("purchases_stickers_gift_send_for"),"price",l.getLang("global_n_votes",null==(P=E)?void 0:P.price.current)):l.getLang("purchases_stickers_gift_send"),onClick:()=>H()})})]})]})]})}},260795:(e,t,i)=>{i.d(t,{stickerProductsGiftDetails:()=>u});var r=i(785893),n=i(667294),s=i(659397),a=i(331533),o=i(221780),c=i(29271),l=i(457299),d=i(899033);const u=({order:e,recipients:t})=>{const i=function(e){if(!e)return null;let t=e.items.filter((({product:e})=>{var t;return null==(t=e)?void 0:t.can_gift}));const i=t.filter((e=>!e.error&&!(0,l.isSampleOrderItem)(e)));i.length&&(t=i);const r=[],n=[];for(const e of t){const{product:t}=e;t&&((0,d.isPackProduct)(t)?r.push(e):(0,d.isStyleProduct)(t)&&n.push(e))}const s=n.reduce(((e,t)=>{var i;return e+((null==(i=t.price)?void 0:i.current)||0)}),0);if(r.length){const e=r.reduce(((e,t)=>{var i;return e+((null==(i=t.price)?void 0:i.current)||0)}),0);return n.length?(0,o.langStr)(c.getLang("purchases_stickers_gift_details_summary_pack_with_styles",n.length),"pack_price_sum",c.getLang("global_n_votes",e),"styles_num",n.length,"styles_price_sum",c.getLang("global_n_votes",s)):(0,o.langStr)(c.getLang("purchases_stickers_gift_details_summary_pack"),"pack_price_sum",c.getLang("global_n_votes",e))}if(n.length)return(0,o.langStr)(c.getLang("purchases_stickers_gift_details_summary_styles",n.length),"styles_num",n.length,"styles_price_sum",c.getLang("global_n_votes",s));return null}(e)||"",u=new Map;for(const i of e.items){const{error:e,product:r,recipient_id:n}=i;if(e)continue;const s=t.get(n);if(!s)continue;let a=u.get(s);a||(a=new d.ProductsByType,u.set(s,a)),a.add(r)}const h=Array.from(u.entries()),g=h.length,p={maxWidth:291,text:h.map((([e,t])=>(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(a.InnerHTML,{Component:"span",children:e[1]}),": ",(0,s.decodeHTMLEntities)(_(t)||"")," "]},e[0])))};return p[i&&g?"header":"text"]=(0,r.jsx)(a.InnerHTML,{children:i}),p};function _(e){const t=e.getPack(),i=e.getStyles();let r="";return i.length&&(r=i.map((e=>(0,o.langStr)(c.getLang("purchases_stickers_gift_details_recipient_style_title"),"title",e.title))).join(", ")),t?r?(0,o.langStr)(c.getLang("purchases_stickers_gift_details_recipient_pack_and_styles"),"pack_title",t.title,"style_titles",r):(0,o.langStr)(c.getLang("purchases_stickers_gift_details_recipient_pack"),"title",t.title):r?(0,o.langStr)(c.getLang("purchases_stickers_gift_details_recipient_styles"),"style_titles",r):null}},445664:(e,t,i)=>{i.d(t,{default:()=>c});var r=i(785893),n=i(682615),s=i(899033),a=i(457299);const o={s:56,m:96,l:168},c=({order:e,forceValid:t=!1})=>{var i;const c=new Map,l=new Map;if(e)for(const t of e.items){const{product:e}=t;var d;if(e)if((0,s.isPackProduct)(e))if(c.has(e))null==(d=c.get(e))||d.push(t);else c.set(e,[t]);else if((0,s.isStyleProduct)(e)){var u;if(l.has(e))null==(u=l.get(e))||u.push(t);else l.set(e,[t])}}const _=c.keys().next().value,h=(_?1:0)+l.size,g=h>1?h>2?"s":"m":"l",p=o[g],f=Array.from(l.entries());t||f.sort((([,e],[,t])=>t.filter((e=>!e.error)).length-e.filter((e=>!e.error)).length));const m=f.slice(0,3);let k=f.slice(3),v=!0;if(!t){const e=k.filter((([,e])=>e.find((e=>!e.error))));e.length?k=e:v=!1}return(0,r.jsxs)("ul",{className:"StickerProductsGiftIcons",children:[_&&(0,r.jsx)("li",{className:(0,n.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${g}`,"StickerProductsGiftIcons__icon--pack",{"StickerProductsGiftIcons__icon--invalid":!t&&!(null==(i=c.get(_))?void 0:i.find((e=>!e.error)))}),style:{backgroundImage:`url(${(0,a.getStickerPackIconUrl)(_,p,p)})`}},_.id),m.map((([e,i])=>(0,r.jsx)("li",{className:(0,n.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${g}`,"StickerProductsGiftIcons__icon--style",{"StickerProductsGiftIcons__icon--invalid":!t&&!i.find((e=>!e.error))}),style:{backgroundImage:`url(${(0,a.getStickerPackIconUrl)(e,p,p)})`}},e.id))),k.length?(0,r.jsxs)("li",{className:(0,n.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${g}`,"StickerProductsGiftIcons__icon--more",{"StickerProductsGiftIcons__icon--invalid":!v}),children:["+",k.length]},"more"):null]})}},358740:(e,t,i)=>{i.d(t,{default:()=>d});var r=i(434788),n=i(820224),s=i(785893),a=i(667294),o=i(832550),c=i(659397),l=i(29271);const d=e=>{var t,i,{className:d,price:u,text:_,placeholder:h}=e,g=(0,n._)(e,["className","price","text","placeholder"]);let p=(0,a.useMemo)((()=>{if(u){let e;u.current!==u.regular&&u.regular&&(e=(0,s.jsx)("span",{className:"StickersPriceButton__regular",children:u.current?u.regular:(0,l.langStr)(l.getLang("purchases_stickers_n_for_m"),"%n","","%m",l.getLang("global_n_votes",u.regular))},"regular"));const t=(0,s.jsx)("span",{className:"StickersPriceButton__current",children:u.current?l.getLang("global_n_votes",u.current):l.getLang("purchases_for_free_btn").toLowerCase()},"current");return _?_.split(/(\{regular_price\}|\{price\})/).map(((i,r)=>"{regular_price}"===i?e:"{price}"===i?t:i?(0,s.jsx)("span",{className:"StickersPriceButton__label",children:i},`label${r}`):void 0)):[e,t]}return[h]}),[_,h,null==(t=u)?void 0:t.regular,null==(i=u)?void 0:i.current]);return(0,s.jsx)(o.Button,(0,r._)({className:(0,c.classNames)("StickersPriceButton",d)},g,{children:p}))}},727931:(e,t,i)=>{var r;i.d(t,{REGULAR_SIZES:()=>s,SIZE_512:()=>n,StickerSize:()=>r}),function(e){e[e.SMALL=128]="SMALL",e[e.MIDDLE=168]="MIDDLE",e[e.BIG=208]="BIG"}(r||(r={}));const n=512,s=[64,128,256,352,n]},138255:(e,t,i)=>{i.d(t,{useCart:()=>n});var r=i(667294);const n=e=>{const[t,i]=(0,r.useState)(e),[n,s]=(0,r.useState)(null),a=(0,r.useCallback)((()=>{const e=t.load();s(e),e.then((t=>{i(t),s((t=>t===e?null:t))}),(()=>{}))}),[t]);return(0,r.useEffect)((()=>(t.onChange=a,t.isLoaded()||a(),()=>{t.onChange=null,t.cancelLoad()})),[t]),[t,null!==n]}},581522:(e,t,i)=>{i.d(t,{activateProduct:()=>h,cacheProductsData:()=>a,getProduct:()=>_,getProductFromCache:()=>o,getProducts:()=>u,getProductsFromCache:()=>c,updateUserProductState:()=>g});var r=i(434788),n=i(363444),s=i(898718);const a=(e,t=[])=>{const i=(0,s.getCache)();if(e.stickers){const{stickers:t}=i;for(const i of e.stickers)t.has(i.id)?t.set(i.id,(0,r._)({},t.get(i.id),i)):t.set(i.id,i)}if(e.products)for(const t of e.products)i.products.set(t.id,t),i.productPromises.delete(t.id);for(const e of t)i.products.has(e)||i.products.set(e,null),i.productPromises.delete(e);e.emoji&&window.Emoji&&window.Emoji.updateTabs(e.emoji.stickers,e.emoji.keywords,!0),(0,s.updateCache)(i)},o=e=>(0,s.getCache)().products.get(e),c=e=>{const t=(0,s.getCache)().products;return e.map((e=>t.get(e)))};function l(){let{productsPromise:e}=(0,s.getCache)();return e||(e=new Promise((e=>setTimeout((()=>{const t=(0,s.getCache)().productIdsQueue,i=Array.from(t);t.clear(),(0,s.updateCache)({productIdsQueue:t,productsPromise:void 0}),n.ajax.post("stickers.php",{act:"get_products",product_ids:i},{onDone(t){a(t,i),e([])},onFail:t=>(console.error(t),a({},i),e([]),!0)})}),300))),(0,s.updateCache)({productsPromise:e})),e}const d=e=>{if(!e.length)return Promise.resolve([]);const{productPromises:t,productIdsQueue:i}=(0,s.getCache)(),r=new Set;for(const n of e)if(t.has(n)){const e=t.get(n);e&&r.add(e)}else{i.add(n);const e=l();t.set(n,e),r.add(e)}return(0,s.updateCache)({productIdsQueue:i,productPromises:t}),Promise.all(r).then((()=>c(e)))},u=(e,t=!0)=>{const i=t?e.filter((e=>void 0===o(e))):e;return i.length?d(i).then((()=>c(e))):Promise.resolve(c(e))},_=(e,t=!0)=>{if(t){const t=o(e);if(void 0!==t)return Promise.resolve(t)}return d([e]).then((()=>o(e)))},h=e=>new Promise((t=>{n.ajax.post("stickers.php",{act:"activate_product",product_id:e.id,hash:e.csrf_hash},{onDone(e){a(e),t()},onFail:e=>(console.error(e),t(),!0)})})),g=(e,t,i,r=!0)=>new Promise((s=>{n.ajax.post("stickers.php",{act:"update_user_product_state",product_ids:[e],key:t,value:i},{onDone(e){r&&a(e),s()},onFail:e=>(console.error(e),s(),!0)})}))},753884:(e,t,i)=>{i.d(t,{giftStickerProducts:()=>h,giftStickersCart:()=>_});var r=i(434788),n=i(785893),s=i(973935),a=i(869048),o=i(514986),c=i(902220),l=i(991243),d=i(898718),u=i(580284);function _(e,t){const{productsGiftLock:i}=(0,d.getCache)();if(i)return null;let c;(0,d.updateCache)({productsGiftLock:!0});const _=(0,r._)({},t);function h(){var e;return null==(e=c)?void 0:e.bodyNode.querySelector(".StickersProductsGift")}function g(){var e;null==(e=c)||e.hide()}function p(){var e;null==(e=c)||e.updateBoxCoords()}return(0,l.showLoader)(),e.isGift=!0,Promise.all([e.load(!0),window.stManager.add(["stickers.css",window.jsc("web/wide_dd.js"),"wide_dd.css"])]).then((([e])=>{(0,l.hideLoader)(),c=new o.MessageBox({hideButtons:!0,bodyStyle:"padding: 0; background: none;",width:450,onShow(){!function(e){const t=h();t&&s.render((0,n.jsx)(a.AppRootProvider,{children:(0,n.jsx)(u.default,{cart:e,options:_,closeBox:g,updateBox:p})}),t)}(e),requestAnimationFrame((()=>{p()}))},onHideAttempt:()=>(function(){const e=h();e&&s.unmountComponentAtNode(e)}(),!0),onHide(){(0,d.updateCache)({productsGiftLock:!1})}}),c.content('<div class="StickersProductsGift"></div>'),c.show()}),(()=>{})),{hide:g}}function h(e,t=[],i){return _(c.Cart.create(e,t),i)}},991243:(e,t,i)=>{i.d(t,{findClosestStickerSize:()=>k,getBoxLayerWrap:()=>_,getLangCode:()=>m,getPurchaseResult:()=>p,hideLoader:()=>g,showLoader:()=>h,updateStickersFromQueue:()=>f});var r=i(221780),n=i(29271),s=i(68003),a=i(795558),o=i(584356),c=i(899033),l=i(727931),d=i(457299);function u(){return document.querySelector("#box_loader")}function _(){return document.querySelector("#box_layer_wrap")}function h(){const e=u();(0,o.boxRefreshCoords)(e),(0,a.show)(e),(0,a.show)(_())}function g(){(0,a.hide)(u())}function p(e){const t=new c.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),i=t.getPack(),s=t.getStyles();if(i)return s.length?(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_pack_and_styles",s.length),"pack_title",i.title,"n",s.length):(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_pack"),"title",i.title);if(s.length)switch(s.length){case 1:return(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_1_style"),"title",s[0].title);case 2:return(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_2_styles"),"title1",s[0].title,"title2",s[1].title);case 3:return(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_3_styles"),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title);case 4:return(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_3_styles_and_1_more"),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title);default:const e=s.length-3;return(0,r.langStr)(n.getLang("purchases_stickers_purchase_result_3_styles_and_n_more",e),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title,"n",e)}return null}function f(e){!function(e){const t=s.colorScheme.isDarkScheme()?"data-src-dark":"data-src-light";e.querySelectorAll(`.sticker_img[${t}]`).forEach((e=>{const i=e.getAttribute(t);i&&(e.src=i)}))}(e)}const m=()=>window.vk.lang||"ru",k=e=>e>l.SIZE_512?((0,d.logStickersError)("Нет размера стикера больше 512px"),l.SIZE_512):l.REGULAR_SIZES.find((t=>t>=e))},719876:(e,t,i)=>{i.d(t,{ViewId:()=>r,views:()=>d});var r,n=i(667294);i(849246);!function(e){e.LAYER="layer",e.LAYER_PURCHASE_DETAILS="layer_purchase_details",e.RANDOM_SELECTOR="random_selector",e.RANDOM_SELECTOR_PACKS="RANDOM_SELECTOR_packs",e.RANDOM_SELECTOR_RESULT="RANDOM_SELECTOR_result"}(r||(r={}));const s=(0,n.lazy)((()=>Promise.all([i.e(98066),i.e(76429),i.e(68592),i.e(62638),i.e(87448),i.e(7103)]).then(i.bind(i,470325)).then((({Layer:e})=>({default:e}))))),a=(0,n.lazy)((()=>i.e(37211).then(i.bind(i,481558)).then((({PurchaseDetails:e})=>({default:e}))))),o=(0,n.lazy)((()=>Promise.all([i.e(98066),i.e(76429),i.e(39457)]).then(i.bind(i,175915)).then((({Main:e})=>({default:e}))))),c=(0,n.lazy)((()=>Promise.all([i.e(76429),i.e(68592),i.e(87448),i.e(78177)]).then(i.bind(i,577903)).then((({Packs:e})=>({default:e}))))),l=(0,n.lazy)((()=>i.e(34757).then(i.bind(i,899725)).then((({Result:e})=>({default:e}))))),d=new Map([["layer",{Component:s,width:640}],["layer_purchase_details",{Component:a}],["random_selector",{Component:o}],["RANDOM_SELECTOR_packs",{Component:c}],["RANDOM_SELECTOR_result",{Component:l}]])},849246:(e,t,i)=>{i(606448)},606448:(e,t,i)=>{var r=i(798116),n=i(933494),s=i(222325);const a=(0,r.createEffect)((({title:e,subtitle:t})=>{(0,s.showSnackbarUnsafe)({text:e,subtitle:t})}));(0,r.sample)({clock:n.showSnackbar,target:a})},30173:(e,t,i)=>{i.d(t,{openView:()=>l});var r=i(11010),n=i(434788),s=i(785893),a=i(719876),o=i(537783),c=i(359639);function l(e){return d.apply(this,arguments)}function d(){return(d=(0,r._)((function*(e){const{view:t}=e,{width:i,Component:r}=a.views.get(t)||{};if(r)return(0,c.showMessageBoxModalSuspense)((({onClose:t,refreshCoordinates:i})=>(0,s.jsx)(o.InitOptionsProvider,{value:(0,n._)({payload:{}},e,{init:i,destroy:t}),children:(0,s.jsx)(r,{})})),{width:i})}))).apply(this,arguments)}},256013:(e,t,i)=>{i.d(t,{openLayerPurchaseDetails:()=>s});var r=i(719876),n=i(30173);function s(e){return(0,n.openView)({payload:e,view:r.ViewId.LAYER_PURCHASE_DETAILS})}},385036:(e,t,i)=>{i.d(t,{openStickersLayerView:()=>u});var r=i(11010),n=i(434788),s=i(798116),a=i(719876),o=i(30173),c=i(256013),l=i(390420),d=i(276782);function u(e){return _.apply(this,arguments)}function _(){return(_=(0,r._)((function*(e){return(0,o.openView)({payload:(0,n._)({},e,{onPurchaseDetailsOpen:e=>(0,c.openLayerPurchaseDetails)({details:e})}),view:a.ViewId.LAYER})}))).apply(this,arguments)}const h=l.stickers.createEffect(u);(0,s.sample)({clock:d.openProductModal,target:h})},374884:(e,t,i)=>{i.d(t,{openStickersRandomSelectorView:()=>u});var r=i(798116),n=i(30173),s=i(719876),a=i(390420),o=i(153536),c=i(438470),l=i(727211),d=i(584356);function u(e){return(0,n.openView)({view:s.ViewId.RANDOM_SELECTOR,payload:e})}const _=a.stickers.createEffect((()=>{(0,d.hideBoxLoader)(),(0,d.curBox)()||u({preventReload:!0})})),h=a.stickers.createEffect((()=>{(0,n.openView)({view:s.ViewId.RANDOM_SELECTOR_PACKS})}));(0,r.sample)({clock:c.openRandomSelectorPacksModal,target:h});const g=a.stickers.createEffect((()=>{(0,n.openView)({view:s.ViewId.RANDOM_SELECTOR_RESULT})}));(0,r.sample)({clock:l.openRandomSelectorResultModal,target:g}),(0,r.sample)({clock:o.buyFx.finally,target:_})},800325:(e,t,i)=>{function r(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}i.d(t,{getIcon24CheckCircleOutline:()=>r})},417873:(e,t,i)=>{function r(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}i.d(t,{getIcon24ErrorCircleOutline:()=>r})},228042:(e,t,i)=>{function r(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}i.d(t,{getIcon24WarningTriangleOutline:()=>r})},773693:(e,t,i)=>{function r(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}i.d(t,{getIcon28CheckCircleOutline:()=>r})},667465:(e,t,i)=>{function r(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}i.d(t,{getIcon28LoudspeakerSlashOutline:()=>r})},211314:(e,t,i)=>{i.d(t,{Stickers:()=>s});var r=i(68003),n=i(404145);const s={getStickerUrl:function(e,t){let i=String(t);if(r.colorScheme.isDarkScheme()&&(i=i.replace(/b$/,"")+"b"),window.Emoji){var s,a,o;const t=null==(o=Emoji.stickersById)||null==(a=o[e])||null==(s=a.sticker[Emoji.STICKER_FIELD_IMAGES])?void 0:s[i];if(t)return t}const c={id:e,size:i};if((0,n.isMvk)()){if(window.stickers_cache){const t=window.stickers_cache.getStickerImage(e,i);if(t)return t}return window.store.stickers&&window.rs(window.store.stickers.url_template,{id:e,size:i})}return window.getTemplate("stickers_sticker_url",c)}}},798418:(e,t,i)=>{i.d(t,{StickersAnimation:()=>s});var r=i(404145);const n=(0,i(839470).partConfigEnabled)("rlottie")&&!(0,r.isMvk)();let s=function(){let e,t,i,r,a=!1,o=!1,c={},l={},d={},u={};const _={};function h(e,t){const i=n&&!t;let r=f(e),s=1;if(r){hide(geByClass1("sticker_img",e)),addClass(e,"animation_play"),r.play();let t=attr(e,"data-loop-count");if(t=parseInt(t),isNaN(t)&&(t=3),-1!==t){var a,o,c,l,d;const n=i?null==(o=r)||null==(a=o.listeners)?void 0:a.loopComplete:null==(l=r)||null==(c=l._cbs)?void 0:c.loopComplete;(!n||0===(null==(d=n)?void 0:d.length))&&r.addEventListener("loopComplete",(function n(){s++;let a=!0;t>=s&&(a=!1),a&&(p(e,!1),r.removeEventListener("loopComplete",n),r[i?"pause":"stop"]())}))}}}function g(e){let t=attr(e,"data-uid");return t||(t=attr(e,"data-uid",Math.random().toString(32).substr(2))),t}function p(e,t){_[g(e)]=t}function f(e){let t=attr(e,"data-uniq-id");if(!geByClass1("svg_sticker_animation",e))return!1;let i=d[t];return i||!1}function m(e,t,a){const o=n&&!t;if(_[g(e)])return;p(e,!0);let u=f(e);if(u)return void("function"==typeof a&&a(u));let h=attr(e,"data-uniq-id");const m=attr(e,"data-uid");if(o&&hasClass(e,"animation_play"))return;let k=attr(e,"data-animation-path"),w=attr(e,"data-sticker-id"),S=!1;const y=o?l[w]:c[w];if(w&&(S=(y||k)&&v(e)),S){const n=attr(e,"data-animation-class")||"";let _=o?{elements:[e],loop:!0,autoplay:!0,name:m,group:"sticker",className:`svg_sticker_animation ${n}`}:{container:e,renderer:"svg",loop:!0,autoplay:!1,name:h,rendererSettings:{scaleMode:"noScale",progressiveLoad:!0,hideOnTransparent:!0,className:`svg_sticker_animation ${n}`}};y?_.animationData=y:_[o?"animationUrl":"path"]=k;let g=geByClass1("svg_sticker_animation",e);if(g&&re(g),u=(o?r:i).loadAnimation(_),!c[w]||o)return u instanceof Promise||(u.addEventListener("data_failed",(()=>{})),u=Promise.resolve(u)),void u.then((i=>{const r=o?"firstFrame":"data_ready";i.addEventListener(r,(()=>{const e=i.animationData;o?l[w]=e:c[w]=e,d[h]=i,"function"==typeof a&&a(i)})),o&&i.addEventListener("destroy",(()=>{s.stopAnimation(e,t)}))})).catch((()=>null))}"function"==typeof a&&(d[h]=u,a(u))}function k(e){return t(n&&!e).then((e=>{if(Array.isArray(e)){const[t,n]=e;r=t,i=n}else i=e;return i}))}return{init(e){t=e.animatorLoader},checkSettingsAndLoadInWeb:function(e){if(StickersSettings.getAutoplay()){let t=ge("fc_msg"+e),i=geByClass1("sticker_animation",t);s.loadAndPlaySticker(i)}},checkSettingsAndLoad:function(e){if(StickersSettings.getAutoplay()){let t=$(`.msg_id_${e} .sticker_animation`);s.loadAndPlaySticker(t)}},loadStickerInMvkIMAndPlay:function(e,t){let i="_msg"+e;t&&(i="msg_id_"+e);let r=geByClass1("sticker_animation",geByClass1(i));s.loadAndPlayStickerWithTimer(r,500)},loadAutoplayAnimationStickers:function(e){if(!i)return void k().then((()=>{s.loadAutoplayAnimationStickers(e)}));if(e){if(o)return;o=!0}if(a)return;a=!0;let t=geByClass("sticker_animation_autoplay");t&&each(t,(function(e,t){m(t,!1,(function(){h(t,!1)}))})),a=!1},loadAndPlaySticker:function(e,t){e&&(i?requestAnimationFrame((()=>{m(e,t,(function(){h(e,t)}))})):k(t).then((()=>{s.loadAndPlaySticker(e,t)})))},loadAndPlayStickerWithTimer:function(e,t){if(!e)return;if(u[e])return;t||(t=1e3);let i=ge(e);hasClass(i,"sticker_animation_disabled_timer")||(u[e]=setTimeout((function(){!i&&(i=ge(e),hasClass(i,"sticker_animation_disabled_timer"))||(s.loadAndPlaySticker(i),clearTimeout(u[e]),u[e]=!1)}),t))},reloadStickers:function(){d={}},touchStartSticker:function(t){t.addEventListener("contextmenu",s.preventContextMenu,!1),e=setTimeout((function(){s.loadAndPlaySticker(t)}),500)},touchEndSticker:function(){e&&clearTimeout(e)},preventContextMenu:function(e){e.preventDefault(),e.stopPropagation()},stopAnimation(e,t){const i=n&&!t,r=f(e);if(r&&r[i?"pause":"stop"](),i){const t=attr(e,"data-uniq-id");removeClass(e,"animation_play"),show(geByClass1("sticker_img",e)),p(e,!1),delete d[t]}}};function v(e){let t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;return t<window.innerHeight&&i>=0&&isVisible(e)}}()},167198:(e,t,i)=>{i.d(t,{StickersSettings:()=>r});let r={autoplay:0,setAutoplay:function(e){this.autoplay=e},getAutoplay:function(){return!!r.autoplay&&!r.isPreventAutoplayByCalls()},isPreventAutoplayByCalls:function(){return!!window.Calls&&window.Calls.isInActiveCall}}},814323:(e,t,i)=>{i.d(t,{StickersAnimation:()=>r.StickersAnimation});var r=i(798418);r.StickersAnimation.init({animatorLoader:()=>Promise.all([Promise.all([i.e(62638),i.e(79344)]).then(i.bind(i,723508)).then((({LottieManager:e})=>e)),Promise.all([i.e(38288),i.e(55489)]).then(i.bind(i,682832)).then((e=>e.lottie))])})}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return a[e].call(i.exports,i,i.exports,c),i.exports}c.m=a,c.amdO={},e=[],c.O=(t,i,r,n)=>{if(!i){var s=1/0;for(d=0;d<e.length;d++){for(var[i,r,n]=e[d],a=!0,o=0;o<i.length;o++)(!1&n||s>=n)&&Object.keys(c.O).every((e=>c.O[e](i[o])))?i.splice(o--,1):(a=!1,n<s&&(s=n));if(a){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);c.r(n);var s={};t=t||[null,i({}),i([]),i(i)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=i(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,c.d(n,s),n},c.d=(e,t)=>{for(var i in t)c.o(t,i)&&!c.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,i)=>(c.f[i](e,t),t)),[])),c.u=e=>25394===e?"AudioLongtapModal.2932c6e9c6120eff2657.js":24817===e?"hls.7bfefe299fa92971b99a.js":75980===e?"menu_settings.3ea04534d06cb6d38e2c.js":96816===e?"web-audio-lyrics-modal.218229d2232b2e3d93fb.js":9375===e?"voice_message_player.e464fba002f2d3244773.js":28762===e?"speech.be0c329a1eff7c81577d.js":57468===e?"SilentModeForms.81e354f9bd61dfd364b5.js":96248===e?"feed-skeleton.add07457f9a9b141ed5a.js":51162===e?"StickersKit.7b7673c72a73454cf039.js":79344===e?"sticker.be9d5302f64ec0ca20d9.js":55489===e?"lottie-light.319fff4bb343e96ef290.js":7103===e?"stickers-layer-view.ff3409e0ec1bc6360c4b.js":37211===e?"stickers-layer-purchase-details-view.055cd88a73b32a001287.js":39457===e?"stickers-random-selector-view.f5159628144dd0cc1f1c.js":78177===e?"stickers-random-selector-packs-view.0a828e2b60c0de72404e.js":34757===e?"stickers-random-selector-result-view.90b709712e60e8c30eaa.js":59240===e?"performance-stats.4b38c82ee7bdbd67bf4a.js":24195===e?e+".9b2d9078fad2c89da461.js":63371===e?e+".b77752acef5f9ff4e893.js":38288===e?"lottie.5e4758c39f106eab733a.js":62638===e?"183ae8612f6fc4f939669ff68939db2e.cd4871abd560fbf4c8fc.js":76429===e?"polyfills.466163be6d6f320298d9.js":87448===e?"df5f2238430381af4073776990037d9a.aded968e1290451662bf.js":void 0,c.miniCssF=e=>e+"."+{7103:"1aabfd424f791d5af250",25394:"6af57e1b0cf5a74f9a87",34757:"19f296ba7da416cfd43f",37211:"3318c63516b6177fa650",39457:"322e66c8f68c2eaa4bfd",57468:"35be3dfa1e90e3cdd0a1",75980:"5bbee2c9f3e189193a73",78177:"b8c8244686ad47c1542a",79344:"c800442f6949d4f5911a"}[e]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},c.l=(e,t,i,n)=>{if(r[e])r[e].push(t);else{var s,a;if(void 0!==i)for(var o=document.getElementsByTagName("script"),l=0;l<o.length;l++){var d=o[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+i){s=d;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.setAttribute("data-webpack","vk:"+i),s.src=e),r[e]=[t];var u=(t,i)=>{s.onerror=s.onload=null,clearTimeout(_);var n=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(i))),t)return t(i)},_=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),a&&document.head.appendChild(s)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",n=e=>new Promise(((t,i)=>{var r=c.miniCssF(e),n=c.p+r;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var n=(a=i[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===e||n===t))return a}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var a;if((n=(a=s[r]).getAttribute("data-href"))===e||n===t)return a}})(r,n))return t();((e,t,i,r)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=s=>{if(n.onerror=n.onload=null,"load"===s.type)i();else{var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,n.parentNode.removeChild(n),r(c)}},n.href=t,document.head.appendChild(n)})(e,n,t,i)})),s={54346:0},c.f.miniCss=(e,t)=>{s[e]?t.push(s[e]):0!==s[e]&&{7103:1,25394:1,34757:1,37211:1,39457:1,57468:1,75980:1,78177:1,79344:1}[e]&&t.push(s[e]=n(e).then((()=>{s[e]=0}),(t=>{throw delete s[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={54346:0};c.f.j=(t,i)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else if(75980!=t){var n=new Promise(((i,n)=>r=e[t]=[i,n]));i.push(r[2]=n);var s=c.p+c.u(t),a=new Error;c.l(s,(i=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",a.name="ChunkLoadError",a.type=n,a.request=s,r[1](a)}}),"chunk-"+t,t)}else e[t]=0},c.O.j=t=>0===e[t];var t=(t,i)=>{var r,n,[s,a,o]=i,l=0;if(s.some((t=>0!==e[t]))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(o)var d=o(c)}for(t&&t(i);l<s.length;l++)n=s[l],c.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return c.O(d)},i=self.webpackChunkvk=self.webpackChunkvk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var l=c.O(void 0,[75514,98066,56990,24509,76400,40885,68592],(()=>c(424812)));l=c.O(l)})();