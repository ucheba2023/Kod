(()=>{"use strict";var __webpack_modules__={103912:(e,t,r)=>{r.d(t,{getPerformanceStatsEventMomentData:()=>o});var n=r(121677);const o=()=>{var e,t;const r=null==(e=(t=performance).now)?void 0:e.call(t);if(void 0===r)return;return{eventTime:r,network:n.default.getConnectionEffectiveType()}}},593568:(e,t,r)=>{r.d(t,{getPerformanceStatsTools:()=>_});var n=r(11010),o=r(434788),a=r(103912),i=r(745163);function _(){return s.apply(this,arguments)}function s(){return(s=(0,n._)((function*({module:e=i.navigationStat.getModule(),page:t,entity:n,cooldownRecord:_}={}){if(!window.performance||"visible"!==window.document.visibilityState)return;const s=(0,a.getPerformanceStatsEventMomentData)();return s?Promise.all([r.e(68592),r.e(59240)]).then(r.bind(r,642440)).then((({configurePerformanceStatsUtils:r,navigationStat:a,PerformanceStatsEventName:i,AuxiliaryPerformanceStatsEventName:d,LeavingFeedEventName:c})=>{if(!a.getModule)return;const{storePerformanceStats:l,sendStoredPerformanceStats:u,readMetricValue:g}=r((0,o._)({},s,{module:e,page:t,entity:n,cooldownRecord:_}));return g(i.load_performance_stats_chunk)||(l(i.load_performance_stats_chunk,!0),u()),{storePerformanceStats:l,sendStoredPerformanceStats:u,readMetricValue:g,PerformanceStatsEventName:i,AuxiliaryPerformanceStatsEventName:d,LeavingFeedEventName:c}})):void 0}))).apply(this,arguments)}},960429:(e,t,r)=>{r.d(t,{createDebugConsole:()=>o,createStorageKey:()=>a});const n=(0,r(367431).makeSharedState)("debug-console-flags",(()=>({})),{version:0}),o=e=>new Proxy(console,{get(t,r,o){switch(r){case"debug":case"dir":case"error":case"info":case"log":case"table":case"trace":case"warn":{var a,i;const o=t[r];var _;const s=null!=(_=null==(i=window.nav)||null==(a=i.objLoc)?void 0:a[e])?_:n()[e];return s!==n()[e]&&(n()[e]=s),(...e)=>{s&&o.call(t,...e)}}default:return Reflect.get(t,r,o)}}}),a=({module:e,page:t,entity:r})=>[e,t,r].filter(Boolean).join("-")},227592:(e,t,r)=>{var n,o,a,i=r(459379);(null==(o=window.vk)||null==(n=o.pe)?void 0:n.static_manager_dynamic_imports)&&(null==(a=window.vk)?void 0:a.stDomain)&&(r.p=window.vk.stDomain+"/dist/"),(0,i.init)();try{window.stManager.done(window.jsc("web/feed_page_skeleton.js"))}catch(e){}},459379:(e,t,r)=>{r.r(t),r.d(t,{init:()=>D});var n,o,a,i=r(11010),_=r(434788),s=r(283452),d=r(970978),c=r(29271),l=r(514986),u=r(839470),g=r(593568),f=r(960429),w=r(234797),p=r(719645),k=r(93983),m=r(981254),b=r(796943);!function(e){e.pageSkeletonRendered="page_skeleton_rendered",e.fromDocumentRequest="from_document_request"}(n||(n={})),function(e){e.staticFiles="static_files",e.isDocumentRequest="is_document_request"}(o||(o={})),function(e){e.skip="skip",e.feedSkeletonDebugLogs="__feed_skeleton_debug_logs",e.immediateRequest="__immediate_request"}(a||(a={}));const v="feedpageskeleton",S=window.__debugMode?15e4:6e4,P=(0,f.createDebugConsole)("__feed_skeleton_debug_logs"),q=e=>{P.error(e),(0,d.logError)(new Error(e))},h=e=>{if("object"!=typeof e)return String(e);try{return JSON.stringify(e)}catch(e){return"got a non-serializable error object"}},y=()=>{var e;return!!(0,u.partConfigEnabled)("feed_web_skeleton_immediate_request")||!!(0,w.getField)(null==(e=window.nav)?void 0:e.objLoc,"__immediate_request")},F=()=>new Promise(((e,t)=>{const r=M();r&&e(r);const n=window.setTimeout((()=>{document.removeEventListener(v,o),t("FeedPageSkeleton: skeleton painting timeout.")}),S);function o(){e(M()),window.clearTimeout(n),document.removeEventListener(v,o)}document.addEventListener(v,o)}));function E(e){return L.apply(this,arguments)}function L(){return(L=(0,i._)((function*(e,t=0,r={}){if("loading"===(0,k.getFeedPageSkeletonStorage)().contentRequestState)return void P.error("FeedPageSkeleton: content request after skeleton is skipped because another request is already running.");(0,k.getFeedPageSkeletonStorage)().contentRequestState="loading",Array.isArray(e)&&e.length&&!e.some((e=>"string"!=typeof e))?window.stManager.add(e):q(`FeedPageSkeleton: bad static files. Static files: ${h(e)}`);const n=window.PageID;if((0,u.partConfigEnabled)("feed_web_skeleton_wait_for_dom"))try{const e=F(),o=window.ajax.promisifiedPost(window.nav.toStr((0,_._)({},window.nav.objLoc,{0:m.FeedPath.feed})),(0,_._)({},r,{al_id:window.vk.id,page_skeleton_rendered:1,from_document_request:t}),{timeout:S,ignoreDefaultErrorLogger:!0}),[a,i]=yield Promise.all([o,e]);if(!Array.isArray(a))return void q("FeedPageSkeleton: API contract or parsing mechanics has been changed, no array returned in response to content request.");if((0,k.getFeedPageSkeletonStorage)().contentRequestState="success",t&&n!==window.PageID)return;if(!i)return void q("FeedPageSkeleton: still no skeleton container after delay");const[,s,d]=a;i.outerHTML=s,d&&"string"==typeof d&&(yield b.onDomReadyPromise,window.setTimeout((()=>(0,p.evalWithLogging)(d)),0)),P.info("FeedPageSkeleton: skeleton reload done")}catch(n){if("timeout"===n)return(0,k.getFeedPageSkeletonStorage)().contentRequestState="timeout",void q("FeedPageSkeleton: request timeout.");(0,k.getFeedPageSkeletonStorage)().contentRequestState="error",q(`FeedPageSkeleton: error loading feed. Error message: ${h(n)}.`);const o=(0,l.showFastBox)({title:c.getLang("global_error")},c.getLang("global_unknown_error"),c.getLang("global_reload"),(()=>{o.hide(),E(e,t,r)}))}else window.ajax.post(window.nav.toStr((0,_._)({},window.nav.objLoc,{0:m.FeedPath.feed})),(0,_._)({},r,{al_id:window.vk.id,page_skeleton_rendered:1,from_document_request:t}),{timeout:S,onDone:(e,r,o)=>{if((0,k.getFeedPageSkeletonStorage)().contentRequestState="success",t&&n!==window.PageID)return;const a=M();a?(a.outerHTML=r,o&&(0,p.evalWithLogging)(o),P.info("FeedPageSkeleton: skeleton reload done")):q("FeedPageSkeleton: no skeleton container")},onFail:n=>{(0,k.getFeedPageSkeletonStorage)().contentRequestState="error",q(`FeedPageSkeleton: error loading feed. Error message: ${h(n)}.`);const o=(0,l.showFastBox)({title:c.getLang("global_error")},c.getLang("global_unknown_error"),c.getLang("global_reload"),(()=>{o.hide(),E(e,t,r)}));return!0},onTimeout:()=>{(0,k.getFeedPageSkeletonStorage)().contentRequestState="timeout",q("FeedPageSkeleton: request timeout.")}})}))).apply(this,arguments)}function T(e){const{staticFiles:t,isDocumentRequest:r,navOptions:n}=e;P.info("FeedPageSkeleton: loadRealPage",e),(0,w.getField)(window.nav.objLoc,"skip")?P.info("FeedPageSkeleton: skeleton reload skipped by query param"):(P.info("FeedPageSkeleton: skeleton reload start"),E(t,(0,w.unknownToBinaryInt)(r),n))}function j(){return(j=(0,i._)((function*(){const e=yield(0,g.getPerformanceStatsTools)({module:"feed"});if(!e)return;const{storePerformanceStats:t,sendStoredPerformanceStats:r,PerformanceStatsEventName:n,AuxiliaryPerformanceStatsEventName:o,readMetricValue:a}=e;t(n.render),t({metricName:n.render_without_ttfb,basisMetricName:n.render,auxiliaryMetricName:o.TTFB}),t(n.render_skeleton),t({metricName:n.render_skeleton_without_ttfb,basisMetricName:n.render_skeleton,auxiliaryMetricName:o.TTFB}),r();const i=[],_=[n.waiting_for_content_1sec,n.waiting_for_content_3sec,n.waiting_for_content_6sec];[1e3,3e3,6e3].forEach(((e,o)=>{i[o]=window.setTimeout((()=>{a(n.render_content)?i.forEach(window.clearTimeout,window):(t(_[o],!0),r())}),e)}))}))).apply(this,arguments)}function M(){var e;return null!=(e=document.getElementById("FeedPageSkeleton"))?e:void 0}function D(e){const t=!e;if((0,k.getFeedPageSkeletonStorage)().hasSkeleton=!0,!t||"initial"===(0,k.getFeedPageSkeletonStorage)().contentRequestState){if(y()){var r;T({staticFiles:(0,w.getField)(null==(r=window.nav)?void 0:r.getData(m.FeedPath.feed),"files"),isDocumentRequest:t,navOptions:e})}(0,s.tq)().setStartupHandler("FeedPageSkeleton/init",(e=>{if(!(0,m.checkIsInFeed)())return void q(`FeedPageSkeleton: tq startup handler called not in feed: ${window.nav.objLoc[0]}`);const t=e.payload.data,r=(0,w.getField)(t,"is_document_request");r&&(0,u.partConfigEnabled)("feed_web_performance_stats")&&function(){j.apply(this,arguments)}();const n=M();if(n&&((0,k.getFeedPageSkeletonStorage)().html=n.outerHTML),!y()){if(!n)return void P.error("FeedPageSkeleton: no skeleton container, skeleton reload skipped");T({staticFiles:(0,w.getField)(t,"static_files"),isDocumentRequest:r})}}))}}},234797:(e,t,r)=>{function n(e,t){return function(e,t){return"object"==typeof e&&null!==e&&t in e}(e,t)?e[t]:void 0}r.d(t,{getField:()=>n,unknownToBinaryInt:()=>o});const o=e=>1===Number(e)?1:0},719645:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{evalWithLogging:()=>evalWithLogging});var _web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(643897);const evalWithLogging=evalString=>{try{return eval(evalString)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_0__.logEvalError)(e,evalString)}}}},__webpack_module_cache__={},deferred,inProgress;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,r,n)=>{if(!t){var o=1/0;for(s=0;s<deferred.length;s++){for(var[t,r,n]=deferred[s],a=!0,i=0;i<t.length;i++)(!1&n||o>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[i])))?t.splice(i--,1):(a=!1,n<o&&(o=n));if(a){deferred.splice(s--,1);var _=r();void 0!==_&&(e=_)}}return e}n=n||0;for(var s=deferred.length;s>0&&deferred[s-1][2]>n;s--)deferred[s]=deferred[s-1];deferred[s]=[t,r,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>{if(59240===e)return"performance-stats.4b38c82ee7bdbd67bf4a.js"},__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var o,a;if(void 0!==r)for(var i=document.getElementsByTagName("script"),_=0;_<i.length;_++){var s=i[_];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")=="vk:"+r){o=s;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack","vk:"+r),o.src=e),inProgress[e]=[t];var d=(t,r)=>{o.onerror=o.onload=null,clearTimeout(c);var n=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},c=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",(()=>{var e={3104:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var a=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(a,(r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,n[1](i)}}),"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[a,i,_]=r,s=0;if(a.some((t=>0!==e[t]))){for(n in i)__webpack_require__.o(i,n)&&(__webpack_require__.m[n]=i[n]);if(_)var d=_(__webpack_require__)}for(t&&t(r);s<a.length;s++)o=a[s],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(d)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[75514,68592],(()=>__webpack_require__(227592)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();