"use strict";(self.webpackChunkvk=self.webpackChunkvk||[]).push([[65695],{453505:(e,t,o)=>{o.d(t,{Icon28ArrowUpRectangleOutline:()=>i});var i=(0,o(28178).makeIcon)("Icon28ArrowUpRectangleOutline","arrow_up_rectangle_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="arrow_up_rectangle_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M5.07 4.801C6.164 4.216 7.243 4 9.691 4h8.616c2.448 0 3.527.216 4.622.801A5.465 5.465 0 0 1 25.2 7.07c.585 1.096.801 2.175.801 4.623v4.616c0 2.448-.216 3.527-.801 4.622A5.465 5.465 0 0 1 22.93 23.2c-1.095.585-2.174.801-4.622.801H9.692c-2.448 0-3.527-.216-4.623-.801a5.465 5.465 0 0 1-2.268-2.269C2.216 19.835 2 18.756 2 16.308v-4.616c0-2.448.216-3.527.801-4.623A5.466 5.466 0 0 1 5.07 4.801ZM9.691 6c-2.335 0-3.019.212-3.68.565a3.466 3.466 0 0 0-1.447 1.448C4.212 8.673 4 9.357 4 11.692v4.616c0 2.335.212 3.019.565 3.68a3.466 3.466 0 0 0 1.448 1.447c.66.353 1.344.565 3.679.565h8.616c2.335 0 3.019-.212 3.68-.565a3.467 3.467 0 0 0 1.447-1.448c.353-.66.565-1.344.565-3.679v-4.616c0-2.335-.212-3.019-.565-3.68a3.466 3.466 0 0 0-1.448-1.447C21.327 6.212 20.643 6 18.308 6H9.692Z" clip-rule="evenodd" /><path fill="currentColor" d="M13 18a1 1 0 1 0 2 0v-5.586l1.293 1.293a1 1 0 0 0 1.414-1.414l-3-3a1 1 0 0 0-1.414 0l-3 3a1 1 0 1 0 1.414 1.414L13 12.414V18Z" /></symbol>',28,28,!1,void 0)},936739:(e,t,o)=>{o.d(t,{Icon28ServicesOutline:()=>i});var i=(0,o(28178).makeIcon)("Icon28ServicesOutline","services_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="services_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M9.116 15c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 22.739 3 22.18 3 21.116v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm12 0c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419h-2.232c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26-.311-.582-.419-1.14-.419-2.205v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm-12 2H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183Zm12 0h-2.232c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183ZM20.89 2.413c.631.19 1.102.51 1.856 1.263l1.577 1.577c.754.754 1.072 1.225 1.263 1.856a3.044 3.044 0 0 1 0 1.782c-.19.631-.51 1.102-1.263 1.856l-1.577 1.577c-.754.754-1.225 1.072-1.856 1.263a3.044 3.044 0 0 1-1.782 0c-.631-.19-1.102-.51-1.856-1.263l-1.577-1.577c-.754-.754-1.072-1.225-1.263-1.856a3.044 3.044 0 0 1 0-1.782c.19-.631.51-1.102 1.263-1.856l1.577-1.577c.754-.754 1.225-1.072 1.856-1.263a3.044 3.044 0 0 1 1.782 0ZM9.116 3c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 10.739 3 10.18 3 9.116V6.884c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26C5.261 3.108 5.82 3 6.884 3h2.232Zm10.573 1.327c-.274.082-.482.223-1.021.763L17.09 6.668c-.54.54-.68.747-.763 1.02a1.045 1.045 0 0 0 0 .623c.082.274.223.482.763 1.021l1.578 1.578c.54.54.747.68 1.02.763.21.064.415.064.623 0 .274-.082.482-.223 1.021-.763l1.578-1.578c.54-.54.68-.747.763-1.02a1.045 1.045 0 0 0 0-.623c-.082-.274-.223-.482-.763-1.021L21.332 5.09c-.54-.54-.747-.68-1.02-.763a1.045 1.045 0 0 0-.623 0ZM9.116 5H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44C5.047 5.876 5 6.122 5 6.885v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262V6.884c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44C10.124 5.047 9.878 5 9.115 5Z" /></g></symbol>',28,28,!1,void 0)},571409:(e,t,o)=>{o.d(t,{Icon28VideocamOutline:()=>i});var i=(0,o(28178).makeIcon)("Icon28VideocamOutline","videocam_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="videocam_outline_28"><path fill-rule="evenodd" d="M9.357 5h4.286c1.084 0 1.958 0 2.666.058.729.06 1.369.185 1.961.487a5 5 0 0 1 2.185 2.185c.231.454.36.936.433 1.464l.437-.284.903-.585c.239-.155.52-.338.773-.471.255-.134.794-.395 1.482-.348a2.7 2.7 0 0 1 1.975 1.07c.415.552.49 1.148.516 1.434.026.285.026.62.026.904v6.172c0 .284 0 .619-.026.904-.026.286-.1.882-.516 1.434a2.7 2.7 0 0 1-1.975 1.07c-.688.047-1.227-.214-1.482-.348a10.407 10.407 0 0 1-.773-.47l-.905-.588-.435-.282c-.074.528-.202 1.01-.433 1.464a5 5 0 0 1-2.185 2.185c-.592.302-1.232.428-1.961.487C15.6 23 14.727 23 13.643 23H9.357c-1.084 0-1.958 0-2.666-.058-.728-.06-1.369-.185-1.96-.487a5 5 0 0 1-2.186-2.185c-.302-.592-.428-1.232-.487-1.961C2 17.6 2 16.727 2 15.643v-3.286c0-1.084 0-1.958.058-2.666.06-.728.185-1.369.487-1.961A5 5 0 0 1 4.73 5.545c.592-.302 1.233-.428 1.961-.487C7.4 5 8.273 5 9.357 5ZM21 15.643v-4.138l2.27-1.472c.563-.365.844-.548 1.077-.532a.7.7 0 0 1 .513.277c.14.187.14.522.14 1.192v6.06c0 .67 0 1.005-.14 1.192a.7.7 0 0 1-.513.277c-.233.016-.514-.167-1.077-.532L21 16.495v-.852ZM6.854 7.05c-.605.05-.953.142-1.216.276a3 3 0 0 0-1.311 1.311c-.134.263-.226.611-.276 1.216-.05.617-.051 1.41-.051 2.546v3.2c0 1.137 0 1.929.051 2.546.05.605.142.953.276 1.216a3 3 0 0 0 1.311 1.311c.263.134.611.226 1.216.276.617.05 1.41.051 2.546.051h4.2c1.137 0 1.929 0 2.546-.051.605-.05.953-.142 1.216-.276a3 3 0 0 0 1.311-1.311c.134-.263.226-.611.276-1.216.05-.617.051-1.41.051-2.546v-3.2c0-1.137 0-1.929-.051-2.546-.05-.605-.142-.953-.276-1.216a3 3 0 0 0-1.311-1.311c-.263-.134-.611-.226-1.216-.276-.617-.049-1.41-.05-2.546-.05H9.4c-1.137 0-1.929 0-2.546.051Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},975545:(e,t,o)=>{o.d(t,{default:()=>i});const i={root:"LiveTypePopup-module__root--yX_3U",cell:"LiveTypePopup-module__cell--CI6sD",cellTitle:"LiveTypePopup-module__cellTitle--scn8P",cellDescription:"LiveTypePopup-module__cellDescription--HE1ca",icon:"LiveTypePopup-module__icon--iDrV8"}},19153:(e,t,o)=>{o.d(t,{statlogStartTiming:()=>r});var i=o(839470),n=o(385376),s=o(404145);const a="video_showcase_web",r=()=>{let e=window.cur.section_id;if(!window.__debugMode&&(0,i.partConfigEnabled)("measure_module_navigation_stats")){var t;const o=(null==(t=(performance.getEntriesByName("__navmark")||[])[0])?void 0:t.startTime)||0;let i=o?"nav":"origin";(0,n.saveStatlogEvents)({name:a,value:Math.round(performance.now()-o),keys:[e,"js_init",i]});const r=window.vkLastNav;if(r&&(0,n.saveStatlogEvents)({name:a,value:Math.round(Date.now()-r),keys:[e,"js_eval",i]}),!o){const t=performance.getEntriesByType("navigation").find((e=>e.name.includes(`${(0,s.getHostName)()}/video`)));t&&(0,n.saveStatlogEvents)({name:a,value:Math.round(t.responseEnd-t.requestStart),keys:[e,"request_roundtrip",i]})}}}},860249:(e,t,o)=>{o.d(t,{initSectionPlaylistSeenLogger:()=>l,initSectionVideoSeenLogger:()=>r,logCardsAction:()=>n});var i=o(613916);const n=(e,t,o,i)=>{window.vk.id&&window.ajax.post("al_video.php?act=log_seen",{ids:Array.from(e).join(","),place:"CATALOG",action:t,hash:window.cur.videoLogSeenHash,type:o,thumbnails:Array.from(i).join(",")})},s=(e,t,o,s,a)=>{var r,l;if(!window.cur.logSeen||window.cur.section_id!==e)return!1;if(!(0,i.isIntersectionObserverSupported)())return!1;const d=document.getElementById(`video_type_${e}_list`);if(!d)return;const c=new Map;let u=0;const h=e=>{if(!e)return;const o=[],i=[];for(let t of e.values())t.isSent||(o.push(t.id),a&&i.push(t.mlThumbnail),t.isSent=!0);n(o,"SHOW",t,i)},p=new IntersectionObserver((e=>{let t=!1;e.forEach((e=>{if(e.isIntersecting){const o=s(e.target),i=a?a(e.target):-1;o&&(t=!0,c.has(o)||c.set(o,{id:o,mlThumbnail:i,isSent:!1}))}})),t&&(window.clearTimeout(u),u=window.setTimeout((()=>h(c)),5e3))}),{rootMargin:"0px",threshold:1});document.querySelectorAll(o).forEach((e=>{p.observe(e)}));const v=new MutationObserver((e=>{for(let t of e)t.addedNodes.forEach((e=>{p.observe(e)}))}));v.observe(d,{childList:!0});const w=()=>{h(c)};window.addEventListener("beforeunload",w),null==(l=window.cur)||null==(r=l.destroy)||r.push((()=>{document.querySelectorAll("._video_item").forEach((e=>{p.unobserve(e)})),p.disconnect(),v.disconnect(),h(c),clearTimeout(u),window.removeEventListener("beforeunload",w)}))},a=e=>{var t;return Number.parseInt((null==(t=e.querySelector(".VideoCard__thumbLink"))?void 0:t.getAttribute("data-ml-thumb-id"))||"-1")},r=e=>{s(e,"VIDEO","._video_item",(e=>e.getAttribute("data-id")),a)},l=e=>{s(e,"PLAYLIST",".js-video_playlist_item",(e=>e.getAttribute("data-name")))}},802416:(e,t,o)=>{o.d(t,{VideoRawIdsQueue:()=>i});class i{insert(e,t){if(this.map.has(e)){const t=this.list.indexOf(e);delete this.list[t]}this.map.set(e,t),this.list.unshift(e)}append(e,t){if(this.map.has(e)){const t=this.list.indexOf(e);delete this.list[t]}this.map.set(e,t),this.list.push(e)}remove(e){if(!this.map.has(e))return!1;return!!this.map.get(e)&&(delete this.list[this.list.indexOf(e)],this.map.delete(e),!0)}clear(){this.map.clear(),this.list=new Array}dropUnnecessary(e){const t=this.list.length-e,o=new Map;return t>0&&this.list.splice(0,t).forEach((e=>{let t=this.map.get(e);t&&o.set(e,t),this.map.delete(e)})),o}constructor(){this.map=new Map,this.list=Array()}}},335262:(e,t,o)=>{o.d(t,{initVideoTrailerLazyLoader:()=>a});var i=o(802416),n=o(795558);const{ajax:s}=window,a=e=>{var t,o;const a="data-trailer-requested",r="data-trailer";let l,d,c=10;const u=Array.from(document.getElementsByClassName("video_items_list")).filter((e=>{const t=e.getAttribute("id");return!!t&&(!!["trends","sport","subscribes"].some((e=>t.includes(e)))||!["lives","my_lives","movie","tvshow","for_kids"].some((e=>t.includes(e))))}));if(!u)return;const h=new i.VideoRawIdsQueue,p=new i.VideoRawIdsQueue;let v=!0;const w=()=>{l&&clearTimeout(l)},_=new IntersectionObserver((t=>{let o=!1;t.forEach((e=>{const t=e.target.getAttribute("data-id");if(!t)return;const i=e.target;!i||i.hasAttribute(a)||i.getAttribute(r)||i.classList.contains("VideoRestriction--blur")||(e.isIntersecting?(h.append(t,e.target),p.remove(t),o=!0):(h.remove(t),h.map.has(t)?p.insert(t,e.target):p.append(t,e.target)))})),o&&(()=>{if(!h.map.size&&!p.map.size)return;const t=Date.now();null===d&&(d=t),w(),l=window.setTimeout((()=>{var t,o;v?(p.clear(),v=!1):p.dropUnnecessary(12);const i=new Map([...h.map.entries(),...p.map.entries()]);h.clear(),p.clear(),i.forEach((e=>e.setAttribute(a,"true"))),i.size&&(s.post("al_video.php?act=get_trailers_links",{video_raw_ids:Array.from(i.keys()),section:null==(o=window)||null==(t=o.cur)?void 0:t.section_id},{onDone:t=>{const o=new Map(Object.entries(t));i.forEach(((t,i)=>{const s=o.get(i);s&&(t.setAttribute(r,s),t.removeAttribute(a),(0,n.hide)(t.querySelector(".video_thumb_play")),t.matches(":hover")&&e.playTrailer(t,s))}))},onFail:()=>(i.forEach((e=>{e.removeAttribute(a)})),!0),timeout:1e4}),c<200&&(c=200))}),c)})()}),{threshold:0}),m=new MutationObserver((e=>{for(let t of e)t.addedNodes.forEach((e=>{_.observe(e)}))}));u.forEach((e=>{e.querySelectorAll("._video_item").forEach((e=>{_.observe(e)})),m.observe(e,{childList:!0})})),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{m.disconnect(),_.disconnect(),w()}))}},604363:(e,t,o)=>{o.d(t,{VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT:()=>i});const i="video showcase scroll to top button change activity"},958927:(e,t,o)=>{o.d(t,{FeedbackActionType:()=>A,VideoShowcase:()=>H});var i=o(562112),n=o(301230),s=o(241857),a=o(29271),r=o(514986),l=o(584356),d=o(222325),c=o(320422),u=o(438221),h=o(936134),p=o(795558),v=o(82161),w=o(892726),_=o(725296),m=o(953908),g=o(860249),y=o(385376),f=o(19153),b=o(20815),S=o(335262),E=o(397501),V=o(128767),I=o(839470),T=o(773693),C=o(362246),L=o(604363);var A;function k(){return Promise.resolve().then(o.bind(o,490093))}function M(){return Promise.resolve().then(o.bind(o,459474))}function P(){return Promise.all([o.e(98066),o.e(68592),o.e(86210),o.e(45793),o.e(54650)]).then(o.bind(o,859346))}!function(e){e.UNSET_NOT_INTERESTING="UNSET_NOT_INTERESTING"}(A||(A={}));const H={playlistSliders:[],navigationInited:!1,successfullOnboarding:!1,needResetToDefaultFavicon:!1,savePlaylistViewPreferencesTimeout:void 0,playlistListViewPreferences:!1,isVideoAddToPlaylistActionSheetInited:!1,menuScroll:void 0,refreshSliders(){},resizeSearchInput(){},init:()=>{var e;(0,f.statlogStartTiming)(),H.initMenuScroll().then((()=>{H.initSideMenu()})),(null==(e=window.cur)?void 0:e.asyncLoad)&&H.loadSection(),H.initNavigation(),H.initPlaylistSlider(),H.initSearch(),H.initSidebarTooltips(),H.initScrollTop(),H.initPlaylistsActionsDropdowns(),H.initSeenLogger(),H.initFavicon(),H.initVideoTrailerLoader(),H.initHorizontalVideoCard(),n.browser.safari&&H.initVideoWillChangeEvents(),(0,E.lazyLoadPlayer)()},initSideMenu:()=>{var e,t;const o=(e,t=!0)=>{t?H.menuScroll.scrollIntoView(e):window.setTimeout((()=>{H.menuScroll.scrollIntoView(e,100)}),100)},i=e=>{const t=e.target.closest(".MenuList__item");if(t.classList.contains("MenuList__item--expandable")){const i=t.classList.contains("MenuList__item--expanded");t.classList.toggle("MenuList__item--expanded",!i),!i&&t.nextSibling&&o(t.nextSibling,!1),(0,m.cancelEvent)(e)}};let n=[...document.querySelectorAll(".MenuList__itemToggle")];n.forEach((e=>{e.addEventListener("click",i)}));let s=document.querySelector(".MenuList__item--active");s&&(s.classList.contains("MenuList__item--expanded")?s=s.nextSibling:s.classList.contains("MenuList__item--subsection")&&(s=s.closest(".MenuList--subList")),s&&o(s)),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{n.forEach((e=>{e.removeEventListener("click",i)}))}))},initSidebarTooltips:()=>{const e=[...document.querySelectorAll(".MenuList__item")],t=[...document.querySelectorAll(".PlaylistPanel__item")],o=document.querySelector(".VideoQuickLogin__loginButton");let i=[...e,...t];o&&i.push(o),i.forEach((e=>{e.addEventListener("mouseover",H.showTooltip(e))}))},initNavigation:()=>{H.navigationInited||(0,V.initPortalNavigation)({onInitStateChange:e=>{H.navigationInited=e}})},initPlaylistsActionsDropdowns:()=>{Promise.resolve().then(o.bind(o,84543)).then((e=>e.default)).then((e=>{var t,o;const i=[],n=[...document.querySelectorAll(".js-dropdown-toggle:not(.js-dropdown-toggle-inited)")];n.forEach((t=>{var o;t.classList.add("js-dropdown-toggle-inited");const n=t.parentNode,s=null==(o=n)?void 0:o.querySelector(".VideoDropdown__container");if(s){const o=new e(t,{forceSide:"bottom",cls:"VideoDropdown",noOverflow:!1,noBorder:!0,autoShow:!1,appendTo:n,content:s,align:e.ALIGN_RIGHT,onShow:()=>{window.cur.currentDropdown=o}});i.push(o)}})),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{n.length&&i.forEach((e=>{e.destroy()}))}))}))},initPlaylistSlider:()=>{const e=document.querySelectorAll(".js-video-slider:not(.js-video-slider-inited)");e.length&&M().then((({UIGallery:t})=>{var o,i;e.forEach((e=>{H.playlistSliders.push(new t(e,{scrollY:!1})),e.classList.add("js-video-slider-inited")})),H.refreshSliders=(0,h.debounce)((()=>{H.playlistSliders.forEach((e=>{e.refresh()}))}),200),window.addEventListener("resize",H.refreshSliders),null==(i=window.cur)||null==(o=i.destroy)||o.push((()=>{H.playlistSliders=H.playlistSliders.filter((e=>e.getItems().length>0||(e.destroy(),!1))),window.removeEventListener("resize",H.refreshSliders)}))}))},updatePlaylistSlider:()=>{const e=document.querySelectorAll(".js-video-slider:not(.js-video-slider-inited)");e.length&&M().then((({UIGallery:t})=>{e.forEach((e=>{H.playlistSliders.push(new t(e,{scrollY:!1})),e.classList.add("js-video-slider-inited")}))}))},initMenuScroll:()=>Promise.resolve().then(o.bind(o,258810)).then((e=>e.default)).then((e=>{const t=document.querySelector(".VideoLayout__asideContentScroll");var o,i;t&&(H.menuScroll=new e(t,{hidden:!0}),null==(i=window.cur)||null==(o=i.destroy)||o.push((()=>{var e;null==(e=H.menuScroll)||e.destroy()})))})),updateLayout:()=>{var e;null==(e=H.menuScroll)||e.update(),H.resizeSearchInput()},initScrollTop:()=>{const e=document.querySelector(".VideoLayout__scrollTop");if(e){var t,o;const i=(0,h.debounce)((()=>{const e=document.querySelector(".VideoLayout__scrollTop");if(!e)return;const t=(0,u.scrollGetY)()>700;e.classList.toggle("VideoLayout__scrollTop--active",t);const o={isActive:t};document.dispatchEvent(new CustomEvent(L.VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT,{detail:o}))}),100);window.addEventListener("scroll",i),i();const n=()=>{(0,u.scrollToTop)(),e.classList.remove("VideoLayout__scrollTop--active");document.dispatchEvent(new CustomEvent(L.VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT,{detail:{isActive:!1}}))};e.addEventListener("click",n),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{window.removeEventListener("scroll",i),e.removeEventListener("click",n)}))}},initSearch:()=>{var e,t;const o=document.getElementById("video_search_input_wrapper");if(!o)return;const i=o.querySelector(".video_search_input");if(!i)return;window.uiSearch&&(window.uiSearch.init(i),window.uiSearch.focus(i));const n=()=>{var e;null==(e=window.uiSearch)||e.hideParameters("VideoSearchInput")};window.addEventListener("popstate",n);const s=(0,p.getXY)(o)[1]+50;H.resizeSearchInput=()=>{i.style.width=o.clientWidth+"px",n()};const a=document.querySelector(".video_showcase");if(a){const e=getComputedStyle(a),t=parseInt(e.getPropertyValue("--layout-transition-duration"),10);setTimeout(H.resizeSearchInput,t||300)}const r=()=>{const e=(0,u.scrollGetY)()>s;i.classList.toggle("VideoSearchInput--sticky",e)};r(),window.addEventListener("scroll",r),window.addEventListener("resize",H.resizeSearchInput),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",H.resizeSearchInput),window.removeEventListener("popstate",n)}))},initSeenLogger:()=>{const e=window.cur.section_id;["trends","sport"].includes(e)&&(0,g.initSectionVideoSeenLogger)(e),["movies","tvshow","for_kids"].includes(e)&&(0,g.initSectionPlaylistSeenLogger)(e)},initFavicon:()=>{var e,t;let o=window.devicePixelRatio>=2?"_2x":"";(0,s.setFavIcon)("/images/icons/favicons/fav_vk_video"+o+".ico"),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{H.needResetToDefaultFavicon&&(0,s.setFavIcon)("/images/icons/favicons/fav_logo"+o+".ico")})),window.cur.nav.push((function(e){if(e&&!e[0])return void(H.needResetToDefaultFavicon=!1);const t=e&&e[0]&&-1!==e[0].indexOf("video");H.needResetToDefaultFavicon=!t}))},initVideoTrailerLoader:()=>{(0,S.initVideoTrailerLazyLoader)(H)},initVideoWillChangeEvents:()=>{var e,t;const o=e=>{const t=e.target;(e=>{"0"===window.getComputedStyle(e).opacity&&(e.style.willChange="auto")})(t),t.removeEventListener("transitionend",o)},i=e=>{const t=e.target.closest(".VideoCard");if(t){t.querySelectorAll(".VideoCard__actions, .VideoCard__menuToggle").forEach((e=>{(e=>{e.style.willChange="opacity"})(e),e.addEventListener("transitionend",o)}))}};window.addEventListener("mouseover",i),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{window.removeEventListener("mouseover",i)}))},initHorizontalVideoCard:()=>{const e=document.querySelector(".VideoCard--horizontal");if(!e)return;const t=e.querySelector(".page_verified ");if(!t)return;const o=t.getAttribute("onmouseover");if(!o)return;const i=o.split("}")[0]+", forceToDown: true})";t.setAttribute("onmouseover",i)},initVideoAddToPlaylistActionSheet:()=>{if(H.isVideoAddToPlaylistActionSheetInited)return;let e=document.getElementById("VideoAddToPlaylistActionSheet");e||(e=document.createElement("div"),e.id="VideoAddToPlaylistActionSheet",document.body.appendChild(e)),Promise.all([o.e(98066),o.e(76400),o.e(76429),o.e(68592),o.e(50320),o.e(3601),o.e(89658)]).then(o.bind(o,897103)).then((({renderVideoAddToPlaylistActionSheet:e})=>{e()}));let t=null;window.addEventListener("mouseover",(e=>{var o,i,n;let s=null;try{s=e.target}catch(e){if(e instanceof DOMException&&(18===e.code||"SecurityError"===e.name))return}const a=null==(o=s)?void 0:o.closest(".VideoCard__action--add"),r=null==(i=s)?void 0:i.closest(".VideoCard__actionSheet"),l=null==(n=s)?void 0:n.closest(".VideoCard");l&&(e=>{const t=e.querySelector(".VideoAddToPlaylistActionSheet"),o=e.querySelector(".VideoCard__action--add"),i=e.dataset.videoId,n=e.dataset.ownerId;o&&!t&&window.dispatchEvent(new CustomEvent(C.VideoAddToPlaylistActionSheetEvents.INIT,{detail:{ownerId:n,videoId:i,videoCardElement:e}}))})(l),a&&window.dispatchEvent(new CustomEvent(C.VideoAddToPlaylistActionSheetEvents.SHOW)),a||r?t&&window.clearTimeout(t):(t&&window.clearTimeout(t),t=window.setTimeout((()=>{window.dispatchEvent(new CustomEvent(C.VideoAddToPlaylistActionSheetEvents.HIDE))}),150))})),window.addEventListener(C.VideoCardAddButtonEvents.SHOW,(e=>{var t,o,i,n;const s=null==(t=e.detail.videoCardElement)?void 0:t.querySelector(".VideoCard__actions"),a=null==(o=s)?void 0:o.querySelector(".VideoCard__action--add");null==(i=s)||i.classList.add("VideoCard__actions--active"),null==(n=a)||n.classList.add("VideoCard__action--active")})),window.addEventListener(C.VideoCardAddButtonEvents.HIDE,(e=>{var t,o,i,n;const s=null==(t=e.detail.videoCardElement)?void 0:t.querySelector(".VideoCard__actions"),a=null==(o=s)?void 0:o.querySelector(".VideoCard__action--add");null==(i=s)||i.classList.remove("VideoCard__actions--active"),null==(n=a)||n.classList.remove("VideoCard__action--active")})),window.addEventListener(C.VideoCardAddButtonEvents.SET_ADDED,(e=>{var t;null==(t=e.detail.videoCardElement)||t.classList.add("VideoCard--videoAdded")})),window.addEventListener(C.VideoCardAddButtonEvents.SET_ADD,(e=>{var t;null==(t=e.detail.videoCardElement)||t.classList.remove("VideoCard--videoAdded")})),H.isVideoAddToPlaylistActionSheetInited=!0},toggleAsideMenu:()=>{var e,t;const o=document.querySelector(".VideoLayout__aside");if(!o)return;const n=document.querySelector(".VideoLayout__toggle"),s=o.querySelector(".VideoActions"),r=[...document.querySelectorAll(".MenuList")],l=[...document.querySelectorAll(".PlaylistPanel")],d=o.classList.contains("VideoLayout__aside--collapsed"),c=!d;o.classList.toggle("VideoLayout__aside--collapsed",c),null==(e=s)||e.classList.toggle("VideoActions--collapsed",c),r.forEach((e=>e.classList.toggle("MenuList--collapsed",c))),l.forEach((e=>e.classList.toggle("PlaylistPanel--collapsed",c))),null==(t=n)||t.setAttribute("data-title",d?a.getLang("video_collapse_aside"):a.getLang("video_expand_aside"));[...document.querySelectorAll(".VideoActions__item")].forEach((e=>{var t;e.tt&&(null==(t=window.tooltips)||t.destroy(e))})),H.refreshSliders(),H.resizeSearchInput(),(0,i.setCookie)("remixvideo_menu_collapsed",Number(c),365)},showTooltip:e=>{let t=[-68,-72,0];return e.classList.contains("VideoQuickLogin__loginButton")&&(t=[-68,-67,0]),()=>{const o=document.querySelector(".VideoLayout__aside");if(o&&o.classList.contains("VideoLayout__aside--collapsed"))return(0,c.showTitle)(e,"","",{className:"tt_black tt_left MenuList__itemTooltip",shift:t,slideX:5,dir:"left",appendEl:document.querySelector(".VideoLayout")})}},showMainActionTooltip:(e,t)=>{var o;let i;i=(null==(o=e.closest(".VideoActions"))?void 0:o.classList.contains("VideoActions--collapsed"))?{text:t,dir:"left",slideX:5,shift:[-68,-66,0],typeClass:"tt_black",className:"tt_default tt_left MenuList__itemTooltip",appendEl:document.querySelector(".VideoLayout")||void 0}:{text:t,dir:"top",forcetodown:!0,center:!0,typeClass:"tt_black"},(0,c.showTooltip)(e,i)},login:()=>{k().then((({showQuickLoginBox:e})=>{e()}))},subscribePlaylist:(e,t)=>{if(!window.vk.id)return k().then((({showQuickLoginBox:e})=>{e()})),!1;const o="VideoInfoPanel__subscribeButton--subscribed";return window.ajax.post("al_video.php?act=playlist_subscribe",{playlist_raw_id:e,subscribe:t.classList.contains(o)?0:1,hash:window.cur.videoSubscriptionHash,ref:window.cur.ref},{onDone:(e,i,n,s,a)=>{var r;e||a?(t.classList.toggle(o,e),t.classList.toggle("VideoInfoPanel__action--primary",!e)):(t.classList.remove(o),t.classList.add("VideoInfoPanel__action--disabled"));const l=document.getElementById("subscribes_panel");l.innerHTML="",l.insertAdjacentHTML("beforeend",i);const d=null==(r=t.closest(".VideoInfoPanel"))?void 0:r.querySelector(".js-playlist_subscribers_count");if(d&&(d.innerHTML="",d.insertAdjacentHTML("beforeend",n)),["video_playlist_subscriptions","video_subscriptions"].includes(window.cur.ref)){const e=document.querySelector(".VideoHeader .ui_crumb_count");e&&(e.innerHTML=s)}}}),!1},onSearchFiltersChanged:e=>{var t;const o=!(0,v.isEmpty)(e);null==(t=document.querySelector(".VideoSearchInputWrapper"))||t.classList.toggle("VideoSearchInputWrapper--withFilters",o)},showVideoMenu:(e,t)=>{var o,i;const[n,s]=t.split("_");let a;a=window.cur.searchInputEl&&window.cur.searchInputEl.value?"search":window.cur.section_id;const r=(0,I.partConfigEnabled)("video_share_button_in_video_showcase_for_admins")?window.cur.oid:void 0;(0,c.showTooltip)(e,{url:"/al_video.php?act=get_video_menu",params:{owner_id:n,video_id:s,oid:r,module:a},shift:[12,0,0],width:203,needLeft:!0,forcetodown:!0,appendEl:(0,p.domPN)(e),dir:"bottom",className:"VideoCard__menuTooltip",hasover:!0,hideOnTooltipContainerClick:!0}),null==(i=window.cur)||null==(o=i.destroy)||o.push((()=>{var e;null==(e=window.tooltips)||e.destroyAll()}))},bookmarkVideo:(e,t,o,i,n="showcase")=>{let s=e.classList.contains("VideoCardMenu__item--bookmarked");window.bookmark(t,o,"video",i,s,"",n);const r=e.querySelector(".VideoCardMenu__itemLabel");r&&(s=!s,e.classList.toggle("VideoCardMenu__item--bookmarked",s),setTimeout((()=>{r.innerHTML=s?a.getLang("global_remove_from_bookmarks"):a.getLang("global_add_to_bookmarks")}),200))},setNotInteresting:(e,t,o,i)=>{window.ajax.post("al_video.php?act=not_interested",{owner_id:e,video_id:t,hash:o,track_code:i,ref:window.cur.ref},{onDone:i=>{i&&H.showCardFeedback(e,t,a.getLang("video_set_not_interesting"),a.getLang("video_cancel_feedback_action"),"UNSET_NOT_INTERESTING",o)}})},unsetNotInteresting:(e,t,o,i)=>{window.ajax.post("al_video.php?act=not_interested",{owner_id:e,video_id:t,hash:o,is_unset:!0,track_code:i,ref:window.cur.ref},{onDone:o=>{if(o){const o=document.querySelectorAll(`.ge_video_item_${e}_${t}`);o&&o.forEach((e=>{var t,o;e.classList.remove("VideoCard--withFeedback");const i=e.querySelector(".VideoCard__feedbackContainer");null==(o=i)||null==(t=o.parentNode)||t.removeChild(i)}))}}})},showCardFeedback:(e,t,o,i,n,s)=>{const a=document.querySelectorAll(`.ge_video_item_${e}_${t}`);a&&a.forEach((a=>{a.classList.add("VideoCard--withFeedback");const r=a.querySelector(".VideoCard__thumb");if(r){let a=`<div class="VideoCard__feedbackContainer"><div class="VideoCard__feedbackText">${o}</div>`;i&&(a+=`<div class="VideoCard__feedbackAction"\n                            data-task-click="VideoShowcase/feedback_action"\n                            data-owner-id="${e}"\n                            data-video-id="${t}"\n                            data-hash="${s}"\n                            data-action-type="${n}"\n                            >${i}</div>`),a+="</div>",r.insertAdjacentHTML("beforeend",a)}}))},playTrailer:(e,t)=>{if(!t)return void(e.classList.contains("VideoCard--showPlay")||e.classList.add("VideoCard--showPlay"));if(e.classList.contains("VideoRestriction--blur"))return;let o=e.querySelector(".VideoCard__trailer");if(!o){o=document.createElement("video"),o.className="VideoCard__trailer VideoCard__trailer--loading",o.onloadeddata=()=>o.classList.remove("VideoCard__trailer--loading"),o.crossOrigin="anonymous",o.src=t,o.muted=!0,o.loop=!0;const i=e.querySelector(".VideoCard__thumbWrapper");o=i.insertBefore(o,i.querySelector(".VideoCard__controls"))}o.play().catch((e=>{if(e instanceof Error&&(!(e instanceof DOMException)||20!==e.code&&"AbortError"!==e.name&&"NotAllowedError"!==e.name&&"NotSupportedError"!==e.name&&9!==e.code))throw e}))},stopTrailer:e=>{const t=e.querySelector(".VideoCard__trailer");t&&(t.pause(),t.currentTime=0)},copyLink:e=>{(0,w.copyToClipboard)(window.location.host+e),(0,l.showDoneBox)(a.getLang("video_playlist_url_copied")),window.cur.currentDropdown.hide()},clearHistory:(e,t,o)=>((0,r.showBox)("al_video.php?act=clear_history_confirm_box",{hash:o},{onDone:(e,o)=>{const{hash:i}=o;e.removeButtons(),e.addButton(a.getLang("global_delete"),(o=>H.confirmDeletingFromHistory(e,o,t,i)),void 0,!0),e.addButton(a.getLang("global_cancel"),e.hide,"no")}}),(0,m.cancelEvent)(e)),confirmDeletingFromHistory:(e,t,o,i)=>{window.ajax.post("al_video.php?act=clear_viewing_history_records",{hash:i},{onDone:t=>{var i;(e.hide(),t)&&(o.classList.add("VideoHeader__button--disabled"),(0,p.hide)(document.getElementById("video_subtab_pane_type_my_history")),null==(i=document.getElementById("video_empty_placeholder_main"))||i.classList.remove("VideoEmptyStub--hidden"))},showProgress:()=>(0,_.lockButton)(t),hideProgress:()=>(0,_.unlockButton)(t)})},deleteFromHistory:(e,t,o,i)=>(window.ajax.post("al_video.php?act=remove_viewing_history_records",{video_ids:[[t,o].join("_")],hash:i},{onDone:e=>{e&&H.showCardFeedback(t,o,a.getLang("video_success_removing_from_history"))}}),(0,m.cancelEvent)(e)),togglePlaylistView:(e,t)=>{const o=e.classList.contains("VideoHeader__action--playlistGridView");e.classList.toggle("VideoHeader__action--playlistGridView",!o),e.setAttribute("data-text",o?a.getLang("video_playlist_grid_view_tooltip"):a.getLang("video_playlist_list_view_tooltip"));const i=document.getElementById("video_all_playlists_list")||document.getElementById("video_all_playlist_subscriptions_list");i&&(i.classList.toggle("VideoGrid--listView",o),i.classList.toggle("VideoGrid--gridView",!o)),o&&H.refreshSliders(),H.playlistListViewPreferences=o,H.savePlaylistViewPreferences(t)},loadSection:e=>{var t;let i=window.cur.section_id;(null==(t=e)?void 0:t.url)&&(window.nav.objLoc[0]=e.url,window.nav.setLoc(e.url.startsWith("/")?e.url.substr(1):e.url));const n=window.nav.objLoc[0],s=Number(window.nav.objLoc.show_for_user_id),r=(0,p.ge)(`video_type_${i}_list`);if(!r)return void window.nav.go(n);const l={silent_loading:1};s&&(l.show_for_user_id=s);const c=(0,p.ge)("video_content_section"),u=(0,p.geByClass1)("ui_load_more_btn",c),h=(0,p.geByClass1)("VideoGrid--shopping",c);h&&h.classList.remove("VideoGrid--shopping");const w=(0,p.geByClass1)("VideoEmptyStub",c),m=()=>{r.classList.remove("VideoGrid--stub"),r.innerHTML=""},g=performance.now();window.ajax.post(n,l,{onDone:e=>{var t,s,l;const{videos:c,playlists:h,nextFrom:f,context:S,catPlaylists:E,shopping:V,tabList:C,videoShowcaseOnboarding:L,showcaseSessionId:A,videoShowcaseNps:k,videoShowcaseContinueWatch:M,videoShowcaseExclusive:D}=JSON.parse(e);A&&(window.cur.showcaseSessionId=A);const O=()=>{"/video"===window.location.pathname?window.nav.reload():window.nav.go("/video")},N=()=>{H.successfullOnboarding=!0},x=(0,I.partConfigEnabled)("video_onboarding_ask_to_refresh")?()=>{H.successfullOnboarding&&(0,d.showSnackbarUnsafe)({before:{content:(0,T.getIcon28CheckCircleOutline)().icon},text:a.getLang("video_onboarding_snackbar_refresh_text"),action:{onClick:O,label:a.getLang("video_onboarding_snackbar_refresh_action")},timeout:4e3})}:void 0;if(L&&Promise.all([o.e(98066),o.e(14622),o.e(16957)]).then(o.bind(o,808538)).then((({renderVideoOnboarding:e})=>{H.successfullOnboarding=!1,e({data:L,onDestroy:x,onSuccess:N})})),(null==(t=C)?void 0:t.length)&&Promise.all([o.e(98066),o.e(62795)]).then(o.bind(o,889241)).then((({initVideoTabs:e})=>{e({tabList:C})})),n===window.nav.objLoc[0]){if((0,y.saveStatlogEvents)({name:"video_showcase_web",value:Math.round(performance.now()-g),keys:[i,"change_tab_data","nav"]}),m(),V&&!(0,v.isEmpty)(V)){const e=document.createRange().createContextualFragment(V);r.classList.add("VideoGrid--shopping"),r.appendChild(e),H.updatePlaylistSlider(),f&&(window.cur.listNextFrom=f,(0,p.show)(u),(0,_.unlockButton)(u),window.Video&&window.Video._loadNextChunkIfNeed()),(0,b.updateThumbsInView)()}else if(c&&!(0,v.isEmpty)(c)||h&&!(0,v.isEmpty)(h)){const e=document.createDocumentFragment();for(let t of h){const o=(0,b.buildPlaylistEl)(t,!0);e.appendChild(o)}for(let t of c){const o=(0,b.buildVideoEl)(t,!0);e.appendChild(o)}if(r.appendChild(e),r.classList.remove("VideoGrid--shopping"),f&&(window.cur.listNextFrom=f,(0,p.show)(u),(0,_.unlockButton)(u),window.Video&&window.Video._loadNextChunkIfNeed()),(0,b.updateThumbsInView)(),k&&Promise.all([o.e(98066),o.e(63161)]).then(o.bind(o,117440)).then((({initNPSContainer:e})=>{e(k)})),M&&D&&M.containerRow===D.containerRow&&(D.containerRow+=1),M&&P().then((({initContainer:e})=>{e(M)})),D&&P().then((({initContainer:e})=>{e(D)})),E&&window.cur.catPlaylistId&&E[window.cur.catPlaylistId]){var q,B,F;E[window.cur.catPlaylistId].list=c,(0,v.extend)(window.cur.catVideosList,{},E);const e=window.VideoPlaylist?window.VideoPlaylist.getCurListId():"";if(window.Videoview&&window.mvcur&&"cat_lives"!==window.cur.catPlaylistId&&(!e||window.cur.catPlaylistId===e)&&(!(null==(q=window.Video)?void 0:q.isGlobalSearchMode())||window.cur.isCatalog&&(null==(B=window.Video)?void 0:B.shouldShowSearchInPlaylistWithSearch())||!window.cur.isCatalog&&!(null==(F=window.Video)?void 0:F.shouldShowOtherInPlaylistWithSearch()))){var z,R;const e=(null==(z=window.Video)?void 0:z.isGlobalSearchMode())&&(null==(R=window.Video)?void 0:R.shouldShowSearchInPlaylistWithSearch());window.Videoview.initPlaylistBlock(window.mvcur.videoRaw,e?window.Video.VIDEO_GLOBAL_SEARCH_TYPE:window.cur.catPlaylistId)}}}else(0,p.show)(w);window.cur.ref=(null==(s=S)?void 0:s.ref)||window.cur.ref,window.cur.ref_context=(null==(l=S)?void 0:l.ref_context)||window.cur.ref_context,(0,y.saveStatlogEvents)({name:"video_showcase_web",value:Math.round(performance.now()-g),keys:[i,"change_tab","nav"]})}},onFail:()=>(m(),(0,p.show)(w),!0),timeout:3e4}),(0,p.hide)(u),(0,p.hide)(w),(()=>{const e=window.cur.showcaseChunkSize||18;let t=window.cur.cardStub;if(r.classList.add("VideoGrid--stub"),t){r.innerHTML="";const o=document.createDocumentFragment();for(let i=0;i<e;i++)o.appendChild((0,p.se)(t));r.appendChild(o)}})()},savePlaylistViewPreferences:e=>{window.vk.id&&(window.clearTimeout(H.savePlaylistViewPreferencesTimeout),H.savePlaylistViewPreferencesTimeout=window.setTimeout((()=>{window.ajax.post("/al_video.php?act=save_playlist_view_preferences",{hash:window.cur.playlistViewPreferencesHash,page_type:e,prefer_list_view:H.playlistListViewPreferences?1:0})}),500))},logClickEvent(e,t){(0,g.logCardsAction)([e],"CLICK","VIDEO",[t])}}},822920:(e,t,o)=>{o.r(t),o.d(t,{getLikesModule:()=>C});var i,n,s,a=o(11010),r=o(434788),l=o(785893),d=o(958927),c=o(283452),u=o(353731),h=o(293579),p=o(372593),v=o(973935),w=o(320422),_=o(725296),m=o(705758),g=o(584356),y=o(613202),f=o(362246),b=o(659397),S=o(514986),E=o(29271),V=o(970978),I=o(796943),T=o(839470);function C(){return window.stManager.add([window.jsc("web/likes.js")])}(null==(n=window.vk)||null==(i=n.pe)?void 0:i.static_manager_dynamic_imports)&&(null==(s=window.vk)?void 0:s.stDomain)&&(o.p=window.vk.stDomain+"/dist/"),window.VideoShowcase=d.VideoShowcase,window.logError=V.logError,I.onDomReadyPromise.then((()=>{(0,T.partConfigEnabled)("video_card_add_playlists_actionsheet")&&d.VideoShowcase.initVideoAddToPlaylistActionSheet()})),(0,h.registerReactApplication)("LiveType",(e=>{v.render((0,l.jsx)(p.LiveTypePopup,(0,r._)({},e)),document.getElementById("live_type_menu"))})),(0,c.tq)().setInteractiveHandler("VideoShowcase/login",(()=>{var e;null==(e=window.VideoShowcase)||e.login()})),(0,c.tq)().setInteractiveHandler("VideoShowcase/play_trailer",(e=>{var t;const{trailer:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.playTrailer(e.payload.target,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/stop_trailer",(e=>{var t;null==(t=window.VideoShowcase)||t.stopTrailer(e.payload.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_video_menu",(e=>{var t;const{id:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.showVideoMenu(e.payload.target,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/share_video",(0,a._)((function*(e){const{id:t}=e.payload.dataAttrs;window.Likes||(yield C()),window.Likes.share(`video${t}`)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/feedback_action",(e=>{const{ownerId:t,videoId:o,hash:i,actionType:n}=e.payload.dataAttrs;if(n===d.FeedbackActionType.UNSET_NOT_INTERESTING){var s,a,r;const n=null==(r=null==(a=null==(s=e.payload.target)?void 0:s.closest(".VideoCard"))?void 0:a.querySelector(".VideoCard__thumbLink"))?void 0:r.getAttribute("data-track-code");var l;if(n)null==(l=window.VideoShowcase)||l.unsetNotInteresting(t,o,i,n)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/toggle_aside_menu",(()=>{var e;null==(e=window.VideoShowcase)||e.toggleAsideMenu()})),(0,c.tq)().setInteractiveHandler("VideoShowcase/upload_video",(0,a._)((function*(e){const{ownerId:t,albumId:o="0",disabledChoose:i="0"}=e.payload.dataAttrs,n=parseInt(t,10);window.VideoUpload||(yield(0,y.getVideoUploadModule)()),(0,f.uploadVideoPopup)(n,o,i)}))),(0,c.tq)().setStartupHandler("VideoShowcase/select_live_type",(({payload:e})=>{const{web_live_title:t,web_live_desc:o,screen_live_title:i,screen_live_desc:n,live_title:s,live_desc:a}=(0,b.decodeHTMLEntitiesDeep)(e.data),r=e=>{Promise.all([window.stManager.add([window.jsc("web/upload.js")]),(0,y.getVideoUploadModule)()]).then((()=>{const{chosenOwnerId:t,oid:o}=window.cur;let i=`/video/webcast?oid=${t||o}&screen=${e?1:0}`;window.nav.go(i)}),(()=>{}))};window.initReactApplication("LiveType",{appSelected:()=>{(0,y.getVideoUploadModule)().then((()=>{(0,g.curBox)().hide(),window.VideoUpload.createLiveStream(window.cur.oid)}),(()=>{}))},webrtcSelected:()=>r(),screenSelected:()=>r(!0),webTitle:t,webDesc:o,screenTitle:i,screenDesc:n,liveTitle:s,liveDesc:a})})),(0,c.tq)().setStartupHandler("VideoShowcase/webcast_init",(0,a._)((function*({payload:e}){const{new_live_info:t,thumb_upload_options:o,categories:i,game_categories:n,privacy_data:s,init_options:a}=e.data;yield(0,y.getVideoUploadModule)(),window.VideoUpload.initWebStreamingForm(t,o,i,n,s,a)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/webcast_save",(0,a._)((function*({payload:e}){var t;yield(0,y.getVideoUploadModule)(),window.VideoUpload.saveWebStream("video_web_streaming_block",null==(t=e.dataAttrs)?void 0:t.oid)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/webcast_cancel",(()=>{window.history.back()})),(0,c.tq)().setInteractiveHandler("VideoShowcase/upload_webcast_thumb",(0,a._)((function*(){yield(0,y.getVideoUploadModule)()}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/webcast_text_length_warn",(({payload:e})=>{var t,o;const{target:i,dataAttrs:n}=e;(0,m.checkTextLength)(null==(t=n)?void 0:t.maxLength,i,null==(o=n)?void 0:o.selector)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/webcast_check",(({payload:e})=>{(0,_.checkbox)(e.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/webcast_check_endless",(0,a._)((function*({payload:e}){yield(0,y.getVideoUploadModule)(),window.VideoUpload.switchLiveEndlessCheckbox(e.target)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/create_live",(0,a._)((function*(e){let{ownerId:t}=e.payload.dataAttrs;const o=parseInt(t,10);yield(0,y.getVideoUploadModule)(),(0,f.startLiveVideoPopup)(o)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/save_all_uploaded_video",(0,a._)((function*(e){var t,o;null==(t=window.VideoUpload)||t.saveAllVideos();const i=null==(o=e.payload.target)?void 0:o.closest(".VideoLayout__stickyPanel");var n;i&&(i.classList.remove("VideoLayout__stickyPanel--visible"),null==(n=document.querySelector(".VideoLayout__scrollTop"))||n.classList.remove("VideoLayout__scrollTop--withGap"))}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/create_playlist",(e=>{const{ownerId:t}=e.payload.dataAttrs,o=parseInt(t,10);(0,f.createPlaylistPopup)(e.payload.event,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/delete_playlist",(e=>{const{playlistId:t}=e.payload.dataAttrs;window.Video.deleteAlbum(`album_${t}`)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/edit_playlist",(e=>{const{playlistId:t}=e.payload.dataAttrs;window.Video.editAlbum(`album_${t}`,e.payload.event)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/copy_playlist_url",(e=>{var t;const{playlistUrl:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.copyLink(o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/subscribe_playlist",(e=>{var t;const{playlistRawId:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.subscribePlaylist(o,e.payload.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_more",(e=>{const{type:t}=e.payload.dataAttrs;window.Video.showMore(t,e.payload.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_more_owner_playlists",(()=>{window.Video.showMoreOwnerPlaylists()})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_more_subscription_playlists",(()=>{window.Video.showMoreSubscriptionsPlaylists()})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_more_showcase",(e=>{const{type:t}=e.payload.dataAttrs;window.Video.showMoreShowcase(t,e.payload.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_live_tooltip",(e=>{const{text:t,width:o}=e.payload.dataAttrs;(0,w.showTooltip)(e.payload.target,{text:t,className:"VideoWebcastFormTooltip",dir:"auto",needLeft:!0,shift:[0,10],width:parseInt(o)})})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_tooltip",(e=>{const{text:t,place:o}=e.payload.dataAttrs;window.Video.toggleTooltip(e.payload.target,t,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_main_action_tooltip",(e=>{var t;const{text:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.showMainActionTooltip(e.payload.target,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/hide_tooltip",(e=>{const{destroyTooltip:t=!1}=e.payload.dataAttrs;var o,i;t?null==(o=window.tooltips)||o.destroy(e.payload.target):null==(i=window.tooltips)||i.hide(e.payload.target)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/show_add_tooltip",(e=>{const{textAdd:t,textAdded:o}=e.payload.dataAttrs;window.Video.toggleAddTooltip(e.payload.target,t,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/video_edit",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCard");if(o){const{videoId:t,ownerId:i}=o.dataset;window.Video.onVideoEdit(e.payload.event,e.payload.target,i,t)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/video_move",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCard");if(o){const{videoId:t,ownerId:i,hash:n}=o.dataset;window.Video.onVideoMove(e.payload.event,e.payload.target,i,t,n)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/video_delete",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCard");if(o){const{videoId:t,ownerId:i,hash:n}=o.dataset;if(o.classList.contains("video_active_live")){const o=(0,S.showFastBox)(E.getLang("video_delete_active_live_title"),E.getLang("video_delete_active_live"),E.getLang("global_delete"),(()=>{window.Video.onVideoDelete(e.payload.event,e.payload.target,i,t,n),o.hide()}),E.getLang("global_cancel"))}else window.Video.onVideoDelete(e.payload.event,e.payload.target,i,t,n)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/video_add",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCard");if(o){const{videoId:t,ownerId:i,hash:n}=o.dataset;window.Video.onVideoAdd(e.payload.event,e.payload.target,i,t,n)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/video_delete_from_history",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCard");if(o){var i;const{videoId:t,ownerId:n,hash:s}=o.dataset;null==(i=window.VideoShowcase)||i.deleteFromHistory(e.payload.event,n,t,s)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/clear_history",(e=>{var t;const{hash:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.clearHistory(e.payload.event,e.payload.target,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/toggle_playlist_view",(e=>{var t;const{pageType:o}=e.payload.dataAttrs;null==(t=window.VideoShowcase)||t.togglePlaylistView(e.payload.target,o)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/menu_bookmark_video",(e=>{var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCardMenu");if(o){var i;const{ownerId:t,videoId:n}=o.dataset,{hash:s}=e.payload.dataAttrs;null==(i=window.VideoShowcase)||i.bookmarkVideo(e.payload.target,t,n,s)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/menu_set_not_interested",(e=>{var t,o,i,n;const s=null==(t=e.payload.target)?void 0:t.closest(".VideoCardMenu"),a=null==(n=null==(i=null==(o=e.payload.target)?void 0:o.closest(".VideoCard"))?void 0:i.querySelector(".VideoCard__thumbLink"))?void 0:n.getAttribute("data-track-code");if(s&&a){var r;const{ownerId:t,videoId:o}=s.dataset,{hash:i}=e.payload.dataAttrs;null==(r=window.VideoShowcase)||r.setNotInteresting(t,o,i,a)}})),(0,c.tq)().setInteractiveHandler("VideoShowcase/menu_report",(0,a._)((function*(e){var t;const o=null==(t=e.payload.target)?void 0:t.closest(".VideoCardMenu");if(o){const{ownerId:t,videoId:i}=o.dataset,{feedbackText:n}=e.payload.dataAttrs,s=()=>{window.Videoview.showReportVideoForm(t,i,(()=>{var e;null==(e=window.VideoShowcase)||e.showCardFeedback(t,i,n)}))};window.Videoview||(yield window.stManager.add([window.jsc("web/videoview.js")])),s()}}))),(0,c.tq)().setStartupHandler("VideoShowcase/owner_chooser_init",(({payload:e})=>{const{live_type:t}=e.data;window.cur.chosenOwnerId=window.cur.oid,(0,u.initOwnerChooser)(e.target,t)})),(0,c.tq)().setInteractiveHandler("VideoShowcase/owner_choose_select",(0,a._)((function*(e){yield(0,u.selectOwnerChooserItem)(e.payload.target,e.payload.dataAttrs)}))),(0,c.tq)().setInteractiveHandler("VideoShowcase/load_section",(()=>{var e;null==(e=window.VideoShowcase)||e.loadSection()}));try{window.stManager.done(window.jsc("web/video_showcase.js"))}catch(e){}},222325:(e,t,o)=>{o.d(t,{hideSnackbar:()=>C,showSnackbar:()=>T,showSnackbarUnsafe:()=>y});var i=o(11010),n=o(434788),s=o(820224),a=o(667294),r=o(973935),l=o(659397),d=o(800325),c=o(228042),u=o(417873),h=o(773693),p=o(667465),v=o(584356),w=o(786858);const _={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},m={ok:(0,d.getIcon24CheckCircleOutline)().icon,warning:(0,c.getIcon24WarningTriangleOutline)().icon,error:(0,u.getIcon24ErrorCircleOutline)().icon,ok28:(0,h.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,p.getIcon28LoudspeakerSlashOutline)().icon},g={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker"};function y(e){return f.apply(this,arguments)}function f(){return(f=(0,i._)((function*({id:e,type:t,text:o,subtitle:i,action:n,before:s,after:a,link:r,timeout:l,align:d,onClick:c,onClose:u}){var h,p,y;let f;const b={id:e,link:r,timeout:l,onClick:c?()=>((0,w.assertNotNull)(f),c(f)):void 0,onHide:u},S={author_link:null==(p=s)||null==(h=p.avatar)?void 0:h.link,add_photo:null==(y=a)?void 0:y.url,tooltipHandler:e=>{var o,i,r,l,c,u,h,p,v,y;e.classList.add("notifier_snackbar"),t&&m[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(g[t])):(null==(i=s)||null==(o=i.avatar)?void 0:o.url)||(null==(l=s)||null==(r=l.avatar)?void 0:r.content)?s.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!(null==(u=s)||null==(c=u.avatar)?void 0:c.content)&&(null==(h=s)?void 0:h.content)&&e.classList.add("notifier_snackbar_with_custom_before"),(null==(y=null==(p=a)?void 0:p.rounded)||y)&&e.classList.add("notifier_snackbar_with_rounded_after");const b=d?_[d]:void 0;if(b&&e.classList.add(b),null==(v=n)?void 0:v.onClick){var S;null==(S=e.querySelector(".notifier_snackbar_action"))||S.addEventListener("click",(e=>{var t,o;(0,w.assertNotNull)(f),null==(t=(o=n).onClick)||t.call(o,e,f)}))}}};if(t&&m[t])S.avatar_custom_content=m[t];else if(s){var E,V,I,T,C;S.author_link=null==(E=s.avatar)?void 0:E.link,(null==(V=s.avatar)?void 0:V.url)?S.author_photo=s.avatar.url:(null==(I=s.avatar)?void 0:I.content)?S.avatar_custom_content=s.avatar.content:s.content&&(S.avatar_custom_content=s.content),(null==(T=s.icon)?void 0:T.type)?S.icon_type=s.icon.type:(null==(C=s.icon)?void 0:C.url)&&(S.icon_custom={image_url:s.icon.url})}const L=[`<div class="notifier_snackbar_text">${o}</div>`,i&&`<div class="notifier_snackbar_subtitle">${i}</div>`,n&&`<div><a class="notifier_snackbar_action" ${n.href?`href="${n.href}"`:""}>${n.label}</a></div>`].filter(Boolean).join("");return f=yield(0,v.showDoneBoxAsync)(L,b,S),f}))).apply(this,arguments)}const b=e=>{var{label:t,href:o}=e,i=(0,s._)(e,["label","href"]);return(0,n._)({label:L(t),href:o&&(0,l.escape)(o)},i)},S=e=>{var{link:t,url:o,content:i}=e,a=(0,s._)(e,["link","url","content"]);return(0,n._)({link:t&&(0,l.escape)(t),url:o&&(0,l.escape)(o),content:i?L(i):void 0},a)},E=e=>{var{url:t}=e,o=(0,s._)(e,["url"]);return(0,n._)({url:t&&(0,l.escape)(t)},o)},V=({avatar:e,content:t,icon:o})=>({avatar:e&&S(e),content:t?L(t):void 0,icon:o&&E(o)}),I=e=>{var{url:t}=e,o=(0,s._)(e,["url"]);return(0,n._)({url:t&&(0,l.escape)(t)},o)};function T(e){var{text:t,subtitle:o,action:i,before:a,after:r,link:d}=e,c=(0,s._)(e,["text","subtitle","action","before","after","link"]);return y((0,n._)({text:L(t),subtitle:o?L(o):void 0,action:i&&b(i),before:a&&V(a),after:r&&I(r),link:d&&(0,l.escape)(d)},c))}function C(e){var t;null==(t=window.Notifier)||t.hideEvent(e)}function L(e){const t=document.createElement("div");return(0,r.render)((0,a.createElement)(a.Fragment,null,e),t),t.innerHTML}},128767:(e,t,o)=>{o.d(t,{initPortalNavigation:()=>d});var i=o(196026),n=o(321850),s=o(75272),a=o(786858),r=o(766698),l=o(970978);function d({onInitStateChange:e}){var t;const d=document.querySelector(".PortalNavigation");if(!d)return;const c=document.querySelector(".side_bar_nav_wrap > *");if(!c)return;const u=(0,s.createElementFromHTML)('\n    <div class="PortalNavigationDropdown__scroll">\n      <div class="PortalNavigationDropdown__content"></div>\n    </div>\n  ');(0,a.assertNotNull)(u),null==(t=u.querySelector(".PortalNavigationDropdown__content"))||t.appendChild(c.cloneNode(!0));const h="PortalNavigation--expanded",p=".PortalNavigationDropdown__scroll";Promise.all([Promise.resolve().then(o.bind(o,84543)).then((e=>e.ElementTooltip)),o.e(60593).then(o.bind(o,258810)).then((e=>e.UiScroll))]).then((([t,o])=>{let s,a,l;a=new t(d,{forceSide:"bottom",autoShow:!1,cls:"PortalNavigationDropdown",elClassWhenShown:h,noOverflow:!1,noBorder:!0,width:252,appendTo:document.querySelector("#page_header_cont"),content:u,align:t.ALIGN_LEFT,onFirstTimeShow:()=>{const e=a.getContent();e&&(l=(0,r.createLeftMenuInitiator)(e),l.render()),s=new o(document.querySelector(p))},onShow:()=>{(0,i.cancelStackPush)("portal_navigation",(()=>{a.hide()}),!0),s||(s=new o(document.querySelector(p)))},onBeforeHide:()=>{s.scrollTop(!1,0),(0,i.cancelStackPop)()},onDestroy:()=>{var e,t;null==(e=l)||e.unmount(),d.classList.remove(h),null==(t=s)||t.destroy()}}),e(!0),(0,n.pushNavDestroy)((()=>{var t;null==(t=a)||t.destroy(),e(!1)}))})).catch((e=>{(0,l.logError)(e,{environment:"portal_navigation"})}))}},838039:(e,t,o)=>{o.d(t,{LiveTypePopup:()=>u});var i=o(785893),n=o(975545),s=o(86894),a=o(215200),r=o(571409),l=o(453505),d=o(936739),c=o(913361);const u=e=>{const{appSelected:t,webrtcSelected:o,screenSelected:u,webTitle:h,webDesc:p,liveTitle:v,liveDesc:w,screenTitle:_,screenDesc:m}=e,g=[{id:c.LiveType.WEBRTC,title:h,description:p,icon:(0,i.jsx)(r.Icon28VideocamOutline,{className:n.default.icon})},{id:c.LiveType.SCREEN,title:_,description:m,icon:(0,i.jsx)(l.Icon28ArrowUpRectangleOutline,{className:n.default.icon})},{id:c.LiveType.APP,title:v,description:w,icon:(0,i.jsx)(d.Icon28ServicesOutline,{className:n.default.icon})}];return(0,i.jsx)("div",{className:n.default.root,children:g.map((({id:e,title:r,description:l,icon:d,hidden:h})=>!h&&(0,i.jsx)(s.CellButton,{multiline:!0,className:n.default.cell,before:(0,i.jsx)(a.Image,{size:72,withBorder:!0,children:d}),subtitle:(0,i.jsx)("span",{className:n.default.cellDescription,children:l}),onClick:()=>(e=>{switch(e){case c.LiveType.WEBRTC:o();break;case c.LiveType.SCREEN:u();break;case c.LiveType.APP:t()}})(e),children:(0,i.jsx)("span",{className:n.default.cellTitle,children:r})},e)))})}},372593:(e,t,o)=>{o.d(t,{LiveTypePopup:()=>i.LiveTypePopup});var i=o(838039)},913361:(e,t,o)=>{var i;o.d(t,{LiveType:()=>i}),function(e){e.WEBRTC="webrtc",e.SCREEN="screen",e.APP="app"}(i||(i={}))},353731:(e,t,o)=>{o.d(t,{initOwnerChooser:()=>l,selectOwnerChooserItem:()=>d});var i=o(11010),n=o(258810),s=o(84543),a=o(659397),r=o(613202);const l=(e,t)=>{const o=null==t?document.querySelector(".OwnerChooser__dropdown"):document.getElementById(`owner_chooser_dropdown_${t}`),i=null==t?document.querySelector(".OwnerChooser"):document.getElementById(`owner_chooser_${t}`);if(o){let t;const a=new s.ElementTooltip(e,{forceSide:"bottom",cls:"OwnerChooser__dropdownWrapper",noOverflow:!1,noBorder:!0,autoShow:!1,offset:[-4,7],appendTo:i,content:o,align:s.ElementTooltip.ALIGN_LEFT,onFirstTimeShow:()=>{t=new n.default(document.querySelector(".OwnerChooser__dropdown"))},onShow:()=>{window.cur.currentDropdown=a,t||(t=new n.default(document.querySelector(".OwnerChooser__dropdown")))},onDestroy:()=>{var e;null==(e=t)||e.destroy()}})}},d=(0,i._)((function*(e,t,o=!1){var i,n;let{ownerId:s,type:l,name:d,photo:c}=t;const u=null==(i=e)?void 0:i.closest(".OwnerChooser");u.classList.remove("OwnerChooser--empty");const h=u.querySelector(".OwnerChooser__item");switch(d=(0,a.decodeHTMLEntities)((0,a.encodeHTMLEntities)((0,a.escape)(d))),h.innerHTML=`\n    <div class="OwnerChooser__itemAvatar" style="background-image: url(${c})"></div>\n    <div class="OwnerChooser__itemName">${d}</div>\n  `,[...document.querySelectorAll(".OwnerChooser__dropdownItem")].forEach((t=>{t.classList.toggle("OwnerChooser__dropdownItem--active",t===e)})),null==(n=window.cur.currentDropdown)||n.hide(),yield(0,r.getVideoUploadModule)(),l){case"broadcast":window.VideoUpload.updateLiveTypeModal(s);break;case"live":window.VideoUpload.updateNewLiveTransFormBox(s);break;case"upload":var p;null==(p=document.querySelector(".upload_btn"))||p.setAttribute("disabled","true"),window.VideoUpload.updateVideoUploadBox(s,o)}window.cur.chosenOwnerId=s,window.cur.oid=parseInt(s,10)}))},800325:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}o.d(t,{getIcon24CheckCircleOutline:()=>i})},417873:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}o.d(t,{getIcon24ErrorCircleOutline:()=>i})},228042:(e,t,o)=>{function i(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}o.d(t,{getIcon24WarningTriangleOutline:()=>i})},773693:(e,t,o)=>{function i(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}o.d(t,{getIcon28CheckCircleOutline:()=>i})},667465:(e,t,o)=>{function i(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}o.d(t,{getIcon28LoudspeakerSlashOutline:()=>i})},258810:(e,t,o)=>{o.r(t),o.d(t,{UiScroll:()=>c,default:()=>u});var i=o(301230),n=o(664988),s=o(82161),a=o(795558),r=o(953908),l=o(893106),d=o(332066);class c{init(){if(this.options.stopScrollPropagation&&this.fixBlocker(),!this.inited){if(!this.el.container.scrollWidth||this.disabled)return;this.fixSize(!0),this.options.autoresize&&this.startResizeListening(),this.options.global||cur.destroy.push(this.destroy.bind(this)),this.inited=!0}return this.update(!0),this.api}addEvent(e,t,o,i){return this.removeEvents.push([e,t,o]),(0,r.addEvent)(e,t,o,void 0,void 0,i?{passive:!0}:void 0),o}destroy(){if(this.disabled=!0,this.fixSize(),this.animation&&this.animation.stop(),this.moreTimeout&&clearTimeout(this.moreTimeout),this.dragstopHandler&&(0,r.removeEvent)(document,"mouseup contextmenu",this.dragstopHandler),this.dragHandler&&(0,r.removeEvent)(document,"mousemove",this.dragHandler),(0,s.each)(this.removeEvents,(function(e,t){r.removeEvent.apply(null,t)})),this.el.overflow.parentNode==this.el.container){const e=(0,a.cf)();for(;this.el.content.firstChild;)e.appendChild(this.el.content.firstChild);this.el.container.appendChild(e)}return(0,a.removeData)(this.el.container,"ui-scroll"),this.el.container.className=this.el.container.className.replace(/\bui_scroll_.+?\b/g," "),(0,s.each)(this.removeElements,(function(e,t){(0,a.re)(t)})),this.el.container.scrollTop=this.api.data.scrollTop,delete this.el.container.__uiScroll__,this.api}updateAbove(e){if((0,s.isFunction)(e)){this.animation&&this.animation.stop();const t=this.el.outer.scrollHeight-this.el.outer.scrollTop-this.el.overflow.offsetHeight;e(),this.el.outer.scrollTop=this.el.outer.scrollHeight-this.el.overflow.offsetHeight-t}return this.api}updateBelow(e){if((0,s.isFunction)(e)){this.animation&&this.animation.stop();const t=this.options.preserveEdgeBelow&&this.api.data.scrollBottom<=this.options.preserveEdgeBelowThreshold;e(),t&&this.scrollBottom(!1)}return this.api}fixBlocker(){i.browser.chrome&&!this.options.noForceReFlow&&this.forceReFlow(),this.el.blocker.scrollTop=this.blockerScrollTop}forceReFlow(){this.el.blocker.style.display="inline-block",this.el.blocker.offsetHeight,this.el.blocker.style.display=""}fixSize(e){this.options.native||(e&&null==this.fixSizeDefault&&(this.fixSizeDefault=this.el.container.style.width),(0,a.setStyle)(this.el.container,"width",e?(0,a.getSize)(this.el.container,!0)[0]||this.fixSizeDefault||"":this.fixSizeDefault||""))}emitEvent(e){this.disabled||this.inited&&this.emitter.emitEvent(e,[this.api])}static scrollEventDelta(e){let t=0;const o=void 0!==e.deltaMode?e.deltaMode:"MozMousePixelScroll"==e.type?0:1;return"wheel"==e.type?t=e.deltaY:void 0!==e.wheelDeltaX&&void 0!==e.wheelDeltaY?(t=1/40*-e.wheelDeltaY,i.browser.mac&&i.browser.opera&&(t*=.1)):void 0!==e.wheelDelta?t=1/40*-e.wheelDelta:e.detail&&2===e.axis&&(t=e.detail),t*(1==o?15:2==o?450:1)}isScrollEventUnused(e){return c.scrollEventDelta(e)>0?!this.api.data.scrollBottom:!this.api.data.scrollTop}resize(e){if(!e&&this.options.preserveEdgeBelow){const t=this.options.preserveEdgeBelow&&this.api.data.scrollBottom<=this.options.preserveEdgeBelowThreshold;this.update(!0)&&(this.emitEvent("resize"),t&&this.scrollBottom(),this.options.stopScrollPropagation&&!e&&this.fixBlocker())}else this.update(!0)&&(this.options.stopScrollPropagation&&!e&&this.fixBlocker(),this.emitEvent("resize"))}disable(e){return this.disabled=!!e,e?(this.animation&&this.animation.stop(),this.fixSize()):(this.fixSize(!0),this.options.stopScrollPropagation&&this.fixBlocker(),this.update(!0)),(0,a.toggleClass)(this.el.container,"ui_scroll_disabled",this.disabled),this.api}dragstart(e){if(!(this.disabled||this.dragging||this.options.native))return e||(e=window.event),this.dragging=!0,this.animation&&this.animation.stop(),this.options.reversed&&(this.noMore=!0),(0,r.addEvent)(document,"mouseup contextmenu",this.dragstartHandler=this.dragstop.bind(this)),(0,r.addEvent)(document,"mousemove",this.dragHandler=this.drag.bind(this)),this.dragScroll=this.options.reversed?this.api.data.scrollBottom:this.api.data.scrollTop,this.dragY=e.screenY,(0,r.cancelEvent)(e),this.emitEvent("dragstart"),this.api}dragstop(e){if(!this.disabled&&this.dragging&&!this.options.native){if(e||(e=window.event),this.dragging=!1,this.dragstopHandler&&(0,r.removeEvent)(document,"mouseup contextmenu",this.dragstopHandler),this.dragHandler&&(0,r.removeEvent)(document,"mousemove",this.dragHandler),(0,a.setStyle)(document.body,"cursor",""),(0,a.removeClass)(this.el.container,"ui_scroll_dragging"),this.dragged)this.noMore&&(this.noMore=!1,this.more());else{this.options.reversed&&(this.noMore=!0);const t=(e.pageY-(0,a.getXY)(this.el.barOuter)[1]-this.barInnerHeight/2)*(Math.max(this.options.minContentHeight,this.api.data.scrollHeight)-this.api.data.viewportHeight)/(this.barOuterHeight-this.barInnerHeight);this.scrollTop(!1,t,0,function(){this.noMore&&(this.noMore=!1,this.more())}.bind(this))}return this.dragged=!1,e&&"contextmenu"!==e.type&&(0,r.cancelEvent)(e),this.emitEvent("dragstop"),this.api}}drag(e){if(this.disabled||!this.dragging||this.options.native)return;e||(e=window.event);const t=(e.screenY-this.dragY)*(this.api.data.scrollHeight/this.el.barOuter.scrollHeight);return this.el.outer.scrollTop=this.options.reversed?this.el.outer.scrollHeight-this.el.overflow.offsetHeight-this.dragScroll+t:this.dragScroll+t,this.dragged||(this.dragged=!0,(0,a.setStyle)(document.body,"cursor","pointer"),(0,a.addClass)(this.el.container,"ui_scroll_dragging")),(0,r.cancelEvent)(e),this.emitEvent("drag"),this.api}scroll(e,t,o){return this.animation&&this.animation.stop(),this.el.outer.scrollTop==e&&this.update(!0),t?(t="number"!=typeof t||!isFinite(t)||t%1?300:Math.abs(t),this.animation=new l.Fx.Base({scrollTop:this.el.outer.scrollTop},{transition:l.Fx.Transitions.easeOutCubic,onStep:function(e){this.el.outer.scrollTop=e.scrollTop}.bind(this),duration:t,onComplete:(0,s.isFunction)(o)?o.pbind(this.api):void 0}).start({scrollTop:this.el.outer.scrollTop},{scrollTop:e})):(this.el.outer.scrollTop=e,(0,s.isFunction)(o)&&o(this.api)),this.api}scrollTop(e,t,o,i){if(e&&this.options.stopScrollPropagation&&this.fixBlocker(),!this.disabled&&!this.dragging)return this.scroll((0,s.intval)(t),o,i)}scrollBottom(e,t,o,i){if(e&&this.options.stopScrollPropagation&&this.fixBlocker(),!this.disabled&&!this.dragging)return this.scroll(this.el.outer.scrollHeight-this.el.overflow.offsetHeight-(0,s.intval)(t),o,i)}scrollBy(e,t,o){if(!this.disabled&&!this.dragging)return this.scroll(this.el.outer.scrollTop+(0,s.intval)(e),t,o)}scrollIntoView(e,t,o,i){if(e&&this.options.stopScrollPropagation&&this.fixBlocker(),(t=(0,d.getScrollElement)(t))&&t.compareDocumentPosition&&t.compareDocumentPosition(this.el.content)&Node.DOCUMENT_POSITION_CONTAINS){const e=(0,a.getXY)(t)[1],n=(0,a.getXY)(this.el.overflow)[1],r=(0,a.getSize)(t)[1];if(e<=n&&e+r>=n+this.api.data.viewportHeight||e>=n&&e+r<=n+this.api.data.viewportHeight)(0,s.isFunction)(i)&&(o?setTimeout(i.bind(this.api),0):i(this.api));else if(r>this.api.data.viewportHeight||e<n)this.scrollTop(!1,e-n+this.api.data.scrollTop-(this.options.shadows?(0,a.getSize)(this.el.shadowTop)[1]:0),o,i);else{const t=this.options.shadows?(0,a.getSize)(this.el.shadowBottom)[1]:0;this.scrollTop(!1,e-n+this.api.data.scrollTop+r-this.api.data.viewportHeight+t,o,i)}}return this.api}update(e){let t,o;this.el.container&&!this.el.container.updateScroll&&(this.el.container.updateScroll=this.update.bind(this,!1));const i=this.el.outer.scrollTop;if(this.inited&&!this.disabled&&(e&&(t=this.el.inner.offsetHeight,this.api.data.viewportHeight!==(this.api.data.viewportHeight=this.el.overflow.offsetHeight)||this.api.data.scrollHeight!==t)||this.api.data.scrollTop!==i)){if(e&&(this.api.data.scrollHeight=t),this.api.data.scrollTop=Math.max(0,Math.min(this.api.data.scrollHeight-this.api.data.viewportHeight,Math.max(0,i))),this.api.data.scrollBottom=Math.max(0,this.api.data.scrollHeight-this.api.data.scrollTop-this.api.data.viewportHeight),!this.options.native){if(t=Math.max(this.options.minContentHeight,this.api.data.scrollHeight),o=t<=this.api.data.viewportHeight,!o){const o=this.el.barOuter.offsetHeight;(e||this.barOuterHeight!==o)&&(this.barOuterHeight=o,this.barInnerHeight=Math.max(this.options.barMinHeight,this.barOuterHeight*this.api.data.viewportHeight/t),this.el.barInner.style.height=this.barInnerHeight+"px"),(0,d.nextFrame)((()=>{const e=(this.barOuterHeight-this.barInnerHeight)*this.api.data.scrollTop/(t-this.api.data.viewportHeight);this.el.barInner.style.transform=`translateY(${e}px)`}))}this.options.shadows&&(this.shadowTop!=(this.api.data.scrollTop&&!o)&&(0,a.toggleClass)(this.el.container,"ui_scroll_shadow_top_visible",this.shadowTop=this.api.data.scrollTop&&!o),this.shadowBottom!=(this.api.data.scrollBottom&&!o)&&(0,a.toggleClass)(this.el.container,"ui_scroll_shadow_bottom_visible",this.shadowBottom=this.api.data.scrollBottom&&!o)),this.unnecessary!==o&&((0,a.toggleClass)(this.el.container,"ui_scroll_unnecessary",o),this.unnecessary=o,this.options.stopScrollPropagation&&this.fixBlocker(),o&&this.barInnerHeight&&this.barOuterHeight&&(0,d.nextFrame)(function(e){this.el.barInner.style.height=100*this.barInnerHeight/this.barOuterHeight+"%";const o=(this.barOuterHeight-this.barInnerHeight)*this.api.data.scrollTop/(t-this.api.data.viewportHeight)*100/this.barInnerHeight;this.el.barInner.style.transform=`translateY(${o}%)`}.bind(this)))}return this.emitEvent("update"),(!this.options.reversed||i>=0)&&this.more(),!0}return!1}more(){const e=this.options.reversed?this.api.data.scrollTop:this.api.data.scrollBottom,t=null!==this.options.onmoreThreshold?this.options.onmoreThreshold:2*this.api.data.viewportHeight;!this.noMore&&e<=t&&this.emitEvent("more")}constructor(e,t){if(!(e=(0,d.getScrollElement)(e)))throw new Error("uiScroll container is undefined");e.__uiScroll__&&e.__uiScroll__.destroy(),this.options=(0,s.extend)({global:!1,native:!1,theme:"default",reversed:!1,autoresize:!0,preserveEdgeBelow:!1,barMinHeight:30,preserveEdgeBelowThreshold:20,stopScrollPropagation:!0,stopScrollPropagationAlways:!1,minContentHeight:0,onmoreThreshold:null,hidden:!1,shadows:!1,scrollElements:[],onresize:null,onscroll:null,onscrollstart:null,onscrollstop:null,ondrag:null,ondragstart:null,ondragstop:null,onupdate:null,onmore:null,noForceReFlow:!1},t),this.options.native&&(this.options.shadows=!1),i.browser.mobile&&(this.options.stopScrollPropagation=!1),(0,n.isArray)(this.options.scrollElements)||(this.options.scrollElements=[]),this.removeEvents=[],this.removeElements=[],this.dragging=!1,this.dragged=!1,this.released=!0,this.noMore=!1,this.dragY=null,this.dragScroll=null,this.shadowTop=!1,this.shadowBottom=!1,this.unnecessary=!1,this.disabled=!1,this.stopped=!0,this.stoppedTimeout=null,this.fixSizeDefault=null,this.animation=null,this.barOuterHeight=null,this.barInnerHeight=null,this.currentFrame=null,this.blockerScrollTop=500,this.emitter=new EventEmitter,(0,s.isFunction)(this.options.onresize)&&this.emitter.addListener("resize",this.options.onresize),(0,s.isFunction)(this.options.onscroll)&&this.emitter.addListener("scroll",this.options.onscroll),(0,s.isFunction)(this.options.onscrollstart)&&this.emitter.addListener("scrollstart",this.options.onscrollstart),(0,s.isFunction)(this.options.onscrollstop)&&this.emitter.addListener("scrollstop",this.options.onscrollstop),(0,s.isFunction)(this.options.ondrag)&&this.emitter.addListener("drag",this.options.ondrag),(0,s.isFunction)(this.options.ondragstart)&&this.emitter.addListener("dragstart",this.options.ondragstart),(0,s.isFunction)(this.options.ondragstop)&&this.emitter.addListener("dragstop",this.options.ondragstop),(0,s.isFunction)(this.options.onupdate)&&this.emitter.addListener("update",this.options.onupdate),(0,s.isFunction)(this.options.onmore)&&this.emitter.addListener("more",this.options.onmore),this.el={container:e,overflow:(0,a.ce)("div",{className:"ui_scroll_overflow"}),outer:(0,a.ce)("div",{className:"ui_scroll_outer"},{margin:this.options.stopScrollPropagation?this.blockerScrollTop+"px 0":void 0}),inner:(0,a.ce)("div",{className:"ui_scroll_inner tt_noappend"}),shadowTop:(0,a.ce)("div",{className:"ui_scroll_shadow_top"}),shadowBottom:(0,a.ce)("div",{className:"ui_scroll_shadow_bottom"}),content:(0,a.ce)("div",{className:"ui_scroll_content clear_fix"}),barContainer:(0,a.ce)("div",{className:"ui_scroll_bar_container"}),barOuter:(0,a.ce)("div",{className:"ui_scroll_bar_outer"}),barInner:(0,a.ce)("div",{className:"ui_scroll_bar_inner"})},(0,a.data)(this.el.container,"ui-scroll",this);const o=(0,a.cf)(),l=["ui_scroll_container"];for((0,s.each)((0,n.isArray)(this.options.theme)?this.options.theme:(0,s.trim)(this.options.theme+"").split(/\s+/),(function(e,t){t&&l.push("ui_scroll_"+t+"_theme")})),(0,a.addClass)(this.el.container,l.join(" ")),this.options.hidden&&(0,a.addClass)(this.el.container,"ui_scroll_hidden");this.el.container.firstChild;)this.el.content.appendChild(this.el.container.firstChild);if(this.el.outer.appendChild(this.el.inner),this.el.inner.appendChild(this.el.content),this.options.stopScrollPropagation?(this.el.blocker=(0,a.ce)("div",{className:"ui_scroll_blocker"}),this.addEvent(this.el.blocker,"scroll",this.fixBlocker.bind(this),!0),this.el.blocker.appendChild(this.el.outer),this.el.overflow.appendChild(this.el.blocker)):this.el.overflow.appendChild(this.el.outer),o.appendChild(this.el.overflow),this.options.native?(0,a.addClass)(this.el.container,"ui_scroll_native"):(this.el.barOuter.appendChild(this.el.barInner),this.el.barContainer.appendChild(this.el.barOuter),o.appendChild(this.el.barContainer),this.options.shadows&&(this.el.overflow.appendChild(this.el.shadowTop),this.el.overflow.appendChild(this.el.shadowBottom)),i.browser.mobile||this.options.scrollElements.push(this.el.barContainer)),this.options.autoresize){const e=(0,d.addResizeSensor)(this.el.inner,this.resize.bind(this,!0)),t=(0,d.addResizeSensor)(this.el.overflow,this.resize.bind(this,!1));this.removeElements.push(e[0]),this.removeElements.push(t[0]),this.startResizeListening=function(){e[1](),t[1]()}}this.removeElements.push(this.el.overflow,this.el.barContainer),this.el.container.appendChild(o),this.options.reversed&&(this.el.outer.scrollTop=this.el.outer.scrollHeight),this.el.container.__uiScroll__=this.api={container:this.el.container,scroller:this.el.outer,content:this.el.content,emitter:this.emitter,ondragstart:this.dragstart.bind(this),ondragstop:this.dragstop.bind(this),ondrag:this.drag.bind(this),destroy:this.destroy.bind(this),disable:this.disable.bind(this,!0),enable:this.disable.bind(this,!1),scrollTop:this.scrollTop.bind(this,!0),scrollBottom:this.scrollBottom.bind(this,!0),scrollBy:this.scrollBy.bind(this),scrollIntoView:this.scrollIntoView.bind(this,!0),update:this.init.bind(this),updateAbove:this.updateAbove.bind(this),updateBelow:this.updateBelow.bind(this),data:{scrollTop:null,scrollBottom:null,scrollHeight:null,viewportHeight:null}},this.init();const u="onwheel"in this.el.outer?"wheel":void 0!==document.onmousewheel?"mousewheel":i.browser.mozilla?"MozMousePixelScroll":"DOMMouseScroll";return this.addEvent(this.el.container,u,function(e){this.animation&&this.animation.stop(),!this.disabled&&this.options.stopScrollPropagation&&(this.unnecessary?this.options.stopScrollPropagationAlways&&(0,r.cancelEvent)(e):this.isScrollEventUnused(e)?(0,r.cancelEvent)(e):(0,r.stopEvent)(e))}.bind(this),!this.options.stopScrollPropagation),this.options.native||this.addEvent(this.el.barContainer,"mousedown",this.dragstart.bind(this)),(0,s.each)(this.options.scrollElements,function(e,t){this.addEvent(t,u,function(e){this.disabled||this.unnecessary||(this.scrollBy(c.scrollEventDelta(e)),!this.options.stopScrollPropagation&&this.isScrollEventUnused(e)||(0,r.cancelEvent)(e))}.bind(this))}.bind(this)),this.options.reversed&&this.addEvent(this.el.container,"mousedown touchstart pointerdown",function(e){this.released=!1,this.noMore=!0;const t=this.addEvent(document,"mouseup contextmenu touchend pointerup",function(e){(0,r.removeEvent)(document,"mouseup contextmenu touchend pointerup",t),this.released=!0,this.noMore&&this.stopped&&!this.dragging&&(this.noMore=!1,this.more())}.bind(this))}.bind(this)),this.addEvent(this.el.outer,"scroll",function(){this.update()&&(this.stopped?(this.stopped=!1,this.emitEvent("scrollstart")):this.options.native||!1!==this.stopped||(this.stopped=0,(0,a.addClass)(this.el.container,"ui_scroll_scrolled")),this.emitEvent("scroll"),this.stoppedTimeout&&clearTimeout(this.stoppedTimeout),this.stoppedTimeout=setTimeout(function(){this.stopped||(this.stopped=!0,this.options.native||(0,a.removeClass)(this.el.container,"ui_scroll_scrolled"),this.emitEvent("scrollstop"),this.noMore&&this.released&&!this.dragging&&(this.noMore=!1,this.more()))}.bind(this),200))}.bind(this)),this.api}}c.addResizeSensor=d.addResizeSensor;const u=c},332066:(e,t,o)=>{o.d(t,{addResizeSensor:()=>u,getScrollElement:()=>c,nextFrame:()=>d});var i=o(82161),n=o(795558),s=o(301230);let a;const r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||(e=>setTimeout(e,1)),l=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;function d(e){a&&l(a),a=r(e)}function c(e){return(0,i.isString)(e)&&"_"===e[0]?(0,n.geByClass1)(e):(0,n.ge)(e)}function u(e,t){if((e=c(e))&&(0,i.isFunction)(t)){if(s.browser.msie9||s.browser.opera&&s.browser.version<13){let o=!1,a=!1;const r=(0,n.ce)("object",{type:"text/html",className:"ui_scroll_resize_object",data:"about:blank",onload:function(){a=!0,o&&l()}});function l(){if(!r.contentDocument)return setTimeout(l,100);r.contentDocument.defaultView.removeEventListener("resize",t),r.contentDocument.defaultView.addEventListener("resize",t),t()}return e.appendChild(r),e.__resizeSensor__=[r,function(){o=!0,a&&l()}]}{const d=(0,n.ce)("div",{className:"ui_scroll_resize_sensor"}),u=(0,n.ce)("div",{className:"ui_scroll_resize_sensor ui_scroll_resize_expand"}),h=(0,n.ce)("div",{className:"ui_scroll_resize_sensor ui_scroll_resize_shrink"}),p=(0,n.ce)("div"),v=(0,n.ce)("div");let w=null;return u.appendChild(p),h.appendChild(v),d.appendChild(u),d.appendChild(h),e.appendChild(d),e.__resizeSensor__=[d,u.onscroll=h.onscroll=function(){const o=(e.offsetWidth||1e4)+10,i=(e.offsetHeight||1e4)+10;p.style.width=o+"px",p.style.height=i+"px",u.scrollLeft=o,u.scrollTop=i,h.scrollLeft=o,h.scrollTop=i,w!==(w=o+" "+i)&&t()}]}}}},20815:(e,t,o)=>{o.d(t,{buildCommunityEl:()=>h,buildDateSeparatorEl:()=>u,buildPlaylistEl:()=>c,buildVideoEl:()=>d,updateThumbsInView:()=>v});var i=o(82161),n=o(221780),s=o(438221),a=o(795558),r=o(362246),l=o(659397);function d(e,t=!1){const o=(0,i.trim)(t?cur.videoItemTemplate:cur.videoItemTpl),s=(e=(0,i.clone)(e))[VideoConstants.VIDEO_ITEM_INDEX_MUSIC_VIDEO_META];if(s){const t=s.subtitle?' <span class="mv_subtitle">'+s.subtitle+"</span>":"";e[VideoConstants.VIDEO_ITEM_INDEX_TITLE]=s.title+t,e[VideoConstants.VIDEO_ITEM_INDEX_OWNER]=s.main+s.featured,e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=s.release_date,e[VideoConstants.VIDEO_ITEM_INDEX_DATE]=s.genre}else t&&e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]>999?e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=(0,r.getFormattedBigViewsToShortCase)(e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]):e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=(0,n.langNumeric)(e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS],n.curLang("video_N_views_list"),!0),e[VideoConstants.VIDEO_ITEM_INDEX_DATE]=(0,r.getFormattedUpdatedTime)(e[VideoConstants.VIDEO_ITEM_INDEX_DATE],t),e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_ACTIVE_LIVE&&(e[VideoConstants.VIDEO_ITEM_INDEX_DURATION]='<span class="video_thumb_label_live_icon"></span>');const d=t&&!!e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS];d&&(e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS]=(0,l.decodeHTMLEntities)(e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS]));const c=e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_SCHEDULED;var u;if(e[VideoConstants.VIDEO_ITEM_INDEX_SUBTITLE_PLACE]=(0,a.rs)(function(e=!1,t=!1){var o,i,n,s;return(null==(o=cur)?void 0:o.videoItemSubTitleTemplate)?t?(null==(n=cur.videoItemSubTitleTemplate)?void 0:n[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_SCHEDULED])||"":e?(null==(i=cur.videoItemSubTitleTemplate)?void 0:i[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_LABEL])||"":(null==(s=cur.videoItemSubTitleTemplate)?void 0:s[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_DURATION_WITH_VIEWS])||"":""}(d,c),e),e[VideoConstants.VIDEO_ITEM_INDEX_DESCRIPTON]&&(e[VideoConstants.VIDEO_ITEM_INDEX_DESCRIPTON]=(0,a.rs)((null==(u=cur)?void 0:u.videoItemDescriptionTemplate)||"",e)),e[VideoConstants.VIDEO_ITEM_INDEX_AVATAR_IMAGE]){const t=function(e=!1){var t,o,i;return(null==(t=cur)?void 0:t.videoItemBaseAvatarTemplate)?e?(null==(o=cur.videoItemBaseAvatarTemplate)?void 0:o[1])||"":(null==(i=cur.videoItemBaseAvatarTemplate)?void 0:i[0])||"":""}(e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_NFT_AVATAR);e[VideoConstants.VIDEO_ITEM_INDEX_AVATAR_PLACE]=(0,a.rs)(t,e)}c?(e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]=(0,r.getFormattedPostponePublishDateTime)(e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]),e[VideoConstants.VIDEO_ITEM_INDEX_CARD_PRIVACY_ICONS]="",e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]=(0,a.rs)(function(){var e;return(null==(e=cur)?void 0:e.videoItemPostponePublishTemplate)||""}(),e)):e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]="";const h=Video.prepareVideoItemAttrs(e);let p=(0,a.rs)(o,e);return p=p.replace("%classes%",h[0]).replace("%attrs%",h[1]),p=(0,a.se)(p),p}function c(e,t=!1){const o=(0,i.trim)(t?cur.playlistItemTemplate:cur.albumItemTpl);return(0,a.se)((0,a.rs)(o,e))}function u(e){const t=langDate(e,"{day} {month}",0,n.getLang("months_of","raw")),o=(0,a.ce)("div",{className:"VideoGrid__separator",innerHTML:t});return o.setAttribute("data-date",e),o}function h(e){const t=(0,i.trim)(cur.communityItemTemplate);return(0,a.sech)((0,a.rs)(t,e))}let p=0;function v(){clearTimeout(p),p=setTimeout((()=>{let e=null;const t=(0,a.clientHeight)(),o="im"===cur.module?0:(0,s.scrollGetY)();(0,i.each)((0,a.geByClass)("js-video-item-thumb"),((i,n)=>{if(!(0,a.domData)(n,"thumb"))return;const s=(0,a.getXY)(n,"im"===cur.module)[1];if(e=e||(0,a.getSize)(n),s>o-e[1]-800&&s<o+t+800){const e=(0,a.domData)(n,"thumb");(0,a.domData)(n,"thumb",null),"IMG"===n.tagName?n.src=e:(0,a.setStyle)(n,"background-image",`url(${e})`)}}))}),50)}},397501:(e,t,o)=>{o.d(t,{default:()=>u,lazyLoadPlayer:()=>h});var i=o(664988),n=o(643897),s=o(121164),a=o(795558),r=o(362246),l=o(839470);const d={queue:[],timeout:null,sig:""};function c(e,t){var o,i,n,s,a,r,l;if(!t.send_debug)return;d.sig=[t.action_hash,t.oid,t.vid,t.viewer_id].join("_");const c={ts:Math.round(Date.now()/1e3),video_id:[t.oid,t.vid].join("_"),e:"video_event",event:"debug",value:e,ov_id:t.ov_id,ad_data:t.ad_data,autoplay:t.autoplay,track_code:t.track_code,player_type:null!=(a=null==(i=window.Videoview)||null==(o=i.getLayoutType)?void 0:o.call(i))?a:"",ref:null!=(l=null!=(r=t.module)?r:null==(s=window.Videoview)||null==(n=s.getVideoModule)?void 0:n.call(s))?l:""};var u;d.queue.push(c),d.timeout=null!=(u=d.timeout)?u:window.setTimeout((()=>{ajax.post("al_video.php?act=track_player_events",{events:JSON.stringify(d.queue),sig:d.sig}),d.queue=[],d.timeout=null}),1e3)}const u={initPlayer(e,t,o){(0,a.hide)((0,a.domByClass)(e,"video_box_msg")),VideoInitializer[t].apply(VideoInitializer,[e].concat(o)),window.stManager.add(window.jsc("web/notifier.js"),(function(){const e=Videoview.togglePlay.pbind(!1);Notifier.addRecvClbk("audio_start","video",e),Notifier.addRecvClbk("video_start","video",e),Notifier.addRecvClbk("videocall_start","video",e)}))},vk(e,t){const o=t.oid+"_"+t.vid;if(t.vsegs)ls.remove("vsegs"+vk.id+"_"+o);else{const e=ls.get("vsegs"+vk.id+"_"+o);e&&e.ts&&e.segments&&Date.now()-e.ts<864e5&&(t.vsegs=e.segments.replace(/[^0-9\,\|]/gi,""))}window.onLoaded((function(){VideoInitializer.unionPlayer(e,t)}))},unionPlayer(e,t){c("requested",t);const n=window.mvLayer&&window.mvLayer.contains(e);(0,a.val)(e,""),window.stManager.add(["videoplayer.css"]),Promise.all([o.e(98066),o.e(68592),o.e(92605),o.e(52974)]).then(o.bind(o,572556)).then((({Player:o})=>{if(!document.body.contains(e))return void c("domabort",t);let s;c("imported",t);try{s=new o(t,e)}catch(e){throw c("constructor_failed",t),e}n?(mvcur.player&&mvcur.player.destroy(),mvcur.sdkPlayer=s,mvcur.player=mvcur.sdkPlayer):t.is_embed?cur.player=s:cur.videoInlinePlayer=s;const r=(0,a.ce)("div",{id:"video_player"});(0,a.attr)(r,"preventhide",1),r.appendChild(s.el),e.appendChild(r),(0,i.isFunction)(t.onPlayerLoaded)&&t.onPlayerLoaded(s)}),(e=>{throw c("import_failed",t),e}))},youtube(e,t){const o=t.oid,i=t.vid,r=t.report_error_hash;t.restriction||(document.pictureInPictureEnabled&&document.pictureInPictureElement&&document.exitPictureInPicture(),window.onYouTubeIframeAPIReady=function(){const s=(0,a.domByClass)(e,"video_yt_player"),l=new window.YT.Player(s,{events:{onError:function(e){e.data&&[100,101,150].includes(e.data)&&ajax.post("al_video.php?act=reparseDeletedYoutube",{vid:i,oid:o}),(0,n.debugLog)("YT player error",arguments),ajax.post("al_video.php?act=external_error",{oid:o,vid:i,hash:r})},onStateChange:function(e){switch(e.data){case window.YT.PlayerState.ENDED:window.stManager.add([window.jsc("web/videoview.js"),"videoview.css",window.jsc("web/external_video.js")],(function(){var e;const t=document.getElementById("video_yt");null==(e=window.ExternalVideo)||e.onExternalVideoEnded(t)}));break;case window.YT.PlayerState.PLAYING:const e=window.ap;e&&e.isPlaying()&&e.pause();break;default:var t;if(document.getElementById("mv_external_finish"))null==(t=window.ExternalVideo)||t.removeExternalVideoFinishBlock()}}}});window.stManager.add([window.jsc("web/video_youtube.js")],(function(){VideoYoutube.initStatOnly(l,t)}))},window.YT?window.onYouTubeIframeAPIReady():(0,s.loadScript)("https://www.youtube.com/iframe_api",{attributes:{async:!0,fetchPriority:"high"}}))},iframeOrFlash(e,t,o,i,n,s){(0,a.val)(e,'<iframe class="extra_player" type="text/html" width="100%" height="100%" src="'+encodeURI(i)+'" frameborder="0" '+n+"></iframe>"),s&&setTimeout((()=>{cur&&cur.incViews&&cur.incViews()}),100)}},h=(e="vk")=>{if((0,l.partConfigEnabled)("video_lazy_load_player"))try{(0,r.idlizeCall)((()=>window.setTimeout((()=>(0,r.idlizeCall)((()=>(e=>{switch(e){case"vk":window.stManager.add(["videoplayer.css"]),Promise.all([o.e(98066),o.e(68592),o.e(92605),o.e(52974)]).then(o.bind(o,572556));break;case"youtube":const e="https://www.youtube.com/iframe_api";(window.YT||document.head.querySelector(`script[src="${e}"]`))&&(0,s.loadScript)(e,{attributes:{defer:!0,fetchPriority:"low"}})}})(e)))),300)))}catch(e){console.error(e)}}}}]);try{stManager.done("dist/0ac92c96784bfb352aadbb9312c91a29.a7c6a2afd4ae6c5c3e96.js")}catch(e){}