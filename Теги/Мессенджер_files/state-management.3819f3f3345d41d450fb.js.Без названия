"use strict";(self.webpackChunkvk=self.webpackChunkvk||[]).push([[76400],{453934:(e,t,r)=>{r.d(t,{castDraft:()=>ne,createDraft:()=>te,current:()=>J,enableMapSet:()=>Q,finishDraft:()=>re,isDraft:()=>h,produce:()=>ee});var n=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))i.call(t,r)&&s(e,r,t[r]);return e},c=Symbol.for("immer-nothing"),l=Symbol.for("immer-draftable"),f=Symbol.for("immer-state");function d(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var p=Object.getPrototypeOf;function h(e){return!!e&&!!e[f]}function m(e){var t;return!!e&&(v(e)||Array.isArray(e)||!!e[l]||!!(null==(t=e.constructor)?void 0:t[l])||S(e)||k(e))}var y=Object.prototype.constructor.toString();function v(e){if(!e||"object"!=typeof e)return!1;const t=p(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===y}function b(e,t){0===g(e)?Object.entries(e).forEach((([r,n])=>{t(r,n,e)})):e.forEach(((r,n)=>t(n,r,e)))}function g(e){const t=e[f];return t?t.type_:Array.isArray(e)?1:S(e)?2:k(e)?3:0}function w(e,t){return 2===g(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _(e,t,r){const n=g(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function S(e){return e instanceof Map}function k(e){return e instanceof Set}function P(e){return e.copy_||e.base_}function x(e,t){if(S(e))return new Map(e);if(k(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&v(e)){if(!p(e)){const t=Object.create(null);return Object.assign(t,e)}return u({},e)}const r=Object.getOwnPropertyDescriptors(e);delete r[f];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){const o=n[t],a=r[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(p(e),r)}function O(e,t=!1){return E(e)||h(e)||!m(e)||(g(e)>1&&(e.set=e.add=e.clear=e.delete=C),Object.freeze(e),t&&b(e,((e,t)=>O(t,!0)))),e}function C(){d(2)}function E(e){return Object.isFrozen(e)}var M,j={};function R(e){const t=j[e];return t||d(0),t}function N(e,t){j[e]||(j[e]=t)}function A(){return M}function z(e,t){t&&(R("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function D(e){T(e),e.drafts_.forEach($),e.drafts_=null}function T(e){e===M&&(M=e.parent_)}function I(e){return M={drafts_:[],parent_:M,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $(e){const t=e[f];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function F(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[f].modified_&&(D(t),d(4)),m(e)&&(e=q(t,e),t.parent_||U(t,e)),t.patches_&&R("Patches").generateReplacementPatches_(r[f].base_,e,t.patches_,t.inversePatches_)):e=q(t,r,[]),D(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c?e:void 0}function q(e,t,r){if(E(t))return t;const n=t[f];if(!n)return b(t,((o,a)=>B(e,n,t,o,a,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return U(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let o=t,a=!1;3===n.type_&&(o=new Set(t),t.clear(),a=!0),b(o,((o,i)=>B(e,n,t,o,i,r,a))),U(e,t,!1),r&&e.patches_&&R("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function B(e,t,r,n,o,a,i){if(h(o)){const i=q(e,o,a&&t&&3!==t.type_&&!w(t.assigned_,n)?a.concat(n):void 0);if(_(r,n,i),!h(i))return;e.canAutoFreeze_=!1}else i&&r.add(o);if(m(o)&&!E(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;q(e,o),t&&t.scope_.parent_||U(e,o)}}function U(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&O(t,r)}var W={get(e,t){if(t===f)return e;const r=P(e);if(!w(r,t))return function(e,t,r){var n;const o=H(t,r);return o?"value"in o?o.value:null==(n=o.get)?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!m(n)?n:n===L(e.base_,t)?(G(e),e.copy_[t]=Y(n,e)):n},has:(e,t)=>t in P(e),ownKeys:e=>Reflect.ownKeys(P(e)),set(e,t,r){const n=H(P(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=L(P(e),t),i=null==n?void 0:n[f];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((o=r)===(a=n)?0!==o||1/o==1/a:o!=o&&a!=a)&&(void 0!==r||w(e.base_,t)))return!0;G(e),V(e)}var o,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==L(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,G(e),V(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=P(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){d(11)},getPrototypeOf:e=>p(e.base_),setPrototypeOf(){d(12)}},K={};function L(e,t){const r=e[f];return(r?P(r):e)[t]}function H(e,t){if(!(t in e))return;let r=p(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=p(r)}}function V(e){e.modified_||(e.modified_=!0,e.parent_&&V(e.parent_))}function G(e){e.copy_||(e.copy_=x(e.base_,e.scope_.immer_.useStrictShallowCopy_))}b(W,((e,t)=>{K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return K.set.call(this,e,t,void 0)},K.set=function(e,t,r){return W.set.call(this,e[0],t,r,e[0])};function Y(e,t){const r=S(e)?R("MapSet").proxyMap_(e,t):k(e)?R("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:A(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=W;r&&(o=[n],a=K);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,s}(e,t);return(t?t.scope_:A()).drafts_.push(r),r}function J(e){return h(e)||d(10),X(e)}function X(e){if(!m(e)||E(e))return e;const t=e[f];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=x(e,t.scope_.immer_.useStrictShallowCopy_)}else r=x(e,!0);return b(r,((e,t)=>{_(r,e,X(t))})),t&&(t.finalized_=!1),r}function Q(){class e extends Map{constructor(e,t){super(),this[f]={type_:2,parent_:t,scope_:t?t.scope_:A(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return P(this[f]).size}has(e){return P(this[f]).has(e)}set(e,r){const n=this[f];return o(n),P(n).has(e)&&P(n).get(e)===r||(t(n),V(n),n.assigned_.set(e,!0),n.copy_.set(e,r),n.assigned_.set(e,!0)),this}delete(e){if(!this.has(e))return!1;const r=this[f];return o(r),t(r),V(r),r.base_.has(e)?r.assigned_.set(e,!1):r.assigned_.delete(e),r.copy_.delete(e),!0}clear(){const e=this[f];o(e),P(e).size&&(t(e),V(e),e.assigned_=new Map,b(e.base_,(t=>{e.assigned_.set(t,!1)})),e.copy_.clear())}forEach(e,t){P(this[f]).forEach(((r,n,o)=>{e.call(t,this.get(n),n,this)}))}get(e){const r=this[f];o(r);const n=P(r).get(e);if(r.finalized_||!m(n))return n;if(n!==r.base_.get(e))return n;const a=Y(n,r);return t(r),r.copy_.set(e,a),a}keys(){return P(this[f]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();if(t.done)return t;return{done:!1,value:this.get(t.value)}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:!1,value:[t.value,r]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.copy_||(e.assigned_=new Map,e.copy_=new Map(e.base_))}class r extends Set{constructor(e,t){super(),this[f]={type_:3,parent_:t,scope_:t?t.scope_:A(),modified_:!1,finalized_:!1,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return P(this[f]).size}has(e){const t=this[f];return o(t),t.copy_?!!t.copy_.has(e)||!(!t.drafts_.has(e)||!t.copy_.has(t.drafts_.get(e))):t.base_.has(e)}add(e){const t=this[f];return o(t),this.has(e)||(n(t),V(t),t.copy_.add(e)),this}delete(e){if(!this.has(e))return!1;const t=this[f];return o(t),n(t),V(t),t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[f];o(e),P(e).size&&(n(e),V(e),e.copy_.clear())}values(){const e=this[f];return o(e),n(e),e.copy_.values()}entries(){const e=this[f];return o(e),n(e),e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){const r=this.values();let n=r.next();for(;!n.done;)e.call(t,n.value,n.value,this),n=r.next()}}function n(e){e.copy_||(e.copy_=new Set,e.base_.forEach((t=>{if(m(t)){const r=Y(t,e);e.drafts_.set(t,r),e.copy_.add(r)}else e.copy_.add(t)})))}function o(e){e.revoked_&&d(3,JSON.stringify(P(e)))}N("MapSet",{proxyMap_:function(t,r){return new e(t,r)},proxySet_:function(e,t){return new r(e,t)}})}var Z=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...o){return n.produce(e,(e=>t.call(this,e,...o)))}}let n;if("function"!=typeof t&&d(6),void 0!==r&&"function"!=typeof r&&d(7),m(e)){const o=I(this),a=Y(e,void 0);let i=!0;try{n=t(a),i=!1}finally{i?D(o):T(o)}return z(o,r),F(n,o)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===c&&(n=void 0),this.autoFreeze_&&O(n,!0),r){const t=[],o=[];R("Patches").generateReplacementPatches_(e,n,t,o),r(t,o)}return n}d(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;return[this.produce(e,t,((e,t)=>{r=e,n=t})),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){m(e)||d(8),h(e)&&(e=J(e));const t=I(this),r=Y(e,void 0);return r[f].isManual_=!0,T(t),r}finishDraft(e,t){const r=e&&e[f];r&&r.isManual_||d(9);const{scope_:n}=r;return z(n,t),F(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=R("Patches").applyPatches_;return h(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},ee=Z.produce,te=(Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseStrictShallowCopy.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z)),re=Z.finishDraft.bind(Z);function ne(e){return e}},306526:(e,t,r)=>{r.d(t,{ReactReduxContext:()=>n});var n=r(667294).createContext(null)},60682:(e,t,r)=>{r.d(t,{default:()=>f});var n=r(497326),o=r(894578),a=r(667294),i=r(45697),s=r.n(i),u=r(306526),c=r(286496),l=function(e){function t(t){var r;r=e.call(this,t)||this;var o=t.store;r.notifySubscribers=r.notifySubscribers.bind((0,n.default)(r));var a=new c.default(o);return a.onStateChange=r.notifySubscribers,r.state={store:o,subscription:a},r.previousState=o.getState(),r}(0,o.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new c.default(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},r.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},r.render=function(){var e=this.props.context||u.ReactReduxContext;return a.createElement(e.Provider,{value:this.state},this.props.children)},t}(a.Component);l.propTypes={store:s().shape({subscribe:s().func.isRequired,dispatch:s().func.isRequired,getState:s().func.isRequired}),context:s().object,children:s().any};const f=l},726685:(e,t,r)=>{r.d(t,{default:()=>b});var n=r(487462),o=r(263366),a=r(108679),i=r.n(a),s=r(441143),u=r.n(s),c=r(667294),l=r(659864),f=r(286496),d=r(306526),p=[],h=[null,null];function m(e,t){var r=e[1];return[t.payload,r+1]}var y=function(){return[null,0]},v="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect;function b(e,t){void 0===t&&(t={});var r=t,a=r.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,b=r.methodName,g=void 0===b?"connectAdvanced":b,w=r.renderCountProp,_=void 0===w?void 0:w,S=r.shouldHandleStateChanges,k=void 0===S||S,P=r.storeKey,x=void 0===P?"store":P,O=r.withRef,C=void 0!==O&&O,E=r.forwardRef,M=void 0!==E&&E,j=r.context,R=void 0===j?d.ReactReduxContext:j,N=(0,o.default)(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);u()(void 0===_,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),u()(!C,"withRef is removed. To access the wrapped instance, use a ref on the connected component");u()("store"===x,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var A=R;return function(t){var r=t.displayName||t.name||"Component",a=s(r),d=(0,n.default)({},N,{getDisplayName:s,methodName:g,renderCountProp:_,shouldHandleStateChanges:k,storeKey:x,displayName:a,wrappedComponentName:r,WrappedComponent:t}),b=N.pure;var w=b?c.useMemo:function(e){return e()};function S(r){var i=(0,c.useMemo)((function(){var e=r.forwardedRef,t=(0,o.default)(r,["forwardedRef"]);return[r.context,e,t]}),[r]),s=i[0],b=i[1],g=i[2],_=(0,c.useMemo)((function(){return s&&s.Consumer&&(0,l.isContextConsumer)(c.createElement(s.Consumer,null))?s:A}),[s,A]),S=(0,c.useContext)(_),P=Boolean(r.store),x=Boolean(S)&&Boolean(S.store);u()(P||x,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var O=r.store||S.store,C=(0,c.useMemo)((function(){return function(t){return e(t.dispatch,d)}(O)}),[O]),E=(0,c.useMemo)((function(){if(!k)return h;var e=new f.default(O,P?null:S.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,P,S]),M=E[0],j=E[1],R=(0,c.useMemo)((function(){return P?S:(0,n.default)({},S,{subscription:M})}),[P,S,M]),N=(0,c.useReducer)(m,p,y),z=N[0][0],D=N[1];if(z&&z.error)throw z.error;var T=(0,c.useRef)(),I=(0,c.useRef)(g),$=(0,c.useRef)(),F=(0,c.useRef)(!1),q=w((function(){return $.current&&g===I.current?$.current:C(O.getState(),g)}),[O,z,g]);v((function(){I.current=g,T.current=q,F.current=!1,$.current&&($.current=null,j())})),v((function(){if(k){var e=!1,t=null,r=function(){if(!e){var r,n,o=O.getState();try{r=C(o,I.current)}catch(e){n=e,t=e}n||(t=null),r===T.current?F.current||j():(T.current=r,$.current=r,F.current=!0,D({type:"STORE_UPDATED",payload:{latestStoreState:o,error:n}}))}};M.onStateChange=r,M.trySubscribe(),r();return function(){if(e=!0,M.tryUnsubscribe(),t)throw t}}}),[O,M,C]);var B=(0,c.useMemo)((function(){return c.createElement(t,(0,n.default)({},q,{ref:b}))}),[b,t,q]);return(0,c.useMemo)((function(){return k?c.createElement(_.Provider,{value:R},B):B}),[_,B,R])}var P=b?c.memo(S):S;if(P.WrappedComponent=t,P.displayName=a,M){var O=c.forwardRef((function(e,t){return c.createElement(P,(0,n.default)({},e,{forwardedRef:t}))}));return O.displayName=a,O.WrappedComponent=t,i()(O,t)}return i()(P,t)}}},757034:(e,t,r)=>{r.d(t,{default:()=>p});var n=r(487462),o=r(263366),a=r(726685),i=r(235067),s=r(955112),u=r(611743),c=r(105532),l=r(538548);function f(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function d(e,t){return e===t}const p=(y=(m=void 0===h?{}:h).connectHOC,v=void 0===y?a.default:y,b=m.mapStateToPropsFactories,g=void 0===b?u.default:b,w=m.mapDispatchToPropsFactories,_=void 0===w?s.default:w,S=m.mergePropsFactories,k=void 0===S?c.default:S,P=m.selectorFactory,x=void 0===P?l.default:P,function(e,t,r,a){void 0===a&&(a={});var s=a,u=s.pure,c=void 0===u||u,l=s.areStatesEqual,p=void 0===l?d:l,h=s.areOwnPropsEqual,m=void 0===h?i.default:h,y=s.areStatePropsEqual,b=void 0===y?i.default:y,w=s.areMergedPropsEqual,S=void 0===w?i.default:w,P=(0,o.default)(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),O=f(e,g,"mapStateToProps"),C=f(t,_,"mapDispatchToProps"),E=f(r,k,"mergeProps");return v(x,(0,n.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:O,initMapDispatchToProps:C,initMergeProps:E,pure:c,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:S},P))});var h,m,y,v,b,g,w,_,S,k,P,x},955112:(e,t,r)=>{r.d(t,{default:()=>a});var n=r(14890),o=r(326343);const a=[function(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:(0,o.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?(0,o.wrapMapToPropsConstant)((function(t){return(0,n.bindActionCreators)(e,t)})):void 0}]},611743:(e,t,r)=>{r.d(t,{default:()=>o});var n=r(326343);const o=[function(e){return"function"==typeof e?(0,n.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0},function(e){return e?void 0:(0,n.wrapMapToPropsConstant)((function(){return{}}))}]},105532:(e,t,r)=>{r.d(t,{default:()=>a});var n=r(487462);function o(e,t,r){return(0,n.default)({},r,e,t)}const a=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,a=r.areMergedPropsEqual,i=!1;return function(t,r,s){var u=e(t,r,s);return i?o&&a(u,n)||(n=u):(i=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return o}}]},538548:(e,t,r)=>{r.d(t,{default:()=>i});var n=r(263366);function o(e,t,r,n){return function(o,a){return r(e(o,a),t(n,a),a)}}function a(e,t,r,n,o){var a,i,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h,m,y=!f(p,i),v=!l(o,a);return a=o,i=p,y&&v?(s=e(a,i),t.dependsOnOwnProps&&(u=t(n,i)),c=r(s,u,i)):y?(e.dependsOnOwnProps&&(s=e(a,i)),t.dependsOnOwnProps&&(u=t(n,i)),c=r(s,u,i)):v?(h=e(a,i),m=!d(h,s),s=h,m&&(c=r(s,u,i)),c):c}return function(o,l){return p?h(o,l):(s=e(a=o,i=l),u=t(n,i),c=r(s,u,i),p=!0,c)}}function i(e,t){var r=t.initMapStateToProps,i=t.initMapDispatchToProps,s=t.initMergeProps,u=(0,n.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=r(e,u),l=i(e,u),f=s(e,u);return(u.pure?a:o)(c,l,f,e,u)}},326343:(e,t,r)=>{function n(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=o(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=o(a),a=n(t,r)),a},n}}r.d(t,{wrapMapToPropsConstant:()=>n,wrapMapToPropsFunc:()=>a})},172307:(e,t,r)=>{r.d(t,{useDispatch:()=>o});var n=r(900420);function o(){return(0,n.useStore)().dispatch}},202975:(e,t,r)=>{r.d(t,{useReduxContext:()=>s});var n=r(667294),o=r(441143),a=r.n(o),i=r(306526);function s(){var e=(0,n.useContext)(i.ReactReduxContext);return a()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}},259854:(e,t,r)=>{r.d(t,{useSelector:()=>l});var n=r(667294),o=r(441143),a=r.n(o),i=r(202975),s=r(286496),u="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,c=function(e,t){return e===t};function l(e,t){void 0===t&&(t=c),a()(e,"You must pass a selector to useSelectors");var r,o=(0,i.useReduxContext)(),l=o.store,f=o.subscription,d=(0,n.useReducer)((function(e){return e+1}),0)[1],p=(0,n.useMemo)((function(){return new s.default(l,f)}),[l,f]),h=(0,n.useRef)(),m=(0,n.useRef)(),y=(0,n.useRef)();try{r=e!==m.current||h.current?e(l.getState()):y.current}catch(e){var v="An error occured while selecting the store state: "+e.message+".";throw h.current&&(v+="\nThe error may be correlated with this previous error:\n"+h.current.stack+"\n\nOriginal stack trace:"),new Error(v)}return u((function(){m.current=e,y.current=r,h.current=void 0})),u((function(){function e(){try{var e=m.current(l.getState());if(t(e,y.current))return;y.current=e}catch(e){h.current=e}d({})}return p.onStateChange=e,p.trySubscribe(),e(),function(){return p.tryUnsubscribe()}}),[l,p]),r}},900420:(e,t,r)=>{r.d(t,{useStore:()=>o});var n=r(202975);function o(){return(0,n.useReduxContext)().store}},50533:(e,t,r)=>{r.d(t,{Provider:()=>n.default,batch:()=>c.unstable_batchedUpdates,connect:()=>o.default,shallowEqual:()=>l.default,useDispatch:()=>a.useDispatch,useSelector:()=>i.useSelector,useStore:()=>s.useStore});var n=r(60682),o=(r(726685),r(306526),r(757034)),a=r(172307),i=r(259854),s=r(900420),u=r(209256),c=r(471679),l=r(235067);(0,u.setBatch)(c.unstable_batchedUpdates)},286496:(e,t,r)=>{r.d(t,{default:()=>i});var n=r(209256),o=null,a={notify:function(){}};var i=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=a,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,r;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,n.getBatch)(),t=[],r=[],{clear:function(){r=o,t=o},notify:function(){var n=t=r;e((function(){for(var e=0;e<n.length;e++)n[e]()}))},get:function(){return r},subscribe:function(e){var n=!0;return r===t&&(r=t.slice()),r.push(e),function(){n&&t!==o&&(n=!1,r===t&&(r=t.slice()),r.splice(r.indexOf(e),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},209256:(e,t,r)=>{r.d(t,{getBatch:()=>a,setBatch:()=>o});var n=function(e){e()},o=function(e){return n=e},a=function(){return n}},471679:(e,t,r)=>{r.d(t,{unstable_batchedUpdates:()=>n.unstable_batchedUpdates});var n=r(973935)},235067:(e,t,r)=>{r.d(t,{default:()=>a});var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var i=0;i<r.length;i++)if(!n.call(t,r[i])||!o(e[r[i]],t[r[i]]))return!1;return!0}},753894:(e,t,r)=>{function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}r.d(t,{default:()=>a});var o=n();o.withExtraArgument=n;const a=o},14890:(e,t,r)=>{r.d(t,{applyMiddleware:()=>h,bindActionCreators:()=>f,combineReducers:()=>c,compose:()=>p,createStore:()=>s});var n=r(427164),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var o;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var r=f.indexOf(e);f.splice(r,1)}}}function y(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,c=u(c,e)}finally{d=!1}for(var t=l=f,r=0;r<t.length;r++){(0,t[r])()}return e}return y({type:a.INIT}),(o={dispatch:y,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,y({type:a.REPLACE})}})[n.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.default]=function(){return this},e},o}function u(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var i,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},a=0;a<s.length;a++){var c=s[a],l=r[c],f=e[c],d=l(f,t);if(void 0===d){var p=u(c,t);throw new Error(p)}o[c]=d,n=n||d!==f}return n?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o],i=e[a];"function"==typeof i&&(n[a]=l(i,t))}return n}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({},r,{dispatch:n=p.apply(void 0,a)(r.dispatch)})}}}},504190:(e,t,r)=>{r.d(t,{createGate:()=>S,useEvent:()=>h,useGate:()=>g,useList:()=>b,useStore:()=>m,useStoreMap:()=>v,useUnit:()=>y});var n=r(667294),o=r(798116),a=r(552798),i=r(61688);function s(e,t,r,n){let a=[o.step.run({fn:e=>t(e)})];if(n&&a.unshift(n),r){let t=(0,o.createNode)({node:a}),n=e.graphite.id,i=r.additionalLinks,s=i[n]||[];return i[n]=s,s.push(t),()=>{let e=s.indexOf(t);-1!==e&&s.splice(e,1),(0,o.clearNode)(t)}}{let t=(0,o.createNode)({node:a,parent:[e],family:{owners:e}});return()=>{(0,o.clearNode)(t)}}}function u(e,t){return t.displayName=e,t}function c(e,t){o.is.store(e)||k("expect useStore argument to be a store");let r=n.useCallback((r=>s(e,r,t)),[e,t]),a=n.useCallback((()=>C(e,t)),[e,t]);return x(r,a,a)}function l(e,t){let r=o.is.unit(e),a={};r?a={unit:e}:"@@unitShape"in e?"function"==typeof e["@@unitShape"]?a=e["@@unitShape"]():k("expect @@unitShape to be a function"):a=e;let i=Array.isArray(a),u=n.useRef({stale:1,justSubscribed:0,scope:t}),[c,l,f,d,p]=n.useMemo((()=>{u.current.stale=1;let e=Array.isArray(a)?[]:{},r=[],n=[],i=[],s=[];for(let u in a){let c=a[u];o.is.unit(c)||k("expect useUnit argument to be a unit"),o.is.event(c)||o.is.effect(c)?(e[u]=t?(0,o.scopeBind)(c,{scope:t}):c,i.push(u),s.push(c)):(e[u]=null,r.push(u),n.push(c))}return[e,r,n,i,s]}),[u,t,...Object.keys(a),...Object.values(a)]),h=n.useRef({value:c,storeKeys:l,eventKeys:d,eventValues:p}),m=n.useCallback((e=>{let r=u.current;r.justSubscribed=1;let n=()=>{r.stale||(r.stale=1,e())},a=o.step.compute({priority:"sampler",batch:1}),i=f.map((e=>s(e,n,t,a)));return()=>{i.forEach((e=>e()))}}),[f,t,h,u]),y=n.useCallback((()=>{let e,n=h.current,o=u.current,a=0,s=n.value,m=n.storeKeys,y=n.eventKeys,v=n.eventValues,b=t!==o.scope;if(o.stale||o.justSubscribed||b){a=!o.justSubscribed||b,e=i?[...c]:{...c},m.length===l.length&&y.length===d.length||(a=1);for(let r=0;r<l.length;r++){let n=C(f[r],t),o=l[r];a||(a=m.includes(o)?s[o]!==n:1),e[o]=n}for(let e=0;e<d.length;e++){let t=p[e],r=d[e];a||(a=y.includes(r)?v[y.indexOf(r)]!==t:1)}}return a&&(n.value=e),n.storeKeys=l,n.eventKeys=d,n.eventValues=p,o.stale=0,o.justSubscribed=!a,o.scope=t,r?n.value.unit:n.value}),[m,f,p,t,h,u]);return x(m,y,y)}function f([e,t],r){let a,i,u,c,l=E;t?(a=t,u=e,c=[]):({fn:a,store:u,keys:c,defaultValue:i,updateFilter:l=E}=e),o.is.store(u)||k("useStoreMap expects a store"),Array.isArray(c)||k("useStoreMap expects an array as keys"),"function"!=typeof a&&k("useStoreMap expects a function");let f=n.useCallback((e=>s(u,e,r)),[u,r]),d=n.useCallback((()=>C(u,r)),[u,r]),p=n.useRef(),h=n.useRef(),m=n.useRef(c);return O(f,d,d,(e=>{if(p.current!==e||!((e,t)=>{if(!e||!t||e.length!==t.length)return 0;let r=1;for(let n=0;n<e.length;n++)if(e[n]!==t[n]){r=0;break}return r})(m.current,c)){let t=a(e,c);void 0===t&&void 0!==i&&(t=i),p.current=e,m.current=c,void 0!==t&&(h.current=t)}return h.current}),((e,t)=>!l(t,e)))}function d(e,t={},r){let{open:o,close:a,set:i}=l({open:e.open,close:e.close,set:e.set},r),s=n.useMemo((()=>({open:o,close:a,set:i})),[e,o]),u=n.useRef({value:null,count:0});P((()=>(s.open(u.current.value),()=>s.close(u.current.value))),[s]),((e,t)=>{if(e===t)return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return 0;for(let n=0;n<r.length;n++){let o=r[n];if(e[o]!==t[o])return 0}return 1}return 0})(u.current.value,t)||(u.current.value=t,u.current.count+=1),P((()=>{s.set(u.current.value)}),[u.current.count])}function p(e){let t=n.useContext(M);return e&&!t&&k("No scope found, consider adding <Provider> to app root"),t}function h(e,t){return((e,t)=>{if(!t)return e;let r=o.is.unit(e)||"object"!=typeof e?{event:e}:e;return n.useMemo((()=>{if(o.is.unit(e))return(0,o.scopeBind)(e,{scope:t});let r=Array.isArray(e)?[]:{};for(let n in e)r[n]=(0,o.scopeBind)(e[n],{scope:t});return r}),[t,...Object.keys(r),...Object.values(r)])})(e,p(null==t?void 0:t.forceScope))}function m(e,t){return c(e,p(null==t?void 0:t.forceScope))}function y(e,t){return l(e,p(null==t?void 0:t.forceScope))}function v(e,t){return f([e,t],p(null==e?void 0:e.forceScope))}function b(e,t,r){return((e,t,r)=>{let a,i,s,l=[];"object"==typeof t&&null!==t?(t.keys&&(l=t.keys),({fn:a,getKey:i,placeholder:s}=t)):a=t,o.is.store(e)||k("expect useList first argument to be a store"),"function"!=typeof a&&k("expect useList's renderItem to be a function"),Array.isArray(l)||k("expect useList's keys to be an array");let d=n.useMemo((()=>{let t=u(`${e.shortName||"Unknown"}.Item`,(t=>{let{index:n,keys:o,keyVal:a,value:i}=t;if(p.current[1])return p.current[0](i,a);let s=f([{store:e,keys:[n,...o],fn:(e,t)=>e[t[0]]}],r);return p.current[0](s,n)}));return n.memo(t)}),[e,r,!!i]),p=n.useRef([a,i]);p.current=[a,i];let h=n.useMemo((()=>l),l);if(i){let t=c(e,r);return 0===t.length&&s?s:t.map((e=>{let t=p.current[1](e);return n.createElement(d,{keyVal:t,key:t,keys:h,value:e})}))}{let t=f([{store:e,keys:[e],fn:e=>e.length}],r);return 0===t&&s?s:Array.from({length:t},((e,t)=>n.createElement(d,{index:t,key:t,keys:h})))}})(e,t,p(null==r?void 0:r.forceScope))}function g(e,t={},r){return d(e,t,p(null==r?void 0:r.forceScope))}function w(e,t){let r=t?e:e[0];var n;(e=>{if(!e)throw Error("expect first argument be an object")})(R(n=r)||(e=>"function"==typeof e)(n));let o=r.or,a=r.and;if(a){let r=t?a:a[0];if(R(r)&&"and"in r){let r=w(a,t);e=r[0],o={...o,...r[1]}}else e=a}return[e,o]}function _(e,t){let r=t&&R(n=t[0])&&(n.and||n.or)?t:[{and:t}];var n;let o,[[a,i],s]=w(r),u={},c={},l=s;var f;return"string"==typeof a?(c={name:a},R(f=i)&&"sid"in f||(u=i||{})):(e=>R(e)&&("domain"in e||"defaultState"in e||"name"in e))(a)&&(c=a,u=a.defaultState||{},o=a.domain),{hook:e,domain:o,defaultState:u,mainConfig:c,maybeConfig:l}}function S(...e){return(({domain:e,defaultState:t,hook:r,mainConfig:n,maybeConfig:a})=>{function i(e){return r(i,e,p()),null}let s=N({or:a,and:n}),c=`${e?`${e.compositeName.fullName}/`:""}${s.name||"gate"}`,l=(0,o.createEvent)({name:`${c}.set`,sid:s.sid?`${s.sid}|set`:void 0}),f=(0,o.createEvent)({name:`${c}.open`,sid:s.sid?`${s.sid}|open`:void 0}),d=(0,o.createEvent)({name:`${c}.close`,sid:s.sid?`${s.sid}|close`:void 0}),h=(0,o.createStore)(Boolean(0),{name:`${c}.status`,serialize:"ignore"}).on(f,(()=>Boolean(1))).on(d,(()=>Boolean(0))),m=(0,o.createStore)(t,{name:`${c}.state`,sid:s.sid}).on(l,((e,t)=>t)).on(f,((e,t)=>t)).reset(d);if(e){let{hooks:t}=e;(0,o.launch)({target:[t.store,t.store,t.event,t.event,t.event],params:[h,m,f,d,l]})}return i.open=f,i.close=d,i.status=h,i.state=m,i.set=l,u(`Gate:${c}`,i)})(_(d,e))}let k=e=>{throw Error(e)},P="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const{useSyncExternalStore:x}=i,{useSyncExternalStoreWithSelector:O}=a,C=(e,t)=>t?t.getState(e):e.getState(),E=(e,t)=>e!==t,M=n.createContext(null);let{Provider:j}=M,R=e=>"object"==typeof e&&null!==e,N=(e,t={})=>(R(e)&&(N(e.or,t),(e=>{for(let o in e)n=o,(e=>void 0===e)(r=e[o])||"or"===n||"and"===n||(t[n]=r);var r,n})(e),N(e.and,t)),t)},798116:(e,t,r)=>{function n(e,t){for(let r in e)t(e[r],r)}function o(e,t){e.forEach(t)}function a(e,t){if(!e)throw Error(t)}function i(e,t){let r=D(e).meta||{};fe={id:D(e).id,parent:fe,value:e,template:r.template||pe(),sidRoot:r.sidRoot||fe&&fe.sidRoot,meta:r};try{return t()}finally{de("region"),fe=B(fe)}}function s({node:e=[],from:t,source:r,parent:n=t||r,to:a,target:i,child:s=a||i,scope:u={},meta:c={},family:l={type:"regular"},regional:f}={}){let d=ye(n),p=ye(l.links),h=ye(l.owners),m=[];o(e,(e=>e&&re(m,e)));let y={id:ue(),seq:m,next:ye(s),meta:c,scope:u,family:{type:l.type||"crosslink",links:p,owners:h}};return o(p,(e=>re(T(e),y))),o(h,(e=>re(I(e),y))),o(d,(e=>re(e.next,y))),f&&fe&&me(F(fe),[y]),y}function u(e,t,r){let n,a=Qe,i=null,s=Ge;if(e.target&&(t=e.params,r=e.defer,n=e.meta,a="page"in e?e.page:a,e.stack&&(i=e.stack),s=U(e)||s,e=e.target),s&&Ge&&s!==Ge&&(Ge=null),Array.isArray(e))for(let r=0;r<e.length;r++)Ke("pure",a,D(e[r]),i,t[r],s,n);else Ke("pure",a,D(e),i,t,s,n);if(r&&!Ye)return;let u,c,l,f,d,p,h={isRoot:Ye,currentPage:Qe,scope:Ge,isWatch:Je,isPure:Xe};Ye=0;e:for(;f=We();){let{idx:e,stack:t,type:r}=f;l=t.node,Qe=d=t.page,Ge=U(t),d?p=d.reg:Ge&&(p=Ge.reg);let n=!!d,a=!!Ge,i={fail:0,scope:l.scope};u=c=0;for(let o=e;o<l.seq.length&&!u;o++){let s=l.seq[o];if(s.order){let{priority:n,barrierID:a}=s.order,i=a?d?`${d.fullID}_${a}`:a:0;if(o!==e||r!==n){a?Ve.has(i)||(Ve.add(i),Le(o,t,n,a)):Le(o,t,n);continue e}a&&Ve.delete(i)}switch(s.type){case"mov":{let e,r=s.data;switch(r.from){case z:e=F(t);break;case"a":case"b":e=t[r.from];break;case"value":e=r.store;break;case"store":if(p&&!p[r.store.id])if(n){let e=tt(d,r.store.id);t.page=d=e,e?p=e.reg:a?(it(Ge,r.store,0,1,r.softRead),p=Ge.reg):p=void 0}else a&&it(Ge,r.store,0,1,r.softRead);e=Ie(p&&p[r.store.id]||r.store)}switch(r.to){case z:t.value=e;break;case"a":case"b":t[r.to]=e;break;case"store":nt(d,Ge,l,r.target).current=e}break}case"compute":let e=s.data;if(e.fn){Je="watch"===W(l,"op"),Xe=e.pure;let r=e.safe?(0,e.fn)(F(t),i.scope,t):st(i,e.fn,t);e.filter?c=!r:t.value=r,Je=h.isWatch,Xe=h.isPure}}u=i.fail||c}if(rt&&rt(t,i),!u){let e=F(t),r=U(t);if(o(l.next,(n=>{Ke("child",d,n,t,e,r)})),r){W(l,"needFxCounter")&&Ke("child",d,r.fxCount,t,e,r),W(l,"storeChange")&&Ke("child",d,r.storeChange,t,e,r),W(l,"warnSerialize")&&Ke("child",d,r.warnSerializeNode,t,e,r);let n=r.additionalLinks[l.id];n&&o(n,(n=>{Ke("child",d,n,t,e,r)}))}}}Ye=h.isRoot,Qe=h.currentPage,Ge=U(h)}function c(e,t="combine"){let r=t+"(",o="",a=0;return n(e,(e=>{a<25&&(null!=e&&(r+=o,r+=H(e)?L(e).fullName:e.toString()),a+=1,o=", ")})),r+")"}function l(e,t){let r,n,o=e;if(t){let o=L(t);0===e.length?(r=o.path,n=o.fullName):(r=o.path.concat([e]),n=0===o.fullName.length?e:o.fullName+"/"+e)}else r=0===e.length?[]:[e],n=e;return{shortName:o,fullName:n,path:r}}function f(e,t){let r=t?e:e[0];we(r);let n=r.or,o=r.and;if(o){let r=t?o:o[0];if(ve(r)&&"and"in r){let r=f(o,t);e=r[0],n={...n,...r[1]}}else e=o}return[e,n]}function d(e,...t){let r=pe();if(r){let n=r.handlers[e];if(n)return n(r,...t)}}function p(e,t){let r=ut({or:t,and:"string"==typeof e?{name:e}:e}),n=(e,...t)=>(ne(!W(n,"derived"),"call of derived event","createEvent"),ne(!Xe,"unit call from pure function","operators like sample"),Qe?((e,t,r,n)=>{let o=Qe,a=null;if(t)for(a=Qe;a&&a.template!==t;)a=B(a);et(a);let i=e.create(r,n);return et(o),i})(n,o,e,t):n.create(e,t)),o=pe(),a=Object.assign(n,{graphite:s({meta:bt(r.actualOp||"event",n,r),regional:1}),create:e=>(u({target:n,params:e,scope:Ge}),e),watch:e=>yt(n,e),map:e=>gt(n,A,e,[ze()]),filter:e=>gt(n,"filter",e.fn?e:e.fn,[ze(Oe,1)]),filterMap:e=>gt(n,"filterMap",e,[ze(),Ne((e=>!ge(e)),1)]),prepend(e){let t=p("* → "+n.shortName,{parent:B(n)});return d("eventPrepend",D(t)),ht(t,n,[ze()],"prepend",e),vt(n,t),t}});return null!=r&&r.domain&&r.domain.hooks.event(a),K(a,"id",a.graphite.id),de(a.graphite),a}function h(e,t,r,n){return Se(r,t,"first argument"),a(be(n),"second argument should be a function"),ne(!W(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),o(Array.isArray(r)?r:[r],(t=>{e.off(t),q(e).set(t,pt(wt(t,e,"on",xe,n)))})),e}function m(e,t){let r=ut(t),n=Te(e),i=p({named:"updates",derived:1});d("storeBase",n);let c=n.id,l={subscribers:new Map,updates:i,defaultState:e,stateRef:n,getState(){let e,t=n;if(Qe){let t=Qe;for(;t&&!t.reg[c];)t=B(t);t&&(e=t)}return!e&&Ge&&(it(Ge,n,1),e=Ge),e&&(t=e.reg[c]),Ie(t)},setState:e=>u({target:l,params:e,defer:1,scope:Ge}),reset:(...e)=>(o(e,(e=>h(l,".reset",e,(()=>l.defaultState)))),l),on:(e,t)=>h(l,".on",e,t),off(e){let t=q(l).get(e);return t&&(t(),q(l).delete(e)),l},map(e,t){let r,o;ve(e)&&(r=e,e=e.fn),ne(ge(t),"second argument of store.map","updateFilter");let a=l.getState();pe()?o=null:ge(a)||(o=e(a,t));let i=m(o,{name:`${l.shortName} → *`,derived:1,and:r}),s=wt(l,i,A,Pe,e);return $e($(i),{type:A,fn:e,from:n}),$(i).noInit=1,d("storeMap",n,s),i},watch(e,t){if(!t||!H(e)){let t=yt(l,e);return d("storeWatch",n,e)||e(l.getState()),t}return a(be(t),"second argument should be a function"),e.watch((e=>t(l.getState(),e)))}},f=bt("store",l,r),y=l.defaultConfig.updateFilter;l.graphite=s({scope:{state:n,fn:y},node:[Ne(((e,t,r)=>(r.scope&&!r.scope.reg[n.id]&&(r.b=1),e))),Ae(n),Ne(((e,t,{a:r,b:n})=>!ge(e)&&(e!==r||n)),1),y&&ze(Pe,1),Me({from:z,target:n})],child:i,meta:{...f,defaultState:e},regional:1}),K(l,"id",l.graphite.id),K(l,"rootStateRefId",c);let v=W(l,"serialize"),b=W(l,"derived"),g="ignore"===v,w=W(l,"sid");return w&&(K(l,"storeChange",1),n.sid=w),w||g||b||K(l,"warnSerialize",1),a(b||!ge(e),"current state can't be undefined, use null instead"),me(l,[i]),null!=r&&r.domain&&r.domain.hooks.store(l),b||(l.reinit=p({named:"reinit"}),l.reset(l.reinit)),n.meta=l.graphite.meta,de(l.graphite),l}function y(...e){let t,r,n;[e,n]=f(e);let o,i,s,u=e[e.length-1];if(be(u)?(r=e.slice(0,-1),t=u):r=e,1===r.length){let e=r[0];G(e)||(o=e,i=1)}if(!i&&(o=r,t)){s=1;let e=t;t=t=>e(...t)}return a(ve(o),"shape should be an object"),_t(Array.isArray(o),!s,o,n,t)}function v(){let e={};return e.req=new Promise(((t,r)=>{e.rs=t,e.rj=r})),e.req.catch((()=>{})),e}function b(e,t={}){let r=ut(be(e)?{handler:e}:e,t),n=p(be(e)?{handler:e}:e,{...t,actualOp:"effect"}),o=D(n);K(o,"op",n.kind="effect"),n.use=e=>(a(be(e),".use argument should be a function"),h.scope.handler=e,n),n.use.getCurrent=()=>h.scope.handler;let i=n.finally=p({named:"finally",derived:1}),c=n.done=i.filterMap({named:"done",fn({status:e,params:t,result:r}){if("done"===e)return{params:t,result:r}}}),l=n.fail=i.filterMap({named:"fail",fn({status:e,params:t,error:r}){if("fail"===e)return{params:t,error:r}}}),f=n.doneData=c.map({named:"doneData",fn:({result:e})=>e}),d=n.failData=l.map({named:"failData",fn:({error:e})=>e}),h=s({scope:{handler:n.defaultConfig.handler||(()=>a(0,`no handler used in ${n.getType()}`))},node:[Ne(((e,t,r)=>{let o=t.handler,a=U(r);if(a){let e=a.handlers.unitMap.get(n)||a.handlers.sidMap[n.sid];e&&(o=e)}return e.handler=o,e}),0,1),Ne((({params:e,req:t,handler:r,args:n=[e]},o,a)=>{let s=kt(a),u=Pt(e,t,1,i,a,s),c=Pt(e,t,0,i,a,s),[l,f]=St(r,c,n);l&&(ve(f)&&be(f.then)?f.then(u,c):u(f))}),0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=h,re(o.seq,Ne(((e,{runner:t},r)=>{let n=B(r)?{params:e,req:{rs(e){},rj(e){}}}:e;return r.meta||(r.meta={fxID:ce()}),u({target:t,params:n,defer:1,scope:U(r),meta:r.meta}),n.params}),0,1)),n.create=e=>{let t=v(),r={params:e,req:t};if(Ge&&!Je){let e=Ge;t.req.finally((()=>{Ze(e)})).catch((()=>{}))}return u({target:n,params:r,scope:Ge}),t.req};let y=n.inFlight=m(0,{serialize:"ignore",named:(W(n,"name")||n.graphite.id)+".inFlight"}).on(n,(e=>e+1)).on(i,(e=>e-1)).map({fn:e=>e,named:"inFlight"});K(i,"needFxCounter","dec"),K(n,"needFxCounter",1);let b=n.pending=y.map({fn:e=>e>0,named:"pending"});return me(n,[i,c,l,f,d,b,y]),null!=r&&r.domain&&r.domain.hooks.effect(n),n}function g(e){let t;[e,t]=f(e,1);let{source:r,effect:n,mapParams:o}=e,a=b(e,t);K(a,"attached",1);let i,{runner:s}=D(a).scope,c=Ne(((e,t,n)=>{let i,{params:s,req:c,handler:l}=e,f=a.finally,d=kt(n),p=Pt(s,c,0,f,n,d),h=n.a,m=J(l),y=1;if(o?[y,i]=St(o,p,[s,h]):i=r&&m?h:s,y){if(!m)return e.args=[h,i],1;u({target:l,params:{params:i,req:{rs:Pt(s,c,1,f,n,d),rj:p}},page:n.page,defer:1,meta:n.meta})}}),1,1);if(r){let e;G(r)?(e=r,me(e,[a])):(e=y(r),me(a,[e])),i=[Ae($(e)),c]}else i=[c];s.seq.splice(1,0,...i),a.use(n);let d=B(n);return d&&(Object.assign(L(a),l(a.shortName,d)),a.defaultConfig.parent=d),vt(n,a,"effect"),a}function w(...e){let[[t,r],o]=f(e),a={};return n(r,((e,r)=>{let n=a[r]=p(r,{parent:B(t),config:o});t.on(n,e),vt(t,n)})),a}function _(e,t){let r=ut({or:t,and:"string"==typeof e?{name:e}:e}),a=s({family:{type:"domain"},regional:1,parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent)}),i={history:{},graphite:a,hooks:{}};a.meta=bt("domain",i,{parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent),or:r}),n({Event:p,Effect:b,Store:m,Domain:_},((e,t)=>{let r=t.toLowerCase(),n=p({named:`on${t}`});i.hooks[r]=n;let a=new Set;i.history[`${r}s`]=a,n.create=e=>(u(n,e),e),re(D(n).seq,Ne(((e,t,r)=>(r.scope=null,e)))),n.watch((e=>{me(i,[e]),a.add(e),e.ownerSet||(e.ownerSet=a),B(e)||(e.parent=i)})),me(i,[n]),i[`onCreate${t}`]=e=>(o(a,e),n.watch(e)),i[`create${t}`]=i[r]=(t,r)=>{let o=ut({and:r,or:t});return null!=o&&o.domain?e(t,r):n(e(t,{parent:i,or:o}))}}));let c=B(i);return c&&n(i.hooks,((e,t)=>ht(e,c.hooks[t]))),null!=r&&r.domain&&r.domain.hooks.domain(i),i}function S(e,t){Se(e,"merge","first argument");let r=p({name:c(e,"merge"),derived:1,and:t});return ht(e,r,[],"merge"),r}function k(e,t){let r=0;return o(Ot,(n=>{n in e&&(a(null!=e[n],Ct(t,n)),r=1)})),r}function P(...e){let t,r,n,o,[[a,i,s],u]=f(e),c=1;return ge(i)&&ve(a)&&k(a,"sample")&&(i=a.clock,s=a.fn,c=!a.greedy,o=a.filter,t=a.target,r=a.name,n=a.sid,a=a.source),Et("sample",i,a,o,t,s,r,u,c,1,0,n)}function x(...e){let[[t,r],n]=f(e);return r||(r=t,t=r.source),k(r,"guard"),Et("guard",r.clock,t,r.filter,r.target,null,r.name,n,!r.greedy,0,1)}function O(e,t,r){if(G(e))return ne(0,"restore($store)"),e;if(Y(e)||J(e)){let n=B(e),o=m(t,{parent:n,name:e.shortName,and:r});return ht(J(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let o=Array.isArray(e)?[]:{};return n(e,((e,t)=>o[t]=G(e)?e:m(e,{name:t}))),o}function C(...e){let t,r,o="split",[[i,u],c]=f(e),l=!u;l&&(t=i.cases,u=i.match,r=i.clock,i=i.source);let h=G(u),m=!H(u)&&be(u),y=!h&&!m&&ve(u);a(H(i),"source must be a unit"),t||(t={}),l?n(t,((e,t)=>ke(o,e,`cases.${t}`))):(a(y,"match should be an object"),n(u,((e,r)=>t[r]=p({derived:1,named:`cases.${r}`,and:c}))),t.__=p({derived:1,named:"cases.__",and:c}));let v,b=new Set([].concat(i,r||[],Object.values(t))),g=Object.keys(h||m?t:u);if(h||m)h&&b.add(u),v=[h&&Ae($(u),0,1),je({safe:h,filter:1,pure:!h,fn(e,t,r){let n=String(h?r.a:u(e));Rt(t,ee(g,n)?n:"__",e,r)}})];else if(y){let e=Te({});e.type="shape";let t,r=[];n(u,((n,o)=>{if(H(n)){t=1,re(r,o),b.add(n);let a=ht(n,[],[Ae(e),Ne(((e,t,{a:r})=>r[o]=e))]);if(G(n)){e.current[o]=n.getState();let t=$(n);$e(e,{from:t,field:o,type:"field"}),d("splitMatchStore",t,a)}}})),t&&d("splitBase",e),v=[t&&Ae(e,0,1),ze(((e,t,n)=>{for(let o=0;o<g.length;o++){let a=g[o];if(ee(r,a)?n.a[a]:u[a](e))return void Rt(t,a,e,n)}Rt(t,"__",e,n)}),1)]}else a(0,"expect match to be unit, function or object");let w=s({meta:{op:o},parent:r?[]:i,scope:t,node:v,family:{owners:Array.from(b)},regional:1});if(r&&Et(o,r,i,null,w,null,o,c,0,0,0),!l)return t}function E(e,{scope:t,params:r}={}){if(!H(e))return Promise.reject(new Error("first argument should be unit"));if(!(J(e)||Y(e)||G(e)||Q(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));Q(e)&&(t=e);let n=v();n.parentFork=Ge;let{fxCount:o}=t;re(o.scope.defers,n);let a=[],i=[];return Q(e)||(re(a,e),re(i,J(e)?{params:r,req:{rs(e){n.value={status:"done",value:e}},rj(e){n.value={status:"fail",value:e}}}}:r)),re(a,o),re(i,null),u({target:a,params:i,scope:t}),n.req}function M(e,t){let r=Array.isArray(e)?new Map(e):e,n=new Map,i=0;if(r instanceof Map){let e={};return o(r,((r,o)=>{a(H(o),"Map key should be a unit"),t&&t(o,r),o.sid&&(o.sid in e&&(i=1),e[o.sid]=r),n.set(o,r)})),{sidMap:e,unitMap:n,hasSidDoubles:i}}return{sidMap:r,unitMap:n}}function j(e,t){let r,n=e;X(e)&&(r=e,n=t);let i=(e=>{let t=s({scope:{defers:[],inFlight:0,fxID:0},node:[Ne(((e,t,r)=>{B(r)?"dec"===W(B(r).node,"needFxCounter")?t.inFlight-=1:(t.inFlight+=1,t.fxID+=1):t.fxID+=1})),je({priority:"sampler",batch:1}),Ne(((e,t)=>{let{defers:r,fxID:n}=t;t.inFlight>0||0===r.length||Promise.resolve().then((()=>{t.fxID===n&&o(r.splice(0,r.length),(e=>{Ze(e.parentFork),e.rs(e.value)}))}))}),0,1)]}),r=s({node:[Ne(((e,t,r)=>{let n=B(r);if(n){let t=n.node;if(!W(t,"isCombine")||B(n)&&"combine"!==W(B(n).node,"op")){let n=U(r),o=t.scope.state.id,a=W(t,"sid");n.sidIdMap[a]=o,n.values.sidMap[a]=e;let i=W(t,"serialize");i&&n.sidSerializeSettings.set(a,"ignore"===i?{ignore:1}:{ignore:0,write:i.write})}}}))]}),n=s({node:[Ne(((e,t,r)=>{let n=U(r);if(n){let e=B(r);e&&(!W(e.node,"isCombine")||B(e)&&"combine"!==W(B(e).node,"op"))&&(n.warnSerialize=1)}}))]}),a={cloneOf:e,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState(e){if("current"in e)return nt(Qe,a,null,e).current;let t=D(e);return nt(Qe,a,t,t.scope.state,1).current},kind:"scope",graphite:s({family:{type:"domain",links:[t,r,n]},meta:{unit:"fork"},scope:{forkInFlightCounter:t}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:t,storeChange:r,warnSerializeNode:n,activeEffects:[]};return a})(r);if(n){let e=n.scope;if(e){let t=e.activeEffects;e.activeEffects=[],i.activeEffects=t,o(t,(e=>e.ref=i))}if(n.values){let{sidMap:e,unitMap:t,hasSidDoubles:r}=M(n.values,(e=>a(G(e),"Values map can contain only stores as keys")));Object.assign(i.values.sidMap,e),o(t,((e,t)=>{i.values.idMap[t.stateRef.id]=e})),i.fromSerialize=!(Array.isArray(n.values)||n.values instanceof Map),i.hasSidDoubles=r}n.handlers&&(i.handlers=M(n.handlers,(e=>a(J(e),"Handlers map can contain only effects as keys"))))}return i}function R(e,{scope:t,safe:r}={}){a(t||Ge||r,"scopeBind cannot be called outside of forked .watch");let n=t||Ge;return J(e)?t=>{let r=v();return u({target:e,params:{params:t,req:r},scope:n}),r.req}:t=>(u({target:e,params:t,scope:n}),t)}r.d(t,{allSettled:()=>E,attach:()=>g,clearNode:()=>dt,combine:()=>y,createApi:()=>w,createDomain:()=>_,createEffect:()=>b,createEvent:()=>p,createNode:()=>s,createStore:()=>m,fork:()=>j,forward:()=>mt,guard:()=>x,is:()=>Z,launch:()=>u,merge:()=>S,restore:()=>O,sample:()=>P,scopeBind:()=>R,setGraphInspector:()=>le,setInspector:()=>ot,split:()=>C,step:()=>De,withRegion:()=>i});let N="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",A="map",z="stack",D=e=>e.graphite||e,T=e=>e.family.owners,I=e=>e.family.links,$=e=>e.stateRef,F=e=>e.value,q=e=>e.subscribers,B=e=>e.parent,U=e=>e.scope,W=(e,t)=>D(e).meta[t],K=(e,t,r)=>D(e).meta[t]=r,L=e=>e.compositeName,H=e=>(be(e)||ve(e))&&"kind"in e;const V=e=>t=>H(t)&&t.kind===e;let G=V("store"),Y=V("event"),J=V("effect"),X=V("domain"),Q=V("scope");var Z={__proto__:null,unit:H,store:G,event:Y,effect:J,domain:X,scope:Q,attached:e=>J(e)&&1==W(e,"attached")};let ee=(e,t)=>e.includes(t),te=(e,t)=>{let r=e.indexOf(t);-1!==r&&e.splice(r,1)},re=(e,t)=>e.push(t),ne=(e,t,r)=>!e&&console.error(`${t} is deprecated${r?`, use ${r} instead`:""}`);const oe=()=>{let e=0;return()=>""+ ++e};let ae,ie=oe(),se=oe(),ue=oe(),ce=oe(),le=e=>{ae=e},fe=null,de=e=>{ae&&ae(e,fe)},pe=()=>fe&&fe.template,he=e=>(e&&fe&&fe.sidRoot&&(e=`${fe.sidRoot}|${e}`),e),me=(e,t)=>{let r=D(e);o(t,(e=>{let t=D(e);"domain"!==r.family.type&&(t.family.type="crosslink"),re(T(t),r),re(I(r),t)}))},ye=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(D),ve=e=>"object"==typeof e&&null!==e,be=e=>"function"==typeof e,ge=e=>void 0===e,we=e=>a(ve(e)||be(e),"expect first argument be an object");const _e=(e,t,r,n)=>a(!(!ve(e)&&!be(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${r} to be a unit (store, event or effect)${n}`);let Se=(e,t,r)=>{Array.isArray(e)?o(e,((e,n)=>_e(e,t,`${n} item of ${r}`,""))):_e(e,t,r," or array of units")},ke=(e,t,r="target")=>o(ye(t),(t=>ne(!W(t,"derived"),`${e}: derived unit in "${r}"`,"createEvent/createStore"))),Pe=(e,{fn:t},{a:r})=>t(e,r),xe=(e,{fn:t},{a:r})=>t(r,e),Oe=(e,{fn:t})=>t(e);const Ce=(e,t,r,n)=>{let o={id:se(),type:e,data:t};return r&&(o.order={priority:r},n&&(o.order.barrierID=++Ee)),o};let Ee=0,Me=({from:e="store",store:t,target:r,to:n=(r?"store":z),batch:o,priority:a})=>Ce("mov",{from:e,store:t,to:n,target:r},a,o),je=({fn:e,batch:t,priority:r,safe:n=0,filter:o=0,pure:a=0})=>Ce("compute",{fn:e,safe:n,filter:o,pure:a},r,t),Re=({fn:e})=>je({fn:e,priority:"effect"}),Ne=(e,t,r)=>je({fn:e,safe:1,filter:t,priority:r&&"effect"}),Ae=(e,t,r)=>Me({store:e,to:t?z:"a",priority:r&&"sampler",batch:1}),ze=(e=Oe,t)=>je({fn:e,pure:1,filter:t}),De={mov:Me,compute:je,filter:({fn:e,pure:t})=>je({fn:e,filter:1,pure:t}),run:Re},Te=e=>({id:se(),current:e}),Ie=({current:e})=>e,$e=(e,t)=>{e.before||(e.before=[]),re(e.before,t)},Fe=null;const qe=(e,t)=>{if(!e)return t;if(!t)return e;let r;return(e.v.type===t.v.type&&e.v.id>t.v.id||He(e.v.type)>He(t.v.type))&&(r=e,e=t,t=r),r=qe(e.r,t),e.r=e.l,e.l=r,e},Be=[];let Ue=0;for(;Ue<6;)re(Be,{first:null,last:null,size:0}),Ue+=1;const We=()=>{for(let e=0;e<6;e++){let t=Be[e];if(t.size>0){if(3===e||4===e){t.size-=1;let e=Fe.v;return Fe=qe(Fe.l,Fe.r),e}1===t.size&&(t.last=null);let r=t.first;return t.first=r.r,t.size-=1,r.v}}},Ke=(e,t,r,n,o,a,i)=>Le(0,{a:null,b:null,node:r,parent:n,value:o,page:t,scope:a,meta:i},e),Le=(e,t,r,n=0)=>{let o=He(r),a=Be[o],i={v:{idx:e,stack:t,type:r,id:n},l:null,r:null};3===o||4===o?Fe=qe(Fe,i):(0===a.size?a.first=i:a.last.r=i,a.last=i),a.size+=1},He=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Ve=new Set;let Ge,Ye=1,Je=0,Xe=0,Qe=null,Ze=e=>{Ge=e},et=e=>{Qe=e};const tt=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=B(e);if(e)return e}return null};let rt,nt=(e,t,r,n,o)=>{let a=tt(e,n.id);return a?a.reg[n.id]:t?(it(t,n,o),t.reg[n.id]):n},ot=e=>{rt=e};const at=e=>e;let it=(e,t,r,n,a)=>{var i;let s=e.reg,u=t.sid,c=null==t||null===(i=t.meta)||void 0===i?void 0:i.serialize,l=e.fromSerialize&&"ignore"!==c&&(null==c?void 0:c.read)||at;if(s[t.id])return;let f={id:t.id,current:t.current,meta:t.meta};if(f.id in e.values.idMap)f.current=e.values.idMap[f.id];else if(u&&u in e.values.sidMap&&!(u in e.sidIdMap))f.current=l(e.values.sidMap[u]);else if(t.before&&!a){let a=0,i=r||!t.noInit||n;o(t.before,(t=>{switch(t.type){case A:{let o=t.from;if(o||t.fn){o&&it(e,o,r,n);let a=o&&s[o.id].current;i&&(f.current=t.fn?t.fn(a):a)}break}case"field":a||(a=1,f.current=Array.isArray(f.current)?[...f.current]:{...f.current}),it(e,t.from,r,n),i&&(f.current[t.field]=s[s[t.from.id].id].current)}}))}u&&(e.sidIdMap[u]=t.id),s[t.id]=f};const st=(e,t,r)=>{try{return t(F(r),e.scope,r)}catch(t){console.error(t),e.fail=1,e.failReason=t}};let ut=(e,t={})=>(ve(e)&&(ut(e.or,t),n(e,((e,r)=>{ge(e)||"or"===r||"and"===r||(t[r]=e)})),ut(e.and,t)),t);const ct=(e,t)=>{te(e.next,t),te(T(e),t),te(I(e),t)},lt=(e,t,r)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let o=I(e);for(;n=o.pop();)ct(n,e),(t||r&&"sample"!==W(e,"op")||"crosslink"===n.family.type)&&lt(n,t,"on"!==W(n,"op")&&r);for(o=T(e);n=o.pop();)ct(n,e),r&&"crosslink"===n.family.type&&lt(n,t,"on"!==W(n,"op")&&r)},ft=e=>e.clear();let dt=(e,{deep:t}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),G(e))ft(q(e));else if(X(e)){r=1;let t=e.history;ft(t.events),ft(t.effects),ft(t.stores),ft(t.domains)}lt(D(e),!!t,r)},pt=e=>{let t=()=>dt(e);return t.unsubscribe=t,t},ht=(e,t,r,n,o)=>s({node:r,parent:e,child:t,scope:{fn:o},meta:{op:n},family:{owners:[e,t],links:t},regional:1}),mt=e=>{let t="forward",[{from:r,to:n},o]=f(e,1);return Se(r,t,'"from"'),Se(n,t,'"to"'),ke(t,n,"to"),pt(s({parent:r,child:n,meta:{op:t,config:o},family:{},regional:1}))},yt=(e,t)=>(a(be(t),".watch argument should be a function"),pt(s({scope:{fn:t},node:[Re({fn:Oe})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),vt=(e,t,r="event")=>{B(e)&&B(e).hooks[r](t)},bt=(e,t,r)=>{let n=ut(r),o="domain"===e,a=ie(),{sid:i=null,named:s=null,domain:u=null,parent:c=u}=n,f=s||n.name||(o?"":a),d=l(f,c),p={op:t.kind=e,name:t.shortName=f,sid:t.sid=he(i),named:s,unitId:t.id=a,serialize:n.serialize,derived:n.derived,config:n};if(t.parent=c,t.compositeName=d,t.defaultConfig=n,t.thru=e=>(ne(0,"thru","js pipe"),e(t)),t.getType=()=>d.fullName,!o){t.subscribe=e=>(we(e),t.watch(be(e)?e:t=>e.next&&e.next(t))),t[N]=()=>t;let e=pe();e&&(p.nativeTemplate=e)}return p};const gt=(e,t,r,n)=>{let o;ve(r)&&(o=r,r=r.fn);let a=p({name:`${e.shortName} → *`,derived:1,and:o});return ht(e,a,n,t,r),a},wt=(e,t,r,n,o)=>{let a=$(t),i=Me({store:a,to:"a",priority:"read"});r===A&&(i.data.softRead=1);let s=[i,ze(n)];return d("storeOnMap",a,s,G(e)&&$(e)),ht(e,t,s,r,o)},_t=(e,t,r,o,i)=>{let s=e?e=>[...e]:e=>({...e}),u=e?[]:{},l=s(u),f=Te(l),p=Te(1);f.type=e?"list":"shape",f.noInit=1,d("combineBase",f,p);let h=m(l,{name:c(r),derived:1,and:o}),y=$(h);y.noInit=1,K(h,"isCombine",1);let v=Ae(f);v.order={priority:"barrier"};let b=[Ne(((e,t,r)=>(r.scope&&!r.scope.reg[f.id]&&(r.c=1),e))),v,Me({store:p,to:"b"}),Ne(((e,{key:r},n)=>{if(n.c||e!==n.a[r])return t&&n.b&&(n.a=s(n.a)),n.a[r]=e,1}),1),Me({from:"a",target:f}),Me({from:"value",store:0,target:p}),Me({from:"value",store:1,target:p,priority:"barrier",batch:1}),Ae(f,1),i&&ze()];return n(r,((e,t)=>{if(!G(e))return a(!H(e)&&!ge(e),`combine expects a store in a field ${t}`),void(l[t]=u[t]=e);u[t]=e.defaultState,l[t]=e.getState();let r=ht(e,h,b,"combine",i);r.scope.key=t;let n=$(e);$e(f,{type:"field",field:t,from:n}),d("combineField",n,r)})),h.defaultShape=r,$e(y,{type:A,from:f,fn:i}),pe()||(h.defaultState=i?y.current=i(l):u),h};let St=(e,t,r)=>{try{return[1,e(...r)]}catch(e){return t(e),[0,null]}},kt=e=>{let t=U(e),r={ref:t};return t&&re(t.activeEffects,r),r},Pt=(e,t,r,n,o,a)=>i=>{a.ref&&te(a.ref.activeEffects,a),u({target:[n,xt],params:[r?{status:"done",params:e,result:i}:{status:"fail",params:e,error:i},{value:i,fn:r?t.rs:t.rj}],defer:1,page:o.page,scope:a.ref,meta:o.meta})};const xt=s({node:[Re({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}}),Ot=["source","clock","target"],Ct=(e,t)=>e+`: ${t} should be defined`;let Et=(e,t,r,n,o,i,s,u,c,l,f,h)=>{let v=!!o;a(!ge(r)||!ge(t),Ct(e,"either source or clock"));let b=0;ge(r)?b=1:H(r)||(r=y(r)),ge(t)?t=r:(Se(t,e,"clock"),Array.isArray(t)&&(t=S(t))),b&&(r=t),u||s||(s=r.shortName);let g="none";(f||n)&&(H(n)?g="unit":(a(be(n),"`filter` should be function or unit"),g="fn")),o?(Se(o,e,"target"),ke(e,o)):"none"===g&&l&&G(r)&&G(t)?o=m(i?i(Ie($(r)),Ie($(t))):Ie($(r)),{name:s,sid:h,or:u}):(o=p({name:s,derived:1,or:u}),d("sampleTarget",D(o)));let w=Te(),_=[];if("unit"===g){let[r,a]=jt(n,o,t,w,e);_=[...Mt(a),...Mt(r)]}let[k,P]=jt(r,o,t,w,e),x=ht(t,o,[d("sampleSourceLoader"),Me({from:z,target:w}),...Mt(P),Ae(k,1,c),..._,Ae(w),"fn"===g&&ze(((e,t,{a:r})=>n(e,r)),1),i&&ze(Pe),d("sampleSourceUpward",v)],e,i);return me(r,[x]),Object.assign(x.meta,u,{joint:1}),o};const Mt=e=>[Ae(e),Ne(((e,t,{a:r})=>r),1)],jt=(e,t,r,n,o)=>{let a=G(e),i=a?$(e):Te(),u=Te(a);return a||s({parent:e,node:[Me({from:z,target:i}),Me({from:"value",store:1,target:u})],family:{owners:[e,t,r],links:t},meta:{op:o},regional:1}),d("sampleSource",u,i,n),[i,u]},Rt=(e,t,r,n)=>{let o=e[t];o&&u({target:o,params:Array.isArray(o)?o.map((()=>r)):r,defer:1,stack:n})}},57746:(e,t,r)=>{r.d(t,{inspect:()=>o});var n=r(798116);function o(e){return l.add(e),a((()=>{l.delete(e)}))}function a(e){let t=()=>e();return t.unsubscribe=t,t}function i(e){let{node:t}=e;return s(t)}function s(e){let{meta:t,id:r}=e,n=(e=>e.config?e.config.loc:e.loc)(t),{sid:o,name:a,op:i}=t;return{meta:t,id:r,sid:o,name:a,kind:i,loc:n,derived:t.derived}}function u(e){let t=[],r=e.parent;for(;r;)t.push({type:"update",value:r.value,stack:r.meta||{},...i(r)}),r=r.parent;return t}function c(e){if(!e)return;let{parent:t,meta:r,id:n}=e,o=c(t)||void 0;if("factory"===r.type){let{sid:e,name:t,loc:a,method:i}=r;return{type:"factory",id:n,region:o,meta:r,sid:e,name:t,loc:a,method:i}}return{type:"region",id:n,region:o,meta:r}}const l=new Set;(0,n.setInspector)(((e,t)=>{let{scope:r}=e;l.forEach((n=>{n.scope!==r&&(n.scope||r)||n.fn({type:t.fail?"error":"update",value:e.value,error:t.fail?t.failReason:void 0,stack:e.meta||{},trace:n.trace?u(e):[],...i(e)})}))}));const f=new Set;(0,n.setGraphInspector)(((e,t)=>{let r;r="region"===e?c(t):((e,t)=>{let r=s(e);return{type:"unit",region:c(t),...r}})(e,t),r&&f.forEach((e=>{e.fn(r)}))}))}}]);try{stManager.done("dist/state-management.3819f3f3345d41d450fb.js")}catch(e){}