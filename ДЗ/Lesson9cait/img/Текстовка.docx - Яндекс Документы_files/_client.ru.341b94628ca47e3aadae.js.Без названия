__i18n__={i18n:{}},__i18n__.i18n.convert=function(e,t){var n=e.length;if(4==n&&1==t)return e[0];var r=t%100,i=t%10,o=2;return r>10&&r<=20?o=2:1==i?o=0:i>1&&i<5&&(o=1),4==n&&o++,e[o]},__i18n__.i18n.if=function(e,t,n){return e?t:n},__i18n__.i18n.index=function(e,t){return e[+t]},__i18n__.i18n.plural=function(e,t,n){return e>1?t:n},(function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)r=o[s],i[r]&&u.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={6:0},i={6:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{0:1,1:1,2:1,3:1,4:1,7:1,11:1,12:1,13:1,14:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var i="_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"access-folder-dialog",3:"access-folder-dialog2",4:"album2",5:"albums2",7:"fotki-info-dialog",8:"grid-10",9:"grid-12",10:"grid-6",11:"listing",12:"photo2",13:"remember-block",14:"version-dialog"}[e]||e)+".ru."+{0:"83bac46a29adea7c7a6c",1:"65d5003ad67d249494c0",2:"1bb0dc423fb81c830c31",3:"2c0e534aa55ee22dbb55",4:"9ec659bc989056ef15d4",5:"31d6cfe0d16ae931b73c",7:"044c5985d17b28ed64e6",8:"31d6cfe0d16ae931b73c",9:"31d6cfe0d16ae931b73c",10:"31d6cfe0d16ae931b73c",11:"e79ef99639e6274b2458",12:"9807e6911ba2e511fb12",13:"42ab7752449b0d32df05",14:"3563d5f4b2fba635bb23"}[e]+".css",a=o.p+i,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var c=(f=s[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(c===i||c===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((c=(f=l[u]).getAttribute("data-href"))===i||c===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.request=i,delete r[e],d.parentNode.removeChild(d),n(o)},d.href=a,document.getElementsByTagName("head")[0].appendChild(d)}).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=a);var s,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=(function(e){return o.p+"_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"access-folder-dialog",3:"access-folder-dialog2",4:"album2",5:"albums2",7:"fotki-info-dialog",8:"grid-10",9:"grid-12",10:"grid-6",11:"listing",12:"photo2",13:"remember-block",14:"version-dialog"}[e]||e)+".ru."+{0:"a91e20a12224202cb525",1:"dee4678e2f4fec4d5ff2",2:"6892a425d5320ff77dc2",3:"7509a7472685da443b79",4:"f7050e015c501e069dfe",5:"6c3bbe96e2e73150d1b0",7:"2adc3027b8f231374b30",8:"9a9eeffdb7e0879f5872",9:"aec1932f8e64874dec1b",10:"19dcfd2d5aeaada22a75",11:"db2e794dd3e22d24e736",12:"7b9735c1414b18d3b84b",13:"2c7bb0ed845934783797",14:"e74c5d17c33ec160b5af"}[e]+".js"})(e),s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,u.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/s3/disk/_/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=s;o(o.s=2167)})([(function(e,t){e.exports=React}),(function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__spreadArray",(function(){return y})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return O})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return C})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return k}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!(function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)})(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function O(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function k(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";e.exports=n(1023)}),(function(e,t,n){var r=n(1009);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(188).default,i=n(8);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,h=2,m=4,v=1,g=2,y=1,b=2,_=4,O=8,w=16,E=32,S=64,x=128,C=256,T=512,k=30,j="...",P=800,R=16,A=1,I=2,D=1/0,M=9007199254740991,N=1.7976931348623157e308,L=NaN,F=4294967295,B=F-1,U=F>>>1,z=[["ary",x],["bind",y],["bindKey",b],["curry",O],["curryRight",w],["flip",T],["partial",E],["partialRight",S],["rearg",C]],V="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",G="[object Boolean]",$="[object Date]",q="[object DOMException]",Y="[object Error]",K="[object Function]",J="[object GeneratorFunction]",X="[object Map]",Z="[object Number]",Q="[object Null]",ee="[object Object]",te="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",ue="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",he="[object Int16Array]",me="[object Int32Array]",ve="[object Uint8Array]",ge="[object Uint8ClampedArray]",ye="[object Uint16Array]",be="[object Uint32Array]",_e=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,xe=RegExp(Ee.source),Ce=RegExp(Se.source),Te=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Ie.source),Me=/^\s+/,Ne=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="[\\ud800-\\udfff]",nt="["+et+"]",rt="["+Qe+"]",it="\\d+",ot="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+et+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ft="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pt="(?:"+at+"|"+st+")",ht="(?:"+dt+"|"+st+")",mt="(?:"+rt+"|"+ut+")"+"?",vt="[\\ufe0e\\ufe0f]?"+mt+("(?:\\u200d(?:"+[ct,lt,ft].join("|")+")[\\ufe0e\\ufe0f]?"+mt+")*"),gt="(?:"+[ot,lt,ft].join("|")+")"+vt,yt="(?:"+[ct+rt+"?",rt,lt,ft,tt].join("|")+")",bt=RegExp("['’]","g"),_t=RegExp(rt,"g"),Ot=RegExp(ut+"(?="+ut+")|"+yt+vt,"g"),wt=RegExp([dt+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nt,dt,"$"].join("|")+")",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nt,dt+pt,"$"].join("|")+")",dt+"?"+pt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",it,gt].join("|"),"g"),Et=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,Tt={};Tt[fe]=Tt[de]=Tt[pe]=Tt[he]=Tt[me]=Tt[ve]=Tt[ge]=Tt[ye]=Tt[be]=!0,Tt[V]=Tt[H]=Tt[ce]=Tt[G]=Tt[le]=Tt[$]=Tt[Y]=Tt[K]=Tt[X]=Tt[Z]=Tt[ee]=Tt[ne]=Tt[re]=Tt[ie]=Tt[se]=!1;var kt={};kt[V]=kt[H]=kt[ce]=kt[le]=kt[G]=kt[$]=kt[fe]=kt[de]=kt[pe]=kt[he]=kt[me]=kt[X]=kt[Z]=kt[ee]=kt[ne]=kt[re]=kt[ie]=kt[oe]=kt[ve]=kt[ge]=kt[ye]=kt[be]=!0,kt[Y]=kt[K]=kt[se]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pt=parseFloat,Rt=parseInt,At="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,Dt=At||It||Function("return this")(),Mt=t&&!t.nodeType&&t,Nt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Nt&&Nt.exports===Mt,Ft=Lt&&At.process,Bt=(function(){try{var e=Nt&&Nt.require&&Nt.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}})(),Ut=Bt&&Bt.isArrayBuffer,zt=Bt&&Bt.isDate,Vt=Bt&&Bt.isMap,Ht=Bt&&Bt.isRegExp,Wt=Bt&&Bt.isSet,Gt=Bt&&Bt.isTypedArray;function $t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Zt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Qt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function en(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function nn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function rn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function on(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var an=pn("length");function sn(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function un(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function cn(e,t,n){return t==t?(function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1})(e,t,n):un(e,fn,n)}function ln(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function fn(e){return e!=e}function dn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:L}function pn(e){return function(t){return null==t?o:t[e]}}function hn(e){return function(t){return null==e?o:e[t]}}function mn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function vn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function yn(e){return e?e.slice(0,Mn(e)+1).replace(Me,""):e}function bn(e){return function(t){return e(t)}}function _n(e,t){return en(t,(function(t){return e[t]}))}function On(e,t){return e.has(t)}function wn(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function En(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var Sn=hn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(e){return"\\"+jt[e]}function Tn(e){return Et.test(e)}function kn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function jn(e,t){return function(n){return e(t(n))}}function Pn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==d||(e[n]=d,o[i++]=n)}return o}function Rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function An(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function In(e){return Tn(e)?(function(e){var t=Ot.lastIndex=0;for(;Ot.test(e);)++t;return t})(e):an(e)}function Dn(e){return Tn(e)?(function(e){return e.match(Ot)||[]})(e):(function(e){return e.split("")})(e)}function Mn(e){for(var t=e.length;t--&&Ne.test(e.charAt(t)););return t}var Nn=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ln=(function e(t){var n=(t=null==t?Dt:Ln.defaults(Dt.Object(),t,Ln.pick(Dt,xt))).Array,r=t.Date,i=t.Error,Ne=t.Function,Qe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=n.prototype,ot=Ne.prototype,at=et.prototype,st=t["__core-js_shared__"],ut=ot.toString,ct=at.hasOwnProperty,lt=0,ft=(function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),dt=at.toString,pt=ut.call(et),ht=Dt._,mt=tt("^"+ut.call(ct).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Lt?t.Buffer:o,gt=t.Symbol,yt=t.Uint8Array,Ot=vt?vt.allocUnsafe:o,Et=jn(et.getPrototypeOf,et),jt=et.create,At=at.propertyIsEnumerable,It=it.splice,Mt=gt?gt.isConcatSpreadable:o,Nt=gt?gt.iterator:o,Ft=gt?gt.toStringTag:o,Bt=(function(){try{var e=Uo(et,"defineProperty");return e({},"",{}),e}catch(e){}})(),an=t.clearTimeout!==Dt.clearTimeout&&t.clearTimeout,hn=r&&r.now!==Dt.Date.now&&r.now,Fn=t.setTimeout!==Dt.setTimeout&&t.setTimeout,Bn=Qe.ceil,Un=Qe.floor,zn=et.getOwnPropertySymbols,Vn=vt?vt.isBuffer:o,Hn=t.isFinite,Wn=it.join,Gn=jn(et.keys,et),$n=Qe.max,qn=Qe.min,Yn=r.now,Kn=t.parseInt,Jn=Qe.random,Xn=it.reverse,Zn=Uo(t,"DataView"),Qn=Uo(t,"Map"),er=Uo(t,"Promise"),tr=Uo(t,"Set"),nr=Uo(t,"WeakMap"),rr=Uo(et,"create"),ir=nr&&new nr,or={},ar=da(Zn),sr=da(Qn),ur=da(er),cr=da(tr),lr=da(nr),fr=gt?gt.prototype:o,dr=fr?fr.valueOf:o,pr=fr?fr.toString:o;function hr(e){if(js(e)&&!ys(e)&&!(e instanceof yr)){if(e instanceof gr)return e;if(ct.call(e,"__wrapped__"))return pa(e)}return new gr(e)}var mr=(function(){function e(){}return function(t){if(!ks(t))return{};if(jt)return jt(t);e.prototype=t;var n=new e;return e.prototype=o,n}})();function vr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Or(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Or;++t<n;)this.add(e[t])}function Er(e){var t=this.__data__=new _r(e);this.size=t.size}function Sr(e,t){var n=ys(e),r=!n&&gs(e),i=!n&&!r&&ws(e),o=!n&&!r&&!i&&Ls(e),a=n||r||i||o,s=a?gn(e.length,nt):[],u=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qo(c,u))||s.push(c);return s}function xr(e){var t=e.length;return t?e[wi(0,t-1)]:o}function Cr(e,t){return ca(ro(e),Mr(t,0,e.length))}function Tr(e){return ca(ro(e))}function kr(e,t,n){(n===o||hs(e[t],n))&&(n!==o||t in e)||Ir(e,t,n)}function jr(e,t,n){var r=e[t];ct.call(e,t)&&hs(r,n)&&(n!==o||t in e)||Ir(e,t,n)}function Pr(e,t){for(var n=e.length;n--;)if(hs(e[n][0],t))return n;return-1}function Rr(e,t,n,r){return Ur(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Ar(e,t){return e&&io(t,ou(t),e)}function Ir(e,t,n){"__proto__"==t&&Bt?Bt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Dr(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:eu(e,t[r]);return a}function Mr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Nr(e,t,n,r,i,a){var s,u=t&p,c=t&h,l=t&m;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ks(e))return e;var f=ys(e);if(f){if(s=(function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!u)return ro(e,s)}else{var d=Ho(e),v=d==K||d==J;if(ws(e))return Xi(e,u);if(d==ee||d==V||v&&!i){if(s=c||v?{}:Go(e),!u)return c?(function(e,t){return io(e,Vo(e),t)})(e,(function(e,t){return e&&io(t,au(t),e)})(s,e)):(function(e,t){return io(e,zo(e),t)})(e,Ar(s,e))}else{if(!kt[d])return i?e:{};s=(function(e,t,n){var r=e.constructor;switch(t){case ce:return Zi(e);case G:case $:return new r(+e);case le:return (function(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)})(e,n);case fe:case de:case pe:case he:case me:case ve:case ge:case ye:case be:return Qi(e,n);case X:return new r;case Z:case ie:return new r(e);case ne:return (function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t})(e);case re:return new r;case oe:return (function(e){return dr?et(dr.call(e)):{}})(e)}})(e,d,u)}}a||(a=new Er);var g=a.get(e);if(g)return g;a.set(e,s),Ds(e)?e.forEach((function(r){s.add(Nr(r,t,n,r,e,a))})):Ps(e)&&e.forEach((function(r,i){s.set(i,Nr(r,t,n,i,e,a))}));var y=f?o:(l?c?Io:Ao:c?au:ou)(e);return Yt(y||e,(function(r,i){y&&(r=e[i=r]),jr(s,i,Nr(r,t,n,i,e,a))})),s}function Lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Fr(e,t,n){if("function"!=typeof e)throw new rt(u);return oa((function(){e.apply(o,n)}),t)}function Br(e,t,n,r){var i=-1,o=Zt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=en(t,bn(n))),r?(o=Qt,s=!1):t.length>=a&&(o=On,s=!1,t=new wr(t));e:for(;++i<u;){var f=e[i],d=null==n?f:n(f);if(f=r||0!==f?f:0,s&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(f)}else o(t,d,r)||c.push(f)}return c}hr.templateSettings={escape:Te,evaluate:ke,interpolate:je,variable:"",imports:{_:hr}},hr.prototype=vr.prototype,hr.prototype.constructor=hr,gr.prototype=mr(vr.prototype),gr.prototype.constructor=gr,yr.prototype=mr(vr.prototype),yr.prototype.constructor=yr,br.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},br.prototype.get=function(e){var t=this.__data__;if(rr){var n=t[e];return n===l?o:n}return ct.call(t,e)?t[e]:o},br.prototype.has=function(e){var t=this.__data__;return rr?t[e]!==o:ct.call(t,e)},br.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rr&&t===o?l:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=Pr(t,e);return!(n<0||(n==t.length-1?t.pop():It.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,n=Pr(t,e);return n<0?o:t[n][1]},_r.prototype.has=function(e){return Pr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=Pr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Or.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Qn||_r),string:new br}},Or.prototype.delete=function(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t},Or.prototype.get=function(e){return Fo(this,e).get(e)},Or.prototype.has=function(e){return Fo(this,e).has(e)},Or.prototype.set=function(e,t){var n=Fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,l),this},wr.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.clear=function(){this.__data__=new _r,this.size=0},Er.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Er.prototype.get=function(e){return this.__data__.get(e)},Er.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Qn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Or(r)}return n.set(e,t),this.size=n.size,this};var Ur=so(Yr),zr=so(Kr,!0);function Vr(e,t){var n=!0;return Ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,c=a}return c}function Wr(e,t){var n=[];return Ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Gr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=$o),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Gr(s,t-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var $r=uo(),qr=uo(!0);function Yr(e,t){return e&&$r(e,t,ou)}function Kr(e,t){return e&&qr(e,t,ou)}function Jr(e,t){return Xt(t,(function(t){return xs(e[t])}))}function Xr(e,t){for(var n=0,r=(t=qi(t,e)).length;null!=e&&n<r;)e=e[fa(t[n++])];return n&&n==r?e:o}function Zr(e,t,n){var r=t(e);return ys(e)?r:tn(r,n(e))}function Qr(e){return null==e?e===o?ae:Q:Ft&&Ft in et(e)?(function(e){var t=ct.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(e){}var i=dt.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),i})(e):(function(e){return dt.call(e)})(e)}function ei(e,t){return e>t}function ti(e,t){return null!=e&&ct.call(e,t)}function ni(e,t){return null!=e&&t in et(e)}function ri(e,t,r){for(var i=r?Qt:Zt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=en(d,bn(t))),l=qn(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new wr(u&&d):o}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var m=d[p],v=t?t(m):m;if(m=r||0!==m?m:0,!(h?On(h,v):i(f,v,r))){for(u=s;--u;){var g=c[u];if(!(g?On(g,v):i(e[u],v,r)))continue e}h&&h.push(v),f.push(m)}}return f}function ii(e,t,n){var r=null==(e=na(e,t=qi(t,e)))?e:e[fa(Sa(t))];return null==r?o:$t(r,e,n)}function oi(e){return js(e)&&Qr(e)==V}function ai(e,t,n,r,i){return e===t||(null==e||null==t||!js(e)&&!js(t)?e!=e&&t!=t:(function(e,t,n,r,i,a){var s=ys(e),u=ys(t),c=s?H:Ho(e),l=u?H:Ho(t),f=(c=c==V?ee:c)==ee,d=(l=l==V?ee:l)==ee,p=c==l;if(p&&ws(e)){if(!ws(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Er),s||Ls(e)?Po(e,t,n,r,i,a):(function(e,t,n,r,i,o,a){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new yt(e),new yt(t)));case G:case $:case Z:return hs(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ne:case ie:return e==t+"";case X:var s=kn;case re:var u=r&v;if(s||(s=Rn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=g,a.set(e,t);var l=Po(s(e),s(t),r,i,o,a);return a.delete(e),l;case oe:if(dr)return dr.call(e)==dr.call(t)}return!1})(e,t,c,n,r,i,a);if(!(n&v)){var h=f&&ct.call(e,"__wrapped__"),m=d&&ct.call(t,"__wrapped__");if(h||m){var y=h?e.value():e,b=m?t.value():t;return a||(a=new Er),i(y,b,n,r,a)}}return!!p&&(a||(a=new Er),(function(e,t,n,r,i,a){var s=n&v,u=Ao(e),c=u.length,l=Ao(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:ct.call(t,d)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<c;){d=u[f];var y=e[d],b=t[d];if(r)var _=s?r(b,y,d,t,e,a):r(y,b,d,e,t,a);if(!(_===o?y===b||i(y,b,n,r,a):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var O=e.constructor,w=t.constructor;O!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m})(e,t,n,r,i,a))})(e,t,n,r,ai,i))}function si(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=et(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var d=new Er;if(r)var p=r(l,f,c,e,t,d);if(!(p===o?ai(f,l,v|g,r,d):p))return!1}}return!0}function ui(e){return!(!ks(e)||(function(e){return!!ft&&ft in e})(e))&&(xs(e)?mt:qe).test(da(e))}function ci(e){return"function"==typeof e?e:null==e?Ru:"object"==typeof e?ys(e)?mi(e[0],e[1]):hi(e):Uu(e)}function li(e){if(!Zo(e))return Gn(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function fi(e){if(!ks(e))return (function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t})(e);var t=Zo(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function di(e,t){return e<t}function pi(e,t){var r=-1,i=_s(e)?n(e.length):[];return Ur(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function hi(e){var t=Bo(e);return 1==t.length&&t[0][2]?ea(t[0][0],t[0][1]):function(n){return n===e||si(n,e,t)}}function mi(e,t){return Ko(e)&&Qo(t)?ea(fa(e),t):function(n){var r=eu(n,e);return r===o&&r===t?tu(n,e):ai(t,r,v|g)}}function vi(e,t,n,r,i){e!==t&&$r(t,(function(a,s){if(i||(i=new Er),ks(a))!(function(e,t,n,r,i,a,s){var u=ra(e,n),c=ra(t,n),l=s.get(c);if(l)kr(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):o,d=f===o;if(d){var p=ys(c),h=!p&&ws(c),m=!p&&!h&&Ls(c);f=c,p||h||m?ys(u)?f=u:Os(u)?f=ro(u):h?(d=!1,f=Xi(c,!0)):m?(d=!1,f=Qi(c,!0)):f=[]:As(c)||gs(c)?(f=u,gs(u)?f=Gs(u):ks(u)&&!xs(u)||(f=Go(c))):d=!1}d&&(s.set(c,f),i(f,c,r,a,s),s.delete(c)),kr(e,n,f)}})(e,t,s,n,vi,r,i);else{var u=r?r(ra(e,s),a,s+"",e,t,i):o;u===o&&(u=a),kr(e,s,u)}}),au)}function gi(e,t){var n=e.length;if(n)return qo(t+=t<0?n:0,n)?e[t]:o}function yi(e,t,n){var r=-1;return t=en(t=t.length?en(t,(function(e){return ys(e)?function(t){return Xr(t,1===e.length?e[0]:e)}:e})):[Ru],bn(Lo())),(function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e})(pi(e,(function(e,n,i){return{criteria:en(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return (function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=eo(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index})(e,t,n)}))}function bi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Xr(e,a);n(s,a)&&Ti(o,qi(a,e),s)}return o}function _i(e,t,n,r){var i=r?ln:cn,o=-1,a=t.length,s=e;for(e===t&&(t=ro(t)),n&&(s=en(e,bn(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&It.call(s,u,1),It.call(e,u,1);return e}function Oi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;qo(i)?It.call(e,i,1):Bi(e,i)}}return e}function wi(e,t){return e+Un(Jn()*(t-e+1))}function Ei(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),(t=Un(t/2))&&(e+=e)}while(t);return n}function Si(e,t){return aa(ta(e,t,Ru),e+"")}function xi(e){return xr(hu(e))}function Ci(e,t){var n=hu(e);return ca(n,Mr(t,0,n.length))}function Ti(e,t,n,r){if(!ks(e))return e;for(var i=-1,a=(t=qi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=fa(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=ks(f)?f:qo(t[i+1])?[]:{})}jr(u,c,l),u=u[c]}return e}var ki=ir?function(e,t){return ir.set(e,t),e}:Ru,ji=Bt?function(e,t){return Bt(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:Ru;function Pi(e){return ca(hu(e))}function Ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Ai(e,t){var n;return Ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Ii(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=U){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ns(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Di(e,t,Ru,n)}function Di(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=Ns(t),l=t===o;i<a;){var f=Un((i+a)/2),d=n(e[f]),p=d!==o,h=null===d,m=d==d,v=Ns(d);if(s)var g=r||m;else g=l?m&&(r||p):u?m&&p&&(r||!h):c?m&&p&&!h&&(r||!v):!h&&!v&&(r?d<=t:d<t);g?i=f+1:a=f}return qn(a,B)}function Mi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(e){return"number"==typeof e?e:Ns(e)?L:+e}function Li(e){if("string"==typeof e)return e;if(ys(e))return en(e,Li)+"";if(Ns(e))return pr?pr.call(e):"";var t=e+"";return"0"==t&&1/e==-D?"-0":t}function Fi(e,t,n){var r=-1,i=Zt,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=Qt;else if(o>=a){var l=t?null:So(e);if(l)return Rn(l);s=!1,i=On,c=new wr}else c=t?[]:u;e:for(;++r<o;){var f=e[r],d=t?t(f):f;if(f=n||0!==f?f:0,s&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),u.push(f)}else i(c,d,n)||(c!==u&&c.push(d),u.push(f))}return u}function Bi(e,t){return null==(e=na(e,t=qi(t,e)))||delete e[fa(Sa(t))]}function Ui(e,t,n,r){return Ti(e,t,n(Xr(e,t)),r)}function zi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ri(e,r?0:o,r?o+1:i):Ri(e,r?o+1:0,r?i:o)}function Vi(e,t){var n=e;return n instanceof yr&&(n=n.value()),nn(t,(function(e,t){return t.func.apply(t.thisArg,tn([e],t.args))}),n)}function Hi(e,t,r){var i=e.length;if(i<2)return i?Fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Br(a[o]||s,e[u],t,r));return Fi(Gr(a,1),t,r)}function Wi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function Gi(e){return Os(e)?e:[]}function $i(e){return"function"==typeof e?e:Ru}function qi(e,t){return ys(e)?e:Ko(e,t)?[e]:la($s(e))}var Yi=Si;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ri(e,t,n)}var Ji=an||function(e){return Dt.clearTimeout(e)};function Xi(e,t){if(t)return e.slice();var n=e.length,r=Ot?Ot(n):new e.constructor(n);return e.copy(r),r}function Zi(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}function Qi(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ns(e),s=t!==o,u=null===t,c=t==t,l=Ns(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function to(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=$n(a-s,0),f=n(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function no(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=$n(a-u,0),d=n(f+l),p=!i;++o<f;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=t[c];for(;++s<u;)(p||o<a)&&(d[h+r[s]]=e[o++]);return d}function ro(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function io(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Ir(n,u,c):jr(n,u,c)}return n}function oo(e,t){return function(n,r){var i=ys(n)?qt:Rr,o=t?t():{};return i(n,e,Lo(r,2),o)}}function ao(e){return Si((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Yo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=et(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function so(e,t){return function(n,r){if(null==n)return n;if(!_s(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=et(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function uo(e){return function(t,n,r){for(var i=-1,o=et(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function co(e){return function(t){var n=Tn(t=$s(t))?Dn(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function lo(e){return function(t){return nn(xu(gu(t).replace(bt,"")),e,"")}}function fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mr(e.prototype),r=e.apply(n,t);return ks(r)?r:n}}function po(e){return function(t,n,r){var i=et(t);if(!_s(t)){var a=Lo(n,3);t=ou(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function ho(e){return Ro((function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(u);if(i&&!s&&"wrapper"==Mo(a))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var c=Mo(a=t[r]),l="wrapper"==c?Do(a):o;s=l&&Jo(l[0])&&l[1]==(x|O|E|C)&&!l[4].length&&1==l[9]?s[Mo(l[0])].apply(s,l[3]):1==a.length&&Jo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ys(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function mo(e,t,r,i,a,s,u,c,l,f){var d=t&x,p=t&y,h=t&b,m=t&(O|w),v=t&T,g=h?o:fo(e);return function y(){for(var b=arguments.length,_=n(b),O=b;O--;)_[O]=arguments[O];if(m)var w=No(y),E=(function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r})(_,w);if(i&&(_=to(_,i,a,m)),s&&(_=no(_,s,u,m)),b-=E,m&&b<f){var S=Pn(_,w);return wo(e,t,mo,y.placeholder,r,_,S,c,l,f-b)}var x=p?r:this,C=h?x[e]:e;return b=_.length,c?_=(function(e,t){for(var n=e.length,r=qn(t.length,n),i=ro(e);r--;){var a=t[r];e[r]=qo(a,n)?i[a]:o}return e})(_,c):v&&b>1&&_.reverse(),d&&l<b&&(_.length=l),this&&this!==Dt&&this instanceof y&&(C=g||fo(C)),C.apply(x,_)}}function vo(e,t){return function(n,r){return (function(e,t,n,r){return Yr(e,(function(e,i,o){t(r,n(e),i,o)})),r})(n,e,t(r),{})}}function go(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Li(n),r=Li(r)):(n=Ni(n),r=Ni(r)),i=e(n,r)}return i}}function yo(e){return Ro((function(t){return t=en(t,bn(Lo())),Si((function(n){var r=this;return e(t,(function(e){return $t(e,r,n)}))}))}))}function bo(e,t){var n=(t=t===o?" ":Li(t)).length;if(n<2)return n?Ei(t,e):t;var r=Ei(t,Bn(e/In(t)));return Tn(t)?Ki(Dn(r),0,e).join(""):r.slice(0,e)}function _o(e){return function(t,r,i){return i&&"number"!=typeof i&&Yo(t,r,i)&&(r=i=o),t=zs(t),r===o?(r=t,t=0):r=zs(r),(function(e,t,r,i){for(var o=-1,a=$n(Bn((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s})(t,r,i=i===o?t<r?1:-1:zs(i),e)}}function Oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),e(t,n)}}function wo(e,t,n,r,i,a,s,u,c,l){var f=t&O;t|=f?E:S,(t&=~(f?S:E))&_||(t&=~(y|b));var d=[e,t,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],p=n.apply(o,d);return Jo(e)&&ia(p,d),p.placeholder=r,sa(p,e,t)}function Eo(e){var t=Qe[e];return function(e,n){if(e=Ws(e),(n=null==n?0:qn(Vs(n),292))&&Hn(e)){var r=($s(e)+"e").split("e");return+((r=($s(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var So=tr&&1/Rn(new tr([,-0]))[1]==D?function(e){return new tr(e)}:Nu;function xo(e){return function(t){var n=Ho(t);return n==X?kn(t):n==re?An(t):(function(e,t){return en(t,(function(t){return[t,e[t]]}))})(t,e(t))}}function Co(e,t,r,i,a,s,c,l){var f=t&b;if(!f&&"function"!=typeof e)throw new rt(u);var p=i?i.length:0;if(p||(t&=~(E|S),i=a=o),c=c===o?c:$n(Vs(c),0),l=l===o?l:Vs(l),p-=a?a.length:0,t&S){var h=i,m=a;i=a=o}var v=f?o:Do(e),g=[e,t,r,i,a,h,m,s,c,l];if(v&&(function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(y|b|x),a=r==x&&n==O||r==x&&n==C&&e[7].length<=t[8]||r==(x|C)&&t[7].length<=t[8]&&n==O;if(!o&&!a)return e;r&y&&(e[2]=t[2],i|=n&y?0:_);var s=t[3];if(s){var u=e[3];e[3]=u?to(u,s,t[4]):s,e[4]=u?Pn(e[3],d):t[4]}(s=t[5])&&(u=e[5],e[5]=u?no(u,s,t[6]):s,e[6]=u?Pn(e[5],d):t[6]),(s=t[7])&&(e[7]=s),r&x&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i})(g,v),e=g[0],t=g[1],r=g[2],i=g[3],a=g[4],!(l=g[9]=g[9]===o?f?0:e.length:$n(g[9]-p,0))&&t&(O|w)&&(t&=~(O|w)),t&&t!=y)T=t==O||t==w?(function(e,t,r){var i=fo(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=No(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:Pn(u,l);return(s-=f.length)<r?wo(e,t,mo,a.placeholder,o,u,f,o,o,r-s):$t(this&&this!==Dt&&this instanceof a?i:e,this,u)}})(e,t,l):t!=E&&t!=(y|E)||a.length?mo.apply(o,g):(function(e,t,r,i){var o=t&y,a=fo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),d=this&&this!==Dt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return $t(d,o?r:this,f)}})(e,t,r,i);else var T=(function(e,t,n){var r=t&y,i=fo(e);return function t(){return(this&&this!==Dt&&this instanceof t?i:e).apply(r?n:this,arguments)}})(e,t,r);return sa((v?ki:ia)(T,g),e,t)}function To(e,t,n,r){return e===o||hs(e,at[n])&&!ct.call(r,n)?t:e}function ko(e,t,n,r,i,a){return ks(e)&&ks(t)&&(a.set(t,e),vi(e,t,o,ko,a),a.delete(t)),e}function jo(e){return As(e)?o:e}function Po(e,t,n,r,i,a){var s=n&v,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=n&g?new wr:o;for(a.set(e,t),a.set(t,e);++d<u;){var m=e[d],y=t[d];if(r)var b=s?r(y,m,d,t,e,a):r(m,y,d,e,t,a);if(b!==o){if(b)continue;p=!1;break}if(h){if(!on(t,(function(e,t){if(!On(h,t)&&(m===e||i(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==y&&!i(m,y,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Ro(e){return aa(ta(e,o,ba),e+"")}function Ao(e){return Zr(e,ou,zo)}function Io(e){return Zr(e,au,Vo)}var Do=ir?function(e){return ir.get(e)}:Nu;function Mo(e){for(var t=e.name+"",n=or[t],r=ct.call(or,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function No(e){return(ct.call(hr,"placeholder")?hr:e).placeholder}function Lo(){var e=hr.iteratee||Au;return e=e===Au?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var n=e.__data__;return (function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e})(t)?n["string"==typeof t?"string":"hash"]:n.map}function Bo(e){for(var t=ou(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qo(i)]}return t}function Uo(e,t){var n=(function(e,t){return null==e?o:e[t]})(e,t);return ui(n)?n:o}var zo=zn?function(e){return null==e?[]:(e=et(e),Xt(zn(e),(function(t){return At.call(e,t)})))}:Hu,Vo=zn?function(e){for(var t=[];e;)tn(t,zo(e)),e=Et(e);return t}:Hu,Ho=Qr;function Wo(e,t,n){for(var r=-1,i=(t=qi(t,e)).length,o=!1;++r<i;){var a=fa(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ts(i)&&qo(a,i)&&(ys(e)||gs(e))}function Go(e){return"function"!=typeof e.constructor||Zo(e)?{}:mr(Et(e))}function $o(e){return ys(e)||gs(e)||!!(Mt&&e&&e[Mt])}function qo(e,t){var n=typeof e;return!!(t=null==t?M:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Yo(e,t,n){if(!ks(n))return!1;var r=typeof t;return!!("number"==r?_s(n)&&qo(t,n.length):"string"==r&&t in n)&&hs(n[t],e)}function Ko(e,t){if(ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ns(e))||Re.test(e)||!Pe.test(e)||null!=t&&e in et(t)}function Jo(e){var t=Mo(e),n=hr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=Do(n);return!!r&&e===r[0]}(Zn&&Ho(new Zn(new ArrayBuffer(1)))!=le||Qn&&Ho(new Qn)!=X||er&&"[object Promise]"!=Ho(er.resolve())||tr&&Ho(new tr)!=re||nr&&Ho(new nr)!=se)&&(Ho=function(e){var t=Qr(e),n=t==ee?e.constructor:o,r=n?da(n):"";if(r)switch(r){case ar:return le;case sr:return X;case ur:return"[object Promise]";case cr:return re;case lr:return se}return t});var Xo=st?xs:Wu;function Zo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Qo(e){return e==e&&!ks(e)}function ea(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in et(n))}}function ta(e,t,r){return t=$n(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=$n(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),$t(e,this,u)}}function na(e,t){return t.length<2?e:Xr(e,Ri(t,0,-1))}function ra(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ia=ua(ki),oa=Fn||function(e,t){return Dt.setTimeout(e,t)},aa=ua(ji);function sa(e,t,n){var r=t+"";return aa(e,(function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")})(r,(function(e,t){return Yt(z,(function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)})),e.sort()})(function(e){var t=e.match(Fe);return t?t[1].split(Be):[]}(r),n)))}function ua(e){var t=0,n=0;return function(){var r=Yn(),i=R-(r-n);if(n=r,i>0){if(++t>=P)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ca(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=wi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var la=(function(e){var t=us(e,(function(e){return n.size===f&&n.clear(),e})),n=t.cache;return t})((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,(function(e,n,r,i){t.push(r?i.replace(Ve,"$1"):n||e)})),t}));function fa(e){if("string"==typeof e||Ns(e))return e;var t=e+"";return"0"==t&&1/e==-D?"-0":t}function da(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function pa(e){if(e instanceof yr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=Si((function(e,t){return Os(e)?Br(e,Gr(t,1,Os,!0)):[]})),ma=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,Gr(t,1,Os,!0),Lo(n,2)):[]})),va=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,Gr(t,1,Os,!0),o,n):[]}));function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=$n(r+i,0)),un(e,Lo(t,3),i)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Vs(n),i=n<0?$n(r+i,0):qn(i,r-1)),un(e,Lo(t,3),i,!0)}function ba(e){return null!=e&&e.length?Gr(e,1):[]}function _a(e){return e&&e.length?e[0]:o}var Oa=Si((function(e){var t=en(e,Gi);return t.length&&t[0]===e[0]?ri(t):[]})),wa=Si((function(e){var t=Sa(e),n=en(e,Gi);return t===Sa(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ri(n,Lo(t,2)):[]})),Ea=Si((function(e){var t=Sa(e),n=en(e,Gi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ri(n,o,t):[]}));function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:o}var xa=Si(Ca);function Ca(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var Ta=Ro((function(e,t){var n=null==e?0:e.length,r=Dr(e,t);return Oi(e,en(t,(function(e){return qo(e,n)?+e:e})).sort(eo)),r}));function ka(e){return null==e?e:Xn.call(e)}var ja=Si((function(e){return Fi(Gr(e,1,Os,!0))})),Pa=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Fi(Gr(e,1,Os,!0),Lo(t,2))})),Ra=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Fi(Gr(e,1,Os,!0),o,t)}));function Aa(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,(function(e){if(Os(e))return t=$n(e.length,t),!0})),gn(t,(function(t){return en(e,pn(t))}))}function Ia(e,t){if(!e||!e.length)return[];var n=Aa(e);return null==t?n:en(n,(function(e){return $t(t,o,e)}))}var Da=Si((function(e,t){return Os(e)?Br(e,t):[]})),Ma=Si((function(e){return Hi(Xt(e,Os))})),Na=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Hi(Xt(e,Os),Lo(t,2))})),La=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Hi(Xt(e,Os),o,t)})),Fa=Si(Aa);var Ba=Si((function(e){var t=e.length,n=t>1?e[t-1]:o;return Ia(e,n="function"==typeof n?(e.pop(),n):o)}));function Ua(e){var t=hr(e);return t.__chain__=!0,t}function za(e,t){return t(e)}var Va=Ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Dr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&qo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:za,args:[i],thisArg:o}),new gr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var Ha=oo((function(e,t,n){ct.call(e,n)?++e[n]:Ir(e,n,1)}));var Wa=po(ga),Ga=po(ya);function $a(e,t){return(ys(e)?Yt:Ur)(e,Lo(t,3))}function qa(e,t){return(ys(e)?Kt:zr)(e,Lo(t,3))}var Ya=oo((function(e,t,n){ct.call(e,n)?e[n].push(t):Ir(e,n,[t])}));var Ka=Si((function(e,t,r){var i=-1,o="function"==typeof t,a=_s(e)?n(e.length):[];return Ur(e,(function(e){a[++i]=o?$t(t,e,r):ii(e,t,r)})),a})),Ja=oo((function(e,t,n){Ir(e,n,t)}));function Xa(e,t){return(ys(e)?en:pi)(e,Lo(t,3))}var Za=oo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Qa=Si((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Yo(e,t[0],t[1])?t=[]:n>2&&Yo(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Gr(t,1),[])})),es=hn||function(){return Dt.Date.now()};function ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Co(e,x,o,o,o,o,t)}function ns(e,t){var n;if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var rs=Si((function(e,t,n){var r=y;if(n.length){var i=Pn(n,No(rs));r|=E}return Co(e,r,t,n,i)})),is=Si((function(e,t,n){var r=y|b;if(n.length){var i=Pn(n,No(is));r|=E}return Co(t,r,e,n,i)}));function os(e,t,n){var r,i,a,s,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new rt(u);function m(t){var n=r,a=i;return r=i=o,f=t,s=e.apply(a,n)}function v(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=a}function g(){var e=es();if(v(e))return y(e);c=oa(g,(function(e){var n=t-(e-l);return p?qn(n,a-(e-f)):n})(e))}function y(e){return c=o,h&&r?m(e):(r=i=o,s)}function b(){var e=es(),n=v(e);if(r=arguments,i=this,l=e,n){if(c===o)return (function(e){return f=e,c=oa(g,t),d?m(e):s})(l);if(p)return Ji(c),c=oa(g,t),m(l)}return c===o&&(c=oa(g,t)),s}return t=Ws(t)||0,ks(n)&&(d=!!n.leading,a=(p="maxWait"in n)?$n(Ws(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==o&&Ji(c),f=0,r=l=i=c=o},b.flush=function(){return c===o?s:y(es())},b}var as=Si((function(e,t){return Fr(e,1,t)})),ss=Si((function(e,t,n){return Fr(e,Ws(t)||0,n)}));function us(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(us.Cache||Or),n}function cs(e){if("function"!=typeof e)throw new rt(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}us.Cache=Or;var ls=Yi((function(e,t){var n=(t=1==t.length&&ys(t[0])?en(t[0],bn(Lo())):en(Gr(t,1),bn(Lo()))).length;return Si((function(r){for(var i=-1,o=qn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return $t(e,this,r)}))})),fs=Si((function(e,t){var n=Pn(t,No(fs));return Co(e,E,o,t,n)})),ds=Si((function(e,t){var n=Pn(t,No(ds));return Co(e,S,o,t,n)})),ps=Ro((function(e,t){return Co(e,C,o,o,o,t)}));function hs(e,t){return e===t||e!=e&&t!=t}var ms=Oo(ei),vs=Oo((function(e,t){return e>=t})),gs=oi(function(){return arguments}())?oi:function(e){return js(e)&&ct.call(e,"callee")&&!At.call(e,"callee")},ys=n.isArray,bs=Ut?bn(Ut):function(e){return js(e)&&Qr(e)==ce};function _s(e){return null!=e&&Ts(e.length)&&!xs(e)}function Os(e){return js(e)&&_s(e)}var ws=Vn||Wu,Es=zt?bn(zt):function(e){return js(e)&&Qr(e)==$};function Ss(e){if(!js(e))return!1;var t=Qr(e);return t==Y||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!As(e)}function xs(e){if(!ks(e))return!1;var t=Qr(e);return t==K||t==J||t==W||t==te}function Cs(e){return"number"==typeof e&&e==Vs(e)}function Ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function ks(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function js(e){return null!=e&&"object"==typeof e}var Ps=Vt?bn(Vt):function(e){return js(e)&&Ho(e)==X};function Rs(e){return"number"==typeof e||js(e)&&Qr(e)==Z}function As(e){if(!js(e)||Qr(e)!=ee)return!1;var t=Et(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==pt}var Is=Ht?bn(Ht):function(e){return js(e)&&Qr(e)==ne};var Ds=Wt?bn(Wt):function(e){return js(e)&&Ho(e)==re};function Ms(e){return"string"==typeof e||!ys(e)&&js(e)&&Qr(e)==ie}function Ns(e){return"symbol"==typeof e||js(e)&&Qr(e)==oe}var Ls=Gt?bn(Gt):function(e){return js(e)&&Ts(e.length)&&!!Tt[Qr(e)]};var Fs=Oo(di),Bs=Oo((function(e,t){return e<=t}));function Us(e){if(!e)return[];if(_s(e))return Ms(e)?Dn(e):ro(e);if(Nt&&e[Nt])return (function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n})(e[Nt]());var t=Ho(e);return(t==X?kn:t==re?Rn:hu)(e)}function zs(e){return e?(e=Ws(e))===D||e===-D?(e<0?-1:1)*N:e==e?e:0:0===e?e:0}function Vs(e){var t=zs(e),n=t%1;return t==t?n?t-n:t:0}function Hs(e){return e?Mr(Vs(e),0,F):0}function Ws(e){if("number"==typeof e)return e;if(Ns(e))return L;if(ks(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ks(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=yn(e);var n=$e.test(e);return n||Ye.test(e)?Rt(e.slice(2),n?2:8):Ge.test(e)?L:+e}function Gs(e){return io(e,au(e))}function $s(e){return null==e?"":Li(e)}var qs=ao((function(e,t){if(Zo(t)||_s(t))io(t,ou(t),e);else for(var n in t)ct.call(t,n)&&jr(e,n,t[n])})),Ys=ao((function(e,t){io(t,au(t),e)})),Ks=ao((function(e,t,n,r){io(t,au(t),e,r)})),Js=ao((function(e,t,n,r){io(t,ou(t),e,r)})),Xs=Ro(Dr);var Zs=Si((function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Yo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=au(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===o||hs(f,at[l])&&!ct.call(e,l))&&(e[l]=a[l])}return e})),Qs=Si((function(e){return e.push(o,ko),$t(uu,o,e)}));function eu(e,t,n){var r=null==e?o:Xr(e,t);return r===o?n:r}function tu(e,t){return null!=e&&Wo(e,t,ni)}var nu=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n}),ku(Ru)),ru=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]}),Lo),iu=Si(ii);function ou(e){return _s(e)?Sr(e):li(e)}function au(e){return _s(e)?Sr(e,!0):fi(e)}var su=ao((function(e,t,n){vi(e,t,n)})),uu=ao((function(e,t,n,r){vi(e,t,n,r)})),cu=Ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=en(t,(function(t){return t=qi(t,e),r||(r=t.length>1),t})),io(e,Io(e),n),r&&(n=Nr(n,p|h|m,jo));for(var i=t.length;i--;)Bi(n,t[i]);return n}));var lu=Ro((function(e,t){return null==e?{}:(function(e,t){return bi(e,t,(function(t,n){return tu(e,n)}))})(e,t)}));function fu(e,t){if(null==e)return{};var n=en(Io(e),(function(e){return[e]}));return t=Lo(t),bi(e,n,(function(e,n){return t(e,n[0])}))}var du=xo(ou),pu=xo(au);function hu(e){return null==e?[]:_n(e,ou(e))}var mu=lo((function(e,t,n){return t=t.toLowerCase(),e+(n?vu(t):t)}));function vu(e){return Su($s(e).toLowerCase())}function gu(e){return(e=$s(e))&&e.replace(Je,Sn).replace(_t,"")}var yu=lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),bu=lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),_u=co("toLowerCase");var Ou=lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var wu=lo((function(e,t,n){return e+(n?" ":"")+Su(t)}));var Eu=lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Su=co("toUpperCase");function xu(e,t,n){return e=$s(e),(t=n?o:t)===o?(function(e){return St.test(e)})(e)?(function(e){return e.match(wt)||[]})(e):(function(e){return e.match(Ue)||[]})(e):e.match(t)||[]}var Cu=Si((function(e,t){try{return $t(e,o,t)}catch(e){return Ss(e)?e:new i(e)}})),Tu=Ro((function(e,t){return Yt(t,(function(t){t=fa(t),Ir(e,t,rs(e[t],e))})),e}));function ku(e){return function(){return e}}var ju=ho(),Pu=ho(!0);function Ru(e){return e}function Au(e){return ci("function"==typeof e?e:Nr(e,p))}var Iu=Si((function(e,t){return function(n){return ii(n,e,t)}})),Du=Si((function(e,t){return function(n){return ii(e,n,t)}}));function Mu(e,t,n){var r=ou(t),i=Jr(t,r);null!=n||ks(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Jr(t,ou(t)));var o=!(ks(n)&&"chain"in n&&!n.chain),a=xs(e);return Yt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tn([this.value()],arguments))})})),e}function Nu(){}var Lu=yo(en),Fu=yo(Jt),Bu=yo(on);function Uu(e){return Ko(e)?pn(fa(e)):(function(e){return function(t){return Xr(t,e)}})(e)}var zu=_o(),Vu=_o(!0);function Hu(){return[]}function Wu(){return!1}var Gu=go((function(e,t){return e+t}),0),$u=Eo("ceil"),qu=go((function(e,t){return e/t}),1),Yu=Eo("floor");var Ku=go((function(e,t){return e*t}),1),Ju=Eo("round"),Xu=go((function(e,t){return e-t}),0);return hr.after=function(e,t){if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=ts,hr.assign=qs,hr.assignIn=Ys,hr.assignInWith=Ks,hr.assignWith=Js,hr.at=Xs,hr.before=ns,hr.bind=rs,hr.bindAll=Tu,hr.bindKey=is,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},hr.chain=Ua,hr.chunk=function(e,t,r){t=(r?Yo(e,t,r):t===o)?1:$n(Vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(Bn(i/t));a<i;)u[s++]=Ri(e,a,a+=t);return u},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return tn(ys(r)?ro(r):[r],Gr(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Lo();return e=t?en(e,(function(e){if("function"!=typeof e[1])throw new rt(u);return[n(e[0]),e[1]]})):[],Si((function(n){for(var r=-1;++r<t;){var i=e[r];if($t(i[0],this,n))return $t(i[1],this,n)}}))},hr.conforms=function(e){return (function(e){var t=ou(e);return function(n){return Lr(n,e,t)}})(Nr(e,p))},hr.constant=ku,hr.countBy=Ha,hr.create=function(e,t){var n=mr(e);return null==t?n:Ar(n,t)},hr.curry=function e(t,n,r){var i=Co(t,O,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,n,r){var i=Co(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.debounce=os,hr.defaults=Zs,hr.defaultsDeep=Qs,hr.defer=as,hr.delay=ss,hr.difference=ha,hr.differenceBy=ma,hr.differenceWith=va,hr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,(t=n||t===o?1:Vs(t))<0?0:t,r):[]},hr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,0,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0):[]},hr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Yo(e,t,n)&&(n=0,r=i),(function(e,t,n,r){var i=e.length;for((n=Vs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Vs(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)e[n++]=t;return e})(e,t,n,r)):[]},hr.filter=function(e,t){return(ys(e)?Xt:Wr)(e,Lo(t,3))},hr.flatMap=function(e,t){return Gr(Xa(e,t),1)},hr.flatMapDeep=function(e,t){return Gr(Xa(e,t),D)},hr.flatMapDepth=function(e,t,n){return n=n===o?1:Vs(n),Gr(Xa(e,t),n)},hr.flatten=ba,hr.flattenDeep=function(e){return null!=e&&e.length?Gr(e,D):[]},hr.flattenDepth=function(e,t){return null!=e&&e.length?Gr(e,t=t===o?1:Vs(t)):[]},hr.flip=function(e){return Co(e,T)},hr.flow=ju,hr.flowRight=Pu,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},hr.functions=function(e){return null==e?[]:Jr(e,ou(e))},hr.functionsIn=function(e){return null==e?[]:Jr(e,au(e))},hr.groupBy=Ya,hr.initial=function(e){return null!=e&&e.length?Ri(e,0,-1):[]},hr.intersection=Oa,hr.intersectionBy=wa,hr.intersectionWith=Ea,hr.invert=nu,hr.invertBy=ru,hr.invokeMap=Ka,hr.iteratee=Au,hr.keyBy=Ja,hr.keys=ou,hr.keysIn=au,hr.map=Xa,hr.mapKeys=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ir(n,t(e,r,i),e)})),n},hr.mapValues=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ir(n,r,t(e,r,i))})),n},hr.matches=function(e){return hi(Nr(e,p))},hr.matchesProperty=function(e,t){return mi(e,Nr(t,p))},hr.memoize=us,hr.merge=su,hr.mergeWith=uu,hr.method=Iu,hr.methodOf=Du,hr.mixin=Mu,hr.negate=cs,hr.nthArg=function(e){return e=Vs(e),Si((function(t){return gi(t,e)}))},hr.omit=cu,hr.omitBy=function(e,t){return fu(e,cs(Lo(t)))},hr.once=function(e){return ns(2,e)},hr.orderBy=function(e,t,n,r){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(n=r?o:n)||(n=null==n?[]:[n]),yi(e,t,n))},hr.over=Lu,hr.overArgs=ls,hr.overEvery=Fu,hr.overSome=Bu,hr.partial=fs,hr.partialRight=ds,hr.partition=Za,hr.pick=lu,hr.pickBy=fu,hr.property=Uu,hr.propertyOf=function(e){return function(t){return null==e?o:Xr(e,t)}},hr.pull=xa,hr.pullAll=Ca,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,Lo(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,o,n):e},hr.pullAt=Ta,hr.range=zu,hr.rangeRight=Vu,hr.rearg=ps,hr.reject=function(e,t){return(ys(e)?Xt:Wr)(e,cs(Lo(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Oi(e,i),n},hr.rest=function(e,t){if("function"!=typeof e)throw new rt(u);return Si(e,t=t===o?t:Vs(t))},hr.reverse=ka,hr.sampleSize=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),(ys(e)?Cr:Ci)(e,t)},hr.set=function(e,t,n){return null==e?e:Ti(e,t,n)},hr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ti(e,t,n,r)},hr.shuffle=function(e){return(ys(e)?Tr:Pi)(e)},hr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yo(e,t,n)?(t=0,n=r):(t=null==t?0:Vs(t),n=n===o?r:Vs(n)),Ri(e,t,n)):[]},hr.sortBy=Qa,hr.sortedUniq=function(e){return e&&e.length?Mi(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Mi(e,Lo(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&Yo(e,t,n)&&(t=n=o),(n=n===o?F:n>>>0)?(e=$s(e))&&("string"==typeof t||null!=t&&!Is(t))&&!(t=Li(t))&&Tn(e)?Ki(Dn(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new rt(u);return t=null==t?0:$n(Vs(t),0),Si((function(n){var r=n[t],i=Ki(n,0,t);return r&&tn(i,r),$t(e,this,i)}))},hr.tail=function(e){var t=null==e?0:e.length;return t?Ri(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Ri(e,0,(t=n||t===o?1:Vs(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t,r):[]},hr.takeRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new rt(u);return ks(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),os(e,t,{leading:r,maxWait:t,trailing:i})},hr.thru=za,hr.toArray=Us,hr.toPairs=du,hr.toPairsIn=pu,hr.toPath=function(e){return ys(e)?en(e,fa):Ns(e)?[e]:ro(la($s(e)))},hr.toPlainObject=Gs,hr.transform=function(e,t,n){var r=ys(e),i=r||ws(e)||Ls(e);if(t=Lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ks(e)&&xs(o)?mr(Et(e)):{}}return(i?Yt:Yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},hr.unary=function(e){return ts(e,1)},hr.union=ja,hr.unionBy=Pa,hr.unionWith=Ra,hr.uniq=function(e){return e&&e.length?Fi(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Fi(e,Lo(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Fi(e,o,t):[]},hr.unset=function(e,t){return null==e||Bi(e,t)},hr.unzip=Aa,hr.unzipWith=Ia,hr.update=function(e,t,n){return null==e?e:Ui(e,t,$i(n))},hr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ui(e,t,$i(n),r)},hr.values=hu,hr.valuesIn=function(e){return null==e?[]:_n(e,au(e))},hr.without=Da,hr.words=xu,hr.wrap=function(e,t){return fs($i(t),e)},hr.xor=Ma,hr.xorBy=Na,hr.xorWith=La,hr.zip=Fa,hr.zipObject=function(e,t){return Wi(e||[],t||[],jr)},hr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],Ti)},hr.zipWith=Ba,hr.entries=du,hr.entriesIn=pu,hr.extend=Ys,hr.extendWith=Ks,Mu(hr,hr),hr.add=Gu,hr.attempt=Cu,hr.camelCase=mu,hr.capitalize=vu,hr.ceil=$u,hr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Ws(n))==n?n:0),t!==o&&(t=(t=Ws(t))==t?t:0),Mr(Ws(e),t,n)},hr.clone=function(e){return Nr(e,m)},hr.cloneDeep=function(e){return Nr(e,p|m)},hr.cloneDeepWith=function(e,t){return Nr(e,p|m,t="function"==typeof t?t:o)},hr.cloneWith=function(e,t){return Nr(e,m,t="function"==typeof t?t:o)},hr.conformsTo=function(e,t){return null==t||Lr(e,t,ou(t))},hr.deburr=gu,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=qu,hr.endsWith=function(e,t,n){e=$s(e),t=Li(t);var r=e.length,i=n=n===o?r:Mr(Vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},hr.eq=hs,hr.escape=function(e){return(e=$s(e))&&Ce.test(e)?e.replace(Se,xn):e},hr.escapeRegExp=function(e){return(e=$s(e))&&De.test(e)?e.replace(Ie,"\\$&"):e},hr.every=function(e,t,n){var r=ys(e)?Jt:Vr;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},hr.find=Wa,hr.findIndex=ga,hr.findKey=function(e,t){return sn(e,Lo(t,3),Yr)},hr.findLast=Ga,hr.findLastIndex=ya,hr.findLastKey=function(e,t){return sn(e,Lo(t,3),Kr)},hr.floor=Yu,hr.forEach=$a,hr.forEachRight=qa,hr.forIn=function(e,t){return null==e?e:$r(e,Lo(t,3),au)},hr.forInRight=function(e,t){return null==e?e:qr(e,Lo(t,3),au)},hr.forOwn=function(e,t){return e&&Yr(e,Lo(t,3))},hr.forOwnRight=function(e,t){return e&&Kr(e,Lo(t,3))},hr.get=eu,hr.gt=ms,hr.gte=vs,hr.has=function(e,t){return null!=e&&Wo(e,t,ti)},hr.hasIn=tu,hr.head=_a,hr.identity=Ru,hr.includes=function(e,t,n,r){e=_s(e)?e:hu(e),n=n&&!r?Vs(n):0;var i=e.length;return n<0&&(n=$n(i+n,0)),Ms(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&cn(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=$n(r+i,0)),cn(e,t,i)},hr.inRange=function(e,t,n){return t=zs(t),n===o?(n=t,t=0):n=zs(n),(function(e,t,n){return e>=qn(t,n)&&e<$n(t,n)})(e=Ws(e),t,n)},hr.invoke=iu,hr.isArguments=gs,hr.isArray=ys,hr.isArrayBuffer=bs,hr.isArrayLike=_s,hr.isArrayLikeObject=Os,hr.isBoolean=function(e){return!0===e||!1===e||js(e)&&Qr(e)==G},hr.isBuffer=ws,hr.isDate=Es,hr.isElement=function(e){return js(e)&&1===e.nodeType&&!As(e)},hr.isEmpty=function(e){if(null==e)return!0;if(_s(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||ws(e)||Ls(e)||gs(e)))return!e.length;var t=Ho(e);if(t==X||t==re)return!e.size;if(Zo(e))return!li(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return ai(e,t)},hr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ai(e,t,o,n):!!r},hr.isError=Ss,hr.isFinite=function(e){return"number"==typeof e&&Hn(e)},hr.isFunction=xs,hr.isInteger=Cs,hr.isLength=Ts,hr.isMap=Ps,hr.isMatch=function(e,t){return e===t||si(e,t,Bo(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,si(e,t,Bo(t),n)},hr.isNaN=function(e){return Rs(e)&&e!=+e},hr.isNative=function(e){if(Xo(e))throw new i(s);return ui(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Rs,hr.isObject=ks,hr.isObjectLike=js,hr.isPlainObject=As,hr.isRegExp=Is,hr.isSafeInteger=function(e){return Cs(e)&&e>=-M&&e<=M},hr.isSet=Ds,hr.isString=Ms,hr.isSymbol=Ns,hr.isTypedArray=Ls,hr.isUndefined=function(e){return e===o},hr.isWeakMap=function(e){return js(e)&&Ho(e)==se},hr.isWeakSet=function(e){return js(e)&&Qr(e)==ue},hr.join=function(e,t){return null==e?"":Wn.call(e,t)},hr.kebabCase=yu,hr.last=Sa,hr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Vs(n))<0?$n(r+i,0):qn(i,r-1)),t==t?(function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r})(e,t,i):un(e,fn,i,!0)},hr.lowerCase=bu,hr.lowerFirst=_u,hr.lt=Fs,hr.lte=Bs,hr.max=function(e){return e&&e.length?Hr(e,Ru,ei):o},hr.maxBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),ei):o},hr.mean=function(e){return dn(e,Ru)},hr.meanBy=function(e,t){return dn(e,Lo(t,2))},hr.min=function(e){return e&&e.length?Hr(e,Ru,di):o},hr.minBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),di):o},hr.stubArray=Hu,hr.stubFalse=Wu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Ku,hr.nth=function(e,t){return e&&e.length?gi(e,Vs(t)):o},hr.noConflict=function(){return Dt._===this&&(Dt._=ht),this},hr.noop=Nu,hr.now=es,hr.pad=function(e,t,n){e=$s(e);var r=(t=Vs(t))?In(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return bo(Un(i),n)+e+bo(Bn(i),n)},hr.padEnd=function(e,t,n){e=$s(e);var r=(t=Vs(t))?In(e):0;return t&&r<t?e+bo(t-r,n):e},hr.padStart=function(e,t,n){e=$s(e);var r=(t=Vs(t))?In(e):0;return t&&r<t?bo(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn($s(e).replace(Me,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zs(e),t===o?(t=e,e=0):t=zs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Jn();return qn(e+i*(t-e+Pt("1e-"+((i+"").length-1))),t)}return wi(e,t)},hr.reduce=function(e,t,n){var r=ys(e)?nn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,Ur)},hr.reduceRight=function(e,t,n){var r=ys(e)?rn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,zr)},hr.repeat=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),Ei($s(e),t)},hr.replace=function(){var e=arguments,t=$s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var r=-1,i=(t=qi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[fa(t[r])];a===o&&(r=i,a=n),e=xs(a)?a.call(e):a}return e},hr.round=Ju,hr.runInContext=e,hr.sample=function(e){return(ys(e)?xr:xi)(e)},hr.size=function(e){if(null==e)return 0;if(_s(e))return Ms(e)?In(e):e.length;var t=Ho(e);return t==X||t==re?e.size:li(e).length},hr.snakeCase=Ou,hr.some=function(e,t,n){var r=ys(e)?on:Ai;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},hr.sortedIndex=function(e,t){return Ii(e,t)},hr.sortedIndexBy=function(e,t,n){return Di(e,t,Lo(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ii(e,t);if(r<n&&hs(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Ii(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return Di(e,t,Lo(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ii(e,t,!0)-1;if(hs(e[n],t))return n}return-1},hr.startCase=wu,hr.startsWith=function(e,t,n){return e=$s(e),n=null==n?0:Mr(Vs(n),0,e.length),t=Li(t),e.slice(n,n+t.length)==t},hr.subtract=Xu,hr.sum=function(e){return e&&e.length?vn(e,Ru):0},hr.sumBy=function(e,t){return e&&e.length?vn(e,Lo(t,2)):0},hr.template=function(e,t,n){var r=hr.templateSettings;n&&Yo(e,t,n)&&(t=o),e=$s(e),t=Ks({},t,r,To);var a,s,u=Ks({},t.imports,r.imports,To),l=ou(u),f=_n(u,l),d=0,p=t.interpolate||Xe,h="__p += '",m=tt((t.escape||Xe).source+"|"+p.source+"|"+(p===je?He:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),v="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(m,(function(t,n,r,i,o,u){return r||(r=i),h+=e.slice(d,u).replace(Ze,Cn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=u+t.length,t})),h+="';\n";var g=ct.call(t,"variable")&&t.variable;if(g){if(ze.test(g))throw new i(c)}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(_e,""):h).replace(Oe,"$1").replace(we,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Cu((function(){return Ne(l,v+"return "+h).apply(o,f)}));if(y.source=h,Ss(y))throw y;return y},hr.times=function(e,t){if((e=Vs(e))<1||e>M)return[];var n=F,r=qn(e,F);t=Lo(t),e-=F;for(var i=gn(r,t);++n<e;)t(n);return i},hr.toFinite=zs,hr.toInteger=Vs,hr.toLength=Hs,hr.toLower=function(e){return $s(e).toLowerCase()},hr.toNumber=Ws,hr.toSafeInteger=function(e){return e?Mr(Vs(e),-M,M):0===e?e:0},hr.toString=$s,hr.toUpper=function(e){return $s(e).toUpperCase()},hr.trim=function(e,t,n){if((e=$s(e))&&(n||t===o))return yn(e);if(!e||!(t=Li(t)))return e;var r=Dn(e),i=Dn(t);return Ki(r,wn(r,i),En(r,i)+1).join("")},hr.trimEnd=function(e,t,n){if((e=$s(e))&&(n||t===o))return e.slice(0,Mn(e)+1);if(!e||!(t=Li(t)))return e;var r=Dn(e);return Ki(r,0,En(r,Dn(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=$s(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Li(t)))return e;var r=Dn(e);return Ki(r,wn(r,Dn(t))).join("")},hr.truncate=function(e,t){var n=k,r=j;if(ks(t)){var i="separator"in t?t.separator:i;n="length"in t?Vs(t.length):n,r="omission"in t?Li(t.omission):r}var a=(e=$s(e)).length;if(Tn(e)){var s=Dn(e);a=s.length}if(n>=a)return e;var u=n-In(r);if(u<1)return r;var c=s?Ki(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Is(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=tt(i.source,$s(We.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;c=c.slice(0,d===o?u:d)}}else if(e.indexOf(Li(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},hr.unescape=function(e){return(e=$s(e))&&xe.test(e)?e.replace(Ee,Nn):e},hr.uniqueId=function(e){var t=++lt;return $s(e)+t},hr.upperCase=Eu,hr.upperFirst=Su,hr.each=$a,hr.eachRight=qa,hr.first=_a,Mu(hr,(function(){var e={};return Yr(hr,(function(t,n){ct.call(hr.prototype,n)||(e[n]=t)})),e})(),{chain:!1}),hr.VERSION="4.17.21",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){hr[e].placeholder=hr})),Yt(["drop","take"],(function(e,t){yr.prototype[e]=function(n){n=n===o?1:$n(Vs(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=qn(n,r.__takeCount__):r.__views__.push({size:qn(n,F),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Yt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==A||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Yt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}})),Yt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Ru)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=Si((function(e,t){return"function"==typeof e?new yr(this):this.map((function(n){return ii(n,e,t)}))})),yr.prototype.reject=function(e){return this.filter(cs(Lo(e)))},yr.prototype.slice=function(e,t){e=Vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(F)},Yr(yr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=hr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof yr,c=s[0],l=u||ys(t),f=function(e){var t=i.apply(hr,tn([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,m=u&&!p;if(!a&&l){t=m?t:new yr(this);var v=e.apply(t,s);return v.__actions__.push({func:za,args:[f],thisArg:o}),new gr(v,d)}return h&&m?e.apply(this,s):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})})),Yt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[n]((function(n){return t.apply(ys(n)?n:[],e)}))}})),Yr(yr.prototype,(function(e,t){var n=hr[t];if(n){var r=n.name+"";ct.call(or,r)||(or[r]=[]),or[r].push({name:t,func:n})}})),or[mo(o,b).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ys(e),r=t<0,i=n?e.length:0,o=(function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=qn(t,e+a);break;case"takeRight":e=$n(e,t-a)}}return{start:e,end:t}})(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,p=qn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return Vi(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var m=-1,v=e[c+=t];++m<f;){var g=l[m],y=g.iteratee,b=g.type,_=y(v);if(b==I)v=_;else if(!_){if(b==A)continue e;break e}}h[d++]=v}return h},hr.prototype.at=Va,hr.prototype.chain=function(){return Ua(this)},hr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Us(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof vr;){var r=pa(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:za,args:[ka],thisArg:o}),new gr(t,this.__chain__)}return this.thru(ka)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Nt&&(hr.prototype[Nt]=function(){return this}),hr})();Dt._=Ln,(i=function(){return Ln}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(131),n(178)(e))}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1010),o=n(1016),a=(function(){function e(e,t,n){void 0===n&&(n="origin"),this.naming={stringify:t(o[n])},this.entity={block:e},this.entityMods={},this.entityMixes=[]}return e.prototype.e=function(e){return this.entity.elem=e,this},e.prototype.m=function(e){return this.entityMods=r({},this.entityMods,e),this},e.prototype.mix=function(e){return this.entityMixes=this.entityMixes.concat(e&&e.length?e:Array.prototype.slice.call(arguments,0)),this},e.prototype.entities=function(){var t=this,n=Object.keys(this.entityMods).reduce((function(e,n){return t.entityMods[n]&&e.push({block:t.entity.block,elem:t.entity.elem,mod:{name:n,val:t.entityMods[n]}}),e}),[this.entity]);return this.entityMixes.reduce((function(t,n){return"string"==typeof n?t.concat(n):n instanceof e?t.concat(n.entities()):t}),n)},e.prototype.stringify=function(){var e=this;return this.entities().map((function(t){return"string"==typeof t?t:e.naming.stringify(t)})).join(" ")},e.prototype.toString=function(){return this.stringify()},e.prototype.valueOf=function(){return this.stringify()},e})();t.default=function(e){return function(t){return new a(t,i,e)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"iconProvider",(function(){return O}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=(n(606),n(11)),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("ufo-icon")},b={s:12,m:16,l:24,xl:32,xxl:48,xxxl:64},_=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getClassName",value:function(){var e=this.props,t=e.size,n=e.mix,r=e.cls,i=e.className,o=y().m({size:t}).mix("icon");if(n){var a=n.filter(Boolean).map((function(e){return v()()(e.block).e(e.elem).m(e.mods)}));o=o.mix(a)}var s=this.getClassName;return s&&(o=s(o)),i&&(o=o.mix(String(i))),r?o.mix(String(r)):o}},{key:"getContentSVG",value:function(){throw"Should be implemented"}},{key:"_getContent",value:function(){if(this.getContent)return this.getContent();var e=this._getDefaultSize&&b[this._getDefaultSize()]||b.m,t=this.props.iconSize&&b[this.props.iconSize]||e,n=this.getViewBox&&this.getViewBox()||"0 0 ".concat(e," ").concat(e);return h.a.createElement("svg",{className:y().e("icon"),width:t,height:t,role:this.props.role,onClick:this.props.onClick,viewBox:n},this.getContentSVG())}},{key:"render",value:function(){return h.a.createElement("span",{className:this._getClassName()},this._getContent())}}]),n})(p.Component);_.defaultProps={onClick:function(){},role:"none"},_.displayName="icon";var O=function(e){return function(t){return h.a.createElement(e,{cls:t})}};t.default=_}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(805),a="object"==typeof self&&self&&self.Object===Object&&self,s=(o.a||a||Function("return this")()).Symbol,u=Object.prototype;u.hasOwnProperty,u.toString,s&&s.toStringTag;Object.prototype.toString;s&&s.toStringTag;Object.getPrototypeOf,Object;var c=Function.prototype,l=Object.prototype,f=c.toString;l.hasOwnProperty,f.call(Object);n(563);var d={INIT:"@@redux/INIT"};function p(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);var a=void 0;try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:d.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+d.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))})(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if(void 0===f){var d=p(u,t);throw new Error(d)}i[u]=f,r=r||f!==l}return r?i:e}}Object.assign;var m=n(311),v=n(100),g=n(21),y=n.n(g),b=function(e,t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;return i.type===n?e(i.payload,r):r}}},_=(b((function(e){return y()(e)}),[]),b((function(e,t){return Object.assign({},t,e)}),{})),O=(b((function(e){return Object.assign({},e)}),{}),b((function(e){return e}),""),n(83)),w=n.n(O),E=n(16),S=n(82),x=n.n(S),C=n(22),T=n(25),k=n(110),j=n(9),P=n.n(j),R=function(e,t,n){var r=e[t];r&&r.children&&Object.keys(r.children).forEach((function(o){var a=n(r.children[o],o);a&&(e[t]=Object.assign({},e[t],{children:Object.assign({},e[t].children,i()({},o,a))}))}))},A=function(e,t,n,r){R(e,n,(function(i,o){var a=i.ids,s=i.isComplete;if(!a.includes(t)){var u=(function(e,t,n,r){var i=e.type,o=n[t],a=P.a.reduce(o.children[r].ids,(function(e,t){return"file"===n[t].type?e.files.push(n[t]):"/trash"!==t&&e.dirs.push(n[t]),e}),{dirs:[],files:[]}),s=r.split("_"),u=w()(s,2),c=u[0],l=u[1],f=c;"type"===c?f="name":"size"!==c&&"append_time"!==c||(f="meta."+c);var d="file"===i?a.files:a.dirs,p=Object(k.sortedIndex)(d,e,(function(e,t){var n,r=P.a.get(e,f),i=P.a.get(t,f);if(void 0===r)n=-1;else if(void 0===i)n=1;else if("type"===c){var o=[r,i].map((function(e){return 1===(e=e.split(".")).length?e.unshift("0"):e.unshift(P.a.last(e)),e.join(".")}));n=o[0]>o[1]?1:-1}else n=r>i?1:-1;return"0"===l?-1*n:n}));return"file"===i&&(p+=a.dirs.length),p})(e[t],n,e,o);if(!r||s||u<a.length){var c=y()(a);return c.splice(u,0,t),Object.assign({},i,{ids:c})}}}))},I=function(e,t,n){R(e,n,(function(e){var n=e.ids,r=n.indexOf(t);if(-1!==r){var i=y()(n);return i.splice(r,1),Object.assign({},e,{ids:i})}}))},D=function(e,t,n,r,i){var o=P.a.get(e[n],i),a=P.a.get(t[n],i);o&&!a?I(t,n,r):a&&!o&&A(t,n,r,!0)},M=function(e){return!(!e||"file"!==e.type||e.isInTrash||!e.mtime)&&(e.id.startsWith("/disk")||e.id.startsWith("/photounlim"))},N=n(115),L={isLoaded:!1,invites:[],invitesByHash:{}},F={selected:[],highlighted:[],sort:{}},B=n(23);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={versions:[],subversions:{},iterationKey:null,error:!1,loading:!1},H={idContext:"",search:{query:"",scope:""},currentUrl:""},W={items:[],query:"",active:!1,state:"loading",error:null,sessionId:null},G=n(35),$=n.n(G).a.NOTIFICATIONS,q=$.TYPE,Y={promo:{all:[],visible:null,cooldown:$.DEFAULT_COOLDOWN,fetched:!1},service:{count:0}},K={},J=n(18),X=n(22).dirname,Z=n(25).isPathInsideVirtualDiskFiles,Q={visible:!1,opened:!1,totalUploadingSize:0,totalUploadedSize:0,resourcesToUpload:[],highlighted:[],insufficientStorageNotificationShown:!1,notifications:[],uploadingStatesByIds:{}},ee=function(e,t,n){e.resourcesToUpload=e.resourcesToUpload.map((function(e){return e===t?n:e})),e.uploadingStatesByIds[t]&&(e.uploadingStatesByIds=Object.assign({},e.uploadingStatesByIds,i()({},n,e.uploadingStatesByIds[t])),delete e.uploadingStatesByIds[t])},te=function(e,t,n,r,o){e[t]=Object.assign({},e[t]),n===J.UPLOAD_STATUSES.DONE&&(e[t][o?"loadedFolders":"loadedFiles"]+=1),n===J.UPLOAD_STATUSES.ERROR&&(e[t][o?"foldersErrors":"filesErrors"]+=1,Object(J.canRetryUpload)(r)&&e[t].retriableErrors++);var a=e[t],s=a.files,u=a.folders,c=a.loadedFiles,l=a.loadedFolders,f=a.filesErrors,d=a.foldersErrors;s===c+f&&u===l+d&&(f+d>0?e[t].status!==J.UPLOAD_STATUSES.ERROR&&Object.assign(e[t],{status:J.UPLOAD_STATUSES.ERROR,error:(function(e,t){var n,r=J.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,o=J.UPLOAD_ERRORS.ENTRY_READ_FAIL,a=J.UPLOAD_ERRORS.FILE_TOO_BIG,s=J.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT,u=J.UPLOAD_ERRORS.UNKNOWN,c=J.UPLOAD_ERRORS.SUBRESOURCE,l=J.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,f=(n={},i()(n,r,0),i()(n,o,0),i()(n,a,0),i()(n,s,0),i()(n,"other",0),n);return Object.keys(t).forEach((function(n){var i=t[n],u=i.rootFolderId,c=i.status,l=i.error;u===e&&c===J.UPLOAD_STATUSES.ERROR&&([r,o,a,s].includes(l)?f[l]++:f.other++)})),f[r]>0?r:(f[o]>0||f[a]>0||f[s]>0)&&0===f.other?l:t[e].retriableErrors>0?u:c})(t,e)}):e[t].status=J.UPLOAD_STATUSES.DONE)},ne=function(e,t,n,r){if(r===J.UPLOAD_ERRORS.INSUFFICIENT_STORAGE){if(e.insufficientStorageNotificationShown)return;e.insufficientStorageNotificationShown=!0}var i={id:t,type:n,data:{resourceId:t,reason:r}},o=J.UPLOAD_ERRORS.CONFLICT===r?e.notifications.findIndex((function(e){var t=e.data;return(t=void 0===t?{}:t).reason===J.UPLOAD_ERRORS.CONFLICT})):-1;e.notifications=-1!==o?[].concat(y()(e.notifications.slice(0,o)),[i],y()(e.notifications.slice(o))):[].concat(y()(e.notifications),[i])},re=function(e,t){var n=Array.isArray(t)?t:[t];e.notifications=e.notifications.filter((function(e){var t=e.id;return!n.includes(t)}))},ie=function(e,t,n){var r=Object.assign({},e,{uploadingStatus:J.UPLOAD_STATUSES.UPLOADING,uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return n&&(r.uploadingStatesByIds[n]=Object.assign({},r.uploadingStatesByIds[n])),t.forEach((function(e){var t=e.id,i=e.isDirectory,o=e.size,a=e.readFail;r.uploadingStatesByIds[t]&&delete r.uploadingStatesByIds[t];var s={loaded:0,total:o,status:J.UPLOAD_STATUSES.ENQUEUED};a&&(Object.assign(s,{status:J.UPLOAD_STATUSES.ERROR,error:J.UPLOAD_ERRORS.ENTRY_READ_FAIL}),n&&(r.uploadingStatesByIds[n][i?"foldersErrors":"filesErrors"]+=1)),i&&!n&&Object.assign(s,{files:0,folders:0,loadedFiles:0,loadedFolders:0,filesErrors:0,foldersErrors:0,retriableErrors:0}),n&&(s.rootFolderId=n,r.uploadingStatesByIds[n][i?"folders":"files"]+=1,r.uploadingStatesByIds[n].total+=o),r.uploadingStatesByIds[t]=s,r.totalUploadingSize+=o})),r},oe=function(e,t){Object.keys(e).forEach((function(n){t(e[n])&&(e[n]=Object.assign({},e[n],{status:J.UPLOAD_STATUSES.ENQUEUED}),delete e[n].error)}))},ae=function(e){Object.assign(e,{visible:!1,opened:!1,resourcesToUpload:[],uploadingStatesByIds:{},totalUploadingSize:0,totalUploadedSize:0})},se=function(e,t,n){var r=n.id;if(e.uploadingStatesByIds[r]){var i=e.uploadingStatesByIds[r].status;t.uploadingStatesByIds[r]=Object.assign({},P.a.omit(t.uploadingStatesByIds[r],"needCancel"),P.a.pick(n,["status","error","isDirectory"]));var o=t.uploadingStatesByIds[r],a=o.status,s=o.error,u=o.isDirectory,c=o.rootFolderId,l=o.files,f=o.folders;c&&[J.UPLOAD_STATUSES.DONE,J.UPLOAD_STATUSES.ERROR].includes(a)&&te(t.uploadingStatesByIds,c,a,s,u),a===J.UPLOAD_STATUSES.UPLOADING&&u&&!c&&0===l&&0===f&&(t.uploadingStatesByIds[r].status=J.UPLOAD_STATUSES.DONE),a===J.UPLOAD_STATUSES.CONFLICT&&ne(t,r,J.UPLOAD_NOTIFICATION_TYPES.SERVICE,J.UPLOAD_ERRORS.CONFLICT),a===J.UPLOAD_STATUSES.ERROR&&(u&&s===J.UPLOAD_ERRORS.FOLDER_NOT_CREATED&&(function e(t,n,r){Object.keys(t).forEach((function(i){X(i)===n&&(t[i]=Object.assign({},t[i],r),te(t,t[i].rootFolderId,r.status,r.error,t[i].isDirectory),t[i].isDirectory&&e(t,i,r))}))})(t.uploadingStatesByIds,r,{status:J.UPLOAD_STATUSES.ERROR,error:J.UPLOAD_ERRORS.PARENT_FOLDER_CREATE_FAIL}),s!==J.UPLOAD_ERRORS.INSUFFICIENT_STORAGE||Z(r)||ne(t,r,J.UPLOAD_NOTIFICATION_TYPES.SERVICE,J.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)),a===J.UPLOAD_STATUSES.ENQUEUED&&(delete t.uploadingStatesByIds[r].error,u&&!c&&(function(e,t){Object.assign(e[t],{foldersErrors:0,filesErrors:0,retriableErrors:0}),oe(e,(function(e){return e.rootFolderId===t&&e.status===J.UPLOAD_STATUSES.ERROR}))})(t.uploadingStatesByIds,r)),a===J.UPLOAD_STATUSES.CANCELED&&(Object(J.canCancelUpload)(i)||e.uploadingStatesByIds[r].needCancel?(function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t}));var n=e.uploadingStatesByIds[t],r=n.rootFolderId,i=n.total,o=n.loaded,a=n.isDirectory;r||a||(e.totalUploadingSize-=i,e.totalUploadedSize-=o),re(e,t),a&&Object.keys(e.uploadingStatesByIds).forEach((function(n){if(e.uploadingStatesByIds[n].rootFolderId===t){var r,i=e.uploadingStatesByIds[n];Object(J.canCancelUpload)(i.status)?(r={status:J.UPLOAD_STATUSES.CANCELED},e.totalUploadingSize-=i.total,e.totalUploadedSize-=i.loaded):Object(J.willCanCancelUpload)(i.status)&&(r={needCancel:!0}),r&&(e.uploadingStatesByIds[n]=Object.assign({},i,r))}})),0===e.resourcesToUpload.length&&ae(e)})(t,r):(Object(J.willCanCancelUpload)(i)&&(t.uploadingStatesByIds[r].needCancel=!0),t.uploadingStatesByIds[r].status=i)),a===J.UPLOAD_STATUSES.UPLOADING&&u&&!c&&Object(J.canRetryUpload)(s)&&(function(e,t){var n=e[t],r=n.retriableErrors;delete n.error,Object.assign(n,{filesErrors:n.filesErrors-r,retriableErrors:0}),oe(e,(function(e){return e.rootFolderId===t&&e.status===J.UPLOAD_STATUSES.ERROR&&Object(J.canRetryUpload)(e.error)}))})(t.uploadingStatesByIds,r)}},ue=function(e){var t=0,n=0;e.resourcesToUpload.forEach((function(r){e.uploadingStatesByIds[r].status===J.UPLOAD_STATUSES.DONE&&(t+=1),[J.UPLOAD_STATUSES.ERROR,J.UPLOAD_STATUSES.CONFLICT].includes(e.uploadingStatesByIds[r].status)&&(n+=1)})),e.resourcesToUpload.length&&t===e.resourcesToUpload.length?(e.totalUploadingSize=0,e.totalUploadedSize=0,e.uploadingStatus=J.UPLOAD_STATUSES.DONE):t+n===e.resourcesToUpload.length?e.uploadingStatus=J.UPLOAD_STATUSES.ERROR:e.uploadingStatus=J.UPLOAD_STATUSES.UPLOADING},ce=function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t})),re(e,t),ue(e),0===e.resourcesToUpload.length&&ae(e)},le=n(123),fe=n(64),de=n(160);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(fe.getPreloadedData)("favoriteAlbum"),ve=Object(fe.getPreloadedData)("familyAlbum"),ge={isLoading:!1,isLoaded:!1,isCompleted:!1,ids:[],creatingAlbumsCount:0,isPublishSelected:!1,lastCreatedAlbumId:null,newAlbumTitle:"",scrollInAlbums:null,returnPath:"/client/albums",deletedItems:{},isSelectingPhotos:!1,albumsByIds:he(he({},me?i()({},me.id,me):{}),ve?i()({},ve.id,ve):{}),favoriteAlbumId:(me||{}).id,familyAlbumId:(ve||{}).id},ye=function(e,t,n){e.deletedItems=Object.assign({},e.deletedItems),e.deletedItems[t]=Object.assign({},e.deletedItems[t],i()({},n.id,n))},be=function(e,t,n,r,i){if(!e.albumsByIds[t]||!e.albumsByIds[t].clusters)return!1;e.albumsByIds=Object.assign({},e.albumsByIds);var o=e.albumsByIds[t]=Object.assign({},e.albumsByIds[t]);if(["geo","faces"].includes(o.album_type)){var a=o.bufferedPhotos.findIndex((function(e){return e.id===r}));if(-1!==a){var s=o.bufferedPhotos[a];return o.bufferedPhotos=o.bufferedPhotos.filter((function(e){return e.id!==r})),n&&ye(e,t,s),!0}}var u=Object(le.c)(o,{id:r});if(!u)return!1;var c=u.clusterIndex,l=u.resourceIndex;o.clusters=y()(o.clusters);var f=y()(o.clusters[c].items);if(i)f.splice(l,1,Object.assign({},f[l],{id:i})),o.coverResourceId===r&&(o.coverResourceId=i);else{var d=f.splice(l,1),p=w()(d,1)[0];n&&ye(e,t,p)}return o.clusters[c]=Object.assign({},o.clusters[c],{size:f.length,items:f}),o.is_empty=!(f.length||1!==o.clusters.length&&o.clusters.find((function(e){return e.size>0}))),!0},_e=function(e,t){var n=e.albumsByIds[t];["geo","faces"].includes(n.album_type)?(function(e,t){var n=e.albumsByIds[t],r=n.clusters.filter((function(e){return e.size>0})).map((function(e){var t=e.items[0].resourceTime,n=e.items[e.items.length-1].resourceTime;return Object.assign({},e,{from:t,fromDay:Object(de.getDateWithoutTime)(t),to:n,toDay:Object(de.getDateWithoutTime)(n),size:e.items.length})}));e.albumsByIds[t]=Object.assign({},n,{clusters:r,structureVersion:n.structureVersion+1})})(e,t):(function(e,t){var n,r=[],i={id:1,items:[]},o=e.albumsByIds[t].clusters.filter((function(e){return e.size>0}));o.forEach((function(e,t){e.items.forEach((function(n,a){var s=t===o.length-1&&a===e.items.length-1;i.items.push(n),(i.items.length===G.PORTION_SIZE||s)&&(i.size=i.items.length,r.push(i),i={id:i.id+1,items:[]})}))})),r.length>1&&r[r.length-1].size<10&&((n=r[r.length-2].items).push.apply(n,y()(r[r.length-1].items)),r[r.length-2].size+=r[r.length-1].size,r.pop());e.albumsByIds[t]=Object.assign({},e.albumsByIds[t],{clusters:r,structureVersion:e.albumsByIds[t].structureVersion+1})})(e,t)},Oe=function(e,t){var n=Object.assign({},e),r={};t.forEach((function(e){var t=e.src,i=e.dst;t.albumIds&&t.albumIds.forEach((function(e){be(n,e,!0,t.id,!i.isInTrash&&i.id)&&(r[e]=!0)}))}));var i=Object.keys(r);return i.length?(i.forEach((function(e){_e(n,e)})),n):e},we=function(e,t,n){return Object.assign({},e,i()({},t,Object.assign({},e[t],n)))},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return[];for(var t=[Object.assign({},e[0])],n=1;n<e.length;n++){var r=e[n],i=P.a.last(t);(r.size<10||i.size<10)&&Object(de.isSameMonth)(r.fromDay,i.fromDay)?Object.assign(i,{to:r.to,toDay:r.toDay,items:[].concat(y()(i.items),y()(r.items)),size:i.size+r.size}):t.push(Object.assign({},r))}return t},Se=function(e,t){var n=e.isCompleted,r=y()(e.clusters||[]);if(r.length>0&&(e.bufferedPhotos||[]).length>0){var i=P.a.last(r),o=P.a.first(e.bufferedPhotos),a=P.a.last(e.bufferedPhotos),s=Object(de.getDateWithoutTime)(o.resourceTime),u=Object(de.getDateWithoutTime)(a.resourceTime);u.getTime()===i.toDay.getTime()?r[r.length-1]=Object.assign({},i,{items:[].concat(y()(i.items),y()(e.bufferedPhotos)),size:i.size+e.bufferedPhotos.length,to:a.resourceTime,toDay:Object(de.getDateWithoutTime)(a.resourceTime)}):r.push({id:s,from:o.resourceTime,fromDay:s,to:a.resourceTime,toDay:u,items:e.bufferedPhotos,size:e.bufferedPhotos.length})}e.bufferedPhotos=[];var c=t.reduce((function(e,t){var n=Object(de.getDateWithoutTime)(t.resourceTime),r=P.a.last(e);return r&&r.toDay.getTime()===n.getTime()?(r.items.push(t),r.size++,r.to=t.resourceTime):e.push({id:n,from:t.resourceTime,fromDay:n,to:t.resourceTime,toDay:n,items:[t],size:1}),e}),[]),l=P.a.last(r),f=l&&c.length>0&&l.toDay.getTime()===c[0].fromDay.getTime(),d=f?[c[0]].concat(y()(Ee(c.slice(1)))):y()(Ee(c));if(!n){var p=P.a.last(d),h=[];p.items.length<20?(d.pop(),h=p.items):(h=p.items.slice(-10),p.items=p.items.slice(0,-10),p.size=p.items.length),e.bufferedPhotos=h}if(f){var m=d.shift();r[r.length-1]=Object.assign({},l,{items:[].concat(y()(l.items),y()(m.items)),size:l.size+m.size,to:m.to})}e.clusters=[].concat(y()(r),y()(d))},xe=function(e,t,n){e.albumsByIds=Object.assign({},e.albumsByIds,i()({},t,Object.assign({},e.albumsByIds[t],{is_empty:!1})));var r=e.albumsByIds[t];["geo","faces"].includes(r.album_type)?(function(e,t,n,r){var i=Object.assign({},r),o=(n.clusters||[]).reduce((function(e,t){return[].concat(y()(e),y()(t.items))}),[]).concat(n.bufferedPhotos),a=Object(k.sortedIndex)(o,i,(function(e,t){return t.resourceTime-e.resourceTime}));o.splice(a,0,i),n.bufferedPhotos=[],n.clusters=[],Se(n,o)})(0,0,r,n):(function(e,t,n,r){n.clusters&&n.clusters.length||(n.clusters=[{items:[]}]);var i=ve&&ve.id===t?Object(le.b)(n,r):Object(le.a)(n,r),o=i.clusterIndex,a=i.resourceIndex,s=y()(n.clusters[o].items);s.splice(a,0,r),n.clusters=y()(e.albumsByIds[t].clusters),n.clusters[o]=Object.assign({},n.clusters[o],{items:s,size:s.length})})(e,t,r,n)},Ce=n(77),Te=n(197),ke={id:"geo"},je={id:"faces"},Pe={id:"favorites",name:"Избранные"},Re={id:"family",name:"Альбом семьи"},Ae={isLoaded:!1,isLoading:!0,albums:{favorite:Pe,family:Re,camera:{id:"camera",count:0,name:"Камера"},videos:{id:"videos",count:0,name:"Видео"},screenshots:{id:"screenshots",count:0,name:"Скриншоты"},geo:ke,beautiful:{id:"beautiful",count:0,name:"Красивые"},unbeautiful:{id:"unbeautiful",count:0,name:"Разобрать"}},isOpenFamilyOnboarding:!1,isOpenFamilyAlbumOnboarding:!1},Ie=function(e){var t=e.state,n=e.initialAlbum,r=e.currentAlbum,o=e.path;if(!r||r.is_empty){var a=Object.assign({},t.albums,i()({},o,Object.assign({},n,r?{personalAlbumId:r.id}:{})));return Object.assign({},t,{albums:a})}var s=P.a.get(r,"cover.meta.sizes"),u=r.count,c=Object.assign({},n,s&&{preview:Object(Te.a)(s,"DEFAULT")},{personalAlbumId:r.id},u&&{count:u}),l=Object.assign({},t.albums,i()({},o,c));return Object.assign({},t,{albums:l})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce.h:return Object.assign({},e,t.payload);case Ce.c:var n=t.payload.albums,r=e.albums,i={};return Object.keys(r).forEach((function(e){var o=n[e];!t.payload.single&&!o&&r[e]&&r[e].count&&(o={count:0}),o&&o.ids&&(o.ids=o.ids.length?[].concat(y()(r[e].ids||[]),y()(o.ids)):[]),i[e]=Object.assign({},r[e],o)})),Object.assign({},e,{albums:i});case E.REMOVE_ALBUM:if(!t.payload.albumType||!e.albums[t.payload.albumType])return e;var o=e.albums[t.payload.albumType],a=o.ids?o.ids.filter((function(e){return e!==t.payload.id})):[];if(!o.ids||o.ids===a.length)return e;var s=Object.assign({},e.albums);return s[t.payload.albumType]=Object.assign({},s[t.payload.albumType],{ids:a}),Object.assign({},e,{albums:s});case Ce.e:if(!t.payload.length){var u=Object.assign({},e.albums,{geo:null});return Object.assign({},e,{albums:u})}var c=P.a.get(t.payload[0],"cover.object.meta.sizes"),l=Object.assign({},ke,e.albums.geo,c&&{preview:Object(Te.a)(c,"DEFAULT")}),f=Object.assign({},e.albums,{geo:l});return Object.assign({},e,{albums:f});case Ce.d:if(!t.payload.album.length){var d=Object.assign({},e.albums,{faces:null});return Object.assign({},e,{albums:d})}var p=t.payload.album[0],h=P.a.get(p,"cover.object.meta.sizes"),m=P.a.pick(P.a.get(p,"cover"),["face_bottom","face_top","face_left","face_right","width","height"]),v=Object.assign({},je,e.albums.faces,(t.payload.refresh||!(e.albums.faces&&e.albums.faces.preview))&&h&&{preview:Object(Te.a)(h,"DEFAULT"),previewAlbumId:P.a.get(p,"id"),previewResourceId:P.a.get(p,"cover.object.id"),cover:m}),g=Object.assign({},e.albums,{faces:v});return Object.assign({},e,{albums:g});case Ce.j:return Ie({state:e,path:"favorite",initialAlbum:Pe,currentAlbum:t.payload.length?t.payload[0]:void 0});case Ce.g:return Object.assign({},e,{isOpenFamilyOnboarding:!0});case Ce.b:return Object.assign({},e,{isOpenFamilyOnboarding:!1});case Ce.f:return Object.assign({},e,{isOpenFamilyAlbumOnboarding:!0});case Ce.a:return Object.assign({},e,{isOpenFamilyAlbumOnboarding:!1});case Ce.i:return Ie({state:e,path:"family",initialAlbum:Re,currentAlbum:t.payload.length?t.payload[0]:void 0});default:return e}},Me=n(327),Ne=n.n(Me),Le=n(267),Fe=n.n(Le),Be=n(546),Ue=n.n(Be),ze=n(253),Ve=n.n(ze),He={user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_USER:var n=Object.assign({},e);return Object.assign({},P.a.omit(n,["overdraft_status","overdraft_block_date"]),t.payload);default:return e}},environment:_(E.UPDATE_ENVIRONMENT),config:_(E.UPDATE_CONFIG),defaultFolders:_(E.UPDATE_DEFAULT_FOLDERS),settings:_(E.UPDATE_SETTINGS),space:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_SPACE:return Object.assign({},e,t.payload);default:return e}},billingProducts:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},rememberBlock:_(E.UPDATE_REMEMBER_BLOCK),page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_PAGE:return Object.assign({},e,t.payload,{search:Object.assign({},e.search,t.payload.search)});case E.UPDATE_SEARCH:return Object.assign({},e,{search:Object.assign({},e.search,t.payload)});case E.MOVE_CLONED_RESOURCES:case E.CANCEL_MOVE_CLONED_RESOURCE:case E.DESTROY_RESOURCE:case E.EXCLUDE_RESOURCES_FROM_ALBUM:case E.REMOVE_ITEMS_FROM_ALBUM:return t.payload.newIdDialog||""===t.payload.newIdDialog?Object.assign({},e,{idDialog:t.payload.newIdDialog}):e;default:return e}},scrollToResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_SCROLL_TO_RESOURCE:return Object.assign({},e,t.payload);case E.UPDATE_PAGE:return"select"===t.payload.dialog?Object.assign({},e,{id:t.payload.idDialog,shouldSelect:!0}):t.payload.selectResource?Object.assign({},e,{id:t.payload.selectResource,shouldSelect:!0}):e;default:return e}},versions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_VERSIONS:var n=t.payload,r=n.data,o=n.error,a=n.parentId,s=n.clean,u=n.loading;if(r){var c=r.versions,l=r.iteration_key,f=!Boolean(l);if(a){var d=(!s&&e.subversions[a]&&e.subversions[a].versions?e.subversions[a].versions:[]).concat(c);return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:!1,completed:f,versions:d,iterationKey:l})))})}var p=c.reduce((function(e,t){return t.folded_items_iteration_key&&(e[t.id]={loading:!1,completed:!1,opened:!1,versions:[],iterationKey:t.folded_items_iteration_key}),e}),{});return Object.assign({},e,{subversions:Object.assign(p,s?{}:e.subversions),loading:u,error:!1,completed:f,versions:(s?[]:e.versions).concat(c),iterationKey:l})}return a?Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:o})))}):Object.assign({},e,{loading:u,error:o});case E.TOGGLE_SUBVERSIONS:var h=t.payload.parentId;return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},h,Object.assign({},e.subversions[h],{opened:!e.subversions[h].opened})))});case E.CLEAN_VERSIONS:return V;default:return e}},statesContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_SORT:if(!t.payload.idContext)return e;var n=Object.assign({},e.sort,i()({},t.payload.idContext,{sort:t.payload.sort,order:t.payload.order}));return Object.assign({},e,{sort:n});case E.DESELECT_RESOURCES:var r=!1,o=e.selected.slice();return t.payload.resourcesIds.forEach((function(e){var t=o.indexOf(e);-1!==t&&(o.splice(t,1),r=!0)})),r?Object.assign({},e,{selected:o}):e;case E.DESELECT_ALL:return e.selected.length?Object.assign({},e,{selected:[]}):e;case E.SET_SELECTED:return Object.assign({},e,{selected:t.payload.selected});case E.ADD_TO_SELECTED:return Object.assign({},e,{selected:P.a.union(e.selected,t.payload.resourcesIds)});case E.SET_HIGHLIGHTED:return Object.assign({},e,{highlighted:t.payload.highlighted});case E.SET_VIEW:return Object.assign({},e,{view:t.payload.view});default:return e}},invitesToFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_INVITES_TO_FOLDERS:var n={},r=[];return t.payload.forEach((function(t){n[t.hash]=Object.assign({},t,{status:N.a.INITIAL},e.invitesByHash[t.hash]),r.push(t.hash)})),Object.assign({},e,{isLoaded:!0,invites:r,invitesByHash:n});case E.UPDATE_INVITE_TO_FOLDER:return Object.assign({},e,{invitesByHash:Object.assign({},e.invitesByHash,i()({},t.payload.hash,Object.assign({},e.invitesByHash[t.payload.hash]||{},t.payload)))});case E.REMOVE_INVITE_TO_FOLDER:var o=Object.assign({},e.invitesByHash);return delete o[t.payload.hash],Object.assign({},e,{invites:e.invites.filter((function(e){return e!==t.payload.hash})),invitesByHash:o});default:return e}},sharedFoldersUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_SHARED_FOLDERS_USERS:var n=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},n,{users:t.payload.users})));case E.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE:var r=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},r,{isLoading:t.payload.isLoading})));default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.updateList.type:case E.FETCH_ALBUM_SUCCESS:case E.ADD_ITEMS_TO_ALBUM:case E.UPDATE_CLUSTERS_AND_RESOURCES:case E.UPDATE_RESOURCES:if(!t.payload.resources)return e;var n=t.payload.resources.reduce((function(t,n){return t[n.id]=Object.assign({},e[n.id],t[n.id],n),t}),{}),r=Object.assign({},e,n);return Object.keys(n).forEach((function(t){var n,i=0!==P.a.get(r[t],"meta.group.is_root",0),o="family"===P.a.get(r[t],"meta.group.group_type","default");D(e,r,t,"/published","meta.public"),D(e,r,t,"/shared","meta.group.is_root"),i&&o&&D(e,r,t,"/family","meta.group.group_type"),(M(e[t])||M(r[t]))&&P.a.get(e[t],"mtime")!==P.a.get(r[t],"mtime")&&(I(r,t,"/recent"),M(r[t])&&A(r,t,"/recent",!0));var a=Object(C.dirname)(t);null!==(n=e[a])&&void 0!==n&&n.children&&e[t]&&(P.a.get(e[t],"mtime")!==P.a.get(r[t],"mtime")||P.a.get(e[t],"name")!==P.a.get(r[t],"name")||P.a.get(e[t],"size")!==P.a.get(r[t],"size"))&&(I(r,t,a),A(r,t,a,!0))})),r;case E.MOVE_CLONED_RESOURCES:var o=Object.assign({},e),a=!1,s=o[t.payload.idContext],u=s&&s.id.startsWith("/remember/"),c=s&&"/photo"===s.id,l=s&&(s.id.startsWith("/search/")||Object(T.isVirtualDiskSearchPath)(s.id));return t.payload.resources.forEach((function(e){var n=e.src,r=e.dst;if(!r.isInTrash){if(u){var f=(s=o[t.payload.idContext])&&s.children||[],d=f.indexOf(n.id);if(-1!==d){var p,h=[].concat(y()(f.slice(0,d)),[r.id],y()(f.slice(d+1)));o=Object.assign({},o,(p={},i()(p,s.id,Object.assign({},s,{children:h})),i()(p,r.id,Object.assign({},r)),p)),a=!0}}c&&(o=Object.assign({},o,i()({},r.id,Object.assign({},r))),a=!0),l&&R(o,t.payload.idContext,(function(e){var t=e.ids,i=t.indexOf(n.id);if(-1!==i){var o=y()(t);return o.splice(i,1,r.id),a=!0,Object.assign({},e,{ids:o})}}))}})),a?o:e;case E.DESTROY_RESOURCE:var f=e[t.payload.id];if(!f)return e;var d=f.parents&&f.parents.length&&f.parents[f.parents.length-1].id,p=Object.assign({},e);return delete p[t.payload.id],[d,"/recent","/shared","/published","/family"].forEach((function(e){I(p,t.payload.id,e)})),p;case E.CREATE_RESOURCES:var h=Object.assign({},e);return t.payload.forEach((function(e){var t=e.id,n=e.options,r=h[t];if(r){var i=Object(C.dirname)(t),o=0!==P.a.get(r,"meta.group.is_root",0),a="family"===P.a.get(r,"meta.group.group_type","default");A(h,t,i,n.insertOnlyIfPortionLoaded),P.a.get(r,"meta.public")&&A(h,t,"/published",n.insertOnlyIfPortionLoaded),P.a.get(r,"meta.group.is_root")&&A(h,t,"/shared",n.insertOnlyIfPortionLoaded),o&&a&&A(h,t,"/family",n.insertOnlyIfPortionLoaded),M(r)&&A(h,t,"/recent",n.insertOnlyIfPortionLoaded)}})),h;case E.DESTROY_RESOURCE_CHILDREN:var m=e[t.payload.parentId];if(!m)return e;var v=Object.assign({},e),g={};return m.children&&Object.keys(m.children).forEach((function(e){(m.children[e].ids||[]).forEach((function(e){delete v[e]})),g[e]=Object.assign({},m.children[e],{ids:[],countLost:0},t.payload.resetComplete?{isComplete:!1}:{})})),v[t.payload.parentId]=Object.assign({},m,{children:g}),v;default:return e}},resourcesFotkiMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_RESOURCES_FOTKI_META:var n=Object.assign({},t.payload.data);return t.payload.data&&t.payload.data.comments&&(n.comments=(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],i=[];return t.forEach((function(e){!n&&!e.parentId||e.parentId===n?r.push(e):i.push(e)})),r.forEach((function(t,n){r[n].replies=e(i,t.id)})),r})(t.payload.data.comments)),Object.assign({},e,i()({},t.payload.resourceId,{data:n,state:t.payload.state}));default:return e}},dialogs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=t[n.payload&&n.payload.dialog]||{};switch(n.type){case E.OPEN_DIALOG:return e=r.state===B.STATE.OPENED?Object.assign({},r.data,n.payload.data):Object.assign({},n.payload.data),Object.assign({},t,i()({},n.payload.dialog,{state:B.STATE.OPENED,data:e}));case E.UPDATE_DIALOG:var o=t[n.payload.dialog]&&t[n.payload.dialog].state||B.STATE.CLOSED;return Object.assign({},t,i()({},n.payload.dialog,{state:o,data:Object.assign({},r.data,n.payload.data)}));case E.CLOSE_DIALOG:return Object.assign({},t,i()({},n.payload.dialog,{state:B.STATE.CLOSED,data:Object.assign({},r.data,n.payload.data)}));case E.DESTROY_RESOURCE:return t.selectFolder&&t.selectFolder.state===B.STATE.OPENED&&(n.payload.id===t.selectFolder.data.folderId||Object(C.isParent)(n.payload.id,t.selectFolder.data.folderId))?z(z({},t),{},{selectFolder:z(z({},t.selectFolder),{},{data:z(z({},t.selectFolder.data),{},{folderId:"/disk"})})}):t;default:return t}},suggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_SUGGEST_QUERY:return Object.assign({},e,{query:t.payload,state:"loading"});case E.UPDATE_SUGGEST_ACTIVATION:return Object.assign({},e,{active:t.active});case E.UPDATE_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,error:t.payload.error,items:t.payload.items?t.payload.items:e.items});case E.APPEND_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,items:e.items.concat(t.payload.items)});case E.START_SEARCH_SESSION:return Object.assign({},e,{sessionId:t.payload});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_NOTIFICATIONS:return[q.PROMO,q.SERVICE].includes(t.payload.type)?Object.assign({},e,i()({},t.payload.type,Object.assign({},e[t.payload.type],t.payload))):e;case E.HIDE_NOTIFICATION:return t.payload.type===q.PROMO?Object.assign({},e,{promo:Object.assign({},e.promo,{visible:null})}):e;default:return e}},promo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return(arguments.length>1?arguments[1]:void 0).type,e},uploader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.START_UPLOAD:var n=t.payload,r=n.states,i=n.position,o=void 0===i?0:i,a=r.map((function(e){return e.id}));return Object.assign(ie(e,r),{visible:!0,opened:!0,resourcesToUpload:P.a.uniq([].concat(y()(e.resourcesToUpload.slice(0,o)),y()(a),y()(e.resourcesToUpload.slice(o))))});case E.HIDE_UPLOADER:var s=Object.assign({},e);return ae(s),s;case E.OPEN_UPLOADER:return Object.assign({},e,{opened:!0});case E.CLOSE_UPLOADER:return Object.assign({},e,{opened:!1});case E.SET_HIGHLIGHTED_UPLOAD_RESOURCES:return Object.assign({},e,{highlighted:t.payload});case E.REMOVE_UPLOAD_RESOURCES_IDS:return Object.assign({},e,{resourcesToUpload:P.a.difference(e.resourcesToUpload,t.payload)});case E.MOVE_CLONED_RESOURCES:if(!e.visible)return e;var u=Object.assign({},e);return t.payload.resources.forEach((function(e){var t=e.src,n=e.dst;t.state&&t.state.reuploaded||(n.isInTrash?ce(u,t.id):ee(u,t.id,n.id))})),u;case E.CANCEL_MOVE_CLONED_RESOURCE:if(!e.visible)return e;var c=Object.assign({},e);return ee(c,t.payload.dst.id,t.payload.src.id),c;case E.DESTROY_RESOURCE:if(!e.visible)return e;var l=Object.assign({},e),f=t.payload.id;if(l.uploadingStatesByIds[f]){if(l.uploadingStatesByIds=Object.assign({},l.uploadingStatesByIds),se(e,l,{id:f,status:J.UPLOAD_STATUSES.CANCELED}),!l.uploadingStatesByIds[f])return l;var d=l.uploadingStatesByIds[f],p=d.status,h=d.needCancel;p===J.UPLOAD_STATUSES.CANCELED||h||(l.uploadingStatesByIds[f].isDirectory&&Object.keys(l.uploadingStatesByIds).forEach((function(e){var t=l.uploadingStatesByIds[e],n=t.rootFolderId,r=t.status,i=t.needCancel;n!==f||r===J.UPLOAD_STATUSES.CANCELED||i||delete l.uploadingStatesByIds[e]})),delete l.uploadingStatesByIds[f]),ce(l,f)}return l;case E.HIDE_UPLOAD_NOTIFICATION:var m=Object.assign({},e);return re(m,t.payload),m;case E.INIT_UPLOADING_STATES:var v=t.payload,g=v.states,b=v.rootFolderId;return ie(e,g,b);case E.UPDATE_UPLOADING_STATE:if(!e.visible)return e;var _=Object.assign({},e,{uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){se(e,_,t)})),ue(_),_;case E.UPDATE_UPLOADING_PROGRESS:if(!e.visible)return e;var O=Array.isArray(t.payload)?t.payload:[t.payload],w=Object.assign({},e.uploadingStatesByIds),S=e.totalUploadedSize,x=!1;return O.forEach((function(e){var t=e.id,n=e.loaded,r=e.total,i=w[t];if(i&&i.status!==J.UPLOAD_STATUSES.CANCELED){var o=i.rootFolderId;if(!o||w[o]&&w[o].status!==J.UPLOAD_STATUSES.CANCELED){x=!0;var a=n-i.loaded;w[t]=Object.assign({},i,{loaded:n,total:r}),n===r&&w[t].status===J.UPLOAD_STATUSES.UPLOADING&&(w[t].status=J.UPLOAD_STATUSES.UPLOADED),o&&(w[o]=Object.assign({},w[o],{loaded:w[o].loaded+a})),S+=a}}})),x?Object.assign({},e,{totalUploadedSize:S,uploadingStatesByIds:w}):e;default:return e}},personalAlbums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.CREATE_ALBUM:var n=Object.assign({},e);return n.lastCreatedAlbumId=null,n.isPublishSelected=!!t.payload.isPublishSelected,n.creatingAlbumsCount++,n;case E.CREATE_ALBUM_SUCCESS:var r=Object.assign({},e);return r.creatingAlbumsCount&&r.creatingAlbumsCount--,r.lastCreatedAlbumId=t.payload.id,r.albumsByIds=we(r.albumsByIds,t.payload.id,t.payload),r.ids=[t.payload.id].concat(y()(r.ids||[])),r;case E.FETCH_ALBUMS_LIST_SUCCESS:var o=Object.assign({},e);return t.payload.albums.forEach((function(e){o.albumsByIds=we(o.albumsByIds,e.id,e)})),!t.payload.albumType&&t.payload.ids&&(o.ids=[].concat(y()(o.ids||[]),y()(t.payload.ids))),o;case E.REMOVE_ALBUM:var a=e.ids.filter((function(e){return e!==t.payload.id}));if(e.ids.length===a.length)return e;var s=Object.assign({},e);return s.ids=a,s.albumsByIds=Object.assign({},s.albumsByIds),delete s.albumsByIds[t.payload.id],s;case E.CREATE_ALBUM_FAIL:var u=Object.assign({},e);return u.creatingAlbumsCount--,u.isPublishSelected=!1,u;case E.UPDATE_ALBUM:var c=Object.assign({},e);return c.albumsByIds=we(c.albumsByIds,t.payload.id,t.payload),"favorites"===t.payload.album_type&&(c.favoriteAlbumId=t.payload.id),"family"===t.payload.album_type&&(c.familyAlbumId=t.payload.id),c;case E.UPDATE_ALBUMS_COMMON_DATA:return Object.assign({},e,t.payload);case E.FETCH_ALBUM_SUCCESS:var l=t.payload,f=l.album,d=l.resources,p=Object.assign({},e),h=P.a.omit(f,["items"]),m=f.items.length<G.PORTION_SIZE,v=Object.assign({},p.albumsByIds[f.id],{isLoading:!1,isCompleted:m},h);if(v.clusters=v.clusters||[],v.structureVersion=v.structureVersion||0,v.structureVersion++,!["geo","faces"].includes(v.album_type)&&f.items.length){var g=f.items.filter((function(e){var t=e.itemId;return!Object(le.c)(v,{itemId:t})}));if(g.length){var b=v.clusters=y()(v.clusters);if(!b.length||b.length&&b[b.length-1].items.length>10)v.clusters.push({id:v.clusters.length+1,size:g.length,items:g});else{var _=Object.assign({},b[b.length-1]);_.items=[].concat(y()(_.items),y()(g)),_.size=_.items.length,b[b.length-1]=_}}}else if(["geo","faces"].includes(v.album_type)){var O=f.items.map((function(e,t){var n=d[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}));Se(v,O)}return"favorites"===f.album_type&&(p.favoriteAlbumId=f.id),"family"===f.album_type&&(p.familyAlbumId=f.id),p.albumsByIds=we(p.albumsByIds,f.id,v),p;case E.MOVE_CLONED_RESOURCES:return Oe(e,t.payload.resources);case E.CANCEL_MOVE_CLONED_RESOURCE:var w=t.payload,S=w.src,x=w.dst;return Oe(e,[{src:x,dst:S}]);case E.REMOVE_ITEMS_FROM_ALBUM:var C=Object.assign({},e),T=t.payload,k=T.albumId,j=T.resourcesIds;if(!C.albumsByIds[k]||!C.albumsByIds[k].clusters)return e;var R=!1;return j.forEach((function(e){R=be(C,k,!0,e)||R})),R?(_e(C,k),C):e;case E.DESTROY_RESOURCE:var A=t.payload.data,I=Object.assign({},e),D=!1;return A.albumIds&&A.albumIds.forEach((function(e){be(I,e,!1,A.id)&&(D=!0,_e(I,e)),P.a.get(I,"deletedItems['".concat(e,"']['").concat(A.id,"']"))&&(I.deletedItems=Object.assign({},I.deletedItems,i()({},e,Object.assign({},I.deletedItems[e]))),I.deletedItems=Object.assign({},I.deletedItems),I.deletedItems[e]=Object.assign({},I.deletedItems[e]),delete I.deletedItems[e][A.id],0===Object.keys(I.deletedItems[e]).length&&delete I.deletedItems[e],D=!0)})),D?I:e;case E.RESTORE_DELETED_ITEM:var M=t.payload,N=M.albumIds,L=M.id;if(!N)return e;var F=Object.assign({},e),B=!1;return N.forEach((function(t){var n=e.deletedItems[t]&&e.deletedItems[t][L];n&&(xe(F,t,n),F.deletedItems=Object.assign({},F.deletedItems,i()({},t,Object.assign({},e.deletedItems[t]))),delete F.deletedItems[t][L],_e(F,t),B=!0)})),B?F:e;case E.ADD_ITEMS_TO_ALBUM:var U=t.payload,z=U.id,V=U.items,H=U.resources;if(!e.albumsByIds[z])return e;var W=Object.assign({},e),$=V;return H&&($=$.map((function(e,t){var n=H[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}))),W.albumsByIds[z].clusters&&($.forEach((function(e){xe(W,z,e)})),_e(W,z)),W;case E.SET_IS_SELECTING_PHOTOS:var q=t.payload.flag;return Object.assign({},e,{isSelectingPhotos:q});case E.SET_SELECTED:case E.DESELECT_ALL:return Object.assign({},e,{lastCreatedAlbumId:null,isPublishSelected:!1});default:return e}},albums:De,operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_OPERATIONS:if(!t.payload.operations)return e;var n=t.payload.operations.reduce((function(e,t){return e[t.id]=Object.assign({},t),e}),{});return Object.assign({},e,n);case E.UPDATE_OPERATION:var r=t.payload.operation.id;if(!e[r])return e;var i=Object.assign({},e);return i[r]=Object.assign({},e[r],t.payload.operation,{data:Object.assign({},e[r].data,t.payload.operation.data)}),i;case E.REMOVE_OPERATIONS:if(!t.payload.operationsIds.length)return e;var o=Object.assign({},e);return t.payload.operationsIds.forEach((function(e){delete o[e]})),o;default:return e}},docs:x.a,readOnly:Ne.a,journals:Fe.a,promozavr:Ue.a,accessFolder:Ve.a},We=Object(m.default)(),Ge=n(27),$e=n(443),qe=n(40),Ye=n(87),Ke=n(142),Je=["idContext","page","notifications_open","dialog","idDialog","idAlbum","idPage","reduxDialog","dialogData","selectResource","filter","action","albumId","targetAlbumId","type"],Xe=function(e,t){var n={};return Je.forEach((function(t){n[t]=e[t]||""})),Object.assign(n,{originalNSParams:e,search:{query:"",scope:""},currentUrl:t}),e.querySearch&&e.scopeSearch&&Object.assign(n,{search:{query:e.querySearch,scope:e.scopeSearch}}),n},Ze=n(444),Qe=n(46),et=n.n(Qe);n.d(t,"addReducer",(function(){return it}));var tt,nt=n(716).prepare,rt=function(){var e=Object(fe.getPreloadedData)("defaultFolders"),t=Object(fe.getPreloadedData)("userCurrent"),r=Object(fe.getPreloadedData)("environment");return ns.events.on("ns-page-after-load",(function(e,t,n){var r=Xe(t,location.origin+n),i=r.originalNSParams.action,o=tt.getState(),a=o.page,s=a.dialog,u=a.idContext,c=a.search.query,l=o.personalAlbums.returnPath;if("/photo"===r.idContext&&"create-album"===i&&!o.personalAlbums.newAlbumTitle)return et.a.go(l,!0);var f=Object($e.a)(o);t.querySearch!==c&&tt.dispatch(Object(Ke.g)(t.querySearch)),f&&u!==r.idContext&&tt.dispatch(Object(qe.hidePromoNotification)(f)),tt.dispatch(Object(Ge.updatePage)(r)),r.reduxDialog&&tt.dispatch(Object(B.openDialog)(r.reduxDialog,r.dialogData?JSON.parse(r.dialogData):{}));var d=tt.getState(),p=Object(Ye.e)(d),h=d.page,m=h.dialog,v=h.idContext;Boolean(s)&&!Boolean(m)&&v!==u&&p&&tt.dispatch(Object(Ke.f)(!1))})),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He,r=Object(v.configureStore)({reducer:h(t),preloadedState:e,middleware:function(e){return e({thunk:!0,immutableCheck:!1,serializableCheck:!1}).concat(We)},devTools:!1}),i=n(2175).default,o=r.dispatch,a=r.getState;return We.run(i,o,a),r.reducers=t,r})({user:t,environment:r,defaultFolders:e,config:nt(Object(fe.getPreloadedData)("config")),settings:Object(Ze.preprocessSettings)(Object(fe.getPreloadedData)("settings"),r.agent.isSmartphone),space:Object(fe.getPreloadedData)("space"),billingProducts:Object(fe.getPreloadedData)("billingProducts")})},it=function(e,t){var n=Object.assign(i()({},e,t),tt.reducers);tt.reducers=n,tt.replaceReducer(h(n))};t.default=function(e){return tt&&!e||(tt=rt()),tt}}),(function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"hit",(function(){return y})),n.d(t,"count",(function(){return b})),n.d(t,"countRaw",(function(){return _})),n.d(t,"countLeave",(function(){return O})),n.d(t,"countNavigation",(function(){return w})),n.d(t,"countSuggest",(function(){return E})),n.d(t,"countDocs",(function(){return S})),n.d(t,"reach",(function(){return x})),n.d(t,"accumulate",(function(){return C})),n.d(t,"release",(function(){return T})),n.d(t,"init",(function(){return k})),n.d(t,"hooks",(function(){return D}));var r,i,o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(135),l=n(74),f=n(307);i=new Vow.Promise;var d=null,p=null,h=null,m=null,v={},g=!1,y=j(P("hit")),b=j((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduceRight((function(e,t){if(null===e)return t;var n={};return n[t]=e,n}),p);h&&(r.stat=h,m&&(r.stat.stat=Object.assign({},r.stat.stat,m()))),P("params")(r),g&&console.log("%c "+t.map((function(e){return e&&"string"!=typeof e?JSON.stringify(e):e})).join(" -> "),"color: #4233ff; font-weight: bold")})),_=j(P("params")),O=function(){b.apply(void 0,arguments);var e=new Vow.Promise;return window.setTimeout((function(){e.fulfill()}),700),e},w=function(e,t){if(r){var n=Object(c.getSlices)(r().getState()).find((function(t){return t.idContext===e}));b("navigation","via "+t,n?n.id:"custom folder"),b("actions","with resources","open folder",t)}},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,["interface elements","search suggest"].concat(t))},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,["docs"].concat(t))},x=j(P("reachGoal")),C=j((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");v[r]=(v[r]||0)+1})),T=j((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");v[r]&&(t.push(v[r].toString()+" time(s)"),b.apply(void 0,t),delete v[r])}));function k(t,n,o,a,s){r=n,g=Object(f.isDebugMode)("metrika"),window.yandex_metrika_callbacks||(window.yandex_metrika_callbacks=[]),window.yandex_metrika_callbacks.push((function(){try{d=e["yaCounter"+t]=new e.Ya.Metrika(Object.assign({id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex",tns:{account:"yandex_ru",tmsec:"yandex_disk"}},s)),i.fulfill()}catch(e){i.reject()}})),o&&o.length&&(p=o.reduceRight((function(e,t){var n={};return n[t]=e,n})));var u={},c=r().getState(),v=c.user,y=c.environment.session.experiment,b=void 0===y?{}:y;return v.uid&&Object.assign(u,{uid:v.uid,pdd:v.isPDD?"1":"0",b2b:v.isWS?"1":"0",paid:v.paid?"1":"0",yandexstaff:v.isYandexStaff?"1":"0","has vd":Object(l.hasVirtualDisks)(c)?"1":"0"}),Object.keys(b).forEach((function(e){b[e]&&(u.experiments=u.experiments||{},u.experiments[e]=!0)})),Object.keys(u).length&&(h={stat:u}),a&&(m=a),window.Ya&&window.Ya.Metrika?window.yandex_metrika_callbacks.forEach((function(e){e()})):(function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//mc.yandex.ru/metrika/watch.js",$((function(){e.parentNode&&e.parentNode.insertBefore(t,e)}))})(),i}function j(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.then((function(){e.apply(void 0,n)}))}}function P(e){return function(){try{var t;(t=d)[e].apply(t,arguments)}catch(e){}}}i&&i.then((function(){var e=$("body");function t(e){var t=$(e.currentTarget),n=t.data("metrika-"+e.type),r=(function(e){if(u.a.isString(e)&&""!==e)return u.a.map(e.split("|"),(function(e){return e.split(",")}));throw new Error("Wrong Yandex.Metrika call: No `data-metrika-params` passed.")})(t.data("metrika-params"));if("count"===n)r.forEach((function(e){b.apply(void 0,a()(e))}));else if("reach"===n)r.forEach((function(e){x.apply(void 0,a()(e))}));else if("countLeave"===n)e.preventDefault(),Vow.all(r.map((function(e){return O.apply(void 0,a()(e))}))).then((function(){location.assign(t.attr("href")||"")}));else if(n)throw new Error("Wrong Yandex.Metrika call: Unexpected `data-metrika-"+e.type+"` action.")}u.a.each(["click","dblclick"],(function(n){e.on(n,"[data-metrika-"+n+"]",t)}))}));var R={};function A(e,t){R[e.key]&&R[e.key][t]&&u.a.each(R[e.key][t],(function(t){t.call(e)}))}function I(e,t){R[e.key]&&(t&&R[e.key][t]?delete R[e.key][t]:delete R[e.key])}e.yr&&(yr.externals.addShowHookMetrika=function(e,t,n){var r;"count"===e?r=b:"reach"===e&&(r=x),u.a.isFunction(r)&&(function(e,t,n){R[e]||(R[e]={}),R[e][t]||(R[e][t]=[]),R[e][t].push(n)})(t,"show",(function(){r.apply(void 0,a()(n))}))});var D={execute:A,drop:I};t.default={init:k,count:b,countLeave:O,countNavigation:w,countSuggest:E,countDocs:S,countRaw:_,reach:x,hit:y,accumulate:C,release:T,hooks:{execute:A,drop:I}}}.call(this,n(131))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"offlineThreshold",(function(){return J})),n.d(t,"updateResources",(function(){return X})),n.d(t,"getNewResource",(function(){return Z})),n.d(t,"batchSetResourceData",(function(){return Q})),n.d(t,"setResourceData",(function(){return ee})),n.d(t,"removeResource",(function(){return te})),n.d(t,"notifyCreated",(function(){return re})),n.d(t,"createResource",(function(){return ie})),n.d(t,"replaceResource",(function(){return oe})),n.d(t,"showResource",(function(){return ae})),n.d(t,"hideResource",(function(){return se})),n.d(t,"setResourceBlocked",(function(){return ue})),n.d(t,"showHiddenResource",(function(){return ce})),n.d(t,"updateResource",(function(){return de})),n.d(t,"startPublishResource",(function(){return pe})),n.d(t,"stopPublishResource",(function(){return he})),n.d(t,"setPublishResource",(function(){return me})),n.d(t,"unsetPublishResource",(function(){return ve})),n.d(t,"setDownloadLimitResource",(function(){return ye})),n.d(t,"resetDownloadLimitResource",(function(){return be})),n.d(t,"publishResource",(function(){return _e})),n.d(t,"maybePublishResource",(function(){return Oe})),n.d(t,"unpublishResource",(function(){return we})),n.d(t,"showFullsizeResource",(function(){return Ee})),n.d(t,"downloadResource",(function(){return Se})),n.d(t,"copyResource",(function(){return xe})),n.d(t,"deleteResource",(function(){return Ce})),n.d(t,"moveResource",(function(){return Te})),n.d(t,"setScrollToResource",(function(){return ke})),n.d(t,"goToResource",(function(){return je})),n.d(t,"setShouldNotRestoreScroll",(function(){return Pe})),n.d(t,"goToFolder",(function(){return Re})),n.d(t,"openDv",(function(){return Ie})),n.d(t,"openDocsCopyConfirmation",(function(){return De})),n.d(t,"editResource",(function(){return Me})),n.d(t,"restoreResource",(function(){return Ne})),n.d(t,"fetchResourceUrl",(function(){return Fe})),n.d(t,"getDirSize",(function(){return Ue})),n.d(t,"fetchVideoInfo",(function(){return ze})),n.d(t,"maybeSyncSliderUrl",(function(){return Ve})),n.d(t,"destroyChildren",(function(){return He})),n.d(t,"destroyResource",(function(){return We})),n.d(t,"fetchSingleResource",(function(){return $e})),n.d(t,"maybeFetchSingleResource",(function(){return qe})),n.d(t,"maybeFetchUsersFolder",(function(){return Ye})),n.d(t,"openResource",(function(){return Ke})),n.d(t,"openResourceById",(function(){return Je})),n.d(t,"openOrEditResource",(function(){return Xe})),n.d(t,"openSharedFolderAccessDialog",(function(){return Ze})),n.d(t,"showResourceFotkiInfo",(function(){return Qe})),n.d(t,"fetchListing",(function(){return nt})),n.d(t,"fetchCurrentListing",(function(){return rt})),n.d(t,"changeResourcesSort",(function(){return it})),n.d(t,"fetchSliderResourceIfNeed",(function(){return ot})),n.d(t,"notifyChangedAccess",(function(){return at})),n.d(t,"maybeSetClusterIdToResource",(function(){return st})),n.d(t,"setNsLoadPreviewError",(function(){return ut})),n.d(t,"moveClonedResource",(function(){return lt})),n.d(t,"cancelMoveClonedResource",(function(){return ft})),n.d(t,"restoreDeletedItem",(function(){return dt})),n.d(t,"updateClustersAndResources",(function(){return pt})),n.d(t,"excludeResourceFromAlbum",(function(){return ht})),n.d(t,"saveShareEditMenuExpanded",(function(){return mt})),n.d(t,"openScanResource",(function(){return vt}));var r=n(21),i=n.n(r),o=n(10),a=n.n(o),s=n(83),u=n.n(s),c=n(9),l=n.n(c),f=n(88),d=n.n(f),p=n(14),h=n(22),m=n.n(h),v=n(46),g=n.n(v),y=n(60),b=n.n(y),_=n(33),O=n(23),w=n(38),E=n(16),S=n(53),x=n(411),C=n(27),T=n(31),k=n(17),j=n(137),P=n(43),R=n(48),A=n(139),I=n(97),D=n(163),M=n(20),N=n(51),L=n(142),F=n(35),B=n(87),U=n(25),z=n(426),V=n(36),H=n(74),W=n(28),G=n(75);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var q,Y,K,J=5e3,X=function(e){return{type:E.UPDATE_RESOURCES,payload:{resources:e}}},Z=function(e,t,n){if(n){if(e){var r=l.a.cloneDeep(e);return l.a.set(r,n,t),_.default.updateResourceData(r,e)}return e}return _.default.updateResourceData(t,e)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];e.forEach((function(e){var t=u()(e,3),n=t[0],o=t[1],a=t[2],s=r[n],c=Z(s,o,a);c&&i.push(c)})),t(X(i))}},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(r,i){var o=i().resources,a=Z(o[e],t,n);a&&r(X([a]))}},te=function(e){return function(t,n){var r=n();Object(k.isExistsResource)(r,e)&&t(We(e,Object(k.getResourceData)(r,e)))}},ne=[],re=function(e,t){return function(n,r){ns.events.trigger("ufo-resource-create",{resource:Object(k.getResourceData)(r(),e)}),ne.push({id:e,options:t}),q||(q=Promise.resolve().then((function(){n({type:E.CREATE_RESOURCES,payload:ne}),q=null,ne=[]})))}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=m.a.normalize(e.id);return Object(k.isExistsResource)(r(),i)&&n(te(i)),t.part&&l.a.set(e,"state.part",!0),n(ee(i,e)),t.silent||n(re(i,t)),Object(k.getResourceData)(r(),i)}},oe=function(e,t){return function(n,r){var i=m.a.normalize(t.id);return e===i?n(ee(e,t)):(n(te(e)),n(ie(t))),Object(k.getResourceData)(r(),i)}},ae=function(e){return function(t,n){Object(k.isExistsResource)(n(),e)&&t(ee(e,!1,"state.hidden"))}},se=function(e){return function(t,n){Object(k.isExistsResource)(n(),e)&&t(ee(e,!0,"state.hidden"))}},ue=function(e,t){return function(n,r){var i=r();Object(k.isExistsResource)(i,e)&&Object(k.getResourceData)(i,e,"state.blocked")!==t&&n(ee(e,t,"state.blocked"))}},ce=function(e){return function(t,n){var r=n();Object(k.isExistsResource)(r,e)&&(Object(k.getResourceData)(r,e,"state.hidden")&&t(ae(e)),Object(k.getResourceData)(r,e,"state.disabled")&&t(ee(e,!1,"state.disabled")))}},le=[],fe=null,de=function(e){return function(t){return le.push(e),fe||(fe=Promise.resolve().then((function(){fe=null,t(X(le)),le=[]}))),fe}},pe=function(e){return function(t,n){Object(k.isExistsResource)(n(),e)&&t(ee(e,!0,"state.publishing"))}},he=function(e){return function(t,n){Object(k.isExistsResource)(n(),e)&&t(ee(e,!1,"state.publishing"))}},me=function(e,t){return function(n,r){Object(k.isExistsResource)(r(),e)&&(n(ee(e,1,"meta.public")),n(ee(e,_.default.fixShortUrl(t.short_url),"meta.short_url")),t.office_access_state&&n(ee(e,t.office_access_state,"meta.office_access_state")),t.office_online_sharing_url&&n(ee(e,t.office_online_sharing_url,"meta.office_online_sharing_url")))}},ve=function(e){return function(t,n){var r,i;if(Object(k.isExistsResource)(n(),e)){t(ee(e,0,"meta.public")),t(ee(e,"","meta.short_url")),t(ee(e,{},"publicSettings"));var o=Object(k.getResourceData)(n(),e);null!==(r=o.meta)&&void 0!==r&&r.office_access_state&&t(ee(e,null,"meta.office_access_state")),null!==(i=o.meta)&&void 0!==i&&i.office_online_sharing_url&&t(ee(e,"","meta.office_online_sharing_url"))}}},ge={},ye=function(e,t){return function(n){ge[e]&&clearTimeout(ge[e]),n(ee(e,!0,"state.downloadLimited")),void 0!==t&&(ge[e]=setTimeout((function(){n(ee(e,!1,"state.downloadLimited")),delete ge[e]}),t))}},be=function(e){return function(t){ge[e]&&clearInterval(ge[e]),delete ge[e],t(ee(e,!1,"state.downloadLimited"))}},_e=function(e){return function(t,n){var r=n();if(t(Object(C.maybeBlockAction)({forLite:!0})))return Promise.reject();if(Object(R.shouldNotifyOverdraft)(r)&&!Object(R.getOverdraftType)(r))return t(Object(S.updateSettings)({closedOverdraftScreen:!1})),Promise.reject();p.default.count("about search","actions","publish"),p.default.reach("publish_resource");var i=d.a.create("publish",{idSrc:e,reverse:!1});return new Promise(function(e,t){i.on("ns-model-changed.status",(function(){"done"===i.get(".status")?e():"failed"===i.get(".status")&&t()}))})}},Oe=function(e){return function(t,n){var r=n().resources[e];return!r||r.meta.public?Promise.resolve(!1):t(_e(e)).then((function(){return!0}))}},we=function(e){return function(t,n){var r=n(),i=Object(k.getResourceData)(r,e),o=function(e){p.default.count("about search","actions",e?"unpublish":"cancel unpublish")},a=Object(z.getConfirmTexts)("ru");return t(Object(N.add)("confirmation",{dialogParams:{title:a.title,text:"dir"===i.type?a.text.folder:a.text.file,submitButtonText:a.submit,cancelButtonText:a.cancel,useNewDialog:!0},onSubmit:function(){o(!0),d.a.create("publish",{idSrc:e,reverse:!0})},onReject:function(){o(!1)}}))}},Ee=function(e){return function(){ns.action.run("resource.show-fullsize",{id:e})}},Se=function(e){return function(t,n){var r=Object(W.isCurrentAlbumFamily)(n()),i=Object(W.getCurrentAlbumId)(n()),o=n().resources;if(Array.isArray(e)){var a={};r&&(a.albumId=i,a.itemIds=e.map((function(e){return o[e].itemId}))),a.idResources=e,ns.action.run("resources.download",a)}else{var s=o[e],u={idResource:e};s.isVicariousDoc&&(u.hash=s.meta.public_hash),r&&(u.itemId=s.itemId,u.albumId=i),ns.action.run("resource.download",u)}}},xe=function(e){return function(t,n){if(!t(Object(C.maybeBlockAction)({forLite:!0}))){var r=Object(W.isCurrentAlbumFamily)(n()),i=Object(W.getCurrentAlbumId)(n()),o=n().resources,s={};if(Array.isArray(e))s.idResources=e.map((function(e){return (function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({id:e},r&&{itemId:o[e].itemId,albumId:i})}));else{var u=o[e];s.id=e,r&&(s.itemId=u.itemId,s.albumId=i)}ns.action.run("resource.copy",s)}}},Ce=function(e){return function(){ns.action.run("resource.delete",Array.isArray(e)?{idsResources:e}:{id:e})}},Te=function(e,t){return function(n){n(Object(C.maybeBlockAction)())||(Array.isArray(e)&&1===e.length&&(e=e[0]),ns.action.run("resource.move",Array.isArray(e)?{idsResources:e,idFolderDst:t}:{id:e,idFolderDst:t}))}},ke=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:E.SET_SCROLL_TO_RESOURCE,payload:{id:e,shouldSelect:t}}},je=function(e){return function(t,n){var r,i=n();0===e.indexOf("/photounlim/")?(r=m.a.getResourceSliderUrl(e),i.settings.sliderOpenedWithAction&&t(Object(S.updateSettings)({sliderOpenedWithAction:!1}))):(setTimeout((function(){t(ke(e))}),0),r=m.a.getResourceSelectedUrl(e));Object(B.b)(i)&&t(Object(L.f)(!1));var o=ns.page.current.params;if("/recent"===o.idContext&&ns.history.replaceState(ns.router.generateUrl(ns.page.current.page,Object.assign({},o,{selectResource:e}))),Object(V.isDocsPage)(i)){var a,s=i.config.urlsBase.disk;return i.environment.agent.isInMobileApp&&"function"==typeof(null===(a=window.HOST_API)||void 0===a?void 0:a.gotoDir)?window.HOST_API.gotoDir(m.a.dirname(e),m.a.basename(e)):window.open(s+r,"_blank"),Vow.fulfill()}return g.a.go(r)}},Pe=function(e){return{type:E.SET_SCROLL_TO_RESOURCE,payload:{shouldNotRestoreScroll:e}}},Re=function(e){return function(){g.a.go(m.a.escape(m.a.getFolderUrl(e)))}},Ae=function(e,t,n){var r=e.id,i=e.name,o=e.isVicariousDoc,a=e.meta.public_hash,s={name:i,version:t,date:n};o?(s.id=a,s.isPublic=!0):s.id=r,ns.action.run("resource.view-docviewer",s)},Ie=function(e,t,n){return function(r,i){Ae(i().resources[e],t,n)}},De=function(e){var t=e.toExtension,n=e.url,r=e.isAsyncEdit,i=void 0!==r&&r,o=e.fromDV,a=void 0!==o&&o;return function(e){e(Object(O.openDialog)("docs-copy-confirmation",{toExtension:t,onClose:function(){e(Object(O.closeDialog)("docs-copy-confirmation"))},onSubmit:function(){e(Object(O.closeDialog)("docs-copy-confirmation")),a?location.assign(n):e(Object(C.openUrlWithSk)(n,i))}}))}},Me=function(e,t,n){return function(r,i){if(!r(Object(C.maybeBlockAction)({forLite:!0}))){var o=i(),a=o.resources[e],s=a.meta.office_online_sharing_url||a.meta.office_online_url,u=Object.assign({},t);Object(V.isDocsPage)(o)&&(u.source="docs"),s=b.a.addParams(s,u);var c=a.meta.office_convert_extension;Object(G.isDocsCopyConfirmationExp)(o)&&c?r(De({toExtension:c,url:s,isAsyncEdit:n})):r(Object(C.openUrlWithSk)(s,n))}}},Ne=function(e){return function(){ns.action.run("resource.restore",Array.isArray(e)?{idsResources:e}:{id:e})}},Le={},Fe=function(e){var t=e.idResource+(e.inline?"_inline":"");if(Le[t])return Le[t];var n=Object(w.a)("do-get-resource-url",e).then((function(e){return delete Le[t],Promise.resolve(e.file||e.folder)})).catch((function(e){return delete Le[t],Promise.reject(e)}));return Le[t]=n,n},Be={},Ue=function(e){return function(t,n){if(Be[e])return Be[e];var r="/trash"===e,i=Object(U.isVirtualDiskTrash)(e),o=r?Object(w.a)("space"):i?Object(w.a)("vd-space",{vdHash:Object(U.getVdHash)(e)}):Object(w.a)("resourceStats",{path:e});return o.then((function(o){var a=n().resources[e],s=Object.assign({lastSizeUpdatedTS:Date.now()},a.meta,r||i?{size:o.trash}:o);o.lastSizeUpdatedTS=Date.now(),t(ee(e,s,"meta")),delete Be[e]})).catch((function(){delete Be[e]})),Be[e]=o,o}},ze=function(e){return function(t,n){var r=n().resources[e],i=r.meta.videoStreamingParams;if(!r.meta.videoInfoFetchDate||Date.now()-Number(r.meta.videoInfoFetchDate)>828e5)return Object(w.a)("videoInfo",i).then((function(n){t(ee(e,n,"meta.videoInfo")),t(ee(e,String(Date.now()),"meta.videoInfoFetchDate"))})).catch((function(){t(ee(e,!0,"meta.videoInfoLoadFailed"))}))}},Ve=function(e,t){return function(n,r){"slider"!==r().page.dialog||!t&&""!==t||e===t||(t?ns.action.run("app.openSlider",{id:t}):ns.action.run("dialog.close"))}},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:E.DESTROY_RESOURCE_CHILDREN,payload:{parentId:e,resetComplete:t}}},We=function(e,t){return function(n,r){ns.events.trigger("ufo-resource-destroy",{resource:t});var o,a=r(),s=Object(T.sliderResourceSelector)(a);if(s&&s.id===e){var u=Object(A.c)(a,1);o=u?u.id:""}if("dir"===t.type){var c=Object(T.getResourceSubfoldersIds)(r(),e).sort((function(e,t){return t.length-e.length}));[].concat(i()(c),[e]).forEach((function(e){return n(He(e,!0))}))}n({type:E.DESTROY_RESOURCE,payload:{id:e,data:t,newIdDialog:o}}),n(Object(D.h)()),n(Ve(s&&s.id,o))}},Ge={},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){if(Ge[e])return Ge[e];var i=Object(w.a)("resource",{id:e}).then((function(i){return Object(k.isExistsResource)(r(),e)?n(ee(e,i)):n(ie(i,t)),delete Ge[e],Promise.resolve(Object(k.getResourceData)(r(),e))})).catch((function(t){return delete Ge[e],Promise.reject(t)}));return Ge[e]=i,i}},qe=function(e,t){return function(n,r){return Object(k.isExistsResource)(r(),e)?n($e(e,t)):Promise.resolve()}},Ye=function(e){var t=ns.Model.getValid("usersFolder",e);t&&t.fetch()},Ke=function(e,t,n){return function(r){var i=e.id,o=e.app,a=e.type;"slider"===o?(j.a.startCollectTimings("slider"),ns.action.run("resource.view-slider",{id:i})):"docviewer"===o&&Object(M.can)(M.VIEW,e)?Ae(e,t,n):["dir","vd"].includes(a)&&(j.a.startCollectTimings("listing"),r(Re(i)))}},Je=function(e,t,n){return function(r,i){var o=i().resources[e];o&&r(Ke(o,t,n))}},Xe=function(e){return function(t,n){var r=n(),i=r.resources[e];Object(M.can)(M.EDIT,i,r)?t(Me(e)):t(Je(e))}},Ze=function(e){return function(t,n){!n().resources[e].meta.group&&t(Object(C.maybeBlockAction)({forLite:!0}))||ns.action.run("dialog-access-folder.open",{id:e})}},Qe=function(e){return function(t){t(Object(O.openDialog)("fotkiInfo",{resourceId:e}))}},et=["/narod","/attach/yalivelettersarchive","/attach/yaslovariarchive","/attach/yaruarchive","/attach/YaFotki"],tt={},nt=function(e,t){return function(n,r){var o=r(),s=o.page,c=s.idContext,f=s.search,d=s.originalNSParams,p=o.resources,h=o.environment.offlineTime,v=Object(T.resourceChildrenKey)(o,e),y=tt[e]&&tt[e][v];if(y)return y;var b=p[e]||{},O=t||h&&b.lastFetchTime&&b.lastFetchTime<h+J;if(l.a.get(b,"children."+v+".isComplete")&&!O)return Promise.resolve();var E,S={id:e,isLoading:!0};n(X([p[e]?S:_.default.preprocess(S)]));var x="/published"===e?100:F.PORTION_SIZE;O?E=0:(E=l.a.get(b,"children."+v+".ids",[]).length,(e.startsWith("/search/")||"/attach"===e)&&(E+=b.countLost||0,E=Math.ceil(E/x)*x));var k=Object.assign({},Object(I.getSort)(o),{idContext:e,amount:x,offset:E});return E||(k.withParent="1"),(e.startsWith("/search")||Object(U.isVirtualDiskSearchPath)(e))&&Object.assign(k,{querySearch:f.query,scopeSearch:f.scope,typeSearch:d.typeSearch,sessionIdSearch:Object(B.a)(o)}),y=j.a.withResourceTimingsPreserved(Object(w.a)("resources",k)).then((function(t){var o=u()(t,2),s=o[0],c=o[1],f=l.a.findLast(c,(function(e){return"xmlhttprequest"===e.initiatorType&&e.name.startsWith(location.origin+ns.request.URL)&&e.name.includes("resources")}));f&&j.a.collectTimings({xhrDuration:f.duration});var d=r().resources,p=_.default.preprocessResources(s.resources,r()),h=d[e]||{},m={};p[0]&&p[0].id===e&&((e.startsWith("/disk/")||Object(U.isPathInsideVirtualDiskFiles)(e)&&!Object(U.isRootOfVirtualDisk)(e))&&Object.assign(m,p[0]),p=p.slice(1));var g=O?[]:l.a.get(h,"children."+v+".ids",[]),y=p.map((function(e){return e.id})),b=s.countLost||0,w=s.resources.length+b<x;Object(U.getIsVirtualDiskList)(e)&&s.resources.forEach((function(e){var t=Object(U.getCurrentVirtualDiskTrash)(e.id);t&&n(ee(t,Object(U.getVirtualDiskTrashInitialState)(t,[{id:e.id,name:e.name}],e.space.trash)))})),w&&"/disk"===e&&!g.includes("/trash")&&y.push("/trash"),w&&Object(U.isRootOfVirtualDisk)(e)&&!g.includes(Object(U.getCurrentVirtualDiskTrash)(e))&&!Object(H.isReadOnlyVdResource)(e,r())&&y.push(Object(U.getCurrentVirtualDiskTrash)(e));var E=Object.assign({},h,m,{isLoading:!1,lastFetchTime:Date.now(),children:Object.assign({},O?{}:h.children,a()({},v,{countLost:b+(O?0:l.a.get(h,"children."+v+".countLost",0)),isComplete:w,ids:l.a.uniq([].concat(i()(g),i()(y)))}))});(e.startsWith("/search")||Object(U.isVirtualDiskSearchPath)(e))&&n(Object(C.updateSearch)({originalQuery:s.queryOriginal,correctedQuery:s.query})),p.unshift(E),delete tt[e][v],n(X(p))})).catch((function(t){if(delete tt[e][v],t instanceof Error)throw t;var i={id:e,isLoading:!1},s=t&&t.id||"";if("/recent"===e&&"HTTP_400"===s){var u=r().resources[e];i.children=Object.assign({},u.children,a()({},v,Object.assign({},u.children[v],{isComplete:!0})))}if(n(de(i)),e===c&&c===r().page.idContext)if("HTTP_404"!==s||Object(T.getListingStubId)(o))s.startsWith("HTTP_50")&&g.a.go("/client/error","preserve",{reason:"fetch_resource_error",error:t});else{var l=et.some((function(t){return m.a.isParent(t,e)}))?"/client"+m.a.dirname(e):"/client/disk";g.a.go(l).then((function(){n(te(c))}))}})),tt[e]=Object.assign({},tt[e],a()({},v,y)),y}},rt=function(e){return function(t,n){var r=n().page.idContext;return t(nt(r,e))}},it=function(e){return function(t,n){t(Object(x.b)(e.sort,e.order));var r=n(),i=Object(T.currentResourceChildrenIds)(r),o=Object(T.currentResourceIsComplete)(r);i.length||o||t(rt())}},ot=function(){return function(e,t){var n=t(),r=n.page.idDialog,i=n.resources;return i[r]?Promise.resolve(i[r]):e($e(r,{silent:!0})).then((function(e){return e.error?Promise.reject(e.error):Promise.resolve(e)})).catch((function(){t().page.idDialog===r&&e(Object(C.closeNsDialog)("slider"))}))}},at=function(e){return function(t,n){var r=Object(T.getResourceSubfoldersIds)(n(),e).sort((function(e,t){return t.length-e.length}));[].concat(i()(r),[e]).forEach((function(e){return t(He(e,!0))})),_.default.updateParentsOf(e)}},st=function(e,t){return function(n,r){var i=r();if(Object(k.isExistsResource)(i,e)){var o=Object(k.getResourceData)(i,e,"clusterId");o&&o===t||n(ee(e,t,"clusterId"))}}},ut=function(e){return function(t,n){Object(k.isExistsResource)(n(),e)&&t(ee(e,!0,"meta.previewLoadFailed"))}},ct=[],lt=function(e,t){return function(n,r){var i=r(),o=i.page,a=o.idContext,s=o.idDialog;if(ct.push({src:e,dst:t}),s===e.id)if(t.isInTrash||a.startsWith("/disk")&&m.a.dirname(e.id)!==m.a.dirname(t.id)){var u=Object(A.c)(i,1);K=u?u.id:""}else K=t.id;return Y||(Y=Promise.resolve().then((function(){Y=null,n({type:E.MOVE_CLONED_RESOURCES,payload:{resources:ct,idContext:a,newIdDialog:K}}),n(Ve(s,K)),ct=[],K=void 0}))),Y}},ft=function(e,t){return function(n,r){var i,o=r(),a=Object(T.sliderResourceSelector)(o);a&&a.id===t.id&&(i=e.id),n({type:E.CANCEL_MOVE_CLONED_RESOURCE,payload:{src:e,dst:t,newIdDialog:i}}),n(Ve(a&&a.id,i))}},dt=function(e){return function(t){t({type:E.RESTORE_DELETED_ITEM,payload:e})}},pt=function(e){return function(t,n){var r=e.clusters,i=n().resources;r&&r.fetched&&r.fetched.forEach((function(e){e.items.forEach((function(n){var r=n.id;i[r]&&!i[r].clusterId&&t(st(r,e.id))}))})),t({type:E.UPDATE_CLUSTERS_AND_RESOURCES,payload:e})}},ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o,a=i(),s=Object(T.sliderResourceSelector)(a);if(!n&&s&&"photo"===Object(P.getPage)(a)&&e.map((function(e){return e.id})).includes(s.id)){var u=Object(A.c)(a,1);o=u?u.id:""}r({type:E.EXCLUDE_RESOURCES_FROM_ALBUM,payload:{resources:e,filter:t,cancel:n}}),r(Ve(s&&s.id,o))}},mt=function(){return function(e){e(Object(S.saveSettings)({key:"shareEditMenuExpandedShowed",value:"1"}))}},vt=function(e){return function(t,n){var r=n(),i=r.resources,o=r.config.urlsBase.disk,a=r.environment.agent.isInMobileApp;if("dir"===i[e].type){var s=m.a.getFolderUrl(e),u=new URL(o+s);a?(u.searchParams.set("goToDir","1"),window.open(u.toString(),"_self")):window.open(u.toString(),"_blank")}else t(Je(e))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INVITES_TO_FOLDERS",(function(){return r})),n.d(t,"UPDATE_INVITE_TO_FOLDER",(function(){return i})),n.d(t,"REMOVE_INVITE_TO_FOLDER",(function(){return o})),n.d(t,"UPDATE_SETTINGS",(function(){return a})),n.d(t,"UPDATE_SPACE",(function(){return s})),n.d(t,"UPDATE_SEARCH",(function(){return u})),n.d(t,"DESELECT_RESOURCES",(function(){return c})),n.d(t,"DESELECT_ALL",(function(){return l})),n.d(t,"SET_SELECTED",(function(){return f})),n.d(t,"ADD_TO_SELECTED",(function(){return d})),n.d(t,"SET_HIGHLIGHTED",(function(){return p})),n.d(t,"SET_VIEW",(function(){return h})),n.d(t,"UPDATE_SORT",(function(){return m})),n.d(t,"UPDATE_RESOURCES",(function(){return v})),n.d(t,"DESTROY_RESOURCE_CHILDREN",(function(){return g})),n.d(t,"DESTROY_RESOURCE",(function(){return y})),n.d(t,"CREATE_RESOURCES",(function(){return b})),n.d(t,"UPDATE_RESOURCES_FOTKI_META",(function(){return _})),n.d(t,"UPDATE_SPACE_TARIFFS",(function(){return O})),n.d(t,"UPDATE_PAGE",(function(){return w})),n.d(t,"UPDATE_CONFIG",(function(){return E})),n.d(t,"UPDATE_ENVIRONMENT",(function(){return S})),n.d(t,"UPDATE_VERSIONS",(function(){return x})),n.d(t,"TOGGLE_SUBVERSIONS",(function(){return C})),n.d(t,"CLEAN_VERSIONS",(function(){return T})),n.d(t,"OPEN_DIALOG",(function(){return k})),n.d(t,"CLOSE_DIALOG",(function(){return j})),n.d(t,"UPDATE_DIALOG",(function(){return P})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS",(function(){return R})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",(function(){return A})),n.d(t,"SET_SCROLL_TO_RESOURCE",(function(){return I})),n.d(t,"UPDATE_USER",(function(){return D})),n.d(t,"UPDATE_SUGGEST_QUERY",(function(){return M})),n.d(t,"UPDATE_SUGGEST_ACTIVATION",(function(){return N})),n.d(t,"UPDATE_SUGGEST_RESULT",(function(){return L})),n.d(t,"APPEND_SUGGEST_RESULT",(function(){return F})),n.d(t,"START_SEARCH_SESSION",(function(){return B})),n.d(t,"UPDATE_NOTIFICATIONS",(function(){return U})),n.d(t,"HIDE_NOTIFICATION",(function(){return z})),n.d(t,"NOTIFICATIONS_ERROR",(function(){return V})),n.d(t,"UPDATE_REMEMBER_BLOCK",(function(){return H})),n.d(t,"MOVE_CLONED_RESOURCES",(function(){return W})),n.d(t,"CANCEL_MOVE_CLONED_RESOURCE",(function(){return G})),n.d(t,"UPDATE_CLUSTERS_AND_RESOURCES",(function(){return $})),n.d(t,"APPLY_DIFF",(function(){return q})),n.d(t,"RESTORE_DELETED_ITEM",(function(){return Y})),n.d(t,"EXCLUDE_RESOURCES_FROM_ALBUM",(function(){return K})),n.d(t,"HIDE_UPLOADER",(function(){return J})),n.d(t,"OPEN_UPLOADER",(function(){return X})),n.d(t,"CLOSE_UPLOADER",(function(){return Z})),n.d(t,"REMOVE_UPLOAD_RESOURCES_IDS",(function(){return Q})),n.d(t,"SET_HIGHLIGHTED_UPLOAD_RESOURCES",(function(){return ee})),n.d(t,"HIDE_UPLOAD_NOTIFICATION",(function(){return te})),n.d(t,"START_UPLOAD",(function(){return ne})),n.d(t,"INIT_UPLOADING_STATES",(function(){return re})),n.d(t,"UPDATE_UPLOADING_STATE",(function(){return ie})),n.d(t,"UPDATE_UPLOADING_PROGRESS",(function(){return oe})),n.d(t,"UPDATE_ALBUM",(function(){return ae})),n.d(t,"REMOVE_ALBUM",(function(){return se})),n.d(t,"FETCH_ALBUM_SUCCESS",(function(){return ue})),n.d(t,"CREATE_ALBUM",(function(){return ce})),n.d(t,"CREATE_ALBUM_SUCCESS",(function(){return le})),n.d(t,"CREATE_ALBUM_FAIL",(function(){return fe})),n.d(t,"UPDATE_ALBUMS_COMMON_DATA",(function(){return de})),n.d(t,"REMOVE_ITEMS_FROM_ALBUM",(function(){return pe})),n.d(t,"ADD_ITEMS_TO_ALBUM",(function(){return he})),n.d(t,"SET_IS_SELECTING_PHOTOS",(function(){return me})),n.d(t,"FETCH_ALBUMS_LIST_SUCCESS",(function(){return ve})),n.d(t,"ADD_OPERATIONS",(function(){return ge})),n.d(t,"UPDATE_OPERATION",(function(){return ye})),n.d(t,"REMOVE_OPERATIONS",(function(){return be})),n.d(t,"UPDATE_DEFAULT_FOLDERS",(function(){return _e}));var r="UPDATE_INVITES_TO_FOLDERS",i="UPDATE_INVITE_TO_FOLDER",o="REMOVE_INVITE_TO_FOLDER",a="UPDATE_SETTINGS",s="UPDATE_SPACE",u="UPDATE_SEARCH",c="DESELECT_RESOURCES",l="DESELECT_ALL",f="SET_SELECTED",d="ADD_TO_SELECTED",p="SET_HIGHLIGHTED",h="SET_VIEW",m="UPDATE_SORT",v="UPDATE_RESOURCES",g="DESTROY_RESOURCE_CHILDREN",y="DESTROY_RESOURCE",b="CREATE_RESOURCES",_="UPDATE_RESOURCES_FOTKI_META",O="UPDATE_SPACE_TARIFFS",w="UPDATE_PAGE",E="UPDATE_CONFIG",S="UPDATE_ENVIRONMENT",x="UPDATE_VERSIONS",C="TOGGLE_SUBVERSIONS",T="CLEAN_VERSIONS",k="OPEN_DIALOG",j="CLOSE_DIALOG",P="UPDATE_DIALOG",R="UPDATE_SHARED_FOLDERS_USERS",A="UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",I="SET_SCROLL_TO_RESOURCE",D="UPDATE_USER",M="UPDATE_SUGGEST_QUERY",N="UPDATE_SUGGEST_ACTIVATION",L="UPDATE_SUGGEST_RESULT",F="APPEND_SUGGEST_RESULT",B="START_SEARCH_SESSION",U="UPDATE_NOTIFICATIONS",z="HIDE_NOTIFICATION",V="NOTIFICATIONS_ERROR",H="UPDATE_REMEMBER_BLOCK",W="MOVE_CLONED_RESOURCES",G="CANCEL_MOVE_CLONED_RESOURCE",$="UPDATE_CLUSTERS_AND_RESOURCES",q="APPLY_DIFF",Y="RESTORE_DELETED_ITEM",K="EXCLUDE_RESOURCES_FROM_ALBUM",J="HIDE_UPLOADER",X="OPEN_UPLOADER",Z="CLOSE_UPLOADER",Q="REMOVE_UPLOAD_RESOURCES_IDS",ee="SET_HIGHLIGHTED_UPLOAD_RESOURCES",te="HIDE_UPLOAD_NOTIFICATION",ne="START_UPLOAD",re="INIT_UPLOADING_STATES",ie="UPDATE_UPLOADING_STATE",oe="UPDATE_UPLOADING_PROGRESS",ae="UPDATE_ALBUM",se="REMOVE_ALBUM",ue="FETCH_ALBUM_SUCCESS",ce="CREATE_ALBUM",le="CREATE_ALBUM_SUCCESS",fe="CREATE_ALBUM_FAIL",de="UPDATE_ALBUMS_COMMON_DATA",pe="REMOVE_ITEMS_FROM_ALBUM",he="ADD_ITEMS_TO_ALBUM",me="SET_IS_SELECTING_PHOTOS",ve="FETCH_ALBUMS_LIST_SUCCESS",ge="ADD_OPERATIONS",ye="UPDATE_OPERATION",be="REMOVE_OPERATIONS",_e="UPDATE_DEFAULT_FOLDERS"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceData",(function(){return o})),n.d(t,"isExistsResource",(function(){return a}));var r=n(9),i=n.n(r),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.resources[t];return n?i.a.get(r,n):r},a=function(e,t){return!!e.resources[t]}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"readFolder",(function(){return c})),n.d(t,"calculateEntryStats",(function(){return l})),n.d(t,"collectEntriesStats",(function(){return f})),n.d(t,"isOverLimitFileSize",(function(){return d})),n.d(t,"getLimitedForUploadFiles",(function(){return p})),n.d(t,"UPLOAD_ERROR_ID",(function(){return h})),n.d(t,"UPLOAD_ERRORS_TYPES",(function(){return m})),n.d(t,"UPLOAD_ERRORS",(function(){return v})),n.d(t,"getUploadError",(function(){return g})),n.d(t,"UPLOAD_NOTIFICATION_TYPES",(function(){return y})),n.d(t,"UPLOAD_STATUSES",(function(){return b})),n.d(t,"canRetryUpload",(function(){return _})),n.d(t,"isUploadInProgress",(function(){return O})),n.d(t,"canCancelUpload",(function(){return w})),n.d(t,"willCanCancelUpload",(function(){return E}));var r=n(108),i=n(35),o=i.MPFS_ERROR_CODES,a=i.UPLOADER_FILE_SIZE_LIMIT,s={},u=function(e,t){var n=Object.assign({event:"endUpload",completed:t,endUpload:Date.now()},e);Object(r.log)(n)};["done","cancel","fail","skip"].forEach((function(e){ns.events.on("ufo-upload-".concat(e),(function(t,n){var r=s[n.statId];r&&(r[n.type+"_"+e]++,n.root&&r["root_"+n.type+"_"+e]++,r.root_file_done+r.root_file_fail+r.root_file_cancel+r.root_folder_done+r.root_folder_fail+r.root_folder_cancel===r.rootFilesCount+r.rootFoldersCount&&(u(r,!0),setTimeout((function(){delete s[n.statId]}))))}))})),window.addEventListener("beforeunload",(function(){Object.keys(s).forEach((function(e){u(s[e],!1)}))}));var c=function(e){var t,n=new Vow.Promise,r=[];try{t=e.createReader(),(function e(i){t.readEntries((function(t){t.length?(r=r.concat([].slice.call(t||[],0)),e(i)):i(r)}),(function(e){n.reject(e)}))})(n.fulfill.bind(n))}catch(e){n.reject(e)}return n},l=function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0},n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipFile,i=function(e,r){return n instanceof Function&&n(e)?r(t):(t.filesCount+=1,t.totalSize+=e.size,r(t))};return new Promise(function(n){(function e(o){return o instanceof File?new Promise(function(e){i(o,e)}):o.isFile?new Promise(function(e){o.file((function(t){return i(t,e)}),(function(n){Object(r.log)({type:"calculateEntryStats",error:n}),t.filesReadErrors++,e(t)}))}):"function"==typeof o.createReader?c(o).then((function(n){return Promise.all(n.map(e)).then((function(){return t}))}),(function(e){Object(r.log)({type:"calculateEntryStats",error:e}),t.foldersReadErrors++,n(t)})):Promise.resolve(t)})(e).then((function(){n(t)}))})},f=function(e,t){var n=0,i=0;e.forEach((function(e){e instanceof File||e.isFile?i++:n++}));var o=t+"_"+Date.now();return s[o]={statsId:o,startUpload:Date.now(),rootFoldersCount:n,rootFilesCount:i,file_done:0,file_fail:0,file_skip:0,file_cancel:0,folder_done:0,folder_fail:0,folder_cancel:0,folder_skip:0,root_file_done:0,root_file_fail:0,root_file_cancel:0,root_folder_done:0,root_folder_fail:0,root_folder_cancel:0},Promise.all(e.map(l)).then((function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0};!(function(e,t){t.forEach((function(t){var n=t.filesCount,r=void 0===n?0:n,i=t.foldersCount,o=void 0===i?0:i,a=t.totalSize,s=void 0===a?0:a,u=t.filesReadErrors,c=void 0===u?0:u,l=t.foldersReadErrors,f=void 0===l?0:l;e.filesCount+=r,e.foldersCount+=o,e.totalSize+=s,e.filesReadErrors+=c,e.foldersReadErrors+=f}))})(t,e),Object.assign(s[o],{countEnd:Date.now()},t),Object(r.log)(Object.assign({event:"startUpload"},s[o]))})),o},d=function(e,t){return e.size>t&&e.size<=a},p=function(e,t){var n=[];return(Array.isArray(e)?e:Object.values(e)).forEach((function(e){!e.isDirectory&&d(e,t)&&n.push({name:e.name,size:e.size})})),n},h="UPLOAD_ERROR",m={TOO_BIG:"TOO_BIG",OVER_LIMIT:"OVER_LIMIT"},v={INSUFFICIENT_STORAGE:"INSUFFICIENT_STORAGE",OWNER_INSUFFICIENT_STORAGE:"OWNER_INSUFFICIENT_STORAGE",LOCKED:"LOCKED",CONFLICT:"CONFLICT",FILE_TOO_BIG:"FILE_TOO_BIG",FILE_SIZE_OVER_LIMIT:"FILE_SIZE_OVER_LIMIT",PARENT_FOLDER_CREATE_FAIL:"PARENT_FOLDER_CREATE_FAIL",FOLDER_NOT_CREATED:"FOLDER_NOT_CREATED",FOLDER_UPLOAD_INCOMPLETE:"FOLDER_UPLOAD_INCOMPLETE",SUBRESOURCE:"SUBRESOURCE",ENTRY_READ_FAIL:"ENTRY_READ_FAIL",LIMIT:"LIMIT",UNKNOWN:"UNKNOWN"},g=function(e){if(e){if("HTTP_507"===e.id||507===e.response||e.id===h&&507===e.status)return e.body&&e.body.code===o.OWNER_HAS_NO_FREE_SPACE?v.OWNER_INSUFFICIENT_STORAGE:v.INSUFFICIENT_STORAGE;if("HTTP_423"===e.id)return!e.body||e.body.code!==o.UPLOAD_LIMIT_QUOTA&&e.body.code!==o.UPLOAD_LIMIT_TECH?v.LOCKED:v.LIMIT;if(e.id===h&&e.type===m.TOO_BIG)return v.FILE_TOO_BIG;if(e.id===h&&e.type===m.OVER_LIMIT)return v.FILE_SIZE_OVER_LIMIT;if(e.body&&e.body.code===o.STORE_NOT_FOUND)return v.PARENT_FOLDER_CREATE_FAIL}return v.UNKNOWN},y={SERVICE:"service"},b={ENQUEUED:"ENQUEUED",GETTING_HASH:"GETTING_HASH",GETTING_URL:"GETTING_URL",CREATING_FOLDER:"CREATING_FOLDER",UPLOADING:"UPLOADING",UPLOADED:"UPLOADED",PROCESSING:"PROCESSING",DONE:"DONE",ERROR:"ERROR",CANCELED:"CANCELED",CONFLICT:"CONFLICT"},_=function(e){return[v.UNKNOWN,v.INSUFFICIENT_STORAGE,v.FOLDER_NOT_CREATED,v.LOCKED].includes(e)},O=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.UPLOADING,b.UPLOADED,b.PROCESSING].includes(e)},w=function(e){return[b.ENQUEUED,b.UPLOADING,b.ERROR,b.CONFLICT].includes(e)},E=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.CREATING_FOLDER].includes(e)}}),(function(e,t,n){"use strict";n.r(t);var r=n(548),i=n(814),o=n(127);let a=function(e){e()};const s=()=>a;var u=n(0),c=n.n(u);const l=Symbol.for(`react-redux-context-${u.version}`),f=globalThis;const d=new Proxy({},new Proxy({},{get(e,t){const n=(function(){let e=f[l];return e||(e=Object(u.createContext)(null),f[l]=e),e})();return(e,...r)=>Reflect[t](n,...r)}}));function p(e=d){return function(){return Object(u.useContext)(e)}}const h=p(),m=()=>{throw new Error("uSES not initialized!")};let v=m;const g=(e,t)=>e===t;function y(e=d){const t=e===d?h:p(e);return function(e,n={}){const{equalityFn:r=g,stabilityCheck:i,noopCheck:o}="function"==typeof n?{equalityFn:n}:n;const{store:a,subscription:s,getServerState:c,stabilityCheck:l,noopCheck:f}=t(),d=(Object(u.useRef)(!0),Object(u.useCallback)({[e.name]:t=>e(t)}[e.name],[e,l,i])),p=v(s.addNestedSub,a.getState,c||a.getState,d,r);return Object(u.useDebugValue)(p),p}}const b=y();var _=n(149),O=n(272),w=n(565),E=n.n(w),S=n(815);const x=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function C(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s,u,c,l,f,d=!1;function p(d,p){const h=!o(p,u),m=!i(d,s,p,u);return s=d,u=p,h&&m?(c=e(s,u),t.dependsOnOwnProps&&(l=t(r,u)),f=n(c,l,u)):h?(e.dependsOnOwnProps&&(c=e(s,u)),t.dependsOnOwnProps&&(l=t(r,u)),f=n(c,l,u)):m?(function(){const t=e(s,u),r=!a(t,c);return c=t,r&&(f=n(c,l,u)),f})():f}return function(i,o){return d?p(i,o):(function(i,o){return c=e(s=i,u=o),l=t(r,u),f=n(c,l,u),d=!0,f})(i,o)}}function T(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function k(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=k(e);let i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(t,n)),i},r}}function P(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function R(e){return e?"function"==typeof e?(function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let i,o=!1;return function(t,n,a){const s=e(t,n,a);return o?r(s,i)||(i=s):(o=!0,i=s),i}}})(e):P(e,"mergeProps"):()=>(function(e,t,n){return Object(_.a)({},n,e,t)})}const A={notify(){},get:()=>[]};function I(e,t){let n,r=A;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=(function(){const e=s();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}})())}const a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=A)},getListeners:()=>r};return a}const D=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?u.useLayoutEffect:u.useEffect;function M(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(M(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!M(e[n[r]],t[n[r]]))return!1;return!0}const L=["reactReduxForwardedRef"];let F=m;const B=[null,null];function U(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}var z=function(e,t,n,{pure:r,areStatesEqual:i=function(e,t){return e===t},areOwnPropsEqual:o=N,areStatePropsEqual:a=N,areMergedPropsEqual:s=N,forwardRef:l=!1,context:f=d}={}){const p=f,h=(function(e){return e?"function"==typeof e?j(e):P(e,"mapStateToProps"):T(()=>({}))})(e),m=(function(e){return e&&"object"==typeof e?T(t=>(function(e,t){const n={};for(const r in e){const i=e[r];"function"==typeof i&&(n[r]=((...e)=>t(i(...e))))}return n})(e,t)):e?"function"==typeof e?j(e):P(e,"mapDispatchToProps"):T(e=>({dispatch:e}))})(t),v=R(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function f(t){const[n,i,o]=Object(u.useMemo)(()=>{const{reactReduxForwardedRef:e}=t,n=Object(O.a)(t,L);return[t.context,e,n]},[t]),a=Object(u.useMemo)(()=>n&&n.Consumer&&Object(S.isContextConsumer)(c.a.createElement(n.Consumer,null))?n:p,[n,p]),s=Object(u.useContext)(a),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),f=Boolean(s)&&Boolean(s.store),d=l?t.store:s.store,h=f?s.getServerState:d.getState,m=Object(u.useMemo)(()=>(function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=Object(O.a)(t,x);return C(n(e,o),r(e,o),i(e,o),e,o)})(d.dispatch,r),[d]),[v,y]=Object(u.useMemo)(()=>{if(!g)return B;const e=I(d,l?void 0:s.subscription);return[e,e.notifyNestedSubs.bind(e)]},[d,l,s]),b=Object(u.useMemo)(()=>l?s:Object(_.a)({},s,{subscription:v}),[l,s,v]),w=Object(u.useRef)(),E=Object(u.useRef)(o),T=Object(u.useRef)(),k=Object(u.useRef)(!1),j=(Object(u.useRef)(!1),Object(u.useRef)(!1)),P=Object(u.useRef)();D(()=>(j.current=!0,()=>{j.current=!1}),[]);const R=Object(u.useMemo)(()=>()=>T.current&&o===E.current?T.current:m(d.getState(),o),[d,o]),A=Object(u.useMemo)(()=>e=>v?(function(e,t,n,r,i,o,a,s,u,c,l){if(!e)return()=>{};let f=!1,d=null;const p=()=>{if(f||!s.current)return;const e=t.getState();let n,p;try{n=r(e,i.current)}catch(e){p=e,d=e}p||(d=null),n===o.current?a.current||c():(o.current=n,u.current=n,a.current=!0,l())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}})(g,d,v,m,E,w,k,j,T,y,e):()=>{},[v]);let M;!(function(e,t,n){D(()=>e(...t),n)})(U,[E,w,k,o,T,y]);try{M=F(A,R,h?()=>m(h(),o):R)}catch(e){throw P.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${P.current.stack}\n\n`),e}D(()=>{P.current=void 0,T.current=void 0,w.current=M});const N=Object(u.useMemo)(()=>c.a.createElement(e,Object(_.a)({},M,{ref:i})),[i,e,M]);return Object(u.useMemo)(()=>g?c.a.createElement(a.Provider,{value:b},N):N,[a,N,b])}const d=c.a.memo(f);if(d.WrappedComponent=e,d.displayName=f.displayName=n,l){const t=c.a.forwardRef((function(e,t){return c.a.createElement(d,Object(_.a)({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,E()(t,e)}return E()(d,e)}};var V=function({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=Object(u.useMemo)(()=>{const t=I(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),s=Object(u.useMemo)(()=>e.getState(),[e]);D(()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),s!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[a,s]);const l=t||d;return c.a.createElement(l.Provider,{value:a},n)};function H(e=d){const t=e===d?h:p(e);return function(){const{store:e}=t();return e}}const W=H();function G(e=d){const t=e===d?W:H(e);return function(){return t().dispatch}}const $=G();n.d(t,"batch",(function(){return o.unstable_batchedUpdates})),n.d(t,"Provider",(function(){return V})),n.d(t,"ReactReduxContext",(function(){return d})),n.d(t,"connect",(function(){return z})),n.d(t,"useDispatch",(function(){return $})),n.d(t,"createDispatchHook",(function(){return G})),n.d(t,"useSelector",(function(){return b})),n.d(t,"createSelectorHook",(function(){return y})),n.d(t,"useStore",(function(){return W})),n.d(t,"createStoreHook",(function(){return H})),n.d(t,"shallowEqual",(function(){return N})),(e=>{v=e})(i.useSyncExternalStoreWithSelector),(e=>{F=e})(r.useSyncExternalStore),(e=>a=e)(o.unstable_batchedUpdates)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"PUBLISH",(function(){return x})),n.d(t,"UNPUBLISH",(function(){return C})),n.d(t,"FOTKI_INFO",(function(){return T})),n.d(t,"SHOW_FULLSIZE",(function(){return k})),n.d(t,"DOWNLOAD",(function(){return j})),n.d(t,"CLEAN_TRASH",(function(){return P})),n.d(t,"RESTORE",(function(){return R})),n.d(t,"EDIT",(function(){return A})),n.d(t,"VIEW",(function(){return I})),n.d(t,"RENAME",(function(){return D})),n.d(t,"MOVE",(function(){return M})),n.d(t,"MOVE_INTO",(function(){return N})),n.d(t,"DELETE",(function(){return L})),n.d(t,"DELETE_FROM_TRASH",(function(){return F})),n.d(t,"COPY",(function(){return B})),n.d(t,"ADD_TO_ALBUM",(function(){return U})),n.d(t,"EXCLUDE_FROM_ALBUM",(function(){return z})),n.d(t,"EXCLUDE_FROM_GEO_ALBUM",(function(){return V})),n.d(t,"EXCLUDE_FROM_PERSONAL_ALBUM",(function(){return H})),n.d(t,"SHARE_ACCESS",(function(){return W})),n.d(t,"VERSIONS",(function(){return G})),n.d(t,"GO_TO_FILE",(function(){return $})),n.d(t,"GO_TO_FOLDER",(function(){return q})),n.d(t,"CREATE_INSIDE",(function(){return Y})),n.d(t,"CREATE_SHARED_INSIDE",(function(){return K})),n.d(t,"TOGGLE_FAVORITES",(function(){return J})),n.d(t,"SET_AS_COVER",(function(){return X})),n.d(t,"PIN",(function(){return Z})),n.d(t,"REMOVE_FROM_DOCS",(function(){return Q})),n.d(t,"DISABLE_REASONS",(function(){return ee})),n.d(t,"can",(function(){return se})),n.d(t,"getAvailableActions",(function(){return fe})),n.d(t,"getDisableReasons",(function(){return de})),n.d(t,"reasonsMessages",(function(){return pe})),n.d(t,"titles",(function(){return he})),n.d(t,"getTitle",(function(){return me}));var r,i,o,a,s=n(83),u=n.n(s),c=n(10),l=n.n(c),f=n(43),d=n(33),p=n(28),h=n(9),m=n.n(h),v=n(31),g=n(134),y=n(13),b=n(36),_=n(55),O=n(89),w=n(74),E=n(25),S=n(22),x="publish",C="unpublish",T="fotki-info",k="show-fullsize",j="download",P="clean-trash",R="restore",A="edit",I="view",D="rename",M="move",N="move-into",L="delete",F="delete-from-trash",B="copy",U="add-to-album",z="exclude-from-album",V="exclude-from-geo-album",H="exclude-from-personal-album",W="share-access",G="versions",$="go-to-file",q="go-to-folder",Y="create-inside",K="create-shared-inside",J="toggle-favorites",X="set-as-cover",Z="pin",Q="remove-from-docs",ee={ALL_FILES_VERSIONING_DISABLED:"all-files-versioning-disabled",NESTED_SHARED_FOLDERS:"nested-shared-folders",IS_LAST_ITEM_IN_LOADING_ALBUM:"is-last-item-in-loading-album"},te=function(e){return S.isParent("/attach",e.id)&&!S.isParent("/attach/YaFotki",e.id)},ne=function(e){return S.isParent("/search",e)&&"disk"===S.filename(e)},re=function(e,t){return e===Object(O.getUser)(t).uid},ie=(r={},l()(r,x,(function(e,t){if(Object(p.isCurrentAlbumFamily)(t))return re(e.uid,t);var n=t.user,r=t.defaultFolders.folders;return!(!e.meta||e.meta.group&&e.meta.group.readonly&&!e.meta.public||e.meta.with_shared&&"640"===e.meta.shared_rights||e.isInTrash||"/trash"===e.id||2===e.meta.drweb||te(e)||S.isParent("/narod",e.id)&&!m.a.get(n,"states.narod_migrated")||d.default.isYateamNDA(e.id,r)||"/disk"===e.id||Object(E.isPathInsideVirtualDiskFiles)(e.id)||Object(E.isVirtualDiskTrash)(e.id))})),l()(r,C,(function(e,t){var n;return Object(p.isCurrentAlbumFamily)(t)?re(e.uid,t):Boolean(null===(n=e.meta)||void 0===n?void 0:n.public)&&!S.isParent("/album",e.id)&&!te(e)&&!(e.meta.group&&e.meta.group.readonly)&&"/disk"!==e.id&&!e.isVicariousDoc})),l()(r,T,(function(e){return"file"===e.type&&S.isParent("/attach/YaFotki",e.id)&&Boolean(e.meta.fotki_data_url)})),l()(r,k,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?re(e.uid,t):!e.isInTrash&&"file"===e.type&&"image"===e.meta.mediatype&&(e.meta.sizes||[]).some((function(e){return"ORIGINAL"===e.name}))})),l()(r,X,(function(e,t){if("album"!==Object(f.getPage)(t))return!1;var n=Object(p.getCurrentAlbum)(t);return e.albumIds&&e.albumIds.includes(n.id)&&n.coverResourceId!==e.id&&"faces"===n.album_type})),l()(r,j,(function(e){return!e.isInTrash&&"/trash"!==e.id&&"/disk"!==e.id&&!Object(E.isVirtualDiskTrash)(e.id)})),l()(r,L,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||d.default.isYateamNDA(e.id,n)||"/trash"===e.id||e.meta&&e.meta.group&&e.meta.group.in_readonly||S.isParent("/album",e.id)||"/disk"===e.id||Object(p.isLastAlbumItemOpenedInSlider)(t)||e.isVicariousDoc||Object(E.isVirtualDiskTrash)(e.id)||Object(w.isReadOnlyVdResource)(e.id,t)||Object(p.isCurrentAlbumFamily)(t)&&!re(e.uid,t))})),l()(r,F,(function(e){return Boolean(e.isInTrash&&!Object(E.isInVirtualDiskTrash)(e.id))})),l()(r,P,(function(e,t){var n=m.a.get(e,"children."+Object(v.resourceChildrenKey)(t,e.id)+".ids");return"/trash"===e.id&&!e.isLoading&&(e.meta&&e.meta.size||n&&n.length)})),l()(r,R,(function(e){return ie[F](e)||Object(E.isInVirtualDiskTrash)(e.id)})),l()(r,A,(function(e,t){var n=t.environment.agent.isSmartphone,r=t.user.officeEditorType,i=e.meta.group&&!e.meta.group.is_owned;return!(!e.meta||!e.isEditable||e.isInTrash||e.meta.group&&e.meta.group.in_readonly||n&&"only_office"!==r&&!i&&!Object(b.isDocsPage)(t)||S.isParent("/attach",e.id)||Object(w.isReadOnlyVdResource)(e.id,t))})),l()(r,I,(function(e){return"docviewer"===e.app&&!e.isInTrash&&e.meta&&2!==e.meta.drweb})),l()(r,D,(function(e,t){if(Object(p.isCurrentAlbumFamily)(t))return re(e.uid,t);var n=t.defaultFolders.folders;return!(e.isInTrash||d.default.isYateamNDA(e.id,n)||e.meta&&e.meta.group&&e.meta.group.in_readonly||"/trash"===e.id||S.isParent("/album",e.id)||S.isParent("/narod",e.id)||S.isParent("/attach",e.id)||"/disk"===e.id||e.isVicariousDoc||Object(E.isVirtualDiskTrash)(e.id)||Object(w.isReadOnlyVdResource)(e.id,t))})),l()(r,M,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?re(e.uid,t):(ie[D](e,t)||S.isParent("/attach/YaFotki",e.id)||e.meta&&"photounlim"===e.meta.storage_type)&&!Object(b.isDocsPage)(t)})),l()(r,N,(function(e,t){var n,r,i=t.page.idContext,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i&&"/disk"===e.id)return"/disk"!==i&&(!i.startsWith("/attach")||"/attach/YaFotki"===i);if(i&&"/trash"===e.id)return"/trash"!==i;if(Object(E.getIsVirtualDiskList)(e.id))return!1;if(i&&Object(E.isVirtualDiskTrash)(e.id))return Object(E.isVirtualDiskTrash)(e.id);var a=d.default.isResourceSharedRoot(e);return!o.some((function(t){return!(t.id!==e.id&&!S.isParent(t.id,e.id))||a&&d.default.isResourceSharedRoot(t)}))&&(["dir","vd"].includes(e.type)&&!(null!==(n=e.meta)&&void 0!==n&&null!==(r=n.group)&&void 0!==r&&r.readonly||e.isInTrash||S.isParent("/attach",e.id)))})),l()(r,B,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||"/trash"===e.id||d.default.isYateamNDA(e.id,n)||"/disk"===e.id||S.isParent("/album",e.id)||Object(b.isDocsPage)(t)||Object(E.isVirtualDiskTrash)(e.id))})),l()(r,U,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?re(e.uid,t):Boolean(e.isAvailableToAlbum&&!e.isInTrash&&!Object(g.isScansPage)(t)&&!Object(E.isPathInsideVirtualDiskFiles)(e.id))})),l()(r,z,(function(e,t){var n=t.page,r=n.idContext,i=n.filter;return!(e.meta&&e.meta.group&&!e.meta.group.is_owned)&&"/photo"===r&&["beautiful","unbeautiful"].includes(i)})),l()(r,V,(function(e,t){return Object(p.isPageAlbum)(t)&&"geo"===Object(p.getCurrentAlbum)(t).album_type})),l()(r,H,(function(e,t){var n;return Object(p.isCurrentAlbumFamily)(t)?!!Object(_.isFamilyAdmin)(t)||re(e.uid,t):Object(p.isPageAlbum)(t)&&Boolean(null===(n=e.albumIds)||void 0===n?void 0:n.includes(Object(p.getCurrentAlbumId)(t)))&&!Object(p.isLastAlbumItemOpenedInSlider)(t)&&"geo"!==Object(p.getCurrentAlbum)(t).album_type})),l()(r,W,(function(e,t){var n=t.environment.agent.isMobile,r=t.defaultFolders.folders;return"dir"===e.type&&!e.isInTrash&&"/trash"!==e.id&&!n&&e.meta&&(!e.meta.group||e.meta.group.is_owned&&e.meta.group.is_root)&&!e.meta.with_shared&&!d.default.isYateamNDA(e.id,r)&&!S.isParent("/attach",e.id)&&"/disk"!==e.id&&!Object(b.isDocsPage)(t)&&!Object(E.isVirtualDiskPath)(e.id)})),l()(r,G,(function(e,t){var n=Boolean(e.id.startsWith("/disk")&&"file"===e.type&&e.meta&&e.meta.resource_id&&e.meta.versioning_status);return Object(p.isCurrentAlbumFamily)(t)?n&&re(e.uid,t):n})),l()(r,$,(function(e,t){var n=t.page.idContext;return Object(p.isCurrentAlbumFamily)(t)?re(e.uid,t):"file"===e.type&&(e.id.startsWith("/photounlim")&&!n.startsWith("/photo")||!Object(b.isDocsPage)(t)&&e.id.startsWith("/disk")&&S.dirname(e.id)!==n||ne(n)||Object(b.isDocsPage)(t)&&!e.isVicariousDoc)})),l()(r,q,(function(e,t){var n=t.page.idContext;return"dir"===e.type&&(["/published","/shared"].includes(n)||ne(n))})),l()(r,Y,(function(e,t){var n,r;return(Object(E.isPathInsideVirtualDiskFiles)(e.id)&&!Object(w.isReadOnlyVdResource)(e.id,t)||e.id.startsWith("/disk"))&&["dir","vd"].includes(e.type)&&!(null!==(n=e.meta)&&void 0!==n&&null!==(r=n.group)&&void 0!==r&&r.readonly)})),l()(r,K,(function(e,t){var n;return ie[Y](e,t)&&!(null!==e&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.group)})),l()(r,J,(function(e,t){return ie[U](e,t)})),l()(r,Z,(function(e,t){return Object(b.isDocsPage)(t)&&!Object(g.isScansPage)(t)})),l()(r,Q,(function(e,t){return Object(b.isDocsPage)(t)&&e.isVicariousDoc})),r),oe=[C,T,A,I,D,W,k,X,$,q,G,J],ae=["/recent","/shared","/published","/family","/narod","/attach","/attach/yaruarchive",E.VIRTUAL_DISKS_ROOT],se=function(e,t,n,r){return!(t.error||ae.includes(t.id)||(function(e){return e&&e.state&&(e.state.part||e.state.blocked||e.state.hidden)})(t))&&ie[e](t,n,r)},ue=[z],ce=(i={},l()(i,j,(function(e,t){return e.every((function(e){return se(j,e,t)&&"dir"!==e.type&&!Object(E.isPathInsideVirtualDiskFiles)(e.id)&&(!S.isParent("/attach",e.id)||S.isParent("/attach/YaFotki",e.id))}))})),l()(i,x,(function(e,t){return e.every((function(e){return se(U,e,t)}))})),i),le=(o={},l()(o,H,l()({},ee.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(p.isLastAlbumItemOpenedInSlider)(t)}))),l()(o,L,l()({},ee.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(p.isLastAlbumItemOpenedInSlider)(t)}))),l()(o,W,l()({},ee.NESTED_SHARED_FOLDERS,(function(e){if(1!==e.length)return!1;var t=u()(e,1)[0];return t.meta&&t.meta.group&&!t.meta.group.is_root&&"dir"===t.type}))),o),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?[]:Object.keys(ie).filter((function(n){return e.length>1&&ce[n]?ce[n](e,t):!(e.length>1&&oe.includes(n))&&(e.length>1&&ue.includes(n)?e.some((function(e){return se(n,e,t,[])})):e.every((function(e){return se(n,e,t,[])})))}))},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(le).map((function(n){var r=Object.keys(le[n]).find((function(r){return le[n][r](e,t)}));return!!r&&{action:n,reason:r}})).filter(Boolean)},pe=l()({},ee.NESTED_SHARED_FOLDERS,"Пригласить участников в папку нельзя. Она находится внутри общей папки."),he=(a={},l()(a,$,(function(){return Object(b.isDocsPage)(Object(y.default)().getState())?"Перейти к файлу на Диске":"Перейти к файлу"})),l()(a,q,"Перейти к папке"),l()(a,x,"Поделиться"),l()(a,C,(function(e){return"dir"===e[0].type?"Удалить ссылку на папку":"Удалить ссылку на файл"})),l()(a,T,"Описание с Яндекс.Фоток"),l()(a,k,"Открыть оригинал"),l()(a,X,"Поставить на обложку"),l()(a,j,"Скачать"),l()(a,P,"Очистить Корзину"),l()(a,R,"Восстановить"),l()(a,A,"Редактировать"),l()(a,I,"Просмотреть"),l()(a,D,"Переименовать"),l()(a,M,"Переместить"),l()(a,L,"Удалить"),l()(a,F,"Удалить навсегда"),l()(a,B,"Копировать"),l()(a,U,"Добавить в альбом"),l()(a,z,"Убрать из альбома"),l()(a,V,"Убрать из альбома"),l()(a,H,"Убрать из альбома"),l()(a,W,"Настроить доступ"),l()(a,G,"История изменений"),l()(a,Z,(function(e){return e[0].pinned?"Открепить":"Закрепить"})),l()(a,Q,"Удалить"),a),me=function(e,t){return"function"==typeof he[e]?he[e](t):he[e]}}),(function(e,t,n){var r=n(982),i=n(983),o=n(602),a=n(984);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(9),i=n(542),o=i.split,a=i.basename,s=i.extname,u=i.escape,c=i.unescape,l=n(989).getClientResourceDialogUrl,f={split:o,basename:a,filename:function(e){return f.basename(e).split(".").shift()},dirname:function(e){e=f.normalize(e);var t=f.split(e);return t.pop(),t.length?("public"===t[0]&&2===t.length&&(t[1]=t[1].replace(/:$/,"")),"/"+t.join("/")):null},parentname:function(e){return f.basename(f.dirname(e))},extname:s,addNameSuffix:function(e,t,n){if(!n)return e;var r=s(e);return t||!r?e+n:e.replace(new RegExp("\\."+r+"$"),"")+n+"."+r},normalize:function(e){return(e=(e||"").replace(/^(\d+):/,"").replace(/^disk:/,"disk").replace(/^trash:/,"trash").replace(/^photounlim:/,"photounlim").replace(/^attach:/,"attach"))?"/"+f.split(e).join("/"):"/"},formatPropertyPath:function(e){return e.replace(/^\./,"")},equals:function(e,t){return f.normalize(e)===f.normalize(t)},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.normalize(r.flatten(t).join("/"))},isParent:function(e,t){var n=f.split(t),r=f.split(e);if(r.length===n.length)return!1;for(var i=0,o=r.length;i<o;i+=1){if(0===i&&"narod"===r[i]&&-1!==["narod","lnarod"].indexOf(n[i]))return!0;if(r[i]!==n[i])return!1}return!0},isParentOrEqualToCurrentFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.current.params.idContext;return t===e||f.isParent(e,t)},escape:u,unescape:c,getIdApp:function(e){var t=e.split("/")[1];return"album"===t?t:"client"},getFolderUrl:function(e){var t=f.normalize(e);return"/client"+("/photounlim"===e?"/photo":t)},_replacePhotounlim:function(e){return e.replace(/^\/photounlim(\/?)/,"/photo$1")},_getResourceDialogUrl:function(e,t){return e=f.escape(f.normalize(e)),l(f.dirname(f._replacePhotounlim(e)),e,t)},getResourceSliderUrl:function(e){return f._getResourceDialogUrl(e,"slider")},getResourceSelectedUrl:function(e){return f._getResourceDialogUrl(e,"select")},revertFileExtension:function(e,t,n){var r;if(n){var i=t?".":"";r=e.replace(/\.[^\..]+$/,"".concat(i).concat(t))}else r=t?"".concat(e,".").concat(t):e;return r}};e.exports=f}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDialog",(function(){return o})),n.d(t,"updateDialog",(function(){return a})),n.d(t,"closeDialog",(function(){return s})),n.d(t,"STATE",(function(){return u}));var r=n(16),i=n(27),o=function(e,t){return{type:r.OPEN_DIALOG,payload:{dialog:e,data:t}}},a=function(e,t){return{type:r.UPDATE_DIALOG,payload:{dialog:e,data:t}}},s=function(e,t){return function(n){n({type:r.CLOSE_DIALOG,payload:{dialog:e,data:t}}),ns.page.current.params.reduxDialog&&n(Object(i.goToUrlBase)())}},u={OPENED:"opened",CLOSED:"closed"}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return X})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return G})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return de})),n.d(t,"n",(function(){return me})),n.d(t,"o",(function(){return ce})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return z})),n.d(t,"t",(function(){return q})),n.d(t,"u",(function(){return F})),n.d(t,"v",(function(){return we})),n.d(t,"w",(function(){return se})),n.d(t,"x",(function(){return Q})),n.d(t,"y",(function(){return re})),n.d(t,"z",(function(){return ie})),n.d(t,"A",(function(){return oe})),n.d(t,"B",(function(){return ae})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return fe})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return he})),n.d(t,"G",(function(){return ve})),n.d(t,"H",(function(){return ye})),n.d(t,"I",(function(){return be})),n.d(t,"J",(function(){return _e})),n.d(t,"K",(function(){return Oe})),n.d(t,"L",(function(){return $})),n.d(t,"M",(function(){return l})),n.d(t,"N",(function(){return Y})),n.d(t,"O",(function(){return N})),n.d(t,"P",(function(){return K})),n.d(t,"Q",(function(){return J})),n.d(t,"R",(function(){return Z})),n.d(t,"S",(function(){return b})),n.d(t,"T",(function(){return C})),n.d(t,"U",(function(){return s})),n.d(t,"V",(function(){return x})),n.d(t,"W",(function(){return _})),n.d(t,"X",(function(){return D})),n.d(t,"Y",(function(){return h})),n.d(t,"Z",(function(){return f})),n.d(t,"ab",(function(){return g})),n.d(t,"bb",(function(){return p})),n.d(t,"cb",(function(){return S})),n.d(t,"db",(function(){return u})),n.d(t,"eb",(function(){return d})),n.d(t,"fb",(function(){return T})),n.d(t,"gb",(function(){return E})),n.d(t,"hb",(function(){return w}));var r=n(62),i=n(149),o=n(44),a=n(409),s=(function(e){return function(){return e}})(!0),u=function(){};var c=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var f=function(e,t){Object(i.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},d=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function p(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function h(e){var t=!1;return function(){t||(t=!0,e())}}var m=function(e){throw e},v=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=m),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function y(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var b=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},_=function(e){return Array.apply(null,new Array(e))},O=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},w=function(e){return e===r.k},E=function(e){return e===r.j},S=function(e){return w(e)||E(e)};function x(e,t){var n=Object.keys(e),r=n.length;var i,a=0,s=Object(o.a)(e)?_(r):{},c={};return n.forEach((function(e){var n=function(n,o){i||(o||S(n)?(t.cancel(),t(n,o)):(s[e]=n,++a===r&&(i=!0,t(s))))};n.cancel=u,c[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return c[e].cancel()})))},c}function C(e){return{name:e.name||"anonymous",location:T(e)}}function T(e){return e[r.g]}var k="Channel's Buffer overflow!",j=1,P=3,R=4,A={isEmpty:s,put:u,take:u};function I(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case j:throw new Error(k);case P:n[i]=s,o=i=(i+1)%e;break;case R:c=2*e,n=u(),r=n.length,i=n.length,o=0,n.length=c,e=c,a(s)}},take:s,flush:u}}var D=function(){return A},M=function(e){return I(e,P)},N=function(e){return I(e,R)},L=Object.freeze({__proto__:null,none:D,fixed:function(e){return I(e,j)},dropping:function(e){return I(e,2)},sliding:M,expanding:N}),F="TAKE",B="PUT",U="ALL",z="RACE",V="CALL",H="CPS",W="FORK",G="JOIN",$="CANCEL",q="SELECT",Y="ACTION_CHANNEL",K="CANCELLED",J="FLUSH",X="GET_CONTEXT",Z="SET_CONTEXT",Q=Object.freeze({__proto__:null,TAKE:F,PUT:B,ALL:U,RACE:z,CALL:V,CPS:H,FORK:W,JOIN:G,CANCEL:$,SELECT:q,ACTION_CHANNEL:Y,CANCELLED:K,FLUSH:J,GET_CONTEXT:X,SET_CONTEXT:Z}),ee=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n},te=function(e){return ee(W,Object(i.a)({},e.payload,{detached:!0}))};function ne(e,t){return void 0===e&&(e="*"),Object(o.i)(e)?ee(F,{pattern:e}):Object(o.f)(e)&&Object(o.g)(t)&&Object(o.i)(t)?ee(F,{channel:e,pattern:t}):Object(o.b)(e)?ee(F,{channel:e}):void 0}var re=function(){var e=ne.apply(void 0,arguments);return e.payload.maybe=!0,e};function ie(e,t){return Object(o.n)(t)&&(t=e,e=void 0),ee(B,{channel:e,action:t})}var oe=function(){var e=ie.apply(void 0,arguments);return e.payload.resolve=!0,e};function ae(e){var t=ee(U,e);return t.combinator=!0,t}function se(e){var t=ee(z,e);return t.combinator=!0,t}function ue(e,t){var n,r=null;return Object(o.d)(e)?n=e:(Object(o.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(o.k)(n)&&Object(o.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(V,ue(e,n))}function le(e,t,n){void 0===n&&(n=[]);return ee(V,ue([e,t],n))}function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(H,ue(e,n))}function de(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(W,ue(e,n))}function pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return te(de.apply(void 0,[e].concat(n)))}function he(e){return ee(G,e)}function me(e){return void 0===e&&(e=r.h),ee($,e)}function ve(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(q,{selector:e,args:n})}function ge(e,t){return ee(Y,{pattern:e,buffer:t})}function ye(){return ee(K,{})}function be(e){return ee(J,e)}function _e(e){return ee(X,e)}function Oe(e){return ee(Z,e)}var we=ce.bind(null,a.a)}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.VIRTUAL_DISKS_ROOT="/vd",(function(e){e.disk="disk",e.trash="trash",e.search="search",e.journal="journal"})(r||(r={})),t.anyVirtualDiskFolder=[r.disk,r.trash,r.search,r.journal].join("|");var i=function(e,n){return new RegExp("^"+t.VIRTUAL_DISKS_ROOT+"/[^/]+/"+e+n)};t.getCurrentVirtualDiskRoot=function(e){var t=/^\/vd\/([^\/]+)/.exec(e);return t&&t[0]},t.getCurrentVirtualDiskFolder=function(e,n){var r=t.getCurrentVirtualDiskRoot(e);return r&&r+"/"+n},t.getIsVirtualDiskList=function(e){return e===t.VIRTUAL_DISKS_ROOT},t.isPathInsideVirtualDiskFiles=function(e){return i(r.disk,"(?:$|/)").test(e)},t.getIsVirtualDisk=function(e){return t.getIsVirtualDiskList(e)||t.isPathInsideVirtualDiskFiles(e)},t.getCurrentVirtualDisk=function(e){return t.getCurrentVirtualDiskFolder(e,r.disk)},t.getVdHash=function(e){var n=new RegExp("^"+t.VIRTUAL_DISKS_ROOT+"/([^/]+)/("+t.anyVirtualDiskFolder+")").exec(e);return n&&n[1]},t.getCurrentVirtualDiskTrash=function(e){return t.getCurrentVirtualDiskFolder(e,r.trash)},t.getCurrentVirtualDiskJournal=function(e){return t.getCurrentVirtualDiskFolder(e,r.journal)},t.getCurrentVirtualDiskSearch=function(e){return t.getCurrentVirtualDiskFolder(e,r.search)},t.isRootOfVirtualDisk=function(e){return i(r.disk,"/?$").test(e)},t.isVirtualDiskTrash=function(e){return i(r.trash,"/?$").test(e)},t.isVirtualDiskSearchPath=function(e){return i(r.search,"(?:$|/)").test(e)},t.isVirtualDiskJournal=function(e){return i(r.journal,"/?$").test(e)},t.isInVirtualDiskTrash=function(e){return i(r.trash,"/([^/]+)").test(e)},t.isVirtualDiskPath=function(e){return new RegExp("^"+t.VIRTUAL_DISKS_ROOT+"/[^/]+/("+t.anyVirtualDiskFolder+")(?:$|/)").test(e)},t.getRootOfScopeCurrentVirtualDisk=function(e){var n=new RegExp("^"+t.VIRTUAL_DISKS_ROOT+"/[^/]+/("+t.anyVirtualDiskFolder+")(?:$|/)").exec(e);return n&&n[0]&&(n[0].endsWith("/")?n[0].slice(0,-1):n[0])},t.getVirtualDiskTrashInitialState=function(e,t,n){return void 0===n&&(n=0),{id:e,type:"dir",isSlice:!0,name:"Корзина",parents:t,meta:{size:n||0}}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118),o=n(1084),a=n(1086),s=n(1088),u=n(1090),c=n(1092),l=n(1094),f=n(1096),d=n(1098),p=n(1100),h=n(1102),m=n(1104);n(1106),t.Button=r.compose(r.composeU(d.withSizeXXS,i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXL,i.withSizeXXL,f.withSizeXXXL),r.composeU(i.withViewAction,i.withViewDefault,i.withViewBrand,i.withViewRaised,o.withViewClearInverse,i.withViewClear,i.withViewPseudo,i.withViewLink,p.withViewPseudoInverse,a.withViewDark,s.withViewB2BBanner,u.withViewTundora,c.withViewTransparent,l.withViewClearBlack,h.withViewSuggest,i.withViewPremium),r.composeU(i.withThemeRaised,i.withThemeNormal),r.composeU(i.withTypeLink,i.withTypeSubmit),i.withWidthMax,m.withCenteredIcon,r.composeU(i.withPinCircleCircle,i.withPinClearRound))(i.Button)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"maybeBlockActionOverdraft",(function(){return x})),n.d(t,"maybeBlockActionB2bFree",(function(){return C})),n.d(t,"maybeBlockAction",(function(){return T})),n.d(t,"showLimitUploadDialog",(function(){return k})),n.d(t,"createFolder",(function(){return j})),n.d(t,"openEditor",(function(){return P})),n.d(t,"updatePage",(function(){return R})),n.d(t,"checkVersion",(function(){return A})),n.d(t,"changeIdContext",(function(){return I})),n.d(t,"updateSearch",(function(){return D})),n.d(t,"search",(function(){return M})),n.d(t,"upload",(function(){return N})),n.d(t,"cleanTrash",(function(){return L})),n.d(t,"createSharedFolder",(function(){return F})),n.d(t,"goToUrl",(function(){return B})),n.d(t,"goToUrlBase",(function(){return U})),n.d(t,"closeNsDialog",(function(){return z})),n.d(t,"openUrlWithSk",(function(){return V})),n.d(t,"updateUser",(function(){return H})),n.d(t,"copyPublicLink",(function(){return W})),n.d(t,"showFamilyAlbumAccessDialog",(function(){return G}));var r=n(21),i=n.n(r),o=n(46),a=n.n(o),s=n(60),u=n.n(s),c=n(84),l=n(103),f=n(23),d=n(53),p=n(18),h=n(88),m=n.n(h),v=n(331),g=n(545),y=n(16),b=n(35),_=(n(1379),n(457),n(40)),O=n(36),w=n(48),E=n(89),S=n(82),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=Object.assign({forHard:!0},e),i=n(),o=i.environment.agent.isSmartphone;return!!Object(w.shouldRestrictByOverdraft)(i,r)&&(t(o?Object(d.updateSettings)({closedOverdraftScreen:!1}):Object(f.openDialog)("overdraft",{type:"overdraft"})),!0)}},C=function(){return function(e,t){var n=t(),r=n.environment.agent.isSmartphone;return!!Object(E.shouldRestrictByFreeB2b)(n)&&(e(r?Object(d.updateSettings)({closedOverdraftScreen:!1}):Object(f.openDialog)("overdraft",{type:"b2b-free"})),!0)}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return!!t(x(e))||t(C())}},k=function(e){return function(t,n){var r=n();if(Object(l.isDialogOpened)(r,"limit-upload")){var o=Object(l.getDialogData)(r,"limit-upload");t(Object(f.updateDialog)("limit-upload",{files:[].concat(i()(o.files),i()(e))}))}else t(Object(f.openDialog)("limit-upload",{files:e}))}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){if(!t(T())){var n=ns.action.run("folder.create",{isFamily:e});e&&(n.on("status.exists",(function(){Object(v.b)()})),m.a.promisify(n).then((function(){return t(Object(g.createFamilyFolder)(n.get(".idDst")))})))}}},P=function(e,t){return function(n,r){if(!n(T({forLite:!0}))){if(ns.page.current.params.create){var i=new URL(location.href);i.searchParams.delete("create"),ns.history.replaceState(i.toString())}var o={idContext:t,extension:e},a=Object(O.isDocsPage)(r());a&&(o.source="docs"),n(Object(f.openDialog)("document-name",{extension:e,onClose:function(){n(Object(f.closeDialog)("document-name"))},onSubmit:function(t){o.filename=t,n(Object(f.closeDialog)("document-name")),a&&n(Object(S.changeDocsPageType)(e)),ns.action.run("editor.open",o)}}))}}},R=function(e){return function(t,n){var r,i=e.idContext||"",o=n(),a=o.page.idContext!==i;if(a){var s=o.uploader.uploadingStatus;if(o.page.refreshAfter&&Date.now()>o.page.refreshAfter&&(!s||s===p.UPLOAD_STATUSES.DONE)&&!ns.Model.get("operations").models.some((function(e){return e.isActive()})))return void window.location.reload();var u=Object(l.getOpenedDialogs)(o);u.length&&u.forEach((function(e){var n=o.dialogs[e];n.data&&n.data.onCancel?n.data.onCancel():n.data&&n.data.onClose?n.data.onClose():t(Object(f.closeDialog)(e))}))}(a||e.filter!==o.page.filter)&&(o.settings.lastContext!==(r=["/recent","/albums"].includes(i)?i:"/photo"===i?Object(c.isAlbumSlice)({page:e})?"/albums":"/photo":b.USER_SETTINGS_DEFAULTS.lastContext)&&t(Object(d.saveSettings)({key:"lastContext",value:r})),t({type:y.DESELECT_ALL}));t({type:y.UPDATE_PAGE,payload:e})}},A=function(e){return function(t,n){var r=n(),i=r.environment.session.version,o=r.page,a=o.idContext,s=o.refreshAfter;e&&i&&i!==e&&!s&&t(R({idContext:a,refreshAfter:Date.now()+108e5}))}},I=function(e,t){return function(){var n={id:e};t&&(n.from=t),ns.action.run("listing.openFolder",n)}},D=function(e){return{type:y.UPDATE_SEARCH,payload:e}},M=function(e,t,n){return function(){ns.action.run("app.search",{querySearch:e,scopeSearch:t,from:n})}},N=function(e){return function(){var t={files:e};return ns.action.run("resource.upload",t)}},L=function(){return function(){return ns.action.run("trash.clean")}},F=function(){return function(e){e(T({forLite:!0}))||ns.action.run("dialog-create-shared-folder.open")}},B=function(e,t){return function(){return t?a.a.go(e,t):a.a.go(e)}},U=function(){return function(){return a.a.go(a.a.getUrlBase())}},z=function(e){return function(t,n){"slider"===e&&(n().settings.videoAutoPlayId&&t(Object(d.updateSettings)({videoAutoPlayId:null})));(!e||e===ns.page.current.params.dialog||ns.page.current.params.idDialog&&ns.page.current.params.idDialog.startsWith("/album"))&&ns.action.run("dialog.close")}},V=function(e,t){return function(n,r){var i=r(),o=i.config.skExternal,a=i.environment.agent.BrowserName,s=u.a.addParams(e,{sk:o});t&&["Firefox","Safari"].includes(a)?location.assign(s):window.open(s,"_blank")}},H=function(e){return function(t){t({type:y.UPDATE_USER,payload:e}),ns.Model.get("userCurrent").trigger("ns-model-changed")}},W=function(e){return function(t){if(e)try{navigator.clipboard.writeText(e).then((function(){t(Object(_.notify)({operation:"copyPublicLink",status:"done"}))}),(function(){}))}catch(e){}}},G=function(){return function(e){e(Object(f.openDialog)("familyAlbumAccess",{onClose:function(){e(Object(f.closeDialog)("familyAlbumAccess"))}}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getUntitledAlbums",(function(){return O})),n.d(t,"getGatheredAlbums",(function(){return w})),n.d(t,"getAlbumsData",(function(){return E})),n.d(t,"getAlbumsListing",(function(){return S})),n.d(t,"getAlbumsForSelect",(function(){return x})),n.d(t,"isPageAlbum",(function(){return C})),n.d(t,"hasAlbumsStub",(function(){return T})),n.d(t,"getCurrentAlbumId",(function(){return k})),n.d(t,"getCurrentAlbum",(function(){return j})),n.d(t,"getCurrentAlbumType",(function(){return P})),n.d(t,"isCurrentAlbumLoading",(function(){return R})),n.d(t,"isCurrentAlbumCompleted",(function(){return A})),n.d(t,"getAlbumById",(function(){return I})),n.d(t,"hasAlbumStub",(function(){return D})),n.d(t,"getCurrentAlbumResources",(function(){return M})),n.d(t,"getAlbumResources",(function(){return N})),n.d(t,"isLastAlbumItemOpenedInSlider",(function(){return L})),n.d(t,"getAlbumNextResource",(function(){return F})),n.d(t,"getCurrentAlbumPhotoView",(function(){return B})),n.d(t,"getCurrentAlbumItemsRange",(function(){return U})),n.d(t,"getClustersSelectionState",(function(){return z})),n.d(t,"isSelectingPhotos",(function(){return V})),n.d(t,"canShowAlbumsFaces",(function(){return H})),n.d(t,"isCurrentAlbumFamily",(function(){return W})),n.d(t,"isCurrentAlbumPersonal",(function(){return G})),n.d(t,"shouldShowFamilyExpiredNotify",(function(){return $}));var r=n(10),i=n.n(r),o=n(43),a=n(147),s=n(9),u=n.n(s),c=n(162),l=n(412),f=n(139),d=n(31),p=n(337),h=n(123),m=n(75),v=n(55);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={untitled:["camera","videos","screenshots"],gathered:["beautiful","unbeautiful"]},_=function(e){return function(t){var n=t.albums,r=n.albums,i=n.isLoaded;return b[e].map((function(e){return r[e]})).filter((function(e){var t=e.count;return!i||t>0}))}},O=function(e){var t=e.albums,n=t.albums,r=t.isLoaded,i=_("untitled")(e);return!n.favorite||r&&!n.favorite.preview||i.unshift(n.favorite),i},w=function(e){var t=e.albums.albums,n=e.personalAlbums,r=n.ids,i=n.albumsByIds,o=n.familyAlbumId,a=_("gathered")(e);t.faces&&t.faces.id&&a.unshift(t.faces),t.geo&&t.geo.id&&a.unshift(t.geo);var s=t.family&&t.family.personalAlbumId||o;if(t.family&&Object(v.shouldShowFamilyAlbumSelector)(e)&&(r&&r.length>0||Object.values(t).some((function(e){return e&&e.count>0}))||t.favorite.preview||s)){var u=Object(v.shouldShowAlbumPromoStubSelector)(e),c=Object(v.isBeenShownAlbumPromoStubSelctor)(e);u?t.family.isFamilyPromotionStub=!0:s&&i[s]&&(t.family=y(y({},i[s]),t.family)),u&&!c?a.unshift(t.family):a.push(t.family)}return a},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.albums,r=e.personalAlbums;return t&&n.albums[t]?n.albums[t]:r},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=E(e,t);if(n.isLoaded){var r=(n.ids||[]).map((function(t){return e.personalAlbums.albumsByIds[t]})).filter(Boolean);return t||r.unshift({id:"new"}),"faces"===t?r.filter((function(e){return!e.is_empty&&!e.hidden})):r}return[]},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.personalAlbums,i=r.albumsByIds,o=r.familyAlbumId,a=S(e,t);return!t&&a.length&&(e.albums.albums.favorite&&e.albums.albums.favorite&&a.splice(1,0,e.albums.albums.favorite),Object(m.isFamilyAlbumExp)(e)&&Object(v.hasFamilyAlbumSelctor)(e)&&Object(v.shouldShowFamilyAlbumSelector)(e)&&Object(v.hasFamilyAlbumFeature)(e)&&!Object(v.shouldShowAlbumPromoStubSelector)(e)&&a.splice(1,0,y(y({},e.albums.albums.family),i[e.albums.albums.family&&e.albums.albums.family.personalAlbumId||o]))),n&&(a=a.filter((function(e){return!n.includes(e.id)}))),a},C=function(e){var t=e.page.idContext;return t.startsWith("/album/")&&"/album/faces"!==t&&"/album/geo"!==t},T=function(e){if("/albums"!==e.page.idContext)return!1;var t=Boolean(O(e).length),n=Boolean(w(e).length),r=E(e);return!(!r.isLoaded||r.ids.length>0)&&!t&&!n},k=function(e){return e.page.albumId},j=function(e){var t=k(e);return e.personalAlbums.albumsByIds[t]||{}},P=function(e){return Object(h.d)(j(e))},R=function(e){var t=j(e);return void 0===t.isLoading||t.isLoading},A=function(e){var t=j(e);return void 0!==t.isCompleted&&t.isCompleted},I=function(e,t){return e.personalAlbums.albumsByIds[t]},D=function(e){if("album"!==Object(o.getPage)(e))return!1;var t=j(e);return!t.clusters||0===t.clusters.length},M=function(e){var t=j(e),n=e.resources,r=(t.clusters||[]).map((function(e){return e.items.map((function(e){var t=e.id;return n[t]}))}));return u.a.flatten(r)},N=Object(a.resourcesSelectorCreator)(M,(function(e){return e})),L=function(e){if("album"!==Object(o.getPage)(e))return!1;var t=j(e),n=N(e),r=e.page.idDialog;return!t.isCompleted&&n.length>0&&n[n.length-1].id===r},F=function(e,t,n){return u.a.last(Object(c.b)(Object(f.a)(e).sliderResources,t,{take:n,loop:!1,matcher:function(e,n){return n&&t===n.id},filter:d.isSliderResource}))},B=function(e){var t=j(e);return Object(l.a)(t.layout)},U=function(e,t,n){for(var r=e.resources,i=e.statesContext,o=i.selected,a=void 0===o?[]:o,s=i.highlighted,c=void 0===s?[]:s,l=j(e).clusters,f={},d=t.clusterIndex;d<=n.clusterIndex;d++){f[d]={};for(var p=l[d],h=d===t.clusterIndex?t.resourceIndex:0,m=d===n.clusterIndex?n.resourceIndex:p.size-1,v=h;v<=m;v++){var g=p.items[v],y=r[g.id],b=u.a.get(y,"state.disabled");f[d][v]={id:g.id,name:y.name,defaultPreview:u.a.get(y,"defaultPreview"),selected:!b&&a.includes(g.id),disabled:b,highlighted:c.includes(g.id),isVideo:u.a.get(y,"canPlayVideo"),videoDuration:u.a.get(y,"meta.video_info.duration")}}}return f},z=function(e,t,n){for(var r=j(e).clusters,i=e.statesContext.selected,o=void 0===i?[]:i,a={},s=t;s<=n;++s){var u=r[s],c=u.items.filter((function(e){return o.includes(e.id)})).length,l=p.a.NONE;c===u.size?l=p.a.ALL:c>0&&(l=p.a.SOME),a[u.id]=l}return a},V=function(e){return e.personalAlbums.isSelectingPhotos},H=function(e){return"reindexed"===e.user.faces_indexing_state},W=function(e){return"family"===P(e)},G=function(e){var t=j(e).album_type;return"personal"===t||null===t},$=function(e){return W(e)&&!Object(v.hasFamilyAlbumFeature)(e)}}),(function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){e.exports=n(1021)()}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourcesSelector",(function(){return m})),n.d(t,"currentResourceSelector",(function(){return v})),n.d(t,"isSliderResource",(function(){return g})),n.d(t,"isSliderOpened",(function(){return y})),n.d(t,"sliderResourceSelector",(function(){return b})),n.d(t,"getCurrentResource",(function(){return _})),n.d(t,"resourceChildrenKey",(function(){return O})),n.d(t,"resourceChildrenIds",(function(){return w})),n.d(t,"currentResourceChildrenIds",(function(){return E})),n.d(t,"resourceIsComplete",(function(){return S})),n.d(t,"currentResourceIsComplete",(function(){return x})),n.d(t,"getResourceChildren",(function(){return C})),n.d(t,"getResourceSubfoldersIds",(function(){return T})),n.d(t,"getResources",(function(){return k})),n.d(t,"getNextSliderResource",(function(){return j})),n.d(t,"getSliderStateOpened",(function(){return P})),n.d(t,"getCurrentSliderResource",(function(){return R})),n.d(t,"OBJECT_TYPES",(function(){return A})),n.d(t,"isPublishSelected",(function(){return I})),n.d(t,"getCreatedAlbumFromSelected",(function(){return D})),n.d(t,"isCooperativelyEditable",(function(){return N})),n.d(t,"getPublishObjectData",(function(){return L})),n.d(t,"getListingStubId",(function(){return F})),n.d(t,"isEmptyResource",(function(){return B})),n.d(t,"isNotEmptyResource",(function(){return U})),n.d(t,"isLoadingResource",(function(){return z})),n.d(t,"shouldScrollToResource",(function(){return V})),n.d(t,"getListingMetrikaSection",(function(){return H}));var r=n(47),i=n(147),o=n(43),a=n(135),s=n(87),u=n(18),c=n(22),l=n.n(c),f=n(25),d=n(97),p=n(9),h=n.n(p),m=function(e){return e.resources},v=function(e){return e.resources[e.page.idContext]},g=function(e){return e&&"file"===e.type&&!e.state.hidden&&!e.state.blocked},y=function(e){return"slider"===e.page.dialog},b=function(e){return y(e)&&g(e.resources[e.page.idDialog])?e.resources[e.page.idDialog]:null},_=function(e){return v(e)},O=function(e,t){var n=Object(d.getSortForIdContext)(e,t);return n.sort+"_"+n.order},w=function(e,t){var n=t&&t.id||"",r=n.startsWith("/remember/")?"children":"children."+O(e,n)+".ids";return h.a.get(t,r,[])},E=function(e){return w(e,v(e))},S=function(e,t){var n=t&&t.id||"";return n.startsWith("/remember/")?Boolean(t.isComplete):Boolean(h.a.get(t,"children."+O(e,n)+".isComplete"))},x=function(e){return S(e,v(e))},C=function(e,t){var n=m(e),r=e.uploader.uploadingStatesByIds;return w(e,t).map((function(e){return n[e]})).filter((function(e){if(!e||e.state&&e.state.hidden)return!1;var t=r[e.id]||{};return!("file"===e.type&&t.status===u.UPLOAD_STATUSES.ERROR||t.error===u.UPLOAD_ERRORS.FOLDER_NOT_CREATED)}))},T=function(e,t){var n=m(e);return Object.keys(n).filter((function(e){return e!==t&&e.startsWith(t)&&"dir"===n[e].type}))},k=Object(i.resourcesSelectorCreator)((function(e){return C(e,v(e))}),(function(e){return e})),j=Object(r.createSelector)([b,E,m],(function(e,t,n){if(!e)return null;var r=t.indexOf(e.id);return-1===r||r===t.length-1?null:n[t[r+1]]})),P=Object(r.createSelector)([y],(function(e){return e})),R=Object(r.createSelector)([b],(function(e){return e||null})),A={RESOURCE:"resource",ALBUM:"album"},I=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected;return!n&&r},D=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected,i=t.albumsByIds;return n&&r?i[n]:null},M=function(e,t){return{objectType:A.ALBUM,shortUrl:t&&t.public&&t.public.short_url,isPublishing:t&&Boolean(t.isPublishing)||!t&&I(e),isPublishingReverse:t&&t.isPublishingReverse,resourceType:"album",resourceName:t&&t.title,canUnpublish:!0,isPublic:t&&t.is_public,resourceId:t&&t.id}},N=function(e){var t;return Boolean(e.isEditable&&(null===(t=e.meta)||void 0===t?void 0:t.office_access_state))},L=function(e,t){if(t.length>1){var r=D(e);return M(e,r?r:null)}var i=t[0];if(!i.startsWith("/")){var o=e.personalAlbums.albumsByIds[i];return M(e,o)}var a,s,u,c,l,f,d,p=e.resources[i]||{},h=Boolean(p.meta&&p.meta.public),m=n(20),v=m.can,g=m.UNPUBLISH;return{objectType:A.RESOURCE,shortUrl:null===(a=p.meta)||void 0===a?void 0:a.short_url,isPublic:h,isPublishing:Boolean(null===(s=p.state)||void 0===s?void 0:s.publishing),resourceId:p.id,metaResourceId:null===(u=p.meta)||void 0===u?void 0:u.resource_id,resourceType:p.type,resourcePath:p.path,resourceName:p.name,resourceMediaType:null===(c=p.meta)||void 0===c?void 0:c.mediatype,isEditable:p.isEditable,officeAccessState:null===(l=p.meta)||void 0===l?void 0:l.office_access_state,isCooperativelyEditable:N(p),canUnpublish:v(g,p,e),isGuestInSharedFolder:0===(null===(f=p.meta)||void 0===f?void 0:null===(d=f.group)||void 0===d?void 0:d.is_owned),publicSettings:p.publicSettings,isVicariousDoc:p.isVicariousDoc}},F=function(e){if("album"===Object(o.getPage)(e))return"album";var t=e.page,n=t.idContext,r=t.filter,i=e.defaultFolders.folders;if(n.startsWith("/search"))return"search";if(Object(f.isVirtualDiskTrash)(n))return"trash";if(Object(f.isVirtualDiskSearchPath)(n))return"vd_search";switch(n){case"/recent":return"recent";case"/photo":return r?"photo_filter":"photo";case"/published":return"published";case"/shared":return"shared";case"/family":return"family";case"/trash":return"trash";case"/albums":return"albums";case i.downloads:return"downloads";case i.screenshots:return"screenshots";case i.scans:return"scans"}},B=Object(r.createSelector)([v,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&0===t.length)})),U=Object(r.createSelector)([v,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&t.length>0)})),z=Object(r.createSelector)([v,k],(function(e,t){return Boolean(e&&!0===e.isLoading&&t&&0===t.length)})),V=function(e){var t=e.environment.agent.isMobile,n=Object(o.getPage)(e),r="photo"===n,i="album"===n,u=(Object(a.isIdContextWithListing)(e)||"remember-block"===n||r||i)&&!Object(s.e)(e);return{shouldScroll:u,shouldSelect:u&&!t&&!r&&!i}},H=function(e){if(Object(a.isIdContextWithListing)(e)){var t=e.page.idContext,n=e.defaultFolders.folders;if(l.a.isParent(n.downloads,t)||l.a.equals(n.downloads,t))return"downloads";var r=Object(a.getTopLevelCurrentItem)(e);return r&&r.id||"files"}}}),(function(e,t,n){"use strict";e.exports=n(1134)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"NAME_VALIDATION_ERRORS",(function(){return S})),n.d(t,"resourceNameValidationResultI18n",(function(){return x}));var r,i=n(10),o=n.n(i),a=n(9),s=n.n(a),u=n(22),c=n.n(u),l=n(60),f=n.n(l),d=n(143),p=n.n(d),h=n(64),m=(n(457),n(797),n(13)),v=n(17),g=n(15),y=n(27),b=n(35),_=n(25),O=n(1008),w=["document","video","image","book"],E={preserveData:function(e,t){return["clusterId","albumIds","children","isLoading","lastFetchTime","meta.size","meta.videoInfo","meta.videoInfoLoadFailed","meta.onlyImageAndVideo","meta.uploadingState","state.hidden","state.blocked","state.portional","state.publishing","originalSize","sharedRoot","meta.search_scope","favorite","isVicariousDoc","pinned","openInEditorTimestamp","recordId"].forEach((function(n){var r=s.a.get(t,n),i=s.a.get(e,n);!s.a.isUndefined(r)&&s.a.isUndefined(i)&&s.a.set(e,n,r)})),e},getIdUnique:function(e,t){var n=t?e+"_"+t:e;return Object(v.isExistsResource)(Object(m.default)().getState(),n)?(t=t?t+1:1,E.getIdUnique(e,t)):n},getParents:function(e){for(var t=[];e=c.a.dirname(e);)t.unshift({id:e,name:E.getAlias(e)});return t},getAlias:function(e){return E.DEFAULT_FOLDERS_DATA[e]?E.DEFAULT_FOLDERS_DATA[e].name:Object(_.isRootOfVirtualDisk)(e)?"Файлы":c.a.basename(e)},updateParentsOf:function(e){var t=Object(m.default)(),n=c.a.dirname(e);s.a.isNull(c.a.dirname(n))||(Object(v.isExistsResource)(t.getState(),n)&&t.dispatch(Object(g.fetchSingleResource)(n)),E.updateParentsOf(n))},preprocess:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.Model.get("config").getData(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(h.getPreloadedData)("defaultFolders.folders");e.id=c.a.normalize(e.id),e.name=e.name||c.a.basename(e.id),e.id===b.YA_IMAGES_CONTEXT&&(e.name="Я.Картинки"),e.meta=e.meta||{},e.state=e.state||{},e.isInTrash=0===e.id.indexOf("/trash/")||Object(_.isInVirtualDiskTrash)(e.id),e.ext=e.ext||c.a.extname(e.name).toLowerCase();var a=Object(_.isVirtualDiskPath)(e.id);if(s.a.get(e,"meta.group")&&s.a.extend(e.meta.group,{readonly:640===e.meta.group.rights,in_readonly:640===e.meta.group.rights&&!e.meta.group.is_root}),0===e.id.indexOf("/photounlim/")&&(e.parents=["/disk","/photo"].map((function(e){return{id:e,name:E.getAlias(e)}}))),c.a.isParent("/attach/YaFotki/",e.id)){var u=E.getParents(e.id);u.splice(0,2,{id:"/attach",name:"Архив"},{id:"/attach/YaFotki",name:E.getAlias("/attach/YaFotki")}),e.parents=u}if(e.parents||(e.parents=E.getParents(e.id),c.a.isParent("/attach/yaruarchive",e.id)&&e.parents.unshift({id:"/disk",name:E.DEFAULT_FOLDERS_DATA["/disk"].name}),a&&(e.parents=e.parents.slice(2))),s.a.some(e.parents,{id:"/attach/yaruarchive"})&&(e.parents=e.parents.filter((function(e){return"/attach"!==e.id&&("/attach/yaruarchive"===e.id&&(e.name=E.DEFAULT_FOLDERS_DATA["/attach/yaruarchive"].name),e)}))),"video"===(null===(t=e.meta)||void 0===t?void 0:t.mediatype))if(a){var l;null!==(l=e.meta)&&void 0!==l&&l.sizes&&delete e.meta.sizes}else{var f=e.state.part||e.state.blocked||e.state.disabled;e.isAvialableForVideoPlayer=!f}if(e.hasPreview=!1,e.meta&&w.includes(e.meta.mediatype)&&(e.hasPreview=e.meta.hasPreview=!!e.meta.sizes),"file"===e.type?(e.icon=E.getIconFile(e),e.app=E.getAppFile(e,r)):e.icon=E.getIconFolder(e,o),s.a.get(e,"meta.short_url")&&(e.meta.short_url=E.fixShortUrl(e.meta.short_url,i)),e.isEditable=Boolean(s.a.get(e,"meta.office_online_url")||s.a.get(e,"meta.office_online_sharing_url")),e.isAvailableToAlbum="file"===e.type&&(c.a.isParent("/disk",e.id)||c.a.isParent("/attach/YaFotki",e.id)||c.a.isParent("/photounlim",e.id))&&e.meta&&("video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&e.hasPreview||"image"===e.meta.mediatype&&e.hasPreview),0===e.id.indexOf("/public")&&(e.groupPublic=E.getNameGroupPublic(e)),e.meta&&"video"===e.meta.mediatype){var d=Object(m.default)().getState(),p=d.page.albumId,v=d.personalAlbums.familyAlbumId;p&&v===p?(e.itemId||Object(m.default)().dispatch(Object(y.closeNsDialog)("slider")),e.meta.videoStreamingParams={item_id:e.itemId,album_id:p}):"photounlim"===e.meta.storage_type?e.meta.videoStreamingParams={path:e.id.replace(/^\/photounlim\//,"photounlim:/")}:e.id.startsWith("/attach/")?e.meta.videoStreamingParams={path:e.id.replace(/^\/attach\//,"attach:/")}:e.meta.videoStreamingParams={path:e.id.replace(/^\/disk\//,"disk:/")}}e.canPlayVideo="video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&!e.isInTrash;var g=2===e.meta.drweb;return(["vd","dir"].includes(e.type)||g)&&(e.iconType=e.icon),"trash"===e.icon&&e.meta.size&&(e.iconType="trash-full"),g&&(e.virus=g),null!==(n=e.meta.sizes)&&void 0!==n&&n.length&&(e.meta.sizes.forEach((function(t){"DEFAULT"===t.name&&(e.defaultPreview=t.url),"XXXL"===t.name&&(e.xxxlPreview=t.url)})),e.defaultPreview||(e.defaultPreview=e.meta.sizes[0].url)),e},fixShortUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.Model.get("config").getData();return f.a.fixShortUrl(e,t)},getIconFile:function(e){var t=e.meta&&2===e.meta.drweb,n="."+e.ext,r=e.meta&&e.meta.mediatype||"";return t&&p.a.virus||p.a.extnames[n]||p.a.mediatypes[r]||p.a.default},getIconFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders"),n="dir",r=s.a.get(e,"meta.group.is_shared")&&1===s.a.get(e,"meta.group.is_root"),i=r&&"family"===s.a.get(e,"meta.group.group_type");return"/disk"===e.id?n="root":"/trash"===e.id||Object(_.isVirtualDiskTrash)(e.id)?n="trash":i?n="family":r?n="shared":E.isScreenshots(e.id,t)?n="screenshots":E.isScans(e.id,t)?n="scans":E.isYateamNDA(e.id,t)?n="yateamnda":"vd"===e.type&&(n="vd"),n},isOpenableImage:function(e){var t=e.meta,n=t&&t.mediatype,r=t&&t.sizes;return Boolean("image"===n&&r)},getAppFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,n=c.a.extname(e.name).toLowerCase(),r=e.meta&&e.meta.mimetype,i=e.meta&&e.meta.mediatype;return e.isInTrash?null:e.state&&e.state.part?null:"video"===i&&e.isAvialableForVideoPlayer||"audio"===i||E.isOpenableImage(e)?"slider":c.a.isParent("/narod",e.id)&&!t.narodMigrated?null:O(r,n,e.hasPreview)?"docviewer":void 0},castSuggestItemToResource:function(e){var t=e.id,n=e.key,r=e.text,i=e.type,o=e.mimetype,a=e.mediatype;if(["files","folders"].includes(i))return E.preprocess({id:n,name:r,type:{files:"file",folders:"dir"}[i],path:n,meta:{mimetype:o,mediatype:a,resource_id:t,sizes:["video","image"].includes(a)&&[]}})},isTrash:function(e){return"/trash"===e||Object(_.isVirtualDiskTrash)(e)},isCamera:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).photostream===e},isScreenshots:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).screenshots===e},isScans:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).scans===e},isYateamNDA:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).yateamnda===e}},S={NAME_HAS_SLASH:"NAME_HAS_SLASH",NAME_EXCEEDS_MAX_LENGTH:"NAME_EXCEEDS_MAX_LENGTH"},x=(r={},o()(r,S.NAME_HAS_SLASH,{file:"Название файла не может содержать символ «/»",dir:"Название папки не может содержать символ «/»"}),o()(r,S.NAME_EXCEEDS_MAX_LENGTH,{file:"Название файла не может быть длиннее 255 символов",dir:"Название папки не может быть длиннее 255 символов"}),r);E.validateName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("/")?S.NAME_HAS_SLASH:e.length>255?S.NAME_EXCEEDS_MAX_LENGTH:void 0},E.preprocessIdREST=function(e){return e.replace(/^photounlim:/,"/photounlim").replace(/^disk:/,"/disk")},E.isResourceSharedRoot=function(e){return Boolean(s.a.get(e,"meta.group.is_root"))},E.getNameGroupPublic=function(e){if("dir"===e.type)return"folder";var t=e.meta&&e.meta.mediatype;return"video"===t?"image":"image"===t&&e.meta.sizes?"image":"file"},E.getSrcPreviewBaseUrl=function(e){return E.getDownloaderUrl(e,"DEFAULT")},E.getDownloaderUrl=function(e,t){var n=s.a.get(e,"meta.sizes",[]).find((function(e){return e.name===t}));return n&&n.url},E.getIdFromFakeId=function(e){return e.replace(/\.\d+$/,"")},E.getFakeId=function(e){return e+"."+Date.now()},E.DEFAULT_FOLDERS_DATA={"/recent":{name:"Последние файлы"},"/disk":{path:"/disk",type:"dir",name:"Файлы",parents:[]},"/published":{type:"dir",isSlice:!0,name:"Публичные ссылки",parents:[{id:"/disk",name:"disk"}]},"/shared":{type:"dir",isSlice:!0,name:"Общие папки",parents:[{id:"/disk",name:"disk"}]},"/family":{type:"dir",isSlice:!0,name:"Семья",parents:[{id:"/disk",name:"disk"}]},"/trash":{type:"dir",isSlice:!0,name:"Корзина",parents:[{id:"/disk",name:"disk"}]},"/attach":{type:"dir",isSlice:!0,name:"Почтовые вложения",parents:[]},"/narod":{id:"/narod",type:"dir",isSlice:!0,name:"Народ",parents:[{id:"/disk",name:"disk"}]},"/attach/yaruarchive":{type:"dir",isSlice:!0,name:"Другие сервисы",parents:[{id:"/disk",name:"disk"}]},"/attach/YaFotki":{type:"dir",name:"Яндекс.Фотки",parents:[{id:"/attach",name:"Архив"}]},"/photo":{name:"Все фото",isSlice:!0},"/photounlim":{name:"Все фото",isSlice:!0,path:"/photo",parents:[{id:"/disk",name:"disk"}]},"/albums":{name:"Альбомы",isSlice:!0},"/journal":{name:"История",isSlice:!0}},E.preprocessResources=function(e,t){var n=t.settings,r=t.config,i=t.defaultFolders,o=t.resources;return e.map((function(e){var t=E.preprocess(e,n,r,i&&i.folders||{});return o[e.id]?E.preserveData(t,o[e.id]):t}))},E.updateResourceData=function(e,t){return e=E.preprocess(e),e=E.preserveData(e,t)},t.default=E}),(function(e,t,n){"use strict";e.exports=n(1024)}),(function(e,t,n){var r=n(37),i=r.SOCIAL,o=r.PHOTO_GRID_TYPES,a=1073741824;e.exports={ONE_DAY:864e5,GB:a,UPLOADER_FILE_SIZE_LIMIT:50*a,INTERVALS_COUNT_CONTACTS:[0,20,100,200,300,400,500],SOCIAL:i,TYPE_FOLDER_SOCIAL:[i.VK,i.FB,i.OK,i.MOIMIR,i.INSTAGRAM,i.GOOGLE],ROOT_CONTENT_TOP:70,HEADER_HEIGHT:60,HEIGHT_TITLE_PHOTOSLICE_GROUP:76,COUNT_ITEMS_TO_FETCH_AROUND_PHOTO:10,PORTION_SIZE:40,HASH_LONG_NOT_FOUND:"404",USER_SETTINGS_DEFAULTS:{lastContext:"/disk",view:"icons",docsView:"icons",photoView:o.WOW,beautifulAlbumPhotoView:o.WOW,unbeautifulAlbumPhotoView:o.WOW,screenshotsAlbumPhotoView:o.TILE,cameraAlbumPhotoView:o.WOW,videosAlbumPhotoView:o.WOW,timestampLastCollapseInfoSpaceDiscount:"0",timestampLastExpandInfoSpaceDiscount:"0",lastShownInfoSpaceDiscountId:"",showAgreementOfficeConvertation:"1",MSOfficeHeaderPromoState:"0",MSOfficeHeaderPromoLastShowTimestamp:0,beautifulAlbumDescriptionClosed:"0",unbeautifulAlbumDescriptionClosed:"0",screenshotsAlbumDescriptionClosed:"0",confirmExcludeFromAlbumShowed:"0",confirmExcludeFromGeoAlbumShowed:"0",shareEditMenuExpandedShowed:"0",isShownAlbumPromoStub:"0",isShownFamilyAlbumOnboarding:"0"},YA_IMAGES_CONTEXT:"/disk/Мои Яндекс.Картинки",COMMENTS:{MESSAGE_LIMIT:1e3},STATUS_CREATE_FOLDER:{EXISTS:0,UNKNOWN:1},LOCALSTORAGE_SIZE:4980736,SOURCES:{APP_NAME:{ALBUM:"album",AUTH:"landing",CLIENT:"client",EMAIL:"email",PUBLIC:"public"},AGENT_TYPE:{DESKTOP:"web",TOUCH:"touch"},ACTION_NAME:{COMMENT:"comment",COPY:"copy",COPY_LIMIT:"copy_limit",CREATE_ALBUM:"newalbum",CREATE_DOCUMENT:"newdoc",DISLIKE_COMMENT:"dislike_comment",DISLIKE_PAGE:"dislike_page",EDIT:"edit",INVITE:"invite",LIKE_COMMENT:"like_comment",LIKE_PAGE:"like_page",REGISTER:"register",REGISTER_BUTTON:"register_button",REGISTER_HEADER:"register_header",SEARCH:"search",SIGNIN:"signin"}},LISTING_ID_CONTEXTS:["/disk","/recent","/trash","/shared","/family","/vd","/published","/attach","/narod","/search"],SEARCH_SCOPES:{DISK:"/disk",TRASH:"/trash",JOURNAL:"/journal"},MOBILE_PROMO_ACTIVITY_TIMEOUT:2592e6,APP_PROMO_ACTIVITY_TIMEOUT:15552e6,DESKTOP_APP_LAST_ACTIVITY_TIMEOUT:5184e6,APP_PROMO_IN_UPLOADER_ACTIVITY_TIMEOUT:12096e5,APP_DOWNLOAD_ACTIVITY_TIMEOUT:15552e6,B2C_BANNER_TIMEOUT_DEFAULT:2592e5,B2C_BANNER_DURATION_SHOW_TIMEOUT:1728e5,NOTIFICATIONS:{TYPE:{PROMO:"promo",SERVICE:"service"},DEFAULT_COOLDOWN:2592e5},PHOTOSLICE_FILTERS:{ALL:"all",ONLY_UNLIM:"photounlim",ONLY_FROM_FOLDERS:"nonphotounlim"},PREVENT_CUSTOM_CONTEXT_MENU_CLASS:"prevent-custom-context-menu",PHOTOSLICE_DB:{NAME:"photosliceDB",STORE:"snapshot",OBJECT:"geo"},MAX_ACTIONABLE_SELECTION:500,PHOTOSLICE_MAX_FETCHING_SELECTION:1e3,MPFS_ERROR_CODES:{MKDIR_EXISTS:13,STORE_NOT_FOUND:19,STORE_FILE_EXISTS:47,OWNER_HAS_NO_FREE_SPACE:234,UPLOAD_LIMIT_QUOTA:311,UPLOAD_LIMIT_TECH:312},OVERDRAFT_TYPES:{LITE:"lite",HARD:"hard"},MPFS_OVERDRAFT_STATUSES:{1:"lite",2:"hard",3:"hard"},B2B_RESTRICTION_STATUSES:{WAIT_NOTIFICATION:"wait_notification",RESTRICT_NOTIFICATION:"restrict_notification",RESTRICT:"restrict"},COMMON_SUBSCRIPTION_ONBOARDING_ID:"commonSubscriptionOnboarding",DISK_UXFEEDBACK_ACCOUNT_ID:"frxmhmts71glkyqo49h7cjl5",DOCS_UXFEEDBACK_ACCOUNT_ID:"iiqca36lhdbi5llgos1k2xvo",DOCS_UXFEEDBACK_EVENT:"viewer",DISK_UXFEEDBACK_EVENT_DEFAULT:"disk_default",DISK_UXFEEDBACK_EVENT_SECURITY:"disk_security"}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(245),s=n(147),u=n(47),c=n(134),l=n(97),f=n(89),d=o(n(60)),p=o(n(22)),h=n(75);t.currentDocsType=function(e){var t=e.page.type;return t||c.isScansPage(e)?t:"docx"},t.currentSideBarDocsType=function(e){var t=e.page,n=t.type,r=t.idPage;return n||r||"docx"},t.docsList=function(e){var n=e.docs,r=t.currentDocsType(e);return n.lists[r]},t.listingType=function(e){return e.settings.docsView},t.getResourceType=function(e,t){var n=t.docs.lists;return Object.keys(n).find((function(t){return n[t].items.includes(e)}))},t.sortingType=function(e){var t=e.docs.sortingType;return c.isScansPage(e)?l.getSort(e):t},t.getFilterType=function(e){return e.docs.filterType},t.isPortionsSupported=function(e){return t.sortingType(e).sort===a.SortBy.DATE_LAST_VIEW};t.docsListResources=s.resourcesSelectorCreator((function(e){var n=e.resources,r=e.docs.sortingType,o=r.sort,s=r.order,u=[],c=[];t.docsList(e).items.forEach((function(e){var t=n[e];t&&(t.pinned?u.push(n[e]):c.push(n[e]))})),u.sort((function(e,t){return Number(t.pinned)-Number(e.pinned)})),c.sort((function(e,t){if(s===a.SortOrder.ASC){var n=e.openInEditorTimestamp-t.openInEditorTimestamp,r=Number(e.meta.size)-Number(t.meta.size);switch(o){case a.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?1:n;case a.SortBy.SIZE:return Number.isNaN(r)?1:r;case a.SortBy.NAME:return e.name.localeCompare(t.name,"en",{numeric:!0})}}else if(s===a.SortOrder.DESC)switch(n=t.openInEditorTimestamp-e.openInEditorTimestamp,r=Number(t.meta.size)-Number(e.meta.size),o){case a.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?-1:n;case a.SortBy.SIZE:return Number.isNaN(r)?-1:r;case a.SortBy.NAME:return t.name.localeCompare(e.name,"en",{numeric:!0})}return 0}));var l=t.getFilterType(e);return i(u,c).filter((function(e){var t;return!(null===(t=e.state)||void 0===t?void 0:t.hidden)&&(l===a.FilterType.ALL||l===a.FilterType.MY&&!e.isVicariousDoc||l===a.FilterType.OTHER&&e.isVicariousDoc)}))}),(function(e){return e})),t.docsListIsLoading=function(e){return t.docsList(e).isLoading},t.docsListIsComplete=function(e){var n=e.resources,r=t.docsList(e),i=r.items,o=r.totalItems,s=r.totalMyItems,u=r.totalOtherItems,c=t.getFilterType(e),l=o,f=i.length;if(c!==a.FilterType.ALL){var d=c===a.FilterType.MY;l=d?s:u,f=i.map((function(e){return n[e]})).filter((function(e){return d?!e.isVicariousDoc:e.isVicariousDoc})).length}return void 0!==l&&f===l},t.docsListIsEmpty=function(e){return 0===t.docsList(e).items.length&&t.docsListIsComplete(e)},t.isDocsPage=function(e){return e.config.isDocsHost},t.isDocsView=function(e){var n=e.page.idPage;return t.isDocsPage(e)&&"view"===n},t.pageCurrentUrl=function(e){return e.page.currentUrl},t.getViewFileDetails=u.createSelector([t.pageCurrentUrl],(function(e){var t=d.default.getQueryParam(e,"name")||"";t="string"==typeof t?t:"";var n=d.default.getQueryParam(e,"url");return n="string"==typeof n?n:"",{ext:(p.default.extname(t)||"").toLowerCase(),protocol:n.split("//")[0],fileId:n.replace(/^[\w-]+:\/\//,"")}})),t.docsNavigation=function(e){var n=t.currentSideBarDocsType(e),i=[{id:"docx",name:"Документы",url:"/docs?type=docx"},{id:"xlsx",name:"Таблицы",url:"/docs?type=xlsx"},{id:"pptx",name:"Презентации",url:"/docs?type=pptx"}];if(h.deleteScansExperiment(e)||i.push({id:"scans",name:"Сканы",url:"/docs/scans"}),t.isDocsView(e)){i.push({id:"view",name:"Просмотр"})}return i.map((function(t){return t.url&&!f.isUserCanHaveDisk(e)&&(t.url=f.getLoginOrUpgradeUrl(e,t.url)),r({current:n===t.id},t)}))}}),(function(e,t){var n={TILE:"tile",WOW:"wow"},r=Object.assign({},n,{ICONS:"icons",LIST:"list"});e.exports={RESOURCE_VIEWS:{NONE:"",ERROR:"error",DIR:"dir",ALBUM:"album",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PREVIEW:"preview",ICON:"icon"},SOCIAL:{MAIL:"mail",VK:"vkontakte",FB:"facebook",OK:"odnoklassniki",MOIMIR:"moimir",GOOGLE:"google",INSTAGRAM:"instagram",QR:"qr"},SERVICES:{DISK:"disk",SEARCH:"search",CALENDAR:"calendar",TELEMOST:"telemost",MAIL:"mail",MONEY:"money",IMAGES:"images",NEWS:"news",MAPS:"maps",MARKET:"market",WEATHER:"pogoda",TV:"tv",MUSIC:"music",AFISHA:"afisha",BROWSER:"browser",METRIKA:"metrika",DIRECT:"direct",NOTES:"notes"},KEYS:{ENTER:13,ESC:27,TAB:9,BACKSPACE:8,DELETE:46,RIGHT:39,LEFT:37,UP:38,DOWN:40,SHIFT:16,SPACE:32},THROTTLE_DELAY:300,DOUBLE_CLICK_DELAY:500,PHOTO_GRID_TYPES:n,LISTING_TYPES:r,PHOTO_GRID_COVER_THRESHOLD:200}}),(function(e,t,n){"use strict";var r=n(120),i=n(13),o=n(27),a=n(266),s=function e(t,n,s,u){var c=Object.assign({retriesLeft:3,retryOffline:!0},s),l=Object.assign(function(){var e=ns.Model.get("config");return{idClient:e.get(".idClient"),version:e.get(".version"),sk:e.get(".sk")}}(),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return n["_model.0"]=e,Object.keys(t).forEach((function(e){n[e+".0"]=t[e]})),n})(t,n),u);return new Promise(function(e,n){return ns.http(ns.request.URL+"?_m="+t,l).then(e,n)}).then((function(e){Object(i.default)().dispatch(Object(o.checkVersion)(e.version));var t=e.models[0],n=t.data,r=t.error;return r?Promise.reject(Object.assign({uid:e.uid,sk:e.sk},r)):n&&n.error?Promise.reject(n.error):n})).catch((function(o){var s=function(){return e(t,n,Object.assign({},c,{retriesLeft:c.retriesLeft-1}))},u=o&&o.id||"";if("WRONG_SK"===u){if(Object(i.default)().getState().user.uid!==o.uid)return Object(a.safeReload)(),new Promise(function(){});var l=ns.Model.get("config");if(l.get(".sk")!==o.sk)return l.setData(Object.assign(l.getData(),{sk:o.sk})),s()}return c.retriesLeft>0&&(!u||u.startsWith("HTTP_5")&&"HTTP_507"!==u)?c.retryOffline&&o.xhr&&0===o.xhr.status?Object(r.waitOnline)("/check-online").then(s):s():Promise.reject(o)}))};"undefined"!=typeof window&&(window.rawFetchModel=s),t.a=s}),(function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return g}));var r="top",i="bottom",o="right",a="left",s="auto",u=[r,i,o,a],c="start",l="end",f="clippingParents",d="viewport",p="popper",h="reference",m=u.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),v=[].concat(u,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),g=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]}),(function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_TIMEOUT",(function(){return p})),n.d(t,"updatePromoNotification",(function(){return g})),n.d(t,"handleCheckTimerTick",(function(){return y})),n.d(t,"openDB",(function(){return b})),n.d(t,"getWaitTime",(function(){return _})),n.d(t,"getVisiblePromoNotification",(function(){return O})),n.d(t,"updatePromoNotifications",(function(){return w})),n.d(t,"handleFetchErrorAndRetry",(function(){return E})),n.d(t,"fetchPromoNotifications",(function(){return S})),n.d(t,"hidePromoNotification",(function(){return x})),n.d(t,"markPromoNotificationAsShown",(function(){return C})),n.d(t,"listenServiceNotificationsQueue",(function(){return T})),n.d(t,"notify",(function(){return k}));var r,i=n(10),o=n.n(i),a=n(16),s=n(282),u=n(9),c=n.n(u),l=n(35),f=n.n(l),d=n(14),p=Math.pow(2,30),h=f.a.NOTIFICATIONS,m=h.DEFAULT_COOLDOWN,v=h.TYPE,g=function(e,t,n){var r;if(e.forEach("notifications",(function(e){var n=Object(s.processRecord)(e);r||n.recordId!==t||(r=e)})),r){var i=e.createTransaction();return i.updateRecordFields(r,n),i.push().catch((function(){}))}return Promise.resolve()};function y(e,t){var n=t().notifications.promo;e(w(n.all,{cooldown:n.cooldown}))}var b=function(e){return function(t,n){var r=n().config,i={apiHost:r.urlsBase.hostCloudAPI,databaseId:r.notificationsDatabase,session:r.idClient};return e&&(i.onUpdate=e),Object(s.openDatabase)(i)}},_=function(e,t,n){var r=Date.now(),i=(Number(e.length&&e[0].hide_date)||0)+n-r,o=(Number(t.length&&t[0].send_date)||r)-r;return Math.min(Math.max(i,o),p)},O=function(e,t){if(e.length)return["title","text","link_text"].reduce((function(e,n){return Object.assign(e,o()({},n,e["".concat(n,"_").concat(t)]))}),e[0])};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i){var o=Date.now(),s=t.cooldown,u=void 0===s?m:s,l=i(),f=l.environment.session.locale,d=l.notifications,p=c.a.groupBy(e,(function(e){return e.hide_date?"shown":!e.end_date||Number(e.end_date)>o?"pending":void 0})),h=p.shown,g=void 0===h?[]:h,b=p.pending,w=void 0===b?[]:b;g.sort((function(e,t){var n=e.hide_date;return t.hide_date-n})),w.sort((function(e,t){var n=e.priority,r=e.send_date,i=t.priority,o=t.send_date;return i-n||r-o}));var E=null;if(r&&clearTimeout(r),w.length){var S=_(g,w,u);S>0?r=setTimeout((function(){return n(y)}),S):E=O(w,f)}var x={cooldown:u,visible:E,type:v.PROMO,all:e,fetched:!0};void 0===d.promo.hasPromoOnPageOpen&&(x.hasPromoOnPageOpen=Boolean(E)),n({type:a.UPDATE_NOTIFICATIONS,payload:x})}}var E=function(e,t,n){return function(r){if(n<t){var i=100*Math.pow(2,n+1);setTimeout((function(){r(S({retries:t,currentRetry:n+1}))}),i)}else r({type:a.NOTIFICATIONS_ERROR,error:e})}};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.retries,r=void 0===n?12:n,i=e.currentRetry,o=void 0===i?0:i,a=function(e){var n=[],r={};e.forEach("notifications",(function(e){var t=Object(s.processRecord)(e);t.id=t.recordId,n.push(t)})),e.forEach("settings",(function(e){var t=Object(s.processRecord)(e);r[t.name]=t.value})),t(w(n,r))};return t(b(a)).then(a).catch((function(e){return t(E(e,r,o))}))}}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n({type:a.HIDE_NOTIFICATION,payload:{type:"promo"}}),d.default.count("interface elements","promo notification",t?"submit":"cancel",e.statistics_id),n(b()).then((function(n){return g(n,e.id,{visited:t,hide_date:new Date})}))}},C=function(e){return function(t){return t(b()).then((function(t){return g(t,e.id,{show_date:new Date}).then((function(){d.default.count("interface elements","promo notification","show",e.statistics_id)}))}))}},T=function(){return function(e,t){var n=ns.Model.get("queueNotifications"),r=function(){var r=t().notifications.service.count,i=n.itemsProcessing.length;r!==i&&e({type:a.UPDATE_NOTIFICATIONS,payload:{type:v.SERVICE,count:i}})};n.on("added",r),n.on("processing",r),n.on("processed",r),n.on("drained",r)}},k=function(e){return function(){return ns.Model.get("queueNotifications").add(e)}}}),(function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"LISTING_PREVENT_DESELECT_CLASS",(function(){return r})),n.d(t,"LISTING_PREVENT_MOUSE_SELECTION_CLASS",(function(){return i})),n.d(t,"LISTING_PREVENT_DRAG_CLASS",(function(){return o})),n.d(t,"LISTING_ITEM_CLASS",(function(){return a})),n.d(t,"LISTING_PREVENT_DOUBLE_CLICK",(function(){return s}));var r="js-prevent-deselect",i="js-prevent-mouse-selection",o="js-prevent-drag",a="listing-item",s="prevent-double-click"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getNowServerTime",(function(){return u})),n.d(t,"getIdContext",(function(){return c})),n.d(t,"getPage",(function(){return l})),n.d(t,"isFooterHidden",(function(){return f})),n.d(t,"getBuyButtonUrl",(function(){return d})),n.d(t,"shouldShowBuyButton",(function(){return p})),n.d(t,"isInMobileApp",(function(){return h}));var r=n(36),i=n(75),o=n(325),a=n(48),s=n(158),u=function(e,t){return e.environment.session.serverTime+Date.now()-t},c=function(e){return e.page.idContext},l=function(e){var t=e.page,n=t.page,r=t.idContext;return"tuning"===n?"tuning":"docs"===n?"docs":r.startsWith("/remember")?"remember-block":"/album/geo"===r?"geo":"/album/faces"===r?"faces":r.startsWith("/album/")?"album":"/albums"===r?"albums":"/family/album"===r?"familyAlbum":"/photo"===r?"photo":Object(s.isJournalIdContext)(r)?"journal":"/error"===r?"error":"listing"},f=function(e){var t=e.environment.agent.isInMobileApp;return"photo"===l(e)||Object(r.isDocsView)(e)||Object(r.isDocsPage)(e)&&t},d=function(e){var t,n,r=null===(t=Object(o.a)(e))||void 0===t?void 0:null===(n=t.infoSpaceBlock)||void 0===n?void 0:n.buttonUrl,s=Object(i.getIsNewPayFormExp)(e),u=Object(a.getTuningButtonInfo)(e),c=u.period,l=u.productIdFamily;if(r)return r;var f=e.config.urlsBase.yandex360;return"".concat(f,s&&c&&l?"/premium-plans/pay":"/premium-plans")},p=function(e){var t=e.settings.roNoB2cTariffPromo;return!Boolean(null===t||void 0===t?void 0:t.enabled)},h=function(e){var t=e.environment.agent.isInMobileApp;return t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return i}));var r=n(62),i=function(e){return null===e||void 0===e},o=function(e){return null!==e&&void 0!==e},a=function(e){return"function"==typeof e},s=function(e){return"string"==typeof e},u=Array.isArray,c=function(e){return e&&!u(e)&&"object"==typeof e},l=function(e){return e&&a(e.then)},f=function(e){return e&&a(e.next)&&a(e.throw)},d=function e(t){return t&&(s(t)||m(t)||a(t)||u(t)&&t.every(e))},p=function(e){return e&&a(e.take)&&a(e.close)},h=function(e){return a(e)&&e.hasOwnProperty("toString")},m=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return p(e)&&e[r.e]},g=function(e){return e&&e[r.c]}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y}));var r=n(16),i=n(38),o="FAILED",a="COMPLETED",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise(function(n,r){var s;!(function u(){return Object(i.a)("do-status-operation",{oid:e}).then((function(i){var c=i.state,l=i.error;return c===o?(clearTimeout(s),void r(l)):c===a?(clearTimeout(s),void n(i)):void(e&&(s=setTimeout(u,t)))})).catch(r)})()})},u={CREATE_ALBUM:"createAlbum",ADD_TO_ALBUM:"addToAlbum",MERGE_ALBUMS:"mergeAlbums",CLEAN_TRASH:"cleanTrash"},c={ADD:"ADD",UPDATE:"UPDATE",REMOVE:"REMOVE"},l=[],f=null,d=function(e){return function(t){return l.push(e),f||(f=Promise.resolve().then((function(){f=null,t(function(e){return function(t){t({type:r.ADD_OPERATIONS,payload:{operations:e}})}}(l)),l=[]}))),f}},p=function(e){return function(t){t({type:r.UPDATE_OPERATION,payload:{operation:e}})}},h=[],m=null,v=function(e){return function(t){return h.push(e.id),m||(m=Promise.resolve().then((function(){m=null,t(function(e){return function(t){t({type:r.REMOVE_OPERATIONS,payload:{operationsIds:e}})}}(h)),h=[]}))),m}},g={ADD:d,UPDATE:p,REMOVE:v},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){r(g[e]({id:t,type:t,data:n}))}}}),(function(e,t,n){var r,i,o=n(9),a=n(22),s=n(158),u=n(108).log,c=n(25).getVdHash,l=n(135).hasListing,f={setOnBeforeFirstRenderCallback:function(e){i=e},onBeforeFirstRender:function(){"function"==typeof i&&i.apply(void 0,arguments)},go:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!arguments.length)throw new Error("`go` should be called with arguments. Use `update` to update views.");cancelAnimationFrame(r);var i=ns.router(e),o=ns.page.current.params.idContext===i.params.idContext,a=ns.page.current.params.dialog===i.params.dialog,s=ns.page.current.params.filter===i.params.filter,c=!o&&"/client/error"===e;c&&n.reason&&(e+="?reason="+n.reason),"/photo"===ns.page.current.params.idContext&&"create-album"===ns.page.current.params.action&&(t=!0),!t&&o&&a&&s&&(t=!0);var f=ns.page.go(e,t);if(c){var d={event:"errorPage",context:ns.page.current.params.idContext,reason:n.reason||""};if(n.error)try{"string"==typeof n.error?d.error=n.error:n.error instanceof Error?d.error=JSON.stringify({message:n.error.message,stack:n.error.stack}):(n.error.requestId&&(d.requestId=n.error.requestId),d.error=JSON.stringify(n.error))}catch(e){d.error=e.message}d.requestId||(d.requestId="none"),u(d)}return o||l(i.params.idContext)||window.scrollTo(0,0),f},update:function(){cancelAnimationFrame(r),r=requestAnimationFrame((function(){ns.page.go(null,"preserve")}))},updateSync:function(){cancelAnimationFrame(r),ns.page.go(null,"preserve")},getUrlBase:function(e){var t,n=$.extend(!0,{},ns.page.current.params,e),r=n.idContext&&a.getIdApp(n.idContext),i=c(n.idContext),u=ns.page.current.page;if("/journal"===n.idContext&&!f.isSearch(n))return s.generateUrl({dialog:null});f.isSearch(n)?(t=e&&e.typeSearch?o.pick(n,"querySearch","scopeSearch","typeSearch"):o.pick(n,"querySearch","scopeSearch"),u="client-dualPane"):t=0===["album","public"].indexOf(r)?o.pick(n,"albumId"):n.idContext&&n.idContext.startsWith("/remember/")?o.pick(n,"idContext","from_pool"):n.idContext&&n.idContext.startsWith("/photo")?o.pick(n,"idContext","filter"):o.pick(n,"idContext","page","idPage");var l=ns.router.generateUrl(u,t);return i&&!l.startsWith("/client/vd")?l.replace("/client","/client/vd/"+i):l},scrollToTop:function(){window.scrollTo(0,0)},isSearch:function(e){var t=e||ns.page.current.params;return!!(t&&t.querySearch&&t.scopeSearch)},appendImage:function(e){return this.containerImage||(this.containerImage=$("<div />",{class:"js-images-container _hidden"}).appendTo("body")),$("<img />",{src:e}).appendTo(this.containerImage)},getDimentionsViewport:function(e){var t=e||$(window);return{width:t.width(),height:t.height()}},scrollCenterElement:function(e){var t=e.getBoundingClientRect();window.scrollTo(0,scrollY+t.top-(innerHeight-t.height)/2)}};e.exports=f}),(function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return (function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0})(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),u=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t})(r),c=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=i((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var a=t.createSelector=o(i)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getTargetLimit",(function(){return p})),n.d(t,"getTargetUsed",(function(){return h})),n.d(t,"getPercentageOfUsed",(function(){return m})),n.d(t,"getHasBillingProducts",(function(){return v})),n.d(t,"isUserWithPaidTariff",(function(){return g})),n.d(t,"getShouldGoToNewForm",(function(){return y})),n.d(t,"getTuningButtonInfo",(function(){return b})),n.d(t,"getOverdraftType",(function(){return _})),n.d(t,"shouldNotifyOverdraft",(function(){return O})),n.d(t,"getSpaceOverdraftValue",(function(){return w})),n.d(t,"isOverdraftHard",(function(){return E})),n.d(t,"getBlockOverdraftDate",(function(){return S})),n.d(t,"isOverdraftLite",(function(){return x})),n.d(t,"shouldRestrictByOverdraft",(function(){return C})),n.d(t,"getFinishPromoTime",(function(){return T})),n.d(t,"getInfoSpaceDiscountData",(function(){return k})),n.d(t,"shouldShowInfoSpaceDiscount",(function(){return j})),n.d(t,"getLimitUploadSize",(function(){return P}));var r=n(334),i=n(107),o=n(43),a=n(35),s=n(36),u=n(325),c=n(25),l=n(109),f=n(264),d=n(75),p=function(e){var t,n,r=e.space.limit,i=e.page.idContext,o=Object(c.getCurrentVirtualDisk)(i);return o?null===(t=e.resources[o])||void 0===t?void 0:null===(n=t.space)||void 0===n?void 0:n.limit:r},h=function(e){var t,n,r=e.space.used,i=e.page.idContext,o=Object(c.getCurrentVirtualDisk)(i);return o?null===(t=e.resources[o])||void 0===t?void 0:null===(n=t.space)||void 0===n?void 0:n.used:r},m=function(e){var t=p(e),n=h(e);return Math.min(n/t*100,100)},v=function(e){var t,n=e.billingProducts,r=null===n||void 0===n?void 0:null===(t=n.product_sets)||void 0===t?void 0:t.mail_pro_b2c;return Boolean(n&&r&&r.items&&r.items.length)},g=function(e){var t,n,r=e.billingProducts,i=null===r||void 0===r?void 0:null===(t=r.product_sets)||void 0===t?void 0:null===(n=t.mail_pro_b2c)||void 0===n?void 0:n.current_subscription;return Boolean(i)},y=function(e){return Object(d.getIsNewPayFormExp)(e)&&v(e)&&!g(e)},b=function(e){var t=e.billingProducts,n=v(e),i=g(e),o=Object(d.getIsNewPayFormExp)(e);if(n&&!i){var a=Object(f.getBestOfferForKey)(t.product_sets,l.ProductSetKeys.MailProB2c);if(a){var s,c=null===(s=Object(u.a)(e))||void 0===s?void 0:s.infoSpaceBlock,p=a.prices.find((function(e){return"month"===e.period})),h=a.prices.find((function(e){return"year"===e.period})),m=!Object(r.isPriceWithTemporaryDiscount)(p)&&Object(r.isPriceWithTemporaryDiscount)(h)||o&&c?h:p,y=Object(f.getFeature)(a,l.ProductFeatureCode.DiskSpace);if(m&&y){var b;if(null!==c&&void 0!==c&&c.buyButtonRUB&&"RUB"===m.currency)b=c.buyButtonRUB;else if(null!==c&&void 0!==c&&c.buyButtonUSD&&"USD"===m.currency)b=c.buyButtonUSD;else{var _=y.value,O="RUB"===m.currency?Object(r.getBestPrice)(m)+" ₽":"$"+Object(r.getBestPrice)(m);b=yr.externals.entityify(_)+" за "+yr.externals.entityify(O)}return{text:b,priceId:m.price_id,period:m.period,productIdFamily:a.product_id_family}}}return{text:"Купить место"}}return{text:"Управление"}},_=function(e){var t=e.user,n=t.overdraftType,r=t.overdraft_status;return n||r&&a.MPFS_OVERDRAFT_STATUSES[r]||""},O=function(e){var t=e.environment.agent.isMobile,n=e.space;return!Object(s.isDocsPage)(e)&&!t&&Object(i.isOverdraft)(n)||Boolean(_(e))},w=function(e){var t=e.space,n=t.used-t.limit;return n>0?n:0},E=function(e){return _(e)===a.OVERDRAFT_TYPES.HARD},S=function(e){var t=e.user.overdraft_block_date,n=Date.now(),r=t?new Date(t).getTime():0;return r&&r>n?r:n},x=function(e){return _(e)===a.OVERDRAFT_TYPES.LITE},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({forHard:!0},t),r=Object(o.getIdContext)(e);return!Object(c.isVirtualDiskPath)(r)&&(E(e)&&n.forHard||x(e)&&n.forLite)},T=function(e){var t,n,r=null===(t=e.billingProducts)||void 0===t?void 0:null===(n=t.active_promo)||void 0===n?void 0:n.active_until_date,i=r&&new Date(r);return i&&i.getTime()||0},k=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=e.billingProducts,a=e.settings,s=a.timestampLastCollapseInfoSpaceDiscount,c=a.timestampLastExpandInfoSpaceDiscount,l=a.lastShownInfoSpaceDiscountId,f=Object(o.getNowServerTime)(e,r),d=null===i||void 0===i?void 0:null===(t=i.active_promo)||void 0===t?void 0:t.key,p=T(e),h=-180===(new Date).getTimezoneOffset(),m=p-864e5,v=Boolean(Number(s)&&l===d&&s>c),g=Boolean(!Number(c)||l!==d||v&&c<m&&f>m),y=h&&!v&&f>m,b=y&&p<288e5+f,_=null===(n=Object(u.a)(e))||void 0===n?void 0:n.infoSpaceBlock;if(_)return{discountId:d,shouldShowTimer:y,finishDiscountTime:p,canShowTimer:h,timeWithTimer:m,timeAttentionTimer:p-288e5,attentionTimer:b,shouldExpandWithAnimation:g,shouldCollapse:v&&!g,payload:_}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.environment.session.canShowDiscountInInfoSpaceBlock,r=e.page.idContext;return n&&Object(o.shouldShowBuyButton)(e)&&!g(e)&&Boolean(k(e,t))&&!Object(c.isVirtualDiskPath)(r)},P=function(e){var t=e.space,n=t.filesize_limit;return n!==t.paid_filesize_limit&&n||0}}),(function(e,t,n){"use strict";n.r(t);n(62),n(149);var r=n(44),i=n(24),o=(n(409),function(e){return{done:!0,value:e}}),a={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function u(e,t,n){var r,s,u,c=t;function l(t,n){if(c===a)return o(t);if(n&&!s)throw c=a,n;r&&r(t);var i=n?e[s](n):e[c]();return c=i.nextState,u=i.effect,r=i.stateUpdater,s=i.errorState,c===a?o(t):u}return Object(i.ab)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c,l={done:!1,value:Object(i.l)(e)},f=function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}},d=function(e){return a=e},p=function(e){return c=e};return u({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return a?{nextState:"q3",effect:(function(e){return{done:!1,value:Object(i.n)(e)}})(a)}:{nextState:"q1",effect:f(c),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:f(c),stateUpdater:d}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.o.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function d(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,f={done:!1,value:Object(i.p)(t,Object(i.r)(1))},d={done:!1,value:Object(i.v)(e)},p=function(e){return c=e},h=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:f,stateUpdater:h}},q2:function(){return{nextState:"q3",effect:{done:!1,value:Object(i.l)(l)},stateUpdater:p}},q3:function(){return{nextState:"q4",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}},q4:function(){return{nextState:"q2",effect:d}}},"q1","throttle("+s(t)+", "+n.name+")")}function p(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,f={done:!1,value:Object(i.l)(t)},d={done:!1,value:Object(i.w)({action:Object(i.l)(t),debounce:Object(i.v)(e)})},p=function(e){return c=e},h=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:f,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:d,stateUpdater:h}},q3:function(){return l.debounce?{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}:{nextState:"q2",effect:(function(e){return{done:!1,value:e}})(l.action),stateUpdater:p}}},"q1","debounce("+s(t)+", "+n.name+")")}function h(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[c,e,t].concat(r))}function m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[l,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[f,e,t].concat(r))}function g(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[d,e,t,n].concat(o))}function y(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),s=3;s<r;s++)o[s-3]=arguments[s];return i.o.apply(void 0,[function(e,t,n){for(var r=e,o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];var l={done:!1,value:i.o.apply(void 0,[n].concat(s))},f={done:!1,value:Object(i.v)(t)};return u({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:a}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:f}}},"q1","retry("+n.name+")")},e,t,n].concat(o))}function b(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[p,e,t,n].concat(o))}n.d(t,"actionChannel",(function(){return i.p})),n.d(t,"all",(function(){return i.B})),n.d(t,"apply",(function(){return i.a})),n.d(t,"call",(function(){return i.o})),n.d(t,"cancel",(function(){return i.n})),n.d(t,"cancelled",(function(){return i.H})),n.d(t,"cps",(function(){return i.D})),n.d(t,"delay",(function(){return i.v})),n.d(t,"effectTypes",(function(){return i.x})),n.d(t,"flush",(function(){return i.I})),n.d(t,"fork",(function(){return i.m})),n.d(t,"getContext",(function(){return i.J})),n.d(t,"join",(function(){return i.F})),n.d(t,"put",(function(){return i.z})),n.d(t,"putResolve",(function(){return i.A})),n.d(t,"race",(function(){return i.w})),n.d(t,"select",(function(){return i.G})),n.d(t,"setContext",(function(){return i.K})),n.d(t,"spawn",(function(){return i.E})),n.d(t,"take",(function(){return i.l})),n.d(t,"takeMaybe",(function(){return i.y})),n.d(t,"debounce",(function(){return b})),n.d(t,"retry",(function(){return y})),n.d(t,"takeEvery",(function(){return h})),n.d(t,"takeLatest",(function(){return m})),n.d(t,"takeLeading",(function(){return v})),n.d(t,"throttle",(function(){return g}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(442),i=n(41);function o(e){Object(i.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Object(r.a)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"decideSelectAlbum",(function(){return m})),n.d(t,"add",(function(){return g})),n.d(t,"getActiveConfirmationOperation",(function(){return y}));var r=n(265),i=n.n(r),o=n(25),a=n(23),s={},u=null,c=[],l="confirmation",f="rename",d="selectFolder",p="selectAlbum",h=function(e,t,n,r){return function(i){var o=[];r?Object.keys(s).forEach((function(e){s[e].data.operation.get(".gid")===r&&o.push(e)})):o.push(e),o.forEach((function(e){var r=s[e];r&&(t?r.data.onSubmit(n):r.data.onReject&&r.data.onReject()),delete s[e];var i=c.indexOf(e);i>-1&&c.splice(i,1)})),i(v())}},m=function(e,t){return function(n){if(u){requestAnimationFrame((function(){n(Object(a.closeDialog)(p))}));var r=s[u],i=r.type,o=r.data.operation;if("select-album"===i){var c=o&&o.get(".gid");n(h(u,e,{albumId:t},c))}}}},v=function(){return function(e,t){var n=t().page.idContext;if(c.length){u=c.shift();var r=s[u],i=r.type,v=r.data,g=v.operation,y=v.dialogParams,b=g&&g.get(".gid");switch(i){case"confirmation":e(Object(a.openDialog)(l,Object.assign({isGroup:Boolean(b),onSubmit:function(){e(Object(a.closeDialog)(l)),e(h(u,!0))},onSubmitAll:function(){e(Object(a.closeDialog)(l)),e(h(u,!0,null,b))},onReject:function(){e(Object(a.closeDialog)(l)),e(h(u,!1))},onRejectAll:function(){e(Object(a.closeDialog)(l)),e(h(u,!1,null,b))}},y)));break;case"prompt":e(Object(a.openDialog)(f,Object.assign({onSubmit:function(t){e(Object(a.closeDialog)(f)),e(h(u,!0,{name:t}))},onClose:function(){e(Object(a.closeDialog)(f)),e(h(u,!1))}},y)));break;case"select-folder":e(Object(a.openDialog)(d,Object.assign({folderId:Object(o.getCurrentVirtualDisk)(n)||"/disk",onSubmit:function(t){var n=t.folderId,r=t.name;e(Object(a.closeDialog)(d)),e(h(u,!0,{folderId:n,name:r},b))},onCancel:function(){e(Object(a.closeDialog)(d)),e(h(u,!1,null,b))}},y)));break;case"select-album":e(Object(a.openDialog)(p,Object.assign({onCancel:function(){e(m(!1))}},y)))}}else u=null}},g=function(e,t){return function(n){var r=String(i()());s[r]={type:e,data:t},c.push(r),u||n(v())}},y=function(){return u?s[u].data.operation:null}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(34),s=(n(1261),Object(a.cn)("Icon")),u=function(e){var t=e.direction,n=e.size,i=e.url,a=e.style,u=void 0===a?{}:a,c=e.children,l=e.title,f=e.onClick,d=(e.type,e.glyph,Object(r.__rest)(e,["direction","size","url","style","children","title","onClick","type","glyph"])),p=s({direction:t,size:n},[d.className]);return void 0!==i&&(u.backgroundImage="url('"+i+"')"),o.a.createElement("span",Object(r.__assign)({},d,{"aria-hidden":!0,className:p,style:u,title:l,onClick:f}),c)};u.displayName=s()}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(263),u=n.n(s),c=(n(1003),n(64)),l=n(13),f=n(22),d=n.n(f);u.a.define("settings",{methods:{getData:function(){return Object(l.default)().getState().settings},setData:function(e){Object(l.default)().dispatch(h(e))},get:function(e){return a.a.get(Object(l.default)().getState().settings,d.a.formatPropertyPath(e))},set:function(e,t){var n=Object.assign({},Object(l.default)().getState().settings);a.a.set(n,d.a.formatPropertyPath(e),t),Object(l.default)().dispatch(h(n))},save:function(e){return Object(l.default)().dispatch(m(e))}},defaults:c.modelDefaults});var p=n(16);n.d(t,"updateSettings",(function(){return h})),n.d(t,"saveSettings",(function(){return m}));var h=function(e){return{type:p.UPDATE_SETTINGS,payload:e}},m=function(e){var t=e.key,n=e.value,r=e.serverOnly;return function(e){if(t&&n)return r||e(h(i()({},t,n))),ns.Model.get("queueRequest").push({id:"do-settings-set",params:{key:t,value:n}})}}}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(46),l=n.n(c),f=n(14),d=n(88),p=n.n(d),h=n(33),m=n(213),v=n(236),g=n(38),y=n(53),b=n(27),_=n(15),O=n(117),w=n(61),E=n(680),S=n(20),x=n(123),C=n(162),T=n(51),k=n(92),j=n(45),P=n(37),R=n(28),A=n(40),I=n(23),D=n(103),M=n(60),N=n.n(M),L=n(31),F=n(17),B=function(e,t){return e.personalAlbums.favoriteAlbumId===t},U=n(16),z=n(77);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"fetchAlbum",(function(){return G})),n.d(t,"maybeFetchAlbum",(function(){return $})),n.d(t,"createAlbum",(function(){return q})),n.d(t,"updateAlbumsCommonData",(function(){return Y})),n.d(t,"setNewAlbumTitle",(function(){return K})),n.d(t,"ALBUMS_SCROLL",(function(){return J})),n.d(t,"setAlbumsScroll",(function(){return X})),n.d(t,"requestNewAlbumTitle",(function(){return Z})),n.d(t,"addToAlbum",(function(){return ee})),n.d(t,"addToCurrentAlbum",(function(){return te})),n.d(t,"removeItemsFromAlbum",(function(){return ne})),n.d(t,"excludeFromAlbum",(function(){return ie})),n.d(t,"excludeFromGeoAlbum",(function(){return oe})),n.d(t,"removeItemsFromAlbumByItemId",(function(){return ae})),n.d(t,"excludeFromPersonalAlbum",(function(){return se})),n.d(t,"deleteAlbum",(function(){return ue})),n.d(t,"renameAlbum",(function(){return ce})),n.d(t,"downloadAlbum",(function(){return le})),n.d(t,"maybeFetchResourcesForSlider",(function(){return fe})),n.d(t,"setAlbumPhotoView",(function(){return de})),n.d(t,"publishPhotos",(function(){return he})),n.d(t,"unpublishPhotos",(function(){return me})),n.d(t,"publishAlbum",(function(){return ve})),n.d(t,"unpublishAlbum",(function(){return ge})),n.d(t,"positiveUnpublishAlbum",(function(){return ye})),n.d(t,"cleanAlbum",(function(){return _e})),n.d(t,"remoteUpdateAlbum",(function(){return Oe})),n.d(t,"syncAlbum",(function(){return we})),n.d(t,"setResourceAsAlbumCover",(function(){return Ee})),n(1382),n(505);var H=function(e){return function(t){if(!e)return t(Object(b.goToUrl)(l.a.getUrlBase())),!0}},W={},G=function(e){return function(t){var n=W[e];return n||(n=Object(g.a)("getAlbum",{albumId:e}).then((function(n){return delete W[e],m.a.preprocessAlbum(n),"favorites"===n.album_type&&t({type:z.j,payload:[n]}),"family"===n.album_type&&t({type:z.i,payload:[n]}),t(Object(w.updateAlbum)(n)),n})).catch((function(t){if(delete W[e],t instanceof Error)throw t})),W[e]=n,n)}},$=function(e){return function(t,n){var r=Object(R.getAlbumById)(n(),e);r?t(H(r)):t(G(e)).then((function(){t(H(Object(R.getAlbumById)(n(),e)))})).catch((function(){t(H())}))}},q=function(e,t,n,r,i){return function(o,a){var s=function(){o(Object(I.closeDialog)("album-title"))},u=function(t){s(),Object(D.isDialogOpened)(a(),"selectAlbum")&&o(Object(T.decideSelectAlbum)(!1)),o({type:U.CREATE_ALBUM,payload:{isPublishSelected:i}}),o(Object(j.f)(j.a.ADD,j.b.CREATE_ALBUM));var u=a(),c=u.page,f=c.idContext,d=c.originalNSParams.action,p=u.personalAlbums.returnPath;return"/photo"===f&&"create-album"===d&&(o(X(J.RESTORE)),o(Object(O.deselectAllStatesContext)()),l.a.go(p)),Object(g.a)("do-create-album",{title:t,cover:n,noItems:"1",isPublic:r?"true":"false",idsResources:JSON.stringify(Object(C.a)(e))},{retriesLeft:0,retryOffline:!1}).then((function(e){return o(Object(j.f)(j.a.REMOVE,j.b.CREATE_ALBUM)),m.a.preprocessAlbum(e),o({type:U.CREATE_ALBUM_SUCCESS,payload:e}),o(Object(A.notify)({operation:"createAlbum",status:"success",url:"/client/albums/".concat(e.id),name:e.title})),e.id}),(function(){o(Object(j.f)(j.a.REMOVE,j.b.CREATE_ALBUM)),o({type:U.CREATE_ALBUM_FAIL}),o(Object(A.notify)({operation:"createAlbum",status:"failed"}))}))};return void 0===t?(o(Object(I.openDialog)("album-title",{onClose:s,onSubmit:u})),Promise.resolve()):u(t)}},Y=function(e){return{type:U.UPDATE_ALBUMS_COMMON_DATA,payload:e}},K=function(e){return Y({newAlbumTitle:e})},J={RESTORE:"restore",SCROLL:"scroll"},X=function(e){return Y({scrollInAlbums:e})},Z=function(){return function(e,t){if(!e(Object(b.maybeBlockAction)())){e(Object(I.openDialog)("album-title",{onClose:function(){e(Object(I.closeDialog)("album-title"))},onSubmit:function(n){e(Y({newAlbumTitle:n,returnPath:N.a.getPath(t().page.currentUrl)})),e(Object(I.closeDialog)("album-title")),l.a.go("/client/photo|create-album")}}))}}},Q=function(e,t,n){var r=n.shouldRedirectToAlbum,i=n.shouldShowNotification;return function(n,o){var s;r&&(n(Object(O.deselectAllStatesContext)()),n(Object(b.goToUrl)("/client/albums/".concat(t))));var u=B(o(),t),c="family"===(null===(s=Object(R.getAlbumById)(o(),t))||void 0===s?void 0:s.album_type);return Object(g.a)("do-add-resources-to-album",{id:t,resourcesIds:JSON.stringify(e)}).then((function(r){if(n(Object(j.f)(j.a.REMOVE,j.b.ADD_TO_ALBUM)),r.items.length){var s=o();if(r.resources=[],r.items.forEach((function(e){var t=e.id,i=e.uid,o=Object(F.getResourceData)(s,t),u=o.albumIds||[];n(Object(_.setResourceData)(t,[].concat(a()(u),[r.id]),"albumIds")),c&&i&&n(Object(_.setResourceData)(t,i,"uid")),r.resources.push(o)})),n({type:U.ADD_ITEMS_TO_ALBUM,payload:r}),u&&n(Object(_.batchSetResourceData)(r.items.map((function(e){var t=e.itemId;return[e.id,{state:!0,itemId:t},"favorite"]})))),i){var l=r;u&&(l={title:"Избранные",id:t}),c&&(l={title:"Альбом семьи",id:t}),n(Object(A.notify)({operation:"addToAlbum",status:"done",count:r.items.length,typeAddition:r.items.length<e.length?"half":"full",dst:l}))}var f=Object(R.getAlbumById)(s,t);return f&&!f.cover&&n(G(t)),r}n(Object(A.notify)({operation:"addToAlbum",status:"failed",typeAddition:"none"}))})).catch((function(r){var i;return n(Object(j.f)(j.a.REMOVE,j.b.ADD_TO_ALBUM)),i=u?{title:"Избранные"}:c?{title:"Альбом семьи"}:Object(R.getAlbumById)(o(),t)||{},n(Object(A.notify)({operation:"addToAlbum",status:"failed",count:e.length,dst:i})),r instanceof Error&&setTimeout((function(){throw r}),0),null}))}},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldRedirectToAlbum,i=void 0!==r&&r,o=n.shouldShowNotification,a=void 0===o||o;return function(n,r){if(n(Object(b.maybeBlockAction)()))return Promise.reject();var o=Object(C.a)(e);return t?(n(Object(j.f)(j.a.ADD,j.b.ADD_TO_ALBUM,{srcContextId:"/album/".concat(t)})),n(Q(o,t,{shouldRedirectToAlbum:i,shouldShowNotification:a}))):(n(Object(T.add)("select-album",{dialogParams:{ids:e},onSubmit:function(e){var t=e.albumId;n(Object(j.f)(j.a.ADD,j.b.ADD_TO_ALBUM,{srcContextId:r().page.idContext})),n(Q(o,t,{shouldRedirectToAlbum:!1,shouldShowNotification:a}))}})),Promise.resolve(null))}},te=function(e){return function(t,n){t(Object(b.maybeBlockAction)())||(t(Y({returnPath:N.a.getPath(n().page.currentUrl)})),t(Object(b.goToUrl)("/client/photo|add-to-album?targetAlbumId=".concat(e))))}},ne=function(e,t){return function(n,r){var i,o=r(),a=Object(C.a)(t),s=Object(L.sliderResourceSelector)(o);if(s&&a.includes(s.id)&&Object(R.isPageAlbum)(o)){var u=Object(R.getAlbumNextResource)(o,s.id,1);i=u?u.id:""}n({type:U.REMOVE_ITEMS_FROM_ALBUM,payload:{newIdDialog:i,albumId:e,resourcesIds:a}}),n(Object(_.maybeSyncSliderUrl)(s&&s.id,i)),B(r(),e)&&n(Object(_.batchSetResourceData)(a.map((function(e){return[e,{state:!1},"favorite"]}))))}},re=function(e,t){var n=t.filter,r=t.settingsName,i=t.metrikaName;return function(t,o){if("1"===o().settings[r])return Promise.resolve();t(Object(y.saveSettings)({key:r,value:"1"}));var a=E.a[n],s=function(e){f.default.count("interface elements","dialog confirm",i,e)};return new Promise(function(n,r){t(Object(T.add)("confirmation",{dialogParams:{text:1===e.length?"Фото будет скрыто из альбома «"+yr.externals.entityify(a)+"», но останется на Диске и будет доступно в других альбомах. Вернуть фото в этот альбом не получится":"Выбранные фото будут скрыты из альбома «"+yr.externals.entityify(a)+"», но останутся на Диске и будут доступны в других альбомах. Вернуть фото в этот альбом не получится",submitButtonText:"Убрать из альбома",cancelButtonText:"Отмена"},onSubmit:function(){s("ok"),n()},onReject:function(){s("cancel"),r(new Error("cancel"))}}))})}},ie=function(e){return function(t,n){var r=n(),i=r.page,o=i.filter,a=i.idContext,s=r.resources,u=Array.isArray(e)?e:[e];t(re(u,{filter:o,metrikaName:"exclude from album",settingsName:"confirmExcludeFromAlbumShowed"})).then((function(){var e=u.filter((function(e){return Object(S.can)(S.EXCLUDE_FROM_ALBUM,s[e],r,[])}));return t(Object(_.excludeResourceFromAlbum)(e.map((function(e){return s[e]})),o)),t(Object(O.deselectAllStatesContext)()),e.length!==u.length&&t(Object(A.notify)({operation:"excludeFromAlbum",status:"cannotExclude"})),p.a.create("excludeFromAlbum",e.map((function(e){return{idSrc:e,albumType:o,srcContextId:a}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}},oe=function(e){return function(t,n){var r=n(),i=Array.isArray(e)?e:[e];t(re(i,{filter:"geo",metrikaName:"exclude from geo album",settingsName:"confirmExcludeFromGeoAlbumShowed"})).then((function(){var e=Object(R.getCurrentAlbumId)(r);t(ne(e,i)),p.a.create("excludeFromAlbum",i.map((function(e){return{idSrc:e,albumType:"geo"}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}},ae=function(e,t){return function(n,r){var i=r(),o=u.a.get(i,"personalAlbums.albumsByIds['".concat(e,"']"));if(o){var a=t.map((function(e){return Object(x.c)(o,{itemId:e})})).filter(Boolean).map((function(e){return e&&o.clusters[e.clusterIndex].items[e.resourceIndex].id}));a.length&&n(ne(e,a))}}},se=function(e){return function(t,n){var r=n(),i=Object(R.getCurrentAlbum)(r),o=Object(C.a)(e),a=o.map((function(e){var t=Object(x.c)(i,{id:e});return t&&i.clusters[t.clusterIndex].items[t.resourceIndex]})).filter(Boolean);t(ne(i.id,o));var s=p.a.create("removeResourceAlbum",a.map((function(e){return{itemId:e.itemId,resourceId:e.id,albumId:i.id,srcContextId:r.page.idContext}}))),c=Object(R.getAlbumsData)(r,"faces");if("faces"===i.album_type&&c&&c.previewAlbumId===i.id&&o.includes(c.previewResourceId)){s.find((function(e){return e.get(".resourceId")===c.previewResourceId})).on("status.done",(function(){t(Object(k.fetchSingleFaces)()),t(G(i.id))}))}else{var l=i.coverResourceId||u.a.get(i,"cover.object.id");if(o.includes(l))s.find((function(e){return e.get(".resourceId")===l})).on("status.done",(function(){t(G(i.id))}))}}},ue=function(e){return function(t,n){var r=n(),i=Object(R.getAlbumById)(r,e),o=i&&i.album_type,a="faces"===o,s=function(e){f.default.count("interface elements","dialog confirm","delete album",a?"faces":"personal",e)};return t(Object(T.add)("confirmation",{dialogParams:{text:"faces"===o?"Альбом с этим человеком будет удалён, но фото останутся на Диске. Вы действительно хотите удалить альбом?":"Вы действительно хотите удалить альбом?",submitButtonText:"Удалить",cancelButtonText:"Отмена"},onSubmit:function(){return s("ok"),Object(g.a)("do-remove-album",{id:e}).then((function(){if(t({type:U.REMOVE_ALBUM,payload:{id:e,albumType:o}}),t(Object(b.goToUrl)("/client/albums"+(a?"/faces":""))),t(Object(A.notify)({operation:"removeAlbum",status:"done",title:i.title})),a){var n=Object(R.getAlbumsData)(r,"faces");if(n&&n.previewAlbumId===i.id)return t(Object(k.fetchSingleFaces)())}})).catch((function(){t(Object(A.notify)({operation:"removeAlbum",status:"failed",title:i.title}))}))},onReject:function(){s("cancel")}}))}},ce=function(e){return function(t,n){if(!t(Object(b.maybeBlockAction)())){var r=n().personalAlbums.albumsByIds[e];t(Object(I.openDialog)("album-title",{isFacesAlbum:"faces"===r.album_type,title:r.title,onSubmit:function(n){t(Object(I.updateDialog)("album-title",{progress:!0})),Object(g.a)("do-edit-album",{id:e,key:"title",value:n,no_items:"1"}).then((function(n){var r=n.title;t(Object(w.updateAlbum)({id:e,title:r})),t(Object(I.closeDialog)("album-title",{}))})).catch((function(){t(Object(I.updateDialog)("album-title",{progress:!1,errorText:"Не удалось переименовать альбом"}))}))},onClose:function(){return t(Object(I.closeDialog)("album-title"))}}))}}},le=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e];return Object(g.a)("do-download-album",{publicKey:r.public.public_key}).then((function(e){if(!e.url)return Promise.reject();Object(v.a)(e.url)})).catch((function(){t(Object(A.notify)({status:"failed",operation:"downloadAlbum"}))}))}},fe=function(){return function(e,t){var n=t();if(Object(L.isSliderOpened)(n)&&Object(R.isPageAlbum)(n)){var r=Object(L.sliderResourceSelector)(n);Object(R.getAlbumResources)(n).find((function(e){var t=e.id;return r.id===t}))||e(Object(w.fetchAlbumWithItems)())}}},de=function(e,t){return function(n){var r=t===P.PHOTO_GRID_TYPES.TILE?"squares":"waterfall";return n({type:U.UPDATE_ALBUM,payload:{id:e,layout:r}}),Object(g.a)("do-edit-album",{id:e,key:"layout",value:r,no_items:"1"}).catch((function(){}))}},pe=function(e,t){return function(n,r){return n(Object(w.updateAlbum)({id:e,isPublishing:!0,isPublishingReverse:"true"===t})),Object(g.a)("do-publish-album",{id:e,reverse:t,noItems:"1"}).then((function(r){return r.public&&(r.public.short_url=h.default.fixShortUrl(r.public.short_url)),n(Object(w.updateAlbum)(Object.assign({id:e,isPublishing:!1},u.a.pick(r,"public","is_public")))),n(Object(A.notify)({operation:"publishAlbum",status:"done",reverse:t,src:r})),e}),(function(){n(Object(w.updateAlbum)({id:e,isPublishing:!1})),n(Object(A.notify)({operation:"publishAlbum",status:"failed",reverse:t,src:r().personalAlbums.albumsByIds[e]}))}))}},he=function(e){return function(t,n){var r=n(),i=Object(L.getCreatedAlbumFromSelected)(r);if(i)return t(pe(i.id));var o=r.resources,a=Object(x.e)(e.map((function(e){return o[e]})));return t(q(e,a,void 0,!0,!0))}},me=function(){return function(e,t){var n=t().personalAlbums.lastCreatedAlbumId;return e(pe(n,"true"))}},ve=function(e){return function(t){return t(Object(b.maybeBlockAction)({forLite:!0}))?Promise.reject():t(pe(e))}},ge=function(e){return function(t){return t(pe(e,"true"))}},ye=function(e,t){return function(n,r){n(Object(w.updateAlbum)({id:e,is_public:!1})),t.then((function(e){n(Object(A.notify)({operation:"publishAlbum",status:"done",reverse:!0,src:e}))})).catch((function(){n(Object(w.updateAlbum)({id:e,is_public:!0})),n(Object(A.notify)({operation:"publishAlbum",status:"failed",reverse:!0,src:r().personalAlbums.albumsByIds[e]}))}))}},be=function(e,t){return function(n,r){return Object(g.a)("albumItems",{albumId:e,itemsIds:JSON.stringify(t)}).then((function(t){var o=r(),s=B(o,e),u=h.default.preprocessResources(t.resources,o).map((function(n){return Object.assign({},n,{albumIds:[].concat(a()(n.albumIds||[]),[e])},(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},s?{favorite:{state:!0,itemId:t.items.find((function(e){return e.id===n.id})).itemId}}:{}))}));n({type:U.ADD_ITEMS_TO_ALBUM,payload:{id:e,items:t.items,resources:u}})}))}},_e=function(e){return function(t,n){var r=Object(R.getAlbumById)(n(),e),i=Object.assign({},r,{isCompleted:!1,clusters:void 0});t(Object(w.updateAlbum)(i))}},Oe=function(e){return function(t,n){var r=u.a.get(e,"root.parameters.type"),i=u.a.get(e,"root.parameters.id"),o=u.a.get(e,"root.parameters.album_type"),a=u.a.get(e,"root.parameters.auto_handle"),s=n(),c=Object(R.getAlbumById)(s,i),l=Boolean(c&&c.clusters),f={status:"done"},d=Object(R.getAlbumsData)(s,o||c&&c.album_type),p=Object(R.getAlbumsData)(s,"faces");switch(r){case"append_items":var h=e.values.map((function(e){return e.parameters.id}));c&&c.is_empty&&t(G(i)),l&&t(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(i){return r===n.length?Promise.resolve():i(be(t,n[r])).then((function(){return i(e(t,n,r+1))}))}}(i,u.a.chunk(h,10))),1!==Number(a)&&Object.assign(f,{operation:"addToAlbum",count:h.length});break;case"title_change":c&&t(Object(w.updateAlbum)({id:i,title:u.a.get(e,"root.parameters.title")}));break;case"cover_change":c&&t(G(i)).then((function(e){"faces"===e.album_type&&p&&p.previewAlbumId===i&&t(Object(k.fetchSingleFaces)())}));break;case"publish":case"unpublish":var m=u.a.get(e,"root.parameters.is_public");c&&t(Object(w.updateAlbum)({id:i,is_public:m})),Object.assign(f,{operation:"publishAlbum",reverse:!m});break;case"album_remove":d&&d.isLoaded&&t({type:U.REMOVE_ALBUM,payload:{id:i,albumType:o}}),p&&p.previewAlbumId===i&&t(Object(k.fetchSingleFaces)()),Object(R.getCurrentAlbumId)(s)===i&&t(Object(b.goToUrl)("/client/albums"));break;case"items_remove":var v=e.values.map((function(e){return e.parameters.id}));if(l)t(ae(i,v));else if(c&&"favorites"===c.album_type){var g=t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];return Object.values(r).forEach((function(t){t.favorite&&t.favorite.state&&e.includes(t.favorite.itemId)&&i.push(t)})),i}}(v));t(Object(_.batchSetResourceData)(g.map((function(e){return[e.id,{state:!1},"favorite"]}))))}var y=p&&p.previewAlbumId===i;(d&&d.isLoaded||y)&&t(G(i)).then((function(e){y&&u.a.get(e,"cover.object.id")!==p.previewResourceId&&t(Object(k.fetchSingleFaces)())})),f.operation="removeResourceAlbum",v.length>1&&(f.count=v.length);break;case"album_create":d&&d.isLoaded&&t(G(i)).then((function(e){[null,"personal"].includes(e.album_type)&&t({type:U.CREATE_ALBUM_SUCCESS,payload:e})}));break;case"albums_merged":var O=u.a.get(e,"root.parameters.src_id"),E=u.a.get(e,"root.parameters.dst_id"),S=u.a.get(e,"root.parameters.new_dst_title"),x=Object(R.getAlbumById)(s,O),C=Object(R.getAlbumById)(s,E);x&&t({type:U.REMOVE_ALBUM,payload:{id:O,albumType:"faces"}}),p&&p.previewAlbumId===O&&t(Object(k.fetchSingleFaces)()),C&&(t(_e(E)),S&&t(Object(w.updateAlbum)({id:E,title:S}))),f.operation="mergeAlbums"}if(d&&d.isLoaded&&f.operation){var T=Object(R.getAlbumById)(s,i);t(Object(A.notify)(Object.assign(f,{src:T,dst:T})))}"geo"===o&&t(Object(k.fetchSingleGeo)())}},we=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e.id],i=["id","title","is_public","public"],o=u.a.pick(e,i);r&&!u.a.isEqual(o,u.a.pick(r,i))&&t(Object(w.updateAlbum)(o))}},Ee=function(e){return function(t,n){if(t(Object(b.maybeBlockAction)()))return Promise.reject();var r=n(),i=Object(R.getCurrentAlbum)(r),o=Object(x.c)(i,{id:e});if(!o)return Promise.reject();var a=i.clusters[o.clusterIndex].items[o.resourceIndex].itemId;return Object(g.a)("do-edit-album",{id:i.id,key:"cover",value:a,no_items:"1"}).then((function(n){if("faces"===i.album_type){var o=Object(R.getAlbumsData)(r,"faces");o&&o.previewAlbumId===i.id&&t(Object(k.updateSingleFacesAlbum)([n],!0))}m.a.preprocessAlbum(n),t({type:U.UPDATE_ALBUM,payload:Object.assign({},n,{coverResourceId:e})}),t(Object(A.notify)({operation:"editAlbum",status:"done",target:"cover"}))})).catch((function(){t(Object(A.notify)({operation:"editAlbum",status:"failed",target:"cover"}))}))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),o=n(47),a=n(75),s=n(410),u=n(89),c=n(98),l=n(48),f=n(313),d=n(64);t.hasFamilySubscription=function(e){return e.user.hasFamilySubscription};var p=o.createSelector(c.getEnvironment,(function(e){return e.agent.isMobile})),h=o.createSelector(u.getUser,(function(e){var t=e.isYandexStaff;return Boolean(t)})),m=o.createSelector(u.getUser,(function(e){return e.familyInfo}));t.hasFamily=o.createSelector(m,Boolean);var v=o.createSelector(u.getUser,(function(e){var t=e.isB2b,n=e.isPDD;return!(t||n)})),g=o.createSelector(m,(function(e){return i.default.get(e,"admin_uid")}));t.isFamilyAdmin=o.createSelector(u.getUser,g,(function(e,t){return e.uid===t})),t.hasFamilyFeature=o.createSelector(u.getUser,(function(e){return i.default.get(e,["features","family_share","enabled"],!1)})),t.hasFamilyAlbumFeature=o.createSelector(u.getUser,(function(e){return i.default.get(e,["features","family_album","enabled"],!1)})),t.hasFamilyAlbumSelctor=o.createSelector((function(e){return e.personalAlbums.familyAlbumId}),Boolean);var y=o.createSelector(s.getFamilyInvitesCount,(function(e){return e>0})),b=o.createSelector((function(e){return e.resources}),(function(e){return Object.keys(e).some((function(t){return"family"===i.default.get(e[t],["meta","group","group_type"])}))}));t.getFamilyMembers=o.createSelector(u.getUser,(function(e){return i.default.get(e,["familyInfo","members"],[])})),t.getFamilyMembersEmails=o.createSelector(t.getFamilyMembers,(function(e){return e.map(i.default.property("email"))})),t.getFamilyAdmin=o.createSelector(t.getFamilyMembers,(function(e){return e.find((function(e){return e.leader}))})),t.getFamilyRoleMetrikaKey=o.createSelector(t.hasFamily,t.isFamilyAdmin,t.hasFamilyFeature,(function(e,t,n){return n?e?t?"admin":"member":"empty_family":"external"})),t.getPromoStubViewerMetrikaKey=o.createSelector(h,l.isUserWithPaidTariff,t.hasFamilyFeature,t.hasFamily,t.isFamilyAdmin,(function(e,t,n,r,i){return{isYaStaff:e,hasPersonalSubscription:t,hasFamilySubscription:n,hasFamily:r,isAdmin:i}})),t.isFamilySliceVisible=o.createSelector(f.getDefaultFolders,(function(e){return Boolean(e.familyFolders)})),t.isFamilyAlbumSliceVisible=o.createSelector(a.isFamilyAlbumExp,t.hasFamilyFeature,t.hasFamilyAlbumSelctor,(function(e,t,n){return e&&(t||!t&&n)})),t.isFamilyCreationAllowed=o.createSelector(p,t.hasFamilyFeature,(function(e,t){return!e&&t})),t.shouldShowFamilySlice=o.createSelector(t.isFamilySliceVisible,t.hasFamilyFeature,y,b,(function(e,t,n,r){return!e&&(t||n||r)})),t.shouldCheckFamilySlice=o.createSelector(t.hasFamilyFeature,y,b,(function(e,t,n){return!e&&!(t||n)})),t.shouldShowPromoStub=o.createSelector(y,b,v,h,l.isUserWithPaidTariff,t.hasFamilyFeature,i.default.negate(t.hasFamily),t.isFamilyAdmin,(function(e,t,n,r,i,o,a,s){var u=!o;return Boolean(n&&!(o||e||t)&&(!i&&u&&(a||s)||u&&(s&&i||r)))})),t.isBeenShownAlbumPromoStubSelctor=function(e){return"1"===e.settings.isShownAlbumPromoStub},t.shouldShowAlbumPromoStubSelector=o.createSelector(a.isFamilyAlbumExp,y,h,l.isUserWithPaidTariff,t.hasFamilyFeature,i.default.negate(t.hasFamily),t.isFamilyAdmin,v,t.hasFamilyAlbumSelctor,(function(e,t,n,r,i,o,a,s,u){return Boolean(e&&!u&&s&&!(i||t)&&(!r&&!i&&(o||a)||!i&&(a&&r||n)))})),t.shouldShowFamilyAlbumSelector=o.createSelector(a.isFamilyAlbumExp,t.shouldShowAlbumPromoStubSelector,t.hasFamilyFeature,t.hasFamilyAlbumSelctor,(function(e,t,n,r){return Boolean(e&&(t||n||r))})),t.shouldShowAlbumBadgeSelector=o.createSelector(t.shouldShowAlbumPromoStubSelector,t.isBeenShownAlbumPromoStubSelctor,(function(e){return e.albums.isLoaded}),(function(e,t,n){var r=d.getPreloadedData("hasPersonalAlbum");return Boolean(e&&!t&&!n&&r)}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(2),i=n(0),o=n.n(i),a=n(32),s=n(34),u=n(561),c=n(429),l=n(562),f=n(273),d=(n(1352),Object(s.cn)("Textinput")),p=function(e){var t=e.addonAfter,n=e.addonBefore,i=e.className,s=e.disabled,f=e.focused,p=e.iconLeft,h=e.iconRight,m=e.innerRef,v=e.onMouseEnter,g=e.onMouseLeave,y=e.style,b=(e.pressed,e.view,e.pin,e.size,e.theme,e.hint),_=e.state,O=e.title,w=e.renderControl,E=Object(r.__rest)(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed","view","pin","size","theme","hint","state","title","renderControl"]),S=Object(a.useComponentRegistry)(d()),x=S.Control,C=S.Box,T=S.Icon,k=S.Hint,j=Object(u.c)(x,w),P=Object(c.a)("hint"),R=Object(l.a)({hint:b}),A=R.hint,I=R.hintProps;return o.a.createElement("span",{className:d({disabled:s,focused:f,iconRight:void 0!==h,iconLeft:void 0!==p,state:_},[i]),onMouseEnter:v,onMouseLeave:g,ref:m,style:y,title:O},n,p&&o.a.createElement(T,{side:"left",component:p}),h&&o.a.createElement(T,{side:"right",component:h}),o.a.createElement(j,Object(r.__assign)({},E,{"aria-invalid":"error"===_,disabled:s,"aria-describedby":A?P:void 0})),o.a.createElement(C,null),t,A&&o.a.createElement(k,Object(r.__assign)({},I,{id:P}),A))};p.displayName=d();var h=Object(f.a)(p)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(5),c=n(32),l=n(258),f=a(n(11)),d=a(n(159)),p=n(1805),h=n(1807),m=n(1809),v=n(1811),g=a(n(37));n(1813);var y=function(){return f.default()("menu")},b=l.cnMenu("Icon");t.Menu=u.compose(u.composeU(l.withSizeS,l.withSizeM),l.withThemeNormal,l.withViewDefault,l.withWidthMax,p.withWide,m.withPaddingless,h.withTypeNavigation,v.withRightGlyph)(l.withJsxContent(l.Menu)),t.Menu.defaultProps={renderItem:function(e){var t=e.needIconGlyph,n=e.children,o=e.innerRef,a=e.tooltipText,u=e.icon,f=e.iconLeft,p=e.iconRight,h=i(e,["needIconGlyph","children","innerRef","tooltipText","icon","iconLeft","iconRight"]),m=c.useComponentRegistry(l.cnMenu()),v=m.Text,_=m.Icon,O=l.useMenuItem(h),w=f||u,E=s.useCallback((function(e){e.charCode===g.default.KEYS.ENTER&&O.onClick&&O.onClick(e)}),[O]),S=s.default.createElement("div",r({ref:o,onKeyPress:E},O),t&&s.default.createElement(_,{glyph:"type-check"}),w&&w(b),s.default.createElement(v,null,n),p&&p(b)),x=s.useRef("undefined"!=typeof document?document.body:null);return a?s.default.createElement(d.default,{text:a,className:y().e("hover-tooltip"),tooltipCls:String(y().e("hover-tooltip-tooltip")),direction:["left","right"],boundary:x},S):S}},t.Item=function(){return null},t.Item.getCollectionNode=function(e,t){var n=e.className,o=e.highlighted,a=i(e,["className","highlighted"]);return l.Item.getCollectionNode(r({className:l.cnMenu("Item",{highlighted:o},[n])},a),t)},t.Group=function(){return null},t.Group.getCollectionNode=function(e,t){var n=e.className,o=e.paddingless,a=i(e,["className","paddingless"]);return l.Group.getCollectionNode(r({className:l.cnMenu("Group",{paddingless:o},[n])},a),t)}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.cnButton=void 0;var i=n(2),o=i.__importStar(n(0)),a=n(219),s=n(68),u=n(1029),c=n(1031),l=n(476);Object.defineProperty(t,"cnButton",{enumerable:!0,get:function(){return l.cnButton}}),n(1033);var f={autoComplete:"off",pressKeys:[s.Keys.SPACE,s.Keys.ENTER],prvntKeys:[],as:"button",type:"button"};t.Button=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pressed:!1},t.internalInnerRef=o.createRef(),t.onKeyDown=function(e){s.isKeyCode(e.keyCode,t.props.pressKeys)&&(t.setState({pressed:!0}),s.isKeyCode(e.keyCode,t.props.prvntKeys)&&e.preventDefault()),void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onKeyUp=function(e){s.isKeyCode(e.keyCode,t.props.prvntKeys)&&e.preventDefault(),s.isKeyCode(e.keyCode,t.props.pressKeys)&&t.setState({pressed:!1}),void 0!==t.props.onKeyUp&&t.props.onKeyUp(e)},t.onClick=function(e){null!==t.internalInnerRef.current&&t.internalInnerRef.current.focus(),void 0!==t.props.onClick&&t.props.onClick(e)},t.onMouseDown=function(e){navigator.userAgent.match(/safari/i)&&e.preventDefault(),t.setState({pressed:!0}),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseUp&&t.props.onMouseUp(e)},t.onMouseLeave=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onBlur=function(e){t.setState({pressed:!1}),void 0!==t.props.onBlur&&t.props.onBlur(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.addonAfter,n=e.addonBefore,r=e.autoComplete,s=e.checked,f=e.children,d=e.icon,p=e.iconLeft,h=e.iconRight,m=e.progress,v=e.disabled,g=e.as,y=e.type,b=e.className,_=e.innerRef,O=e.controlRef,w=e.title,E=e.role,S=(e.pressKeys,e.prvntKeys,e.view,e.theme,e.baseline,e.pin,e.width,i.__rest(e,["addonAfter","addonBefore","autoComplete","checked","children","icon","iconLeft","iconRight","progress","disabled","as","type","className","innerRef","controlRef","title","role","pressKeys","prvntKeys","view","theme","baseline","pin","width"])),x=this.state.pressed,C=g;S["string"==typeof g?"ref":"innerRef"]=a.mergeAllRefs(this.internalInnerRef,_,O);var T=p||d,k=Boolean(f)&&!0!==f||0===f;return o.default.createElement(C,i.__assign({},S,{type:y,disabled:Boolean(m||v),className:l.cnButton({checked:s,progress:m,pressed:x},[b]),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,"aria-pressed":s,"aria-disabled":v,autoComplete:r,title:w,role:E,"aria-busy":m}),n,T&&o.default.createElement(u.ButtonIcon,{provider:T,side:k&&p?"left":void 0}),h&&o.default.createElement(u.ButtonIcon,{provider:h,side:k?"right":void 0}),k&&o.default.createElement(c.ButtonText,null,f),t)},t})(o.PureComponent)).displayName=l.cnButton(),r.defaultProps=f,r)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(400),o=n(1822),a=n(1824);t.Link=r.compose(r.composeU(i.withThemeNormal,i.withThemeBlack,i.withThemeGhost,i.withThemePseudo,i.withThemeStrong,o.withThemePrimary),r.composeU(i.withViewDefault),a.withIcons,i.withPseudo)(i.Link)}),(function(e,t,n){"use strict";var r=n(475),i=n(96),o=n(603).domains,a=n(996).replaceServiceTld,s=e.exports={cutProto:function(e){return e.replace(/^(https:|http:)/,"")},replaceTld:a,replaceTldByLang:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=s.getTld(e);return!n.length||n.includes(r)?e:["en","tr"].includes(t)&&n.includes("com")?s.replaceTld(e,"com"):s.replaceTld(e,"ru")},getHost:function(e){return r.parse(e).hostname},getSearch:function(e){return r.parse(e).search},getPath:function(e){return r.parse(e).pathname},getTld:function(e){var t=s.getHost(e);return t?t.split(".").pop():null},makeRelative:function(e){return"/"+(e=e.replace(/^(https:|http:)/,"").replace(/^\/\//,"")).split("/").slice(1).join("/")},isDownloader:function(e){return/^(https?:)?\/\/downloader\.(dst|disk)\.yandex\./.test(e)},isDisk:function(e){var t=o[this.getTld(e)];return!!t&&new RegExp("^(https?:)?\\/\\/disk.(dst\\.)?yandex\\.(".concat(t.domain,")($|\\/|\\?)")).test(e)},isMail:function(e){return/^(https?:)?\/\/mail\.yandex\./.test(e)},addPrefixDownloader:function(e){if(s.isDownloader(e)){var t=i.hashCode(e)%4+1;return e.replace(/^(.*?\/\/)/,"$1"+t+".")}return e},getQueryParam:function(e,t){return r.parse(e,!0).query[t]},replaceParam:function(e,t,n,i){var o=r.parse(e,!0);return n?o.query[t]=n:i&&delete o.query[t],o.search="",r.format(o)},addParams:function(e,t){var n=r.parse(e,!0);for(var i in t)t.hasOwnProperty(i)&&(n.query[i]=t[i]);return n.search="",r.format(n)},mergeSlashes:function(e){return e.replace(/([^:\/]|^)\/{2,}/g,"$1/")},fixShortUrl:function(e,t){return e.replace(/^http:/,"https:").replace(/^https:\/\/[^\/]+/,t.urlsBase.disk)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"fetchAlbumWithItems",(function(){return a})),n.d(t,"updateAlbum",(function(){return s})),n.d(t,"fetchAlbumSuccess",(function(){return u})),n.d(t,"selectAllItemsInCluster",(function(){return c})),n.d(t,"setIsSelectingPhotos",(function(){return l})),n.d(t,"toggleAlbumItemSelection",(function(){return f})),n.d(t,"openFamilyOnboarding",(function(){return d})),n.d(t,"closeFamilyOnboarding",(function(){return p})),n.d(t,"closeFamilyAlbumOnboarding",(function(){return h}));var r=n(100),i=n(16),o=n(77),a=Object(r.createAction)("@SAGAS/FETCH_ALBUM_WITH_ITEMS"),s=Object(r.createAction)(i.UPDATE_ALBUM),u=Object(r.createAction)(i.FETCH_ALBUM_SUCCESS),c=Object(r.createAction)("@SAGAS/SELECT_ALL_ITEMS_IN_CLUSTER"),l=Object(r.createAction)(i.SET_IS_SELECTING_PHOTOS,(function(e){return{payload:{flag:e}}})),f=Object(r.createAction)("@SAGAS/TOGGLE_ALBUM_ITEM_SELECTION"),d=Object(r.createAction)(o.g),p=Object(r.createAction)(o.b),h=Object(r.createAction)(o.a)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p}));var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),u=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),f=r("TASK"),d=r("TASK_CANCEL"),p=r("TERMINATE"),h=r("LOCATION")}),(function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r);n.d(t,"modelDefaults",(function(){return a})),n.d(t,"getPreloadedData",(function(){return s}));var o={};o=JSON.parse(document.getElementById("preloaded-data").innerHTML);var a=function(){return o[this.id]||null},s=function(e){return e?i.a.get(o,e):Object.assign({},o)}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={FOLDED:"FOLDED",UNFOLDED_ACTIVE:"UNFOLDED_ACTIVE",UNFOLDED_INACTIVE:"UNFOLDED_INACTIVE"},i={ENTER_PRESS:"enter",SEARCH_BUTTON:"button"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);r.__exportStar(n(2177),t),r.__exportStar(n(2172),t),r.__exportStar(n(2190),t),r.__exportStar(n(294),t),r.__exportStar(n(295),t),r.__exportStar(n(653),t),r.__exportStar(n(296),t),r.__exportStar(n(2179),t),r.__exportStar(n(2191),t),r.__exportStar(n(2185),t),r.__exportStar(n(297),t),r.__exportStar(n(2192),t),r.__exportStar(n(223),t),r.__exportStar(n(2193),t),r.__exportStar(n(2194),t),r.__exportStar(n(2168),t),r.__exportStar(n(2195),t),r.__exportStar(n(2171),t),r.__exportStar(n(656),t),r.__exportStar(n(504),t),r.__exportStar(n(2173),t),r.__exportStar(n(2196),t),r.__exportStar(n(2178),t),r.__exportStar(n(2174),t),r.__exportStar(n(2197),t),r.__exportStar(n(2186),t),r.__exportStar(n(1282),t)}),(function(e,t,n){"use strict";var r=n(234),i=n(13),o=n(15),a=n(40),s=n(45);n(106),n(505),n(1381);var u=n(9),c=n(96),l=n(263),f=function(){},d=["copy","move","delete","restore","rename","excludeFromAlbum","removeResourceAlbum"],p=function(){};no.inherit(p,l,{_init:function(){this.countRequestStatus=0,this.queueSetStatus=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.prototype._init.apply(this,t)},init:f,initFromMessage:f,resetCounter:function(){this.countRequestStatus=0},onbeforedestroy:function(){this.removeOperationFromStore()},setStatus:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.queueSetStatus.push(function(e){var t=this,n=e[0],r=d.includes(c.toLowerFirstLetter(this.id.replace("operation","")));!this.get(".status")&&r&&this.addOperationToStore();if(n!==this.get(".status")){this.set(".status",n),r&&this.updateOperationInStore();var i=this["onStatus"+c.capitalize(n)];"function"==typeof i&&i.apply(this,e.slice(1)),this.trigger("status."+n),this.queueSetStatus.shift(),this.queueSetStatus.length&&this.queueSetStatus[0].call()}var o=this.get(".gid");if(!o&&this.isCompleted())this._keepOnError&&"failed"===this.get(".status")||setTimeout((function(){t.destroy()}));else if(o){var a=ns.Model.get("operations");a.models.some((function(e){return e.get(".gid")===o&&!e.isCompleted()}))||setTimeout((function(){u.invokeMap(a.models.filter((function(e){return e.get(".gid")===o})),"destroy")}))}}.bind(this,[].slice.call(t))),1===this.queueSetStatus.length&&this.queueSetStatus[0].call()},complete:function(){this.isCompleted()||this.setStatus("completed")},isCompleted:function(){return u.includes(["canceled","failed","done","rejected"],this.get(".status"))},run:function(){return this.setStatus(this.get(".status")||"created"),this},getTimeoutStatus:function(){var e=Math.min(2e3+2e3*Math.floor(this.countRequestStatus/5),2e4);return this.countRequestStatus++,e},doRequestStatus:function(){this.nextTick((function(){var e=this.handleResponseStatus.bind(this);ns.Model.get("queueRequest").push({id:"do-status-operation",params:{oid:this.get(".oid")}}).then(e,e)}))},getType:function(){var e=this.id.replace(/^operation/,"");return e.charAt(0).toLowerCase()+e.substr(1)},nextTick:function(e){window.setTimeout(e.bind(this),this.getTimeoutStatus())},isActive:function(){return u.includes(["started","progressing","determined"],this.get(".status"))},countItems:function(){return 1},getResourcePathKeyForLockError:function(){return".idSrc"},extractErrorFromResponse:function(e){return e&&(e.get(".error")||e.getError())},checkReasonFailed:function(e){var t=this.extractErrorFromResponse(e)||{};if("HTTP_507"===t.id||"507"===t.response||507===t.response)t.body&&234===t.body.code?this.set(".reason","NO_SPACE_OWNER"):this.set(".reason","NO_SPACE");else if("HTTP_423"===t.id){this.set(".reason","READ_ONLY");var n=u.get(t,"body.data"),o=n.op_type,a=n.path,s=n.uid,c=Object(r.b)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:this.get(this.getResourcePathKeyForLockError()),myUid:Object(i.default)().getState().user.uid,failedOperationType:this.getType()}),l=c.reasonText,f=c.reasonTextAux;this.set(".reasonText",l),this.set(".reasonTextAux",f)}},onEnd:function(e){this.on("ns-model-changed.status",(function t(n,r){u.includes(["done","failed"],this.get(".status"))&&(e(n,r),this.off("ns-model-changed.status",t))}))},fetchResource:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(i.default)(),s=a.getState().page.idContext;(n&&s===e?a.dispatch(Object(o.fetchCurrentListing)()):a.dispatch(Object(o.fetchSingleResource)(e,r))).then((function(){t.handleSyncResource()})).catch((function(){t.handleSyncResource()}))},handleSyncResource:f,showNotification:function(e){Object(i.default)().dispatch(Object(a.notify)(e))},getStoreOperationId:function(){return this.key.replace("model=","").replace("&id=","")},addOperationToStore:function(){Object(i.default)().dispatch(Object(s.c)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},updateOperationInStore:function(){Object(i.default)().dispatch(Object(s.g)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},removeOperationFromStore:function(){Object(i.default)().dispatch(Object(s.e)({id:this.getStoreOperationId()}))}}),p.define=function(e,t){return t.params={id:null},t.events={"ns-model-before-destroyed":"onbeforedestroy"},ns.Model.define(e,t,p)},t.a=p}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyCode=t.Keys=void 0,t.Keys={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46},t.isKeyCode=function(e,n){return n.some((function(n){return t.Keys[n]===e||n===e}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(793),o=n(1116);t.Spin=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXS,i.withSizeXXS),r.composeU(i.withViewDefault,o.withViewDark))(i.Spin)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};function i(e,t){return t.some((function(t){return r[t]===e||t===e}))}}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return S}));var r=n(16),i=n(33),o=n(15),a=n(163),s=n(18),u=n(22),c=n.n(u),l=n(27),f=n(48),d=function(){return{type:r.HIDE_UPLOADER}},p=function(){return{type:r.OPEN_UPLOADER}},h=function(){return{type:r.CLOSE_UPLOADER}},m=function(e){return{type:r.SET_HIGHLIGHTED_UPLOAD_RESOURCES,payload:e}},v=function(e){return{type:r.HIDE_UPLOAD_NOTIFICATION,payload:e}},g=function(e){return function(t,n){var r=n().uploader.notifications.filter((function(t){var n=t.type,r=t.data;return n===s.UPLOAD_NOTIFICATION_TYPES.SERVICE&&r&&r.reason===e})).map((function(e){return e.id}));t(v(r))}},y=function(e){return function(t,n){var r=n().resources;e.forEach((function(e){var n=e.id,a=e.isFakeId,s=e.entry,u=s.size,l=void 0===u?0:u,f=s.isDirectory,d=r[n];if(d)d.state&&(d.state.hidden||d.state.disabled)&&(t(Object(o.showHiddenResource)(n)),t(Object(o.setResourceBlocked)(n,!0)),t(Object(o.setResourceData)(n,!1,"hasPreview")));else{var p={id:n,type:f?"dir":"file",mtime:Date.now()/1e3,meta:{size:f?void 0:l}};a&&(p.name=c.a.basename(i.default.getIdFromFakeId(n)),p.state={hidden:a}),t(Object(o.createResource)(p,{insertOnlyIfPortionLoaded:!0,part:!0}))}}))}},b=function(e){return e.map((function(e){var t=e.id,n=e.entry,r=n.size;return{id:t,size:void 0===r?0:r,isDirectory:n.isDirectory,readFail:e.readFail}}))},_=function(e,t){return function(n){var i=b(e);n({type:r.INIT_UPLOADING_STATES,payload:{rootFolderId:t,states:i}})}},O=function(e,t){var n=t.files,i=void 0===n?[]:n,o=t.folders,u=void 0===o?[]:o,c=t.statsId;return function(t,n){var o=n(),d=o.uploader.uploadingStatesByIds,p=Object(f.getLimitUploadSize)(o);if(p){var h=Object(s.getLimitedForUploadFiles)(i,p);h&&h.length>0&&t(Object(l.showLimitUploadDialog)(h))}var m=Object(a.e)(n(),Array.from(i).concat(u),e,c,null).filter((function(e){return Object(a.k)(d[e.id]&&d[e.id].status)}));m.length&&(t(function(e,t){return function(n){n({type:r.START_UPLOAD,payload:{states:b(e),position:t}})}}(m)),t(y(m)),t(Object(a.a)(m)))}},w=function(e){return function(t){t(Object(a.c)(e))}},E=function(){return function(e){e(Object(a.b)())}},S=function(e){return function(t){t(Object(a.i)(e,1))}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(5),s=n(339),u=n(315),c=n(205),l=a.compose(s.withViewDefault,s.withTargetAnchor,s.withNonvisual,s.withThemeNormal)(s.Popup);t.Popup=(function(e){return o.memo((function(t){var n=o.useRef(null),i=t.onClose;u.useFocusTrap({enabled:Boolean(!t.noTrapAutoFocus&&t.visible),scopeRef:n,autoFocus:!0,restoreFocus:!0});var a=o.useCallback((function(e){n.current=e,e&&e.setAttribute("role","dialog")}),[n]),s=o.useCallback((function(e,t){"esc"===t&&e.stopPropagation(),i&&i(e,t)}),[i]);if(t.noTrapAutoFocus){var l=c(t,"noTrapAutoFocus");return o.default.createElement(e,r({},l))}return o.default.createElement(e,r({},t,{onClose:s,innerRef:a}))}))})(function(e){return function(t){var n=t.position,i=o.useMemo((function(){return (function(e,t){return{current:{getBoundingClientRect:function(){var n=document.scrollingElement||document.documentElement,r=e-n.scrollLeft,i=t-n.scrollTop;return{width:0,height:0,left:r,top:i,right:r,bottom:i}},contains:function(){return!1}}}})((null===n||void 0===n?void 0:n.x)||0,(null===n||void 0===n?void 0:n.y)||0)}),[null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y]),a=o.useRef("undefined"!=typeof document?document.body:null),s=c(t,"position");return s.boundary=a,n&&(s=r(r({},s),{target:"anchor",anchor:i,modifiers:[{name:"hide",enabled:!1}]})),o.default.createElement(e,r({},s))}}(l))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n.n(i),a=n(32),s=n(34),u=n(427),c=(n(1136),Object(s.cn)("Radiobox")),l=function(e){var t=e.children,n=e.className,s=e.disabled,l=e.innerRef,f=e.name,d=e.onChange,p=e.options,h=void 0===p?[]:p,m=e.value,v=(e.view,e.size,e.theme,Object(a.useComponentRegistry)(c()).Radio),g=Object(r.__read)(Object(i.useState)({onChange:d,value:m,disabled:s,name:f}),2),y=g[0],b=g[1];return Object(i.useEffect)((function(){b({onChange:d,value:m,disabled:s,name:f})}),[d,m,s,f]),o.a.createElement("span",{className:c(null,[n]),ref:l,role:"radiogroup"},o.a.createElement(u.a,{value:y},t||h.map((function(e){var t=e.label,n=Object(r.__rest)(e,["label"]);return o.a.createElement(v,Object(r.__assign)({key:n.value},n),t)}))))};l.displayName=c()}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(43),o=n(313),a=n(25);t.hasVirtualDisks=r.createSelector(o.getDefaultFolders,(function(e){return Boolean(null===e||void 0===e?void 0:e.hasVirtualDisks)})),t.getIsInVirtualDiskList=r.createSelector(i.getIdContext,(function(e){return a.getIsVirtualDiskList(e)})),t.getIsInVirtualDisk=r.createSelector(i.getIdContext,(function(e){return a.getIsVirtualDisk(e)})),t.getIsVirtualDiskTrash=r.createSelector(i.getIdContext,(function(e){return a.isVirtualDiskTrash(e)})),t.getIsInsideVirtualDisk=r.createSelector([i.getIdContext],(function(e){return a.isVirtualDiskPath(e)})),t.getIsInVirtualDiskJournal=r.createSelector(i.getIdContext,(function(e){return a.isVirtualDiskJournal(e)})),t.getVirtualDiskHash=r.createSelector(i.getIdContext,a.getVdHash),t.isReadOnlyVdResource=function(e,t){var n,r;if(!a.isPathInsideVirtualDiskFiles(e))return!1;var i=a.getCurrentVirtualDisk(e);if(!i)return!1;var o=t.resources[i];return!(null===(r=null===(n=null===o||void 0===o?void 0:o.vd_fields)||void 0===n?void 0:n.permissions)||void 0===r?void 0:r.includes("write"))},t.isCurrentContextReadonlyVdResource=function(e){var n=i.getIdContext(e);return t.isReadOnlyVdResource(n,e)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDiskWebNpsExp",(function(){return r})),n.d(t,"isDiskWebNpsSecurityExp",(function(){return i})),n.d(t,"isDiskViewerNpsExp",(function(){return o})),n.d(t,"ifFamilyLinkExp",(function(){return a})),n.d(t,"isFreeUsersRestrictionsExp",(function(){return s})),n.d(t,"isFamilyAlbumExp",(function(){return u})),n.d(t,"getExpDefaultBackground",(function(){return c})),n.d(t,"getIsNewPayFormExp",(function(){return l})),n.d(t,"getIsToolbarShareExp",(function(){return f})),n.d(t,"deleteScansExperiment",(function(){return d})),n.d(t,"isDocsCopyConfirmationExp",(function(){return p})),n.d(t,"getIsNewAccessFolderExp",(function(){return h}));var r=function(e){return!!e.environment.session.experiment.diskWebNpsExp},i=function(e){return!!e.environment.session.experiment.diskWebNpsSecurityExp},o=function(e){return!!e.environment.session.experiment.diskViewerNpsExp},a=function(e){return!!e.environment.session.experiment.diskWebFamilyLandingLinkExp},s=function(e){return e.environment.session.experiment.diskFreeUsersRestrictions},u=function(e){return!!e.environment.session.experiment.showFamilyAlbum},c=function(e){var t=e.environment.session.experiment.diskAnotherDefaultBgExp;return null===t||void 0===t?void 0:t.bgColor},l=function(e){return!!e.environment.session.experiment.newPayFormExp},f=function(e){return!!e.environment.session.experiment.diskWebToolbarShareExp},d=function(e){var t=e.environment.session.experiment.deleteScansExperiment;return!!t},p=function(e){return!!e.environment.session.experiment.docsCopyConfirmation},h=function(e){return!!e.environment.session.experiment.diskWebNewAccessFolderExp}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(2),i=n(0),o=n.n(i),a=n(32),s=n(34),u=n(330),c=n(432),l=n(431),f=(n(1192),Object(s.cn)("Popup2")),d=function(e){var t=e.addonAfter,n=e.addonBefore,s=e.children,d=e.className,p=e.direction,h=e.hasTail,m=e.innerRef,v=e.keepMounted,g=e.scope,y=e.style,b=e.tailRef,_=e.tailSize,O=e.visible,w=e.zIndex,E=e.disableOverlay,S=e.unstable_onRenderTail,x=e.onClose,C=e.unstable_essentialRefs,T=void 0===C?[]:C,k=e.onClick,j=(e.theme,e.view,e.nonvisual,Object(r.__rest)(e,["addonAfter","addonBefore","children","className","direction","hasTail","innerRef","keepMounted","scope","style","tailRef","tailSize","visible","zIndex","disableOverlay","unstable_onRenderTail","onClose","unstable_essentialRefs","onClick","theme","view","nonvisual"])),P=Object(i.useRef)(null),R=Object(a.useComponentRegistry)(f()).Tail;return Object(l.a)({onClose:x,visible:!E&&O,essentialRefs:Object(r.__spread)([P],T)}),o.a.createElement(c.a,{scope:g,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},j,{className:f({visible:O},[d]),"data-popper-placement":p,onClick:k,ref:Object(u.a)(P,m),style:Object(r.__assign)(Object(r.__assign)({},y),{zIndex:w})}),n,"function"==typeof s?s({tailRef:b}):s,t,S&&S(o.a.createElement(R,{ref:b,style:{height:_,width:_}})),!S&&h&&o.a.createElement(R,{ref:b,style:{height:_,width:_}})))};d.displayName=f()}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return d}));var r="UPDATE_ALBUMS",i="FETCH_ALBUMS_SUCCESS",o="FETCH_SINGLE_GEO_ALBUM",a="FETCH_SINGLE_FACES_ALBUM",s="UPDATE_FAVORITE_ALBUM",u="OPEN_FAMILY_ONBOARDING",c="CLOSE_FAMILY_ONBOARDING",l="UPDATE_FAMILY_ALBUM",f="OPEN_FAMILY_ALBUM_ONBOARDING",d="CLOSE_FAMILY_ALBUM_ONBOARDING"}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(38),i=n(15),o=n(16),a=n(425),s=n(17),u=n(48),c=n(25),l=function(){return function(e,t){return Object(r.a)("space",{locale:t().environment.session.locale}).then((function(n){var r=Object(s.getResourceData)(t(),"/trash");e(Object(i.setResourceData)("/trash",Object.assign({},r,{meta:Object.assign({},r.meta,{size:n.trash})}))),e({type:o.UPDATE_SPACE,payload:n})})).catch()}},f=function(e){return function(t,n){return Object(r.a)("vd-space",{vdHash:e}).then((function(r){var o=c.VIRTUAL_DISKS_ROOT+"/"+e+"/trash",a=c.VIRTUAL_DISKS_ROOT+"/"+e+"/disk",u=Object(s.getResourceData)(n(),o),l=Object(s.getResourceData)(n(),a);t(Object(i.setResourceData)(o,Object.assign({},u,{meta:Object.assign({},u.meta,{size:r.trash})}))),t(Object(i.setResourceData)(a,Object.assign({},l,{space:Object.assign({},l.space,r)})))})).catch()}},d=function(){return function(e,t){Object(u.getOverdraftType)(t())&&e(Object(a.a)())}},p=function(){return function(e){e(d()),e(l())}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textinput=t.cnTextinput=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(32),a=n(34),s=n(202),u=n(200),c=n(658),l=n(494);n(1321),t.cnTextinput=a.cn("Textinput");var f=function(e){var n=e.addonAfter,a=e.addonBefore,l=e.className,f=e.disabled,d=e.focused,p=e.iconLeft,h=e.iconRight,m=e.innerRef,v=e.onMouseEnter,g=e.onMouseLeave,y=e.style,b=(e.pressed,e.view,e.pin,e.size,e.theme,e.hint),_=e.state,O=e.title,w=e.renderControl,E=r.__rest(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed","view","pin","size","theme","hint","state","title","renderControl"]),S=o.useComponentRegistry(t.cnTextinput()),x=S.Control,C=S.Box,T=S.Icon,k=S.Hint,j=s.useRenderOverride(x,w),P=u.useUniqId("hint"),R=c.useTextFieldHint({hint:b}),A=R.hint,I=R.hintProps;return i.default.createElement("span",{className:t.cnTextinput({disabled:f,focused:d,iconRight:void 0!==h,iconLeft:void 0!==p,state:_},[l]),onMouseEnter:v,onMouseLeave:g,ref:m,style:y,title:O},a,p&&i.default.createElement(T,{side:"left",component:p}),h&&i.default.createElement(T,{side:"right",component:h}),i.default.createElement(j,r.__assign({},E,{"aria-invalid":"error"===_,disabled:f,"aria-describedby":A?P:void 0})),i.default.createElement(C,null),n,A&&i.default.createElement(k,r.__assign({},I,{id:P}),A))};f.displayName=t.cnTextinput(),t.Textinput=l.withControl(f)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(723).themes,i=n(183).ThemeName,o=n(416),a=n(724),s=n(1661),u=n(1664),c=n(1667),l=n(156),f={"ps-light":o.theme,"ps-dark":a.theme,"ps-light-transparent":s.theme,"ps-dark-transparent":u.theme,"ps-superdark-transparent":c.theme},d=["ps-dark","ps-dark-transparent","ps-superdark-transparent"];t.isThemeExists=function(e){return Boolean(e&&r[e])};var p=function(e,t){return e&&r[e]?r[e][t].base.root:""},h=function(e,t){if(e&&r[e])return f[p(e,t)]},m=function(e,t){var n=h(e,t);return n?l.cnTheme(n):""};t.getPageTheme=function(e){return h(e,"page")},t.getPageClassName=function(e){return m(e,"page")},t.getPageOverrides=function(e,t){return e&&r[e]?e===i.GeneralDefault&&t?Object.assign({},r[e].page.override,{"--bg-color":t}):r[e].page.override:""},t.getContentClassName=function(e){return m(e,"content")},t.getCover=function(e){var t,n;return e&&r[e]?null===(n=null===(t=r[e])||void 0===t?void 0:t.layers)||void 0===n?void 0:n.cover:null},t.isContentDark=function(e){return d.includes(p(e,"content"))},t.isPageDark=function(e){return d.includes(p(e,"page"))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80),i=n(183),o=n(725);t.getThemeName=function(e){var t=e.environment.session,n=t.forceTheme,a=t.serverTime,s=e.settings.generalThemes,u=s&&(o.getCurrentTheme(s,new Date(a))||i.ThemeName.GeneralDefault),c=n||u;return c&&r.isThemeExists(c)?c:i.ThemeName.GeneralDefault},t.isCoverLayerEnabled=function(e){var n=t.getThemeName(e);return Boolean(n)&&Boolean(r.getCover(n))},t.getThemeSettings=function(e){var n;return t.isCoverLayerEnabled(e)?(null===(n=e.settings.generalThemes)||void 0===n?void 0:n.settings)||{}:null},t.isNewYearThemeAvailable=function(e){var t=e.environment.session.serverTime;return o.isThemeAvailable(i.ThemeName.GeneralNewYear2023,new Date(t))}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(100),o=n(245);t.maybeFetchDocs=i.createAction("docs/fetch"),t.fetchNextDocs=i.createAction("docs/fetchNext"),t.remoteTogglePinDoc=i.createAction("docs/remoteTogglePinDoc"),t.addDocFromDisk=i.createAction("docs/addDocFromDisk"),t.removeFromDocs=i.createAction("docs/removeFromDocs"),t.setListingType=i.createAction("docs/setListingType"),t.watchUploadStates=i.createAction("docs/watchUploadStates"),t.goToDocsPageByExt=i.createAction("docs/goToDocsPageByExt"),t.showNotAllowedExtNotification=i.createAction("docs/showNotAllowedExtNotification"),t.redirectToDocsPageOnLoadFiles=i.createAction("docs/redirectToDocsPageOnLoadFiles"),t.changeDocsPageType=i.createAction("docs/changeDocsPageType");var a={lists:{docx:{isLoading:!0,items:[]},xlsx:{isLoading:!0,items:[]},pptx:{isLoading:!0,items:[]}},sortingType:{sort:o.SortBy.DATE_LAST_VIEW,order:o.SortOrder.DESC},filterType:o.FilterType.ALL},s=i.createSlice({name:"docs",initialState:a,reducers:{updateList:function(e,t){var n=t.payload,r=n.type,i=n.ids,o=n.totalItems,a=n.totalMyItems,s=n.totalOtherItems;e.lists[r].items=i,void 0!==o&&(e.lists[r].totalItems=o,e.lists[r].totalMyItems=a,e.lists[r].totalOtherItems=s),e.lists[r].isLoading=!1},setIsLoading:function(e,t){var n=t.payload,r=n.type,i=n.isLoading;e.lists[r].isLoading=i},removeItem:function(e,t){var n=t.payload,r=n.type,i=n.id;e.lists[r].items=e.lists[r].items.filter((function(e){return e!==i}))},setSortingType:function(e,t){e.sortingType=t.payload},moveClonedResources:function(e,t){Object.keys(e.lists).forEach((function(n){t.payload.forEach((function(t){var r=t.src,i=t.dst;e.lists[n].items.includes(r.id)&&(e.lists[n].items=e.lists[n].items.filter((function(e){return e!==r.id})),i.isInTrash||e.lists[n].items.push(i.id))}))}))},setFilterType:function(e,t){e.filterType=t.payload}}});t.updateList=(r=s.actions).updateList,t.setIsLoading=r.setIsLoading,t.setSortingType=r.setSortingType,t.removeItem=r.removeItem,t.moveClonedResources=r.moveClonedResources,t.setFilterType=r.setFilterType,t.default=s.reducer}),(function(e,t,n){var r=n(986),i=n(987),o=n(602),a=n(988);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t),n.d(t,"ALBUM_SLICES",(function(){return u})),n.d(t,"PHOTO_FILTERS",(function(){return c})),n.d(t,"isValidFilter",(function(){return l})),n.d(t,"getPhotosliceData",(function(){return f})),n.d(t,"getAllItems",(function(){return p})),n.d(t,"getItemsRange",(function(){return h})),n.d(t,"isEmpty",(function(){return m})),n.d(t,"getResourcePosition",(function(){return v})),n.d(t,"getClusterByIndex",(function(){return g})),n.d(t,"getResourceByIndexPath",(function(){return y})),n.d(t,"getNextIndexPath",(function(){return b})),n.d(t,"getPhotosliceNeighbour",(function(){return _})),n.d(t,"getNextPhotosliceResources",(function(){return O})),n.d(t,"getPhotoView",(function(){return w})),n.d(t,"isAlbumSlice",(function(){return E})),n.d(t,"hasPhotoStub",(function(){return S})),n.d(t,"getPhotosliceFilter",(function(){return x})),n.d(t,"getMetrikaSection",(function(){return C}));var r=n(9),i=n.n(r),o=n(35),a=n(101),s=n(47),u=["beautiful","unbeautiful","camera","screenshots","videos"],c=[o.PHOTOSLICE_FILTERS.ONLY_FROM_FOLDERS,o.PHOTOSLICE_FILTERS.ONLY_UNLIM],l=function(e){return!!e&&(u.includes(e)||c.includes(e))},f=function(e){var t=e.photoslice;return{clusters:(t=void 0===t?{}:t).clusters,clustersByIds:t.clustersByIds,filter:e.page.filter}},d=Object(s.createSelectorCreator)(s.defaultMemoize,(function(e,t){return e.clusters===t.clusters&&e.clustersByIds===t.clustersByIds&&e.filter===t.filter}))(f,(function(e){return e})),p=Object(s.createSelector)(d,(function(e){var t=e.clusters,n=e.clustersByIds,r=e.filter,i=(t||[]).map((function(e){return n[e]}));return l(r)&&(i=i.filter((function(e){return e.albums&&isFinite(e.albums[r])&&e.albums[r]>0})).map((function(e){var t=Object.assign({},e);return t.size=e.albums[r],t.items&&(t.items=t.items.filter((function(e){return e.albums&&e.albums.includes(r)}))),t}))),i})),h=function(e,t,n,r){for(var o=p(e),a=e.resources,s=e.statesContext,u=s.selected,c=s.highlighted,l=p(e),f={},d=function(e){var s=l[e];f[e]={resources:{}};var d=r.find((function(t){return t.clusterIndexes.from===e}));if(d)if(d.clusterIndexes.from===d.clusterIndexes.to)f[e].title=i.a.pick(s,["from","to","city","streets"]),f[e].title.clusterIds=[s.id];else{for(var p=[],h=d.clusterIndexes.from;h<=d.clusterIndexes.to;h++)p.push(o[h]);var m,v,g=p[p.length-1].from,y=p[0].to;if(y-g<=6048e5){var b=p.map((function(e){return e.city})).filter(Boolean),_=i.a.uniq(b);_.length>1?m=_.join(", "):1===_.length&&(m=_[0],v=i.a.uniq(p.reduce((function(e,t){var n=t.streets;return e.concat(n||[])}),[])))}f[e].title={clusterIds:p.map((function(e){return e.id})),from:g,to:y,city:m,streets:v}}for(var O=e===t.clusterIndex?t.resourceIndex:0,w=e===n.clusterIndex?n.resourceIndex:s.size-1,E=O;E<=w;E++){var S=s.items&&s.items[E]&&s.items[E].id,x=S&&s.items?a[S]:null,C=i.a.get(x,"state.disabled");f[e].resources[E]={id:S,name:x&&x.name,loaded:Boolean(x),selected:!C&&u.includes(S),disabled:C,highlighted:c.includes(S),defaultPreview:i.a.get(x,"defaultPreview"),isPhotoUnlim:"photounlim"===i.a.get(x,"meta.storage_type"),isVideo:i.a.get(x,"canPlayVideo"),videoDuration:i.a.get(x,"meta.video_info.duration")}}},h=t.clusterIndex;h<=n.clusterIndex;h++)d(h);return f},m=Object(s.createSelector)(p,(function(e){return 0===e.length})),v=function(e,t){for(var n=t.clusterIndex,r=t.resourceIndex,i=t.diff,o=p(e),a=n,s=r,u=0,c=!1;Math.abs(u)<Math.abs(i)&&!c;){var l=o[a].size,f=i-u;s+f<0?0===a?(u-=s,s=0,c=!0):(u-=s+1,s=o[--a].size-1):s+f>l-1?a===o.length-1?(u+=l-s-1,s=l-1,c=!0):(a++,u+=l-s,s=0):(s+=f,u+=f)}return{clusterIndex:a,resourceIndex:s,diff:u}},g=function(e,t){return p(e)[t]},y=function(e,t){var n=p(e)[t.clusterIndex],r=i.a.get(n,"items[".concat(t.resourceIndex,"].id"));return r&&e.resources[r]},b=function(e,t,n){if(!e.photoslice)return null;var r=t.clusterIndex,i=t.resourceIndex,o=p(e);return n<0&&0===i?r<=0?null:{clusterIndex:r-1,resourceIndex:g(e,r-1).size-1}:n>0&&i===g(e,r).size-1?r>=o.length-1?null:{clusterIndex:r+1,resourceIndex:0}:{clusterIndex:r,resourceIndex:i+Math.sign(n)}},_=function(e,t,n){var r=p(e),o=e.photoslice,s=(o=void 0===o?{}:o).clustersByIds,u=o.clustersDeletedItems,c=e.resources,l=e.page.filter,f=c[t].clusterId;if(f&&!s[f]){var d=Object(a.g)(r,c[t]);f=d?r[d.clusterIndex]&&r[d.clusterIndex].id:void 0}var h,m,v,g=f&&Object(a.d)(r,f,(function(e){return e.id})),_=g&&r[g.index]&&r[g.index].items;if(!_)return{resource:null};if(g.found){var O=_.findIndex((function(e){return e.id===t}));if(-1===O&&u&&u[f]){var w=u[f].find((function(e){return e.id===t}));if(!w)return{resource:null};O=Object(a.i)(w.itemId,_)-1}else if(-1===O&&l&&i.a.get(c[t],"meta.albums_exclusions",[]).includes(l)){var E=s[f].items.findIndex((function(e){return e.id===t})),S=-1!==E&&s[f].items[E];S&&(O=Object(a.i)(S.itemId,_)-1)}h=b(e,{clusterIndex:g.index,resourceIndex:O},n)}else h=r.length?{clusterIndex:g.index,resourceIndex:0}:null;for(var x=!1;!m&&!x;)v=h&&y(e,h),!(m=Boolean(v))&&h&&(h=b(e,h,n)),x=!v||!h;return h?v?{resource:v}:{possiblyNotLoaded:!0}:{resource:null,possiblyNotLoaded:!1}},O=function(e,t,n,r){for(var i={resource:t},o=[];i.resource&&i.resource.clusterId&&o.length<n;)(i=_(e,i.resource.id,r)).resource&&i.resource.clusterId&&o.push(i.resource);return{resources:o,possiblyNotLoaded:i.possiblyNotLoaded}},w=function(e){var t=e.settings,n=e.page.filter;return t["".concat(n,"AlbumPhotoView")]||t.photoView},E=function(e){var t=e.page,n=t.idContext,r=t.filter;return"/photo"===n&&u.includes(r||"")},S=function(e){var t=e.page,n=t.filter;return"/photo"===t.idContext&&(m(e)&&(!n||u.includes(n)))},x=function(e){var t=e.page.filter;return c.includes(t)?t:o.PHOTOSLICE_FILTERS.ALL},C=function(e){return E(e)?["album-slice",e.page.filter]:["photo"]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(93);function i(e){return e instanceof Object(r.a)(e).Element||e instanceof Element}function o(e){return e instanceof Object(r.a)(e).HTMLElement||e instanceof HTMLElement}function a(e){return e instanceof Object(r.a)(e).ShadowRoot||e instanceof ShadowRoot}}),(function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n(25),i=n(47),o=n(35),a=o.SEARCH_SCOPES.DISK,s=["/trash","/journal"],u=function(e){var t=e.page,n=t.search.scope,i=t.idContext,o=Object(r.getRootOfScopeCurrentVirtualDisk)(i);return n||(s.includes(i)?i:o||a)},c=function(e){return e.suggest.active},l=Object(i.createSelector)(u,(function(e){return s.includes(e)||Object(r.isVirtualDiskPath)(e)})),f=Object(i.createSelector)(l,c,(function(e,t){return t&&!e})),d=(Object(i.createSelector)(f,(function(e){return e.page.dialog}),(function(e,t){return e&&!t})),Object(i.createSelector)(u,(function(e){if(Object(r.isVirtualDiskTrash)(e))return"Поиск по Корзине";if(Object(r.isVirtualDiskJournal)(e))return"Поиск по Истории";if(Object(r.isVirtualDiskPath)(e))return"Поиск в общем диске";switch(e){case o.SEARCH_SCOPES.TRASH:return"Поиск по Корзине";case o.SEARCH_SCOPES.MAIL:return"Поиск по вложениям";case o.SEARCH_SCOPES.JOURNAL:return"Поиск по Истории";default:return"Поиск в моём Диске"}}))),p=function(e){var t=e.suggest.sessionId;return Boolean(t)},h=function(e){return{sessionId:e.suggest.sessionId}}}),(function(e,t,n){var r=n(9),i=n(265),o=n(96),a=n(22);function s(e,t,n){var o=r.clone(n);t&&(o.gid=t);var a=ns.Model.get(e,{id:i()}).setData(o);return ns.Model.get("operations").insert(a),a.init(),a}n(1004),e.exports={create:function(e,t){var n=this.initialize(e,t);return r.isArray(n)?r.invokeMap(n,"run"):n.run(),n},promisify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["status.done"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["status.failed","status.rejected","status.canceled"];return new Promise(function(r,i){var o=!1,a=function(){o||(o=!0,r())},s=function(){o||(o=!0,i(e.get(".reasonText")||e.get(".reason")||"operation failed"))};t.forEach((function(t){return e.on(t,a)})),n.forEach((function(t){return e.on(t,s)}))})},initialize:function(e,t){return t=t||{},/^operation/.test(e)||(e="operation"+o.capitalize(e)),r.isArray(t)?r.map(t,r.partial(s,e,i())):s(e,null,t)},initializeRemote:function(e){var t="operationRemote"+o.capitalize(e);return ns.Model.get(t,{id:i()})},catchUp:function(e){var t=(function(e){var t=e.type,n=e.subtype;if("move"===t){var r=e.data.source&&a.normalize(e.data.source),i=e.data.target&&a.normalize(e.data.target);return a.dirname(r)!==a.dirname(i)?"move":"rename"}if("trash"===t){if("append"===n||"droppath"===n)return"delete";if("drop"===n)return"cleanTrash";if("restore"===n)return"restore"}if("copy"===t)return"copy";return!1})(e);if(t){if("cleanTrash"===t){var r=n(13).default,s=n(314),u=s.startOperationCleanTrash,c=s.onRequestCleanTrash;return r().dispatch(u()),void r().dispatch(c(e.id))}var l=ns.Model.get("operations"),f=e.id;if(!l.models.some((function(e){return e.data.oid===f}))){t="operation"+o.capitalize(t);var d=ns.Model.get(t,{id:i()}).setData({oid:e.id});l.insert(d),d.initFromMessage(e)}}},getActiveOperations:function(e){return ns.Model.get("operations").models.filter((function(t){return t.getType()===e&&t.isActive()}))},completeRemote:function(e,t){e.setData(t);var n=e.toLocal();r.isArray(n)?r.invokeMap(n,"complete"):n&&n.complete()}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(218)),o=r(n(60)),a=n(35),s=n(36),u=n(75);t.getUser=function(e){return e.user},t.isAliasForUserAddress=function(e,t){var n=e.user.emails;return Boolean(n)&&n.includes(i.default.normalize(t))},t.isUnAuth=function(e){return!e.user.uid},t.isUserCanHaveDisk=function(e){var n=e.user,r=n.isLite,i=n.hasPassword,o=n.isSSO;return!t.isUnAuth(e)&&!r&&(i||o)};t.getLoginOrUpgradeUrl=function(e,n){var r,i=e.config.links.passport,a=i.login,s=i.light2full,u=i.postregistration,c=e.page.currentUrl,l=e.user,f=l.isLite,d=l.hasPassword,p=l.isSSO;return t.isUnAuth(e)?r=a:f?r=s:d||p||(r=u),r?o.default.addParams(r,{retpath:(function(e,t){var n=t;return n.startsWith("/")&&(n="https://"+o.default.getHost(e)+n),n})(c,n),backpath:c}):c},t.getB2bRestrictionStatus=function(e){return e.user.b2b_restriction_status},t.shouldRestrictByFreeB2b=function(e){return t.getB2bRestrictionStatus(e)===a.B2B_RESTRICTION_STATUSES.RESTRICT&&u.isFreeUsersRestrictionsExp(e)},t.shouldShowB2bFreeWarningScreen=function(e){var t=e.environment.agent.isMobile,n=e.user,r=n.b2b_restriction_status;return!(!n.isPDD||!u.isFreeUsersRestrictionsExp(e))&&(r===a.B2B_RESTRICTION_STATUSES.RESTRICT||r===a.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION||r===a.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION&&t)},t.shouldNotifyFreeB2b=function(e){var t=e.environment.agent.isMobile,n=e.user,r=n.b2b_restriction_status,i=n.isPDD;return!(s.isDocsPage(e)||t||!i||!u.isFreeUsersRestrictionsExp(e))&&Boolean(r)},t.isB2BSuggestEnabled=function(e){return e.user.isB2b},t.isPDDSuggestEnabled=function(e){return e.user.isPDD}}),(function(e,t,n){n(797);var r=ns.Model.get("config");e.exports=r&&r.getData()||{}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(85),i=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(r.a)()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e};function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"updateSingleFacesAlbum",(function(){return w})),n.d(t,"updateAlbumsData",(function(){return x})),n.d(t,"fetchAlbumsListing",(function(){return T})),n.d(t,"fetchAlbumsNext",(function(){return k})),n.d(t,"fetchAlbums",(function(){return j})),n.d(t,"fetchSingleGeo",(function(){return P})),n.d(t,"fetchSingleFaces",(function(){return R})),n.d(t,"refuseAlbumsFaces",(function(){return A})),n.d(t,"openFamilyAlbumOnboarding",(function(){return I}));var r=n(10),i=n.n(r),o=n(38),a=n(77),s=n(16),u=n(61),c=n(54),l=n(14),f=n(213),d=n(46),p=n.n(d),h=n(28),m=n(40),v=n(51),g=n(27),y=n(75),b=n(55),_=n(112),O=function(e){return{type:a.e,payload:e}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:a.d,payload:{album:e,refresh:t}}},E=function(){return Object(o.a)("albums",{albumType:"geo",amount:1})},S=function(){return Object(o.a)("getAlbumFaces")},x=function(e,t){return function(n){n(e?{type:a.c,payload:{albums:i()({},e,t),single:!0}}:Object(c.updateAlbumsCommonData)(t))}},C={},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var a=(e||"personal")+t,u=C[a];if(u)return u;if(!Object(h.getAlbumsData)(i(),e).isLoaded||t||n){var c={isLoading:!0};return n&&(c=Object.assign(c,{ids:[],isLoaded:!1,isCompleted:!1})),r(x(e,c)),u=r(function(e,t){return function(n,r){return Object(o.a)("albums",{offset:e,amount:40,albumType:t}).then((function(e){var i=e.map((function(e){return f.a.preprocessAlbum(e)})),o=i.map((function(e){return e.id})),a=r(),u=Object(h.getAlbumsData)(a,t).ids||[],c=o.filter((function(e){return!u.includes(e)}));return n({type:s.FETCH_ALBUMS_LIST_SUCCESS,payload:{albums:i,albumType:t,ids:c}}),n(x(t,Object.assign({isLoading:!1,isLoaded:!0},t&&c.length?{ids:c}:{},o.length<40?{isCompleted:!0}:{})))}))}}(t,e)).then((function(){delete C[a]})).catch((function(e){if(delete C[a],e instanceof Error)throw e;e&&e.id&&p.a.go("/client/error","preserve",{reason:"fetch_albums_error",error:e})})),C[a]=u,u}}},k=function(e){return function(t,n){var r=Object(h.getAlbumsData)(n(),e);t(T(e,r.ids?r.ids.length:0))}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){e.silent||t({type:a.h,payload:{isLoading:!0}});var r=n(),i=[Object(o.a)("getAlbumsSlices"),Object(o.a)("getAlbumFavorites"),E()],s=Object(y.isFamilyAlbumExp)(r)&&(Object(b.hasFamilyAlbumFeature)(r)||Object(b.hasFamilyAlbumSelctor)(r));s&&i.push(Object(_.api)("mpfs/get-family-album",{}));var c=Object(h.canShowAlbumsFaces)(r);return c&&i.push(S()),Promise.all(i.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}))).then((function(e){var n=e.shift();if("fulfilled"!==n.status||n.value.error){!(function(e){p.a.go("/client/error","preserve",{reason:"albums2_fetch_albums_error",error:e})})("rejected"===n.status?n.reason:n.value.error)}else{var r=e.shift();"fulfilled"!==r.status||r.value.error||t(function(e){return function(t){var n=e&&e.length&&f.a.preprocessAlbum(e[0]);t({type:a.j,payload:n?[n]:[]}),n&&t(Object(u.updateAlbum)(n))}}(r.value)),t(function(e){return{type:a.c,payload:e}}(n.value));var i=e.shift();if("fulfilled"!==i.status||i.value.error||t(O(i.value)),s){var o=e.shift();"fulfilled"!==o.status||o.value.error||t(function(e){return function(t){var n=e&&e.length&&f.a.preprocessAlbum(e[0]);t({type:a.i,payload:n?[n]:[]}),n&&t(Object(u.updateAlbum)(n))}}(o.value))}if(c){var l=e.shift();"fulfilled"!==l.status||l.value.error||t(w(l.value))}t({type:a.h,payload:{isLoading:!1,isLoaded:!0}})}}))}},P=function(){return function(e){return E().then((function(t){if(t.error)return Promise.reject(t.error);e(O(t))}))}},R=function(){return function(e,t){return Object(h.canShowAlbumsFaces)(t())?S().then((function(t){if(t.error)return Promise.reject(t.error);e(w(t,!0))})):Promise.reject()}},A=function(){return function(e){var t=function(e){l.default.count("interface elements","faces meta-album","refuse albums",e)};return e(Object(v.add)("confirmation",{dialogParams:{title:"Отключить группировку фото по людям?",text:"Включить обратно ее будет нельзя. Альбом «Люди на фото» будет удален навсегда. Сами фото останутся на Диске.",submitButtonText:"Отключить",cancelButtonText:"Отмена"},onSubmit:function(){return t("ok"),Object(o.a)("do-refuse-albums-faces",{}).then((function(){e(Object(g.updateUser)({faces_indexing_state:"user_refused"})),e(w([])),e(Object(g.goToUrl)("/client/albums"));return e(Object(v.add)("confirmation",{dialogParams:{text:"Группировка фото по людям отключена. Удаление альбома «"+yr.externals.entityify("Люди на фото")+"» займет некоторое время.",submitButtonText:"Закрыть",cancelButtonText:""},onSubmit:function(){}}))})).catch((function(){e(Object(m.notify)({operation:"refuseAlbumsFaces",status:"failed"}))}))},onReject:function(){t("cancel")}}))}},I=function(){return function(e){e({type:a.f})}}}),(function(e,t,n){"use strict";function r(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(143),v=n.n(m),g=n(0),y=n.n(g),b=n(11),_=n.n(b);n(1744);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var w=(function(e){l()(n,e);var t=O(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getClassName",value:function(e){var t=this.props,n=t.size,r=t.cls,o=t.shadow,a=[];return r&&a.push(String(r)),_()()("file-icon").m(i()({size:n,shadow:o},e,!0)).mix(a)}},{key:"render",value:function(){var e,t=this.props,n=t.ext,r=t.type,i=t.mediatype;return e=["album","vd",v.a.virus].includes(r)?r:/^dir/.test(r)?(function(e){return e!==v.a.folderDefault&&-1!==v.a.folderTypes.indexOf(e)?e:v.a.folderDefault})(r):(function(e,t){return"."!==(e=e?e.toLowerCase():"")[0]&&(e="."+e),t=t?t.toLowerCase():"",v.a.extnames[e]||v.a.mediatypes[t]||v.a.default})(n,i),y.a.createElement("span",{className:this._getClassName(e)})}}]),n})(g.Component);w.defaultProps={size:"s",shadow:!1},t.default=w}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=function(e){e.preventDefault()},i=function(e){return e.resources.indexOf(e.activeResource)},o=function(e,t){var n=i(e),r=e.fetchResourcesThreshold||10;return-1===t?n<r&&Boolean(e.possiblyHasPrevious):n>e.resources.length-r-1&&Boolean(e.possiblyHasNext)}}),(function(e,t,n){var r=n(9),i=n(199);e.exports={capitalize:function(e){return"string"==typeof e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):e},toLowerFirstLetter:function(e){return"string"==typeof e&&e.length?e.charAt(0).toLowerCase()+e.slice(1):e},isEmail:function(e){return"string"==typeof e&&/^[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]+(?:\.[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]*)*@(?:[a-zа-яё0-9]([-a-zа-яё0-9]{0,61}[a-zа-яё0-9])?\.)+(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|рф|[a-z]{2})$/i.test(e.toLowerCase())},getUnique:(function(){var e=null,t=1;return function(){var n=i.timestampToDate(Date.now()/1e3,"YYYY-MM-DD HH-mm-ss"),r=n;return n===e?(r=n+" ("+t.toString()+")",t+=1):t=1,e=n,r}})(),crop:function(e,t,n){return t=parseInt(t,10)||27,n=r.isUndefined(n)?"…":n,t+=Math.floor(.6*(e.match(/i|I|l|j/g)||[]).length),e.length>t?e.substring(0,t).trim().replace(/(\.{1,3})$/g,"")+n:e},processHashResource:function(e){var t=e.split(":/"),n=t.length>1?":/"+t.slice(1).join(":/"):"";return t[0].replace(/\s/g,"+")+n},breakNumber:function(e){for(var t=String(e)||"0",n=t.length%3||3,r=[];t.length;)r.push(t.substring(0,n)),t=t.substring(n),n=3;return r},createId:(function(){var e={},t=1;return function(n){return e[n]||(e[n]=t++),e[n]}})(),hashCode:(function(){var e={};return function(t){if(e[t])return e[t];for(var n=0,r=0,i=t.length;r<i;r++){n=(n<<5)-n+t.charCodeAt(r),n|=0}return n>>>=0,e[t]=n,n}})()}}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=function(e,t){return i.a.isParent("/search",e)&&"disk"!==i.a.filename(e)?"list":t.view},a=function(e,t,n){var r={sort:"name",order:"1",display:"normal",view:o(e,n),selected:[],highlighted:[],dialog:null};return"/trash"===e&&(r.sort="append_time",r.order="0"),["/recent","/attach","/attach/yaruarchive",t.downloads,t.screenshots,t.scans].includes(e)&&(r.sort="mtime",r.order="0"),r},s=n(9),u=n.n(s);n.d(t,"getSortForIdContext",(function(){return c})),n.d(t,"getSort",(function(){return l})),n.d(t,"getView",(function(){return f})),n.d(t,"isSelectableResource",(function(){return d})),n.d(t,"getSelectedResources",(function(){return p})),n.d(t,"isInsideFolderYateamNDA",(function(){return h})),n.d(t,"getStatesContext",(function(){return m}));var c=function(e,t){var n=e.statesContext.sort,r=e.defaultFolders.folders,i=e.settings;return n[t]?n[t]:u.a.pick(a(t,r,i),["sort","order"])},l=function(e){var t=e.page.idContext;return c(e,t)},f=function(e){var t=e.page.idContext,n=e.settings;return o(t,n)},d=function(e){return!(!e||e.state&&e.state.disabled)},p=function(e){var t=e.statesContext.selected,n=e.resources;return(t||[]).map((function(e){return n[e]})).filter(d)},h=function(e){var t=e.page.idContext;return (function(e,t){return Boolean(e)&&(e===t||i.a.isParent(e,t))})(e.defaultFolders.folders.yateamnda,t)},m=function(e,t){var n=e.statesContext,r=e.defaultFolders.folders,i=e.settings,o=a(t,r,i),s=n.sort[t];return Object.assign({},o,u.a.omit(n,["sort"]),s)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getEnvironment",(function(){return r})),n.d(t,"getLocale",(function(){return i})),n.d(t,"isIosSafariSelector",(function(){return o})),n.d(t,"isMacSafariSelector",(function(){return a})),n.d(t,"shouldShowYaPlus",(function(){return s})),n.d(t,"getOsId",(function(){return u}));var r=function(e){return e.environment},i=function(e){return e.environment.session.locale},o=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserBase;return"iOS"===n&&"Safari"===r},a=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserName;return"MacOS"===n&&"Safari"===r},s=function(e){var t,n=e.environment.session,r=n.locale,i=n.tld,o=n.region.country_tld,a=e.user,s=a.hasYaPlus,u=a.isWS,c=a.isPDD,l=e.settings,f=["ru","kz","by","uz"];return!Boolean(null===l||void 0===l?void 0:null===(t=l.roNoB2cTariffPromo)||void 0===t?void 0:t.enabled)&&!u&&!c&&"ru"===r&&f.includes(i)&&(f.includes(o)||s)},u=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.isMobile,i=n.toLowerCase();if(r)switch(i){case"android":case"ios":return i;case"windowsphone":return"winphone"}switch(i){case"windows":return"win";case"macos":return"mac";default:return"linux"}}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(449),v=n.n(m),g=n(69),y=n(46),b=n.n(y),_=n(268),O=n(0),w=n.n(O);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var S=(function(e){l()(n,e);var t=E(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._retries=2,r._onOnline=r._onOnline.bind(u()(r)),r}return a()(n,[{key:"_getSpin",value:function(){return w.a.createElement("div",{className:"root__loadable-spin-wrap"},w.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return b.a.go("/client/error","preserve",{reason:"loadable_error",error:this.props.error}),null}},{key:"_onOnline",value:function(){this._retryError(),this._offlineMonitor.removeOnlineEventListener(this._onOnline)}},{key:"_retryError",value:function(){this._retries--,this.props.retry()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.error&&!e.error&&this._retries>0&&(this._offlineMonitor=this._offlineMonitor||new _.a("/check-online"),this._offlineMonitor.checkIsOnline().then((function(e){e?t._retryError():t._offlineMonitor.addOnlineEventListener(t._onOnline)})))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.pastDelay;return t?this._retries>0?this._getSpin():this._getError():n?this._getSpin():null}}]),n})(O.Component),x=(function(e){l()(n,e);var t=E(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getSpin",value:function(){return w.a.createElement("div",{className:"dialog__loadable-spin-wrap"},w.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return w.a.createElement("div",{className:"dialog__load-error"},"Произошла ошибка. Попробуйте снова.")}}]),n})(S);t.default=function(e){var t=e.loader,n=e.webpack,r=e.modules,i=e.isDialog,o=void 0!==i&&i;return v()({loader:t,webpack:n,modules:r,loading:o?x:S})}}),(function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[q]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[$]||!!e.constructor[$]||d(e)||p(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:Y)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:p(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return V&&e instanceof Map}function p(e){return H&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=K(e);delete t[q];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0))}function g(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=J[e];return t||r(18,e),t}function _(e,t){J[e]||(J[e]=t)}function O(){return U}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){S(e),e.p.forEach(C),e.p=null}function S(e){e===U&&(U=e.l)}function x(e){return U={p:[],l:U,h:e,m:!0,_:0}}function C(e){var t=e[q];0===t.i||1===t.i?t.j():t.g=!0}function T(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,i),i?(n[q].P&&(E(t),r(4)),o(e)&&(e=k(t,e),t.l||P(t,e)),t.u&&b("Patches").M(n[q],e,t.u,t.s)):e=k(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function k(e,t,n){if(y(t))return t;var r=t[q];if(!r)return a(t,(function(i,o){return j(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return P(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return j(e,r,i,t,o,n)})),P(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function j(e,t,n,r,a,s){if(i(a)){var c=k(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.N&&e._<1)return;k(e,a),t&&t.A.l||P(e,a)}}function P(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&v(t,n)}function R(e,t){var n=e[q];return(n?h(n):e)[t]}function A(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function D(e){e.o||(e.o=m(e.t))}function M(e,t,n){var r=d(t)?b("MapSet").T(t,n):p(t)?b("MapSet").F(t,n):e.O?(function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:O(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=X;n&&(i=[r],o=Z);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u})(t,n):b("ES5").J(t,n);return(n?n.A:O()).p.push(r),r}function N(e){return i(e)||r(22,e),(function e(t){if(!o(t))return t;var n,r=t[q],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n})(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function F(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[q];return X.get(t,e)},set:function(t){var n=this[q];X.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][q];if(!i.P)switch(i.i){case 5:r(i)&&I(i);break;case 4:n(i)&&I(i)}}}function n(e){for(var t=e.t,n=e.k,r=Y(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==q){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],c=s&&s[q];if(c?c.t!==a:!f(s,a))return!0}}var l=!!t[q];return r.length!==Y(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};_("ES5",{J:function(t,n){var r=Array.isArray(t),i=(function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=K(n);delete o[q];for(var a=Y(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)})(r,t),o={i:r?5:4,A:n?n.A:O(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,q,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[q].A===e&&t(e.p):(e.u&&(function e(t){if(t&&"object"==typeof t){var n=t[q];if(n){var i=n.t,o=n.k,s=n.D,c=n.i;if(4===c)a(o,(function(t){t!==q&&(void 0!==i[t]||u(i,t)?s[t]||e(o[t]):(s[t]=!0,I(n)))})),a(i,(function(e){void 0!==o[e]||u(o,e)||(s[e]=!1,I(n))}));else if(5===c){if(r(n)&&(I(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<o.length;f++)s[f]=!0;for(var d=Math.min(o.length,i.length),p=0;p<d;p++)void 0===s[p]&&e(o[p])}}}})(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.r(t);var B,U,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,H="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=z?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),$=z?Symbol.for("immer-draftable"):"__$immer_draftable",q=z?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),K=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},X={get:function(e,t){if(t===q)return e;var n=h(e);if(!u(n,t))return (function(e,t,n){var r,i=A(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0})(e,n,t);var r=n[t];return e.I||!o(r)?r:r===R(e.t,t)?(D(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=A(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=R(h(e),t),o=null==i?void 0:i[q];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;D(e),I(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.D[t]=!1,D(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Z={};a(X,(function(e,t){Z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(e,t){return X.deleteProperty.call(this,e[0],t)},Z.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){this.O=W,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var s;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(e)){var u=x(this),c=M(this,e,void 0),l=!0;try{s=t(c),l=!1}finally{l?E(u):S(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return w(u,n),T(e,u)}),(function(e){throw E(u),e})):(w(u,n),T(s,u))}if(!e||"object"!=typeof e){if((s=t(e))===G)return;return void 0===s&&(s=e),this.N&&v(s,!0),s}r(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){o(e)||r(8),i(e)&&(e=N(e));var t=x(this),n=M(this,e,void 0);return n[q].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[q]).A;return w(n,t),T(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),ee),ne=n(283);function re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ie="function"==typeof Symbol&&Symbol.observable||"@@observable",oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+oe(),REPLACE:"@@redux/REPLACE"+oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oe()}};function se(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ue(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(re(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(re(1));return n(ue)(e,t)}if("function"!=typeof e)throw new Error(re(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(re(3));return o}function f(e){if("function"!=typeof e)throw new Error(re(4));if(u)throw new Error(re(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(re(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!se(e))throw new Error(re(7));if(void 0===e.type)throw new Error(re(8));if(u)throw new Error(re(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:ae.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(re(10));i=e,d({type:ae.REPLACE})}})[ie]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(re(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ie]=function(){return this},e},r}var ce=ue;function le(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ae.INIT}))throw new Error(re(12));if(void 0===n(void 0,{type:ae.PROBE_UNKNOWN_ACTION()}))throw new Error(re(13))}))})(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if(void 0===f){t&&t.type;throw new Error(re(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function fe(e,t){return function(){return t(e.apply(this,arguments))}}function de(e,t){if("function"==typeof e)return fe(e,t);if("object"!=typeof e||null===e)throw new Error(re(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=fe(i,t))}return n}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(re(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=pe.apply(void 0,o)(n.dispatch),Object(ne.a)(Object(ne.a)({},n),{},{dispatch:r})}}}var me="NOT_FOUND";var ve=function(e,t){return e===t};var ge=(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(s=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?n:c,f=Array.isArray(l)?l:[l],d=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t})(r),p=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(h,{resultFunc:u,memoizedResultFunc:p,dependencies:d,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),h}})((function(e,t){var n="object"==typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?ve:r,o=n.maxSize,a=void 0===o?1:o,s=n.resultEqualityCheck,u=(function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}})(i),c=1===a?(function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:me},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}})(u):(function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return me}return{get:r,put:function(t,i){r(t)===me&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}})(a,u);function l(){var t=c.get(arguments);if(t===me){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}));function ye(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var be=ye();be.withExtraArgument=ye;var _e=be;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t,n){return(Se=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}})()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ee(i,n.prototype),i}).apply(null,arguments)}function xe(e){var t="function"==typeof Map?new Map:void 0;return(xe=function(e){if(null===e||!(function(e){return-1!==Function.toString.call(e).indexOf("[native code]")})(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Se(e,arguments,we(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ee(n,e)})(e)}n.d(t,"MiddlewareArray",(function(){return ke})),n.d(t,"configureStore",(function(){return Ne})),n.d(t,"createAction",(function(){return Le})),n.d(t,"createAsyncThunk",(function(){return Ze})),n.d(t,"createEntityAdapter",(function(){return qe})),n.d(t,"createImmutableStateInvariantMiddleware",(function(){return Pe})),n.d(t,"createReducer",(function(){return ze})),n.d(t,"createSerializableStateInvariantMiddleware",(function(){return Ie})),n.d(t,"createSlice",(function(){return Ve})),n.d(t,"findNonSerializableValue",(function(){return Ae})),n.d(t,"getDefaultMiddleware",(function(){return De})),n.d(t,"getType",(function(){return Be})),n.d(t,"isImmutableDefault",(function(){return je})),n.d(t,"isPlain",(function(){return Re})),n.d(t,"nanoid",(function(){return Ye})),n.d(t,"unwrapResult",(function(){return Qe})),n.d(t,"createNextState",(function(){return te})),n.d(t,"current",(function(){return N})),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return ae})),n.d(t,"applyMiddleware",(function(){return he})),n.d(t,"bindActionCreators",(function(){return de})),n.d(t,"combineReducers",(function(){return le})),n.d(t,"compose",(function(){return pe})),n.d(t,"createStore",(function(){return ue})),n.d(t,"legacy_createStore",(function(){return ce})),n.d(t,"createSelector",(function(){return ge}));var Ce="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?pe:pe.apply(null,arguments)};function Te(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var ke=(function(e){function t(){return e.apply(this,arguments)||this}!(function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t})(t,e);var n=t.prototype;return n.concat=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Se(t,(n=e.prototype.concat).call.apply(n,[this].concat(i)))},n.prepend=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?Se(t,n[0].concat(this)):Se(t,n.concat(this))},t})(xe(Array));function je(e){return"object"!=typeof e||null===e||void 0===e}function Pe(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Re(e){return void 0===e||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||Array.isArray(e)||Te(e)}function Ae(e,t,n,r,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=Re),void 0===i&&(i=[]),!n(e))return{keyPath:t.join(".")||"<root>",value:e};if("object"!=typeof e||null===e)return!1;var a=null!=r?r(e):Object.entries(e),s=i.length>0,u=a,c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}var d=f,p=d[0],h=d[1],m=t.concat(p);if(!(s&&i.indexOf(m.join("."))>=0)){if(!n(h))return{keyPath:m.join("."),value:h};if("object"==typeof h&&(o=Ae(h,m,n,r,i)))return o}}return!1}function Ie(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function De(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,new ke);return r&&(!(function(e){return"boolean"==typeof e})(r)?i.push(_e.withExtraArgument(r.extraArgument)):i.push(_e)),i}var Me=!0;function Ne(e){var t,n=function(e){return De(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,p=void 0===d?void 0:d;if("function"==typeof o)t=o;else{if(!Te(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=le(o)}var h=he.apply(void 0,"function"==typeof s?s(n):s),m=pe;c&&(m=Ce(Oe({trace:!Me},"object"==typeof c&&c)));var v=[h];return Array.isArray(p)?v=[h].concat(p):"function"==typeof p&&(v=p(v)),ue(t,f,m.apply(void 0,v))}function Le(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return Oe({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Fe(e){return["type","payload","error","meta"].indexOf(e)>-1}function Be(e){return""+e}function Ue(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ze(e,t,n,r){void 0===n&&(n=[]);var a="function"==typeof t?Ue(t):[t,n,r],s=a[0],u=a[1],c=a[2];return function(t,n){void 0===t&&(t=e);var r=[s[n.type]].concat(u.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[c]),r.reduce((function(e,t){if(t){if(i(e)){var r=t(e,n);return void 0===r?e:r}if(o(e))return te(e,(function(e){return t(e,n)}));var a=t(e,n);if(void 0===a)throw Error("A case reducer on a non-draftable value must not return undefined");return a}return e}),t)}}function Ve(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},i=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?Ue(e.extraReducers):[e.extraReducers],o=i[0],a=void 0===o?{}:o,s=i[1],u=void 0===s?[]:s,c=i[2],l=void 0===c?void 0:c,f={},d={},p={};Object.keys(r).forEach((function(e){var n,i,o=r[e],a=(function(e,t){return e+"/"+t})(t,e);"reducer"in o?(n=o.reducer,i=o.prepare):n=o,f[e]=n,d[a]=n,p[e]=i?Le(a,i):Le(a)}));var h=ze(n,Oe({},a,{},d),u,l);return{name:t,reducer:h,actions:p,caseReducers:f}}function He(e){return function(t,n){function r(e){return (function(e){return Te(e)&&"string"==typeof e.type&&Object.keys(e).every(Fe)})(e)}var o=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(o(t),t):te(t,o)}}function We(e,t){return t(e)}function Ge(e){function t(t,n){var r=We(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){Array.isArray(e)||(e=Object.values(e));var r=e,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}t(a,n)}}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,n){var r={},i={};(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:Oe({},i[e.id]?i[e.id].changes:null,{},e.changes)})})),(t=Object.values(i)).length>0)&&(t.filter((function(t){return (function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=We(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,s})(r,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return r[e]||e}))))}function o(t,r){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l,d=We(f,e);d in r.entities?a.push({id:d,changes:f}):o.push(f)}i(a,r),n(o,r)}return{removeAll:(function(e){var t=He((function(t,n){return e(n)}));return function(e){return t(e,void 0)}})((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:He(t),addMany:He(n),setAll:He((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.ids=[],t.entities={},n(e,t)})),updateOne:He((function(e,t){return i([e],t)})),updateMany:He(i),upsertOne:He((function(e,t){return o([e],t)})),upsertMany:He(o),removeOne:He((function(e,t){return r([e],t)})),removeMany:He(r)}}function $e(e,t){var n=Ge(e);function r(t,n){Array.isArray(t)||(t=Object.values(t));var r=t.filter((function(t){return!(We(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(t,n){var r=[];t.forEach((function(t){return (function(t,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=We(o,e);return delete r.entities[n.id],t.push(o),a!==n.id})(r,t,n)})),0!==r.length&&a(r,n)}function o(t,n){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l,d=We(f,e);d in n.entities?a.push({id:d,changes:f}):o.push(f)}i(a,n),r(o,n)}function a(n,r){n.sort(t),n.forEach((function(t){r.entities[e(t)]=t}));var i=Object.values(r.entities);i.sort(t);var o=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:He((function(e,t){return r([e],t)})),updateOne:He((function(e,t){return i([e],t)})),upsertOne:He((function(e,t){return o([e],t)})),setAll:He((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.entities={},t.ids=[],r(e,t)})),addMany:He(r),updateMany:He(i),upsertMany:He(o)}}function qe(e){void 0===e&&(e={});var t=Oe({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer;return Oe({selectId:n,sortComparer:r},{getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},{},{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=ge(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},a=ge(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:a,selectById:ge(n,i,o)};var s=ge(e,n);return{selectIds:ge(e,t),selectEntities:s,selectAll:ge(e,r),selectTotal:ge(e,a),selectById:ge(s,i,o)}}},{},r?$e(n,r):Ge(n))}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Ye=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ke=["name","message","stack","code"],Je=function(e){this.value=e},Xe=function(e){if("object"==typeof e&&null!==e){var t={},n=Ke,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;"string"==typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}};function Ze(e,t,n){var r=Le(e+"/fulfilled",(function(e,t,n){return{payload:e,meta:{arg:n,requestId:t}}})),i=Le(e+"/pending",(function(e,t){return{payload:void 0,meta:{arg:t,requestId:e}}})),o=Le(e+"/rejected",(function(e,t,n,r){var i=!!e&&"AbortError"===e.name,o=!!e&&"ConditionError"===e.name;return{payload:r,error:Xe(e||"Rejected"),meta:{arg:n,requestId:t,aborted:i,condition:o}}})),a="undefined"!=typeof AbortController?AbortController:(function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e})();return Object.assign((function(e){return function(s,u,c){var l,f=Ye(),d=new a,p=new Promise(function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))}),h=!1,m=(function(){try{var a,l=function(e){return m?e:(n&&!n.dispatchConditionRejection&&o.match(a)&&a.meta.condition||s(a),a)},m=!1,v=(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n})((function(){if(n&&n.condition&&!1===n.condition(e,{getState:u,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,s(i(f,e)),Promise.resolve(Promise.race([p,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:d.signal,rejectWithValue:function(e){return new Je(e)}})).then((function(t){return t instanceof Je?o(null,f,e,t.value):r(t,f,e)}))])).then((function(e){a=e}))}),(function(t){a=o(t,f,e)}));return Promise.resolve(v&&v.then?v.then(l):l(v))}catch(e){return Promise.reject(e)}})();return Object.assign(m,{abort:function(e){h&&(l=e,d.abort())}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function Qe(e){if("error"in e)throw e.error;return e.payload}F()}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"m",(function(){return E})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return x})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return P}));var r=n(10),i=n.n(r),o=n(83),a=n.n(o),s=n(110),u=n(312),c=n(22),l=n(9),f=n.n(l);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return e},m=function(e,t){return t<e.from?-1:t>e.to?1:0},v=function(e){var t=e.split("_").map((function(e){return parseInt(e,10)})),n=a()(t,2);return{from:n[0],to:n[1]}},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=v(t),i=r.from,o=r.to,a=Object(s.sortedIndex)(e,t,(function(e){var t=v(n(e)),r=t.from,a=t.to;return r>=i&&a>=o?-1:1}));return a&&n(e[a-1])===t?{found:!0,index:a-1}:{found:!1,index:a}},y=function(e,t){return Object(s.sortedIndex)(t,{itemId:e},(function(e,t){return e.itemId>=t.itemId?-1:1}))},b=function(e,t){var n=y(e,t);return n&&t[n-1].itemId===e?n-1:-1},_=function(e,t){return t.findIndex((function(t){return t.id===e}))},O=function(e,t){var n={clusters:{},revision:e.revision};return e.items.forEach((function(e){var r=e.base_revision;t>r||(n.revision=e.revision,e.index_changes&&e.index_changes.forEach((function(e){var t=e.cluster_id,r=f.a.get(e.data,"albums",[]).reduce((function(e,t){return Object.assign(e,i()({},t.album,t))}),{}),o=Object.assign({id:t},f.a.pick(e.data,["size","from","to","city","streets"]),{albums:r});switch(n.clusters[t]||(n.clusters[t]={}),e.change_type){case"insert":n.clusters[t]={insert:o};break;case"update":if(n.clusters[t].insert){var a=n.clusters[t].insert;n.clusters[t].insert=Object.assign(a,o,{albums:Object.assign(f.a.get(a,"albums",{}),o.albums)})}else{var s=n.clusters[t].update||{};n.clusters[t].update=Object.assign(s,o,{albums:Object.assign(f.a.get(s,"albums",{}),o.albums)})}break;case"delete":n.clusters[t]={delete:!0}}})),e.items_changes&&e.items_changes.forEach((function(e){var t=e.cluster_id,r=e.item_id;if(n.clusters[t]||(n.clusters[t]={}),!n.clusters[t].delete)switch(n.clusters[t].items||(n.clusters[t].items={}),n.clusters[t].items[r]||(n.clusters[t].items[r]={}),e.change_type){case"insert":var i=Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},f.a.pick(e.data,["height","width","beauty","albums"]));if(n.clusters[t].insert){n.clusters[t].insert.items||(n.clusters[t].insert.items=[]);var o=y(i.itemId,n.clusters[t].insert.items);n.clusters[t].insert.items.splice(o,0,i),n.clusters[t].items[r].delete&&delete n.clusters[t].items[r].delete}else n.clusters[t].items[r]={insert:i};break;case"update":if(!e.data||!e.data.path)return;n.clusters[t].items[r]={update:Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},f.a.pick(e.data,"albums"))};break;case"delete":n.clusters[t].items[r]={delete:!0}}})))})),n},w=function(e,t){if(Object.assign(e,f.a.pick(t,["items","size","from","to"])),t.streets){var n=e.streets||[];t.streets.forEach((function(e){var t=e.place_index;switch(e.change_type){case"insert":n.splice(t,0,e.data);break;case"delete":n.splice(t,1);break;case"update":n.splice(t,1,e.data)}})),n.length?e.streets=n:delete e.streets}if(t.city)switch(t.city.change_type){case"insert":case"update":e.city=t.city.data;break;case"delete":delete e.city}if(t.albums){var r=Object.assign({},e.albums);for(var i in t.albums){var o=t.albums[i];switch(o.change_type){case"insert":case"update":r[o.album]=o.count;break;case"delete":delete r[o.album]}}e.albums=Object(u.getAlbums)(r)}},E=function(e,t){var n=b(e,t);if(-1===n)return t;var r=t.slice(0);return r.splice(n,1),r},S=function(e,t){var n=g(t,e),r=n.index;if(!n.found)return t;var i=t.slice(0);return i.splice(r,1),i},x=function(e,t){var n=g(t,e),r=n.index;if(!n.found){var i=t.slice(0);return i.splice(r,0,e),i}return t},C=function(e,t){var n=b(e.itemId,t);if(-1===n){var r=t.slice(),i=y(e.itemId,r);return r.splice(i,0,e),r}var o=t[n],a=f.a.get(o,"albums",[]),s=e.albums;if(o.id!==e.id||s&&!f.a.isEqual(a,s)){var u=t.slice();return u[n]=Object.assign({},u[n],{id:e.id,albums:s||u[n].albums}),u}return t},T=function(e,t){return Object(s.sortedFind)(e,t,m)},k=function(e,t){return e[T(e,t)]},j=function(e,t){if(t.meta&&t.meta.photoslice_time){var n=T(e,1e3*t.meta.photoslice_time);if(!(n<0)&&e[n].items){var r=e[n].items.findIndex((function(e){return e.id===t.id}));if(!(r<0))return{clusterIndex:n,resourceIndex:r}}}},P=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=d(e);try{for(o.s();!(n=o.n()).done;)for(var s=a()(n.value,2),u=s[0],c=s[1],l=u.clusterIndex;l<=c.clusterIndex;l++){var f=l,p=t[f],h=0,m=p.size-1;if(f===u.clusterIndex&&(h=u.resourceIndex),f===c.clusterIndex&&(m=c.resourceIndex),p.items)for(var v=h;v<=m;v++)r(p,p.items[v],{clusterIndex:f,resourceIndex:v});else i(p,h,m)}}catch(e){o.e(e)}finally{o.f()}}}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(34),a=n(32),s=(n(1773),function(e){var t=e.children;return i.a.createElement("div",{className:u("Backdrop")},t)});n(1772);n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var u=Object(o.cn)("Tooltip"),c=function(e){var t=e.anchor,n=e.boundary,r=e.children,o=e.className,c=e.direction,l=e.hasTail,f=e.id,d=e.innerRef,p=e.keepMounted,h=e.mainOffset,m=e.modifiers,v=e.disableOverlay,g=e.onClick,y=e.onClose,b=e.scope,_=e.secondaryOffset,O=e.state,w=e.tailOffset,E=e.viewportOffset,S=e.visible,x=e.zIndex,C=l?0:4,T=Object(a.useComponentRegistry)(u()).Popup;return i.a.createElement(T,{anchor:t,boundary:n,className:u({visible:S,state:O},[o]),direction:c,disableOverlay:v,hasTail:l,innerRef:d,keepMounted:p,mainOffset:h||C,modifiers:m,onClick:g,onClose:y,scope:b,secondaryOffset:_,tailOffset:w,target:"anchor",unstable_onRenderTail:function(e){return i.a.createElement(s,null,l&&e)},view:"default",viewportOffset:E,visible:S,zIndex:x},i.a.createElement("div",{role:"tooltip",id:f,className:u("Content")},r))};c.displayName="Tooltip"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"hasOpenedDialogs",(function(){return i})),n.d(t,"getOpenedDialogs",(function(){return o})),n.d(t,"isDialogOpened",(function(){return a})),n.d(t,"getDialogData",(function(){return s}));var r=n(23),i=function(e){return Object.keys(e.dialogs).some((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},o=function(e){return Object.keys(e.dialogs).filter((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},a=function(e,t){return e.dialogs[t]&&e.dialogs[t].state===r.STATE.OPENED},s=function(e,t){return e.dialogs[t]&&e.dialogs[t].data}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(86);function i(e){return((Object(r.a)(e)?e.ownerDocument:e.document)||window.document).documentElement}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1477),t)}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(9),a=n.n(o),s=n(233),u=n(422);s.a.define("queueRequest",{limit:10,methods:{TIMEOUT_RETRY_REQUEST:5e3,_bindBeforeunload:function(){this._isBindedBeforeunload||(this._isBindedBeforeunload=!0,window.addEventListener("beforeunload",this._onBeforeunload))},_unbindBeforeunload:function(){this._isBindedBeforeunload=!1,window.removeEventListener("beforeunload",this._onBeforeunload)},_onBeforeunload:function(e){e.preventDefault(),e.returnValue=""},push:function(e){return e.isAction&&this._bindBeforeunload(),s.a.prototype.push.call(this,e)},handlePortion:function(e){var t=this,n=this,r=[],o=[];a.a.each(e,(function(e){var t={id:e.item.id,params:e.item.params};r.push(t),o.push(e.promise||null)}));var s=ns.forcedRequest(r);return s.always((function(){t._isBindedBeforeunload&&!t.items.some((function(e){return e.item.isAction}))&&t._unbindBeforeunload()})),s.then((function(e){a.a.each(e,(function(e,t){var r=o[t];if(r){var i=e.getError();i?"WRONG_SK"===i.id?n.push(e).then((function(){r.fulfill()}),(function(){r.reject()})):r.reject(e):r.fulfill(e)}}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),s}}}),ns.Model.get("queueRequest").setDataDefault()}),(function(e,t,n){var r=n(604),i=Math.pow(2,53)-1;function o(e,t){try{this.unitNames=e||["байт","КБ","МБ","ГБ","ТБ"],this.separator=t||","}catch(e){}this.format=this.format.bind(this)}o.prototype={create:function(e,t){return new o(e,t)},format:function(e){((e=Math.floor(parseFloat(e)))<0||e>i||isNaN(e))&&(e=0);for(var t=new f(e,this.unitNames,this.separator),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var a=0,s=r.length;a<s;a++){var u=r[a];if("precision"===u||"length"===u){var c=parseInt(r[a+1],10);isNaN(c)||(t.format(u,c),a++)}else t.format(u)}return t.getString()},formatSpace:function(e){return r.getSpaceString(e,["байт","КБ","МБ","ГБ","ТБ"],",",{length:3})}};var a=1024,s=1024*a,u=1024*s,c=1024*u,l=[1,a,s,u,c];function f(e,t,n){this.bytes=e,this.unitNames=t,this.separator=n,this.units="best unit",this.fixed=!1,this.withUnit=!0,this.withNumber=!0,this.calculation="precise"}o.prototype.B=1,o.prototype.KB=a,o.prototype.MB=s,o.prototype.GB=u,o.prototype.TB=c,o.prototype.isOverdraft=function(e){return e.used-e.limit>=u};var d={"best unit":function(){this.units="best unit"},GB:function(){this.units=u},MB:function(){this.units=s},KB:function(){this.units=a},fixed:function(){this.fixed=!0},float:function(){this.fixed=!1},int:function(){this.precision=0},precision:function(e){this.precision=e},number:function(){this.withUnit=!1},unit:function(){this.withNumber=!1},precise:function(){this.calculation="precise"},rough:function(){this.calculation="rough"},length:function(e){this.calculation="length",this.length=e}};function p(e,t){return e>=t}function h(e,t){var n;return{number:e/=n="best unit"===t?(function(e){for(var t=l.length;t>=0;t--){var n=l[t];if(p(e,n))return n}return l[0]})(e):t,unit:n}}function m(e){return e.replace(/\.[0-9]*/,"")}function v(e,t){var n=m(e),r=e.replace(/[0-9]*\.?/,"").slice(0,t);return n+(0!==r?"."+r:"")}f.prototype.format=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=t[0],i=t.slice(1);"function"==typeof d[r]&&d[r].apply(this,i)}return this},f.prototype.getString=function(){var e=h(this.bytes,this.units),t=this.getNumber().toString();return t=this.localize(t,e.unit,this.withUnit,this.withNumber).replace(".",this.separator)},f.prototype.getNumber=function(){var e=h(this.bytes,this.units),t=(function(e,t,n,r,i){if(!r)switch(t){case"length":var o=m(e).length;e=v(e,o<=i?i-o:0);break;case"precise":n<=a&&(e=v(e,0)),n===s&&(e=v(e,1)),n>=u&&(e=v(e,2));break;case"rough":(n===a||n===s||n===u&&m(e)>=100)&&(e=v(e,0)),n===u&&(e=v(e,1))}return e})(e.number.toString(),this.calculation,e.unit,this.precision,this.length);return t=(function(e,t,n){var r=e;if(void 0!==t)if(n)r=e.toFixed(t);else{var i=Math.pow(10,t);r=(Math.round(e*i)/i).toString()}return r})(parseFloat(t,10),this.precision,this.fixed)},f.prototype.getUnit=function(){return this.localizeUnit(h(this.bytes,this.units).unit)},f.prototype.localizeUnit=function(e){for(var t=0,n=l.length;t<n;t++)if(e===l[t])return this.unitNames[t]},f.prototype.localize=function(e,t,n,r){return n&&r?e=e+" "+this.localizeUnit(t):r||(e=this.localizeUnit(t)),e},e.exports=new o}),(function(e,t,n){var r=n(990).default;t.log=function(e,t){var i=n(13).default,o=n(90).environment,a=(i().getState().environment.session.experimentBoxes||[]).join(";"),s=Object.assign({},e,{exp:a});"development"===o&&ns.DEBUG?console.log(s):r.send(s,"",t)}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProductFeatureCode=t.PaymentPeriod=t.CurrencySymbol=t.Currency=t.ProductSetKeys=void 0,(function(e){e.MailProB2c="mail_pro_b2c",e.Family360="family_360"})(t.ProductSetKeys||(t.ProductSetKeys={})),(function(e){e.USD="USD",e.RUB="RUB"})(r=t.Currency||(t.Currency={})),t.CurrencySymbol={[r.USD]:"$",[r.RUB]:"₽"},(function(e){e.month="month",e.year="year",e.day="day"})(t.PaymentPeriod||(t.PaymentPeriod={})),(function(e){e.Autosave="mail_pro_b2c_autosave",e.Backup="mail_b2c_can_use_backup",e.BeautifulEmail="mail_b2c_domain_enabled",e.DiskSpace="mpfs_disk_space",e.IncreasedFileLimit="increased_filesize_limit",e.ExtHistory="mail_pro_b2c_ext_history",e.NoAds="mail_ad_disabled",e.OptInSubs="mail_b2c_can_use_opt_in_subs",e.PrioritySupport="mail_priority_support",e.PublicLinksSettings="public_settings_enabled",e.Smart="mail_smart_enabled",e.UnlimPublicDownload="mail_pro_b2c_unlim_public_download",e.UnlimMobile="mail_pro_b2c_unlim_mobile_video"})(t.ProductFeatureCode||(t.ProductFeatureCode={}))}),(function(e,t,n){"use strict";var r=function(e,t,n){for(var r=0,i=e.length;r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r};e.exports={sortedIndex:r,sortedFind:function(e,t,n){var i=r(e,t,n);return i<e.length&&0===n(e[i],t)?i:-1}}}),(function(e,t,n){e.exports=n(1378)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(622)),u=n(266),c=a(n(13));t.onSkUpdate=function(e){var t=ns.Model.get("config");t.setData(Object.assign({},t.getData(),{sk:e}))},t.onAuthChanged=u.safeReload,t.psModelsRoute="/models-v2",t.psFetchDefaultOptions={pingUrl:"/check-online"},t.api=function(e,n,a){return i(void 0,void 0,void 0,(function(){var i,u,l,f,d;return o(this,(function(o){return i=c.default().getState(),u=i.config,l=u.sk,f=u.idClient,d=i.user.uid,[2,s.default({modelsRoute:t.psModelsRoute,options:r(r({},t.psFetchDefaultOptions),a),apiMethod:e,requestParams:n,sk:l,onSkUpdate:t.onSkUpdate,uid:d,onAuthChanged:t.onAuthChanged,connectionId:f})]}))}))},"undefined"!=typeof window&&(window.modelsV2Api=t.api)}),(function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"c",(function(){return x}));var r=n(16),i=n(64),o=n(38),a=n(40),s=n(15),u=n(75),c=n(253),l=n(22),f=l.normalize,d=l.basename,p={INITIAL:"INITIAL",PROGRESS:"PROGRESS"},h="ACCEPT",m="REJECT",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hash";return function(n,r){var i=r().invitesToFolders,o=i.invites,a=i.invitesByHash,s="hash"===t?e:o.find((function(n){return a[n][t]===e}));return a[s]}},g=function(e){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,hidden:!0}}},y=function(e,t){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,status:t}}},b=function(e){return{type:r.REMOVE_INVITE_TO_FOLDER,payload:{hash:e}}},_=function(e,t){return function(n,r){var i=r().invitesToFolders.invitesByHash[e];if(i&&i.status===p.PROGRESS)return Promise.resolve({});n(y(e,p.PROGRESS));var s=t===h,u=s?"acceptInvite":"rejectInvite",c=s?"do-resource-invite-accept":"do-resource-invite-reject";return Object(o.a)(c,{hash:e}).then((function(t){return n(Object(a.notify)({invite:i,operation:u,status:"done"})),n(b(e)),Promise.resolve(t)})).catch((function(t){return n(y(e,p.INITIAL)),n(Object(a.notify)({invite:i,operation:u,status:"failed"})),Promise.reject(t)}))}},O=function(e){return function(t){return t(_(e,h)).then((function(e){var n=e.id;if(n)return t(Object(s.fetchSingleResource)(f(n)))}))}},w=function(e){return function(t){return t(_(e,m))}},E=function(e,t){return function(n,r){var i=f(e.folder.path),o=e.folder.gid,l=e.folder.group_type;if("actor"===t){var p=n(v(o,"gid"));p&&"family"!==l&&(n(Object(a.notify)({invite:p,operation:"acceptInvite",status:"done"})),n(b(p.hash))),n(Object(s.fetchSingleResource)(i))}else if("owner"===t||"user"===t){Object(u.getIsNewAccessFolderExp)(r())?n(Object(c.maybeFetchAccessFolderUsers)({silent:!0})):Object(s.maybeFetchUsersFolder)({idFolder:i,gidFolder:o}),"owner"===t&&"family"!==l&&n(Object(a.notify)({role:t,folderName:e.folder.name||d(i),userName:e.user.name,operation:"acceptInvite"}))}}},S=function(e,t){return function(n,r){var i=f(e.folder.path),o=e.folder.gid;if("actor"===t){var l=n(v(o,"gid"));if(l)return n(Object(a.notify)({invite:l,operation:"rejectInvite",status:"done"})),n(b(l.hash)),Promise.resolve()}else if("owner"===t){return Object(u.getIsNewAccessFolderExp)(r())?(n(Object(c.maybeFetchAccessFolderUsers)({silent:!0})),Promise.resolve()):Object(s.maybeFetchUsersFolder)({idFolder:i,gidFolder:o})}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var a=n().invitesToFolders.isLoaded;if(e||!a)return Object(o.a)("invitesFolder",{}).then((function(e){var n=Array.isArray(e)?e:[],o=Object(i.getPreloadedData)("inviteCurrent");o&&o.owner_uid&&!n.some((function(e){return e.hash===o.hash}))&&n.unshift(o),t(function(e){return{type:r.UPDATE_INVITES_TO_FOLDERS,payload:e}}(n))}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"cnDrawer",(function(){return i})),n.d(t,"cnDrawerOverlay",(function(){return o})),n.d(t,"cnDrawerContent",(function(){return a})),n.d(t,"cnDrawerTitle",(function(){return s})),n.d(t,"cnDrawerHandle",(function(){return u})),n.d(t,"cnDrawerCurtain",(function(){return c})),n.d(t,"cnDrawerDragObserver",(function(){return l}));var r=n(34),i=Object(r.cn)("Drawer"),o=i("Overlay"),a=i("Content"),s=i("Title"),u=i("Handle"),c=i("Curtain"),l=i("DragObserver")}),(function(e,t,n){"use strict";n.r(t),n.d(t,"setPhotoSelection",(function(){return l})),n.d(t,"deselectAllStatesContext",(function(){return f})),n.d(t,"setSelection",(function(){return d})),n.d(t,"setFilteredSelection",(function(){return p})),n.d(t,"setHighlighted",(function(){return h})),n.d(t,"deselectResources",(function(){return m}));var r=n(21),i=n.n(r),o=n(16),a=n(317),s=n(14),u=n(84),c=n(286),l=function(e){var t=e.total,n=e.missing,r=e.unfilteredTotal;return function(e,o){var l=o(),f=l.photoslice,d=f.hasDiff,p=f.unfilteredTotalSelected;e({type:a.b,payload:{total:t,missing:n,unfilteredTotal:r}}),0===r&&d&&e(Object(c.b)()),p!==r&&r>0&&s.default.count.apply(s.default,["interface elements"].concat(i()(Object(u.getMetrikaSection)(l)),["select",1===r?"one":"many"]))}},f=function(){return function(e){e({type:o.DESELECT_ALL})}},d=function(e){return{type:o.SET_SELECTED,payload:{selected:Array.isArray(e)?e:[e]}}},p=function(e){var t=e.total,n=e.missing,r=e.resources,i=e.unfilteredTotal;return function(e){e(d(r)),e(l({total:t,missing:n,unfilteredTotal:i}))}},h=function(e){return{type:o.SET_HIGHLIGHTED,payload:{highlighted:e}}},m=function(e){return{type:o.DESELECT_RESOURCES,payload:{resourcesIds:Array.isArray(e)?e:[e]}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(607);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i);var o=n(343);for(var i in o)"default"!==i&&(function(e){n.d(t,e,(function(){return o[e]}))})(i);var a=n(344);for(var i in a)"default"!==i&&(function(e){n.d(t,e,(function(){return a[e]}))})(i);var s=n(345);for(var i in s)"default"!==i&&(function(e){n.d(t,e,(function(){return s[e]}))})(i);var u=n(346);for(var i in u)"default"!==i&&(function(e){n.d(t,e,(function(){return u[e]}))})(i);var c=n(347);for(var i in c)"default"!==i&&(function(e){n.d(t,e,(function(){return c[e]}))})(i);var l=n(348);for(var i in l)"default"!==i&&(function(e){n.d(t,e,(function(){return l[e]}))})(i);var f=n(349);for(var i in f)"default"!==i&&(function(e){n.d(t,e,(function(){return f[e]}))})(i);var d=n(350);for(var i in d)"default"!==i&&(function(e){n.d(t,e,(function(){return d[e]}))})(i);var p=n(351);for(var i in p)"default"!==i&&(function(e){n.d(t,e,(function(){return p[e]}))})(i);var h=n(352);for(var i in h)"default"!==i&&(function(e){n.d(t,e,(function(){return h[e]}))})(i);var m=n(353);for(var i in m)"default"!==i&&(function(e){n.d(t,e,(function(){return m[e]}))})(i);var v=n(354);for(var i in v)"default"!==i&&(function(e){n.d(t,e,(function(){return v[e]}))})(i);var g=n(355);for(var i in g)"default"!==i&&(function(e){n.d(t,e,(function(){return g[e]}))})(i);var y=n(356);for(var i in y)"default"!==i&&(function(e){n.d(t,e,(function(){return y[e]}))})(i);var b=n(401);n.d(t,"withSizeXXL",(function(){return b.a}));var _=n(402);n.d(t,"withSizeXL",(function(){return _.a}));var O=n(357);for(var i in O)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(i);var w=n(358);for(var i in w)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(i);var E=n(359);for(var i in E)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(i);var S=n(608);for(var i in S)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return S[e]}))})(i);var x=n(609);for(var i in x)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return x[e]}))})(i);var C=n(360);for(var i in C)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return C[e]}))})(i);var T=n(610);for(var i in T)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return T[e]}))})(i);var k=n(611);for(var i in k)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return k[e]}))})(i);var j=n(612);for(var i in j)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return j[e]}))})(i);var P=n(613);for(var i in P)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return P[e]}))})(i);var R=n(361);for(var i in R)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return R[e]}))})(i);var A=n(362);for(var i in A)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return A[e]}))})(i);var I=n(614);for(var i in I)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return I[e]}))})(i);var D=n(615);for(var i in D)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return D[e]}))})(i);var M=n(616);for(var i in M)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return M[e]}))})(i);var N=n(617);for(var i in N)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return N[e]}))})(i);var L=n(618);for(var i in L)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return L[e]}))})(i);var F=n(619);for(var i in F)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return F[e]}))})(i);var B=n(403);n.d(t,"withViewBrand",(function(){return B.a}));var U=n(404);n.d(t,"withViewPremium",(function(){return U.a}));var z=n(405);n.d(t,"withViewDanger",(function(){return z.a}));var V=n(363);for(var i in V)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return V[e]}))})(i);var H=n(364);for(var i in H)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return H[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useImagePreload=t.useThemeType=t.useCampaignPromoActions=t.usePromoActions=t.useSecondaryTuningButton=t.useMainTuningButton=t.usePromoTranslations=t.useButtonPriceText=t.useCloseButtonTitleText=t.useCommonButtonPriceText=t.useTuningLink=t.useBenefits=t.useTranslation=t.useOnce=void 0;const r=n(0),i=n(224),o=n(703),a=n(704),s=n(172),u=n(181),c=n(225),l=n(705);t.useOnce=(e=>{r.useEffect(e,[])});const f=(e,t,n,r)=>{const i=l.getPromoTranslationKeys(e,t);return l.getTranslation(i,n,r)};t.useTranslation=(e=>{const{translations:t,lang:n,keysetId:o}=r.useContext(i.TranslationsContext);return f(t,o,n,e)});t.useBenefits=(e=>{const{translations:t,lang:n,keysetId:o}=r.useContext(i.TranslationsContext);return e.map(({text:e,icon:r})=>({icon:r,text:f(t,o,n,e)}))});t.useTuningLink=(e=>{const{urls:t,uid:n,project:i,promoId:o}=r.useContext(c.EnvironmentContext);let a=`${t.tuning}/premium-plans?${n?`uid=${n}&`:""}from=${i}_${o}`;return e&&(a+=`&open_tariff_by_price_id=${e}`),a});t.useCommonButtonPriceText=(()=>{const{translations:e,lang:t}=r.useContext(i.TranslationsContext);return f(e,"common",t,"ButtonPriceText")});t.useCloseButtonTitleText=(()=>{const{translations:e,lang:t}=r.useContext(i.TranslationsContext);return f(e,"common",t,"Close")});t.useButtonPriceText=(e=>{const{translations:n,lang:o,keysetId:a}=r.useContext(i.TranslationsContext),s=f(n,a,o,e),u=t.useCommonButtonPriceText();return s||u});t.usePromoTranslations=(()=>({titleText:t.useTranslation("Title"),descriptionText:t.useTranslation("Description"),actionButtonText:t.useTranslation("ActionButton"),cancelButtonText:t.useTranslation("CancelButton")}));t.useMainTuningButton=((e,n)=>{const{translations:o,lang:a,keysetId:s}=r.useContext(i.TranslationsContext),u=t.useTuningLink(e.actionButtonPriceId),c=t.useButtonPriceText("ActionButtonCustomText");return{url:e.actionButtonLink||(e.isTuningLink?u:void 0),onClick:n,view:e.actionButtonView||"premium",customTexts:{text:c,crossedPrice:f(o,s,a,"ActionButtonCrossedPrice"),actualPrice:f(o,s,a,"ActionButtonActualPrice"),infoText:f(o,s,a,"ActionButtonInfoText")}}});t.useSecondaryTuningButton=((e,n)=>{const r=t.usePromoTranslations();if(r.cancelButtonText)return{onClick:n,view:e.secondaryButtonView||"clear",customTexts:{text:r.cancelButtonText}}});t.usePromoActions=((e,t=!0)=>{const n=r.useContext(o.MetricsContext),i=r.useContext(a.PluginContext);return{onClose:r.useCallback(()=>{e(),n.logPromoOtherCloseEvent()},[n,e]),onCloseButtonClick:r.useCallback(()=>{e(),n.logPromoCloseButtonClick()},[n,e]),onCancelButtonClick:r.useCallback(()=>{e(),n.logPromoCancelButtonClick()},[n,e]),onActionButtonClick:r.useCallback(()=>{var r;null===(r=null===i||void 0===i?void 0:i.onActionButtonClick)||void 0===r||r.call(i),t&&e(),n.logPromoActionButtonClick()},[n,e,t,i])}});t.useCampaignPromoActions=(e=>{const t=r.useContext(o.MetricsContext),n=r.useContext(a.PluginContext);return{onClose:r.useCallback(()=>{e(),t.logPromoOtherCloseEvent()},[t,e]),onCloseButtonClick:r.useCallback(()=>{e(),t.logPromoCloseButtonClick()},[t,e]),onSecondaryButtonClick:r.useCallback(()=>{e(),t.logPromoSecondarylButtonClick()},[t,e]),onActionButtonClick:r.useCallback(()=>{var r;null===(r=null===n||void 0===n?void 0:n.onActionButtonClick)||void 0===r||r.call(n),e(),t.logPromoActionButtonClick()},[t,e,n])}});t.useThemeType=(()=>{const{isDark:e}=r.useContext(s.ThemeContext);return e?u.ThemeType.dark:u.ThemeType.light});t.useImagePreload=(e=>{const[t,n]=r.useState(!e);if(e){const t=new Image;t.src=e.src,t.srcset=e.srcSet,t.onload=(()=>n(!0))}return t})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=function(e){return new Promise(function(t){setTimeout((function(){t()}),e)})};var r=null;t.waitNavigatorOnline=function(){return new Promise(function(e){if(navigator.onLine)e();else{var t=function(){window.removeEventListener("online",t),e()};window.addEventListener("online",t)}})},t.waitOnline=function(e){return t.waitNavigatorOnline().then((function(){return (function(e){if(r)return r;var n=500;function i(){return n=Math.min(2*n,3e4),t.defer(n).then(o)}function o(){return fetch(e).catch(i)}return(r=o()).then((function(){r=null})),r})(e)}))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(93);function i(e){return Object(r.a)(e).getComputedStyle(e)}}),(function(e,t){e.exports=function(){}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l}));var r=n(21),i=n.n(r),o=n(160),a=function(e,t){var n=e.clusters,r=-1,i=t.id?"id":"itemId",o=n.findIndex((function(e){var n=e.items;return-1!==(r=n.findIndex((function(e){return e[i]===t[i]})))}));return-1!==o&&-1!==r?{clusterIndex:o,resourceIndex:r}:null},s=function(e,t){var n,r,i=e.clusters,o=i[i.length-1];return!i[0].items.length||t.orderIndex<i[0].items[0].orderIndex?(n=0,r=0):t.orderIndex>o.items[o.items.length-1].orderIndex?(n=i.length-1,r=o.items.length):r=i[n=i.findIndex((function(e){var n=e.items;return t.orderIndex>n[0].orderIndex&&t.orderIndex<n[n.length-1].orderIndex}))].items.findIndex((function(e){var n=e.orderIndex;return t.orderIndex<n})),{clusterIndex:n,resourceIndex:r}},u=function(e,t){var n,r,i=e.clusters,o=i[i.length-1];return!i[0].items.length||t.orderIndex>i[0].items[0].orderIndex?(n=0,r=0):t.orderIndex<o.items[o.items.length-1].orderIndex?(n=i.length-1,r=o.items.length):r=i[n=i.findIndex((function(e){var n=e.items;return t.orderIndex<n[0].orderIndex&&t.orderIndex>n[n.length-1].orderIndex}))].items.findIndex((function(e){var n=e.orderIndex;return t.orderIndex>n})),{clusterIndex:n,resourceIndex:r}},c=function(e){return e.album_type||"personal"},l=function(e){var t=e.map((function(e){return 1e3*(e.meta&&e.meta.photoslice_time||e.ctime)})),n=Math.min.apply(Math,i()(t)),r=Math.max.apply(Math,i()(t));return Object(o.getFormattedForDateRange)(n,r)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M14.398 1.253L.884 14.465l.805.788 2.786-2.724a8.57 8.57 0 0 0 3.531.745c5.463 0 7.948-4.77 7.948-4.77l.13-.252L15.953 8s-1.065-2.032-3.33-3.437l2.58-2.523-.805-.787zm-6.289 2C2.682 3.253.213 7.979.213 7.979l-.129.251.13.249s.776 1.475 2.411 2.774L5.35 8.595a2.67 2.67 0 0 1-.03-.388c0-1.517 1.272-2.758 2.828-2.758.135 0 .267.012.397.03l1.94-1.892a8.667 8.667 0 0 0-2.375-.334zm2.298 3.6a2.8 2.8 0 0 1 .477 1.56 2.849 2.849 0 0 1-2.84 2.84 2.804 2.804 0 0 1-1.56-.477l3.923-3.923z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"family",(function(){return P})),n.d(r,"family_disk_size",(function(){return R})),n.d(r,"increased_filesize_limit",(function(){return A})),n.d(r,"mail_ad_disabled",(function(){return I})),n.d(r,"mail_pro_b2c_unlim_mobile_video",(function(){return D})),n.d(r,"mpfs_disk_space",(function(){return M}));var i={};n.r(i),n.d(i,"family",(function(){return N})),n.d(i,"family_disk_size",(function(){return L})),n.d(i,"increased_filesize_limit",(function(){return F})),n.d(i,"mail_ad_disabled",(function(){return B})),n.d(i,"mail_pro_b2c_unlim_mobile_video",(function(){return U})),n.d(i,"mpfs_disk_space",(function(){return z}));var o={};n.r(o),n.d(o,"family",(function(){return V})),n.d(o,"family_disk_size",(function(){return H})),n.d(o,"increased_filesize_limit",(function(){return W})),n.d(o,"mail_ad_disabled",(function(){return G})),n.d(o,"mail_pro_b2c_unlim_mobile_video",(function(){return $})),n.d(o,"mpfs_disk_space",(function(){return q}));var a={};n.r(a),n.d(a,"family",(function(){return Y})),n.d(a,"family_disk_size",(function(){return K})),n.d(a,"increased_filesize_limit",(function(){return J})),n.d(a,"mail_ad_disabled",(function(){return X})),n.d(a,"mail_pro_b2c_unlim_mobile_video",(function(){return Z})),n.d(a,"mpfs_disk_space",(function(){return Q}));var s={};n.r(s),n.d(s,"family",(function(){return ee})),n.d(s,"family_disk_size",(function(){return te})),n.d(s,"increased_filesize_limit",(function(){return ne})),n.d(s,"mail_ad_disabled",(function(){return re})),n.d(s,"mail_pro_b2c_unlim_mobile_video",(function(){return ie})),n.d(s,"mpfs_disk_space",(function(){return oe}));var u={};n.r(u),n.d(u,"family",(function(){return ae})),n.d(u,"family_disk_size",(function(){return se})),n.d(u,"increased_filesize_limit",(function(){return ue})),n.d(u,"mail_ad_disabled",(function(){return ce})),n.d(u,"mail_pro_b2c_unlim_mobile_video",(function(){return le})),n.d(u,"mpfs_disk_space",(function(){return fe}));var c={};n.r(c),n.d(c,"family",(function(){return de})),n.d(c,"family_disk_size",(function(){return pe})),n.d(c,"increased_filesize_limit",(function(){return he})),n.d(c,"mail_ad_disabled",(function(){return me})),n.d(c,"mail_pro_b2c_unlim_mobile_video",(function(){return ve})),n.d(c,"mpfs_disk_space",(function(){return ge}));var l=n(0),f=n.n(l),d=n(156),p=n(105),h=n(172),m=n(224),v=n(225),g=n(119),y=n(310),b=(n(1597),"BasePopup_buttonWrapper_jMiHp");const _=({isActive:e,onDeactivate:t,url:n,descriptionCustomText:r,promo:i,imageClass:o})=>{const a=Object(g.usePromoActions)(t),{theme:s}=Object(l.useContext)(h.ThemeContext),{lang:u}=Object(l.useContext)(m.TranslationsContext),{platform:c}=Object(l.useContext)(v.EnvironmentContext),_=Object(g.useThemeType)(),{titleText:O,descriptionText:w,actionButtonText:E}=Object(g.usePromoTranslations)(),S=Object(l.useMemo)(()=>Object(y.getPromoImage)(i.images,{themeType:_,lang:u,platform:c},i.illustration),[u,c,i,_]);return f.a.createElement(p.Popup,{className:Object(d.cnTheme)(s),visible:e,onClose:a.onClose,onCloseClick:a.onCloseButtonClick},f.a.createElement(p.PopupContent,null,S&&f.a.createElement(p.PopupImage,{className:o,image:S}),f.a.createElement(p.PopupTexts,null,f.a.createElement(p.PopupTitle,null,O),f.a.createElement(p.PopupDescription,null,r||w)),f.a.createElement(p.PopupButtons,{className:b},f.a.createElement(p.PopupActionButton,{view:i.actionButtonView,url:n,target:"_blank",type:"link",onClick:a.onActionButtonClick,rel:"noopener"},E))))};n(1598);var O="GracePopup_imageContainer_jiyl7";const w=e=>f.a.createElement(_,Object.assign({imageClass:O},e));n(1599);var E="HoldAdPopup_imageContainer_R-UBG";const S=e=>f.a.createElement(_,Object.assign({},e,{imageClass:E}));n(1600);var x="FeaturesList_listBlock_kgoiY",C="FeaturesList_listItem_prdgE",T="FeaturesList_iconBox_HeloZ",k="FeaturesList_text_r7Lj1";const j=({preparedList:e})=>f.a.createElement("div",{className:x},e.map(e=>f.a.createElement("div",{key:e.featureCode,className:C},f.a.createElement("div",{className:T},f.a.createElement(e.icon,null)),f.a.createElement("div",{className:k},e.text)))),P="Преимущества Премиума для близких",R=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дополнительное место",t,"на Диске 1 ТБ")},A="Загрузка файлов больше 1 ГБ",I="Никакой рекламы в сервисах \nЯндекс 360",D=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Безлимит для фото и видео ",t,"с телефона")},M=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дополнительное место",t,"на Диске до 3 ТБ")},N="Yandex Premium benefits for family",L=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Additional 1 TB",t,"on Yandex Disk")},F="Upload files larger than 1 GB",B="No ads \nin Yandex 360 services",U=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Unlimited photo and video uploads ",t,"from your phone")},z=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Up to 3 TB more",t,"on Yandex Disk")},V="Yakınlarınız için Premium avantajları",H=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Ek depolama alanı",t,"Yandex Disk'te 1 TB")},W="1 GB'tan büyük dosyaları indirme",G="Yandex 360 servislerini \nreklamsız kullanım",$=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Telefondaki fotoğraf ve videolarınız için ",t,"sınırsız depolama alanı")},q=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Ek depolama alanı",t,"Yandex Disk'te 3 TB")},Y="Перавагі Прэміума для блізкіх",K=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дадатковае месца",t,"на Дыску 1 ТБ")},J="Загрузка файлаў больш за 1 ГБ",X="Ніякай рэкламы ў сэрвісах \nЯндекс 360",Z=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Безліміт для фота і відэа ",t,"з тэлефона")},Q=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дадатковае месца",t,"на Дыску да 3 ТБ")},ee="Жақындарға арналған Премиумның артықшылықтары",te=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дискідегі",t,"қосымша орын 1 ТБ")},ne="1 ГБ-тан үлкен файлдарды жүктеу",re="Яндекс 360 сервистерінде \nешбір жарнамасыз",ie=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Телефондағы фото мен видео үшін ",t,"шектеусіз")},oe=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Дискідегі 3 ТБ-қа дейін",t,"қосымша орын")},ae="Yaqinlaringiz uchun Yandex Premiumʼning afzalliklari",se=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Yandex Diskda qoʻshimcha",t,"1 TB joy")},ue="1 GB dan kattaroq fayllarni yuklash",ce="\nYandex 360 xizmatlarida hech qanday reklama",le=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Telefon orqali ",t,"rasm va video uchun cheklov yoʻq")},fe=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Yandex Diskda qoʻshimcha",t,"3 TB gacha joy")},de="Переваги Преміум для близьких",pe=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Додаткове місце",t,"на Диску 1 ТБ")},he="Завантаження файлів понад 1 ГБ",me="Жодної реклами в сервісах \nЯндекс 360",ve=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Безліміт для фото та відео ",t,"з телефона")},ge=function({elements:e}){const t=e.br;return f.a.createElement(f.a.Fragment,null,"Додаткове місце",t,"на Диску до 3 ТБ")},ye={ru:r,be:a,kk:s,en:i,tr:o,uz:u,uk:c},be=(e,t)=>{const n=(e=>Object.keys(ye).indexOf(e)>-1)(e)?e:"ru",r=ye[n][t];return r&&"function"==typeof r?r({elements:{br:f.a.createElement("br",null)}}):ye[n][t]};var _e=n(109);function Oe(){return(Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var we=Object(l.memo)(e=>l.createElement("svg",Oe({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 32.872 -11.4486 0 12 22.723)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:0,y1:11.65,x2:23.968,y2:11.65,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function Ee(){return(Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Se=Object(l.memo)(e=>l.createElement("svg",Ee({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 34.8162 -9.54047 0 12 24.884)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:2,y1:13.156,x2:21.973,y2:13.156,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function xe(){return(xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ce=Object(l.memo)(e=>l.createElement("svg",xe({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",baseProfile:"full"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 19.3365 -10.4945 0 12 18.602)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:1,y1:12.088,x2:22.97,y2:12.088,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function Te(){return(Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke=Object(l.memo)(e=>l.createElement("svg",Te({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"url(#prefix__b)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"url(#prefix__c)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"url(#prefix__d)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 36.7417 -9.06345 0 12.5 24.047)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("radialGradient",{id:"prefix__d",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 13.3938 -3.3042 0 12.494 15.277)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:3,y1:11.671,x2:21.974,y2:11.671,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})),l.createElement("linearGradient",{id:"prefix__c",x1:9.031,y1:10.765,x2:15.948,y2:10.765,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function je(){return(je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pe=Object(l.memo)(e=>l.createElement("svg",je({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"#FF6427"}),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"url(#prefix__a)"}),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"url(#prefix__b)"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"#FF6427"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"url(#prefix__c)"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"url(#prefix__d)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 38.6793 -6.67833 0 12 25.208)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("radialGradient",{id:"prefix__d",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 38.6793 -6.67833 0 12 25.208)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:5,y1:12.179,x2:18.981,y2:12.179,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})),l.createElement("linearGradient",{id:"prefix__c",x1:5,y1:12.179,x2:18.981,y2:12.179,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));const Re={[_e.ProductFeatureCode.DiskSpace]:1,family_disk_size:2,family:3,[_e.ProductFeatureCode.UnlimMobile]:4,[_e.ProductFeatureCode.NoAds]:5,[_e.ProductFeatureCode.IncreasedFileLimit]:6},Ae={[_e.ProductFeatureCode.DiskSpace]:we,family_disk_size:we,family:Se,[_e.ProductFeatureCode.UnlimMobile]:Ce,[_e.ProductFeatureCode.NoAds]:ke,[_e.ProductFeatureCode.IncreasedFileLimit]:Pe};n(1601);var Ie="HoldPopup_title_8Y1Bg",De="HoldPopup_buttonWrapper_DcRgK";const Me=({isActive:e,onDeactivate:t,url:n,descriptionCustomText:r,buttonCustomText:i,features:o,lang:a})=>{const s=Object(g.usePromoActions)(t),{theme:u}=Object(l.useContext)(h.ThemeContext),{titleText:c,descriptionText:m,actionButtonText:v}=Object(g.usePromoTranslations)(),y=((e,t)=>{const n=new Map;return e.forEach(e=>n.set(e.featureCode,e)),Object.entries(Re).map(([e,r])=>{const i=n.get(e);if(i)return{featureCode:i.featureCode,weight:r,icon:Ae[e],text:be(t,i.featureCode)}}).filter(Boolean).sort((e,t)=>e.weight-t.weight)})(o,a);return f.a.createElement(p.Popup,{className:Object(d.cnTheme)(u),visible:e,onClose:s.onClose,onCloseClick:s.onCloseButtonClick},f.a.createElement(p.PopupContent,null,f.a.createElement(p.PopupTexts,null,f.a.createElement(p.PopupTitle,{className:Ie},c),f.a.createElement(p.PopupDescription,null,f.a.createElement("span",null,r||(e=>e.endsWith(".")?`${e.substring(0,e.length-1)}:`:`${e}:`)(m)),o&&o.length&&f.a.createElement(j,{preparedList:y}))),f.a.createElement(p.PopupButtons,{className:De},f.a.createElement(p.PopupActionButton,{view:"premium",url:n,target:"_blank",type:"link",onClick:s.onActionButtonClick,rel:"noopener",width:"max"},i||v))))};var Ne=n(243);const Le=[Ne.ProductFeatureCode.DiskSpace,Ne.ProductFeatureCode.NoAds,Ne.ProductFeatureCode.UnlimMobile,Ne.ProductFeatureCode.BeautifulEmail,Ne.ProductFeatureCode.IncreasedFileLimit,Ne.ProductFeatureCode.Backup],Fe=["mail_pro_b2c_light_90days_trial_v2","mail_pro_b2c_light_v2","mail_pro_b2c_light_discount20_v2","mail_pro_b2c_light","b2c_mail_pro_v1","mail_pro_b2c_light_30days_trial_v2","mail_pro_b2c_light_60days_trial_v2","mail_pro_b2c_light_30days_trial_v3","mail_pro_b2c_light_90days_trial_v3","mail_pro_b2c_light_60days_trial_v3","b2c_mail_disk_pro_v1","b2c_mail_pro_v1"],Be=["inapp_google","inapp_apple"],Ue=e=>"on_hold"===e.order_status,ze=e=>"wait_auto_prolong"===e.billing_status,Ve=e=>{var t,n,r;return(null!==(r=null===(n=null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.features)||void 0===n?void 0:n.filter(e=>Le.includes(e.code)))&&void 0!==r?r:[]).length>=4},He=e=>!Ve(e),We=e=>{var t;return Fe.includes(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_id)},Ge=e=>{var t;return"family"===(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_kind)},$e=e=>{var t;return Be.includes(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)},qe=e=>!$e(e),Ye=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)===Be[0]},Ke=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)===Be[1]},Je=e=>{var t,n;return null!==(n=null===(t=e.filter(Ue).find(e=>Be.includes(e.product.product_type)))||void 0===t?void 0:t.product.product_type)&&void 0!==n?n:"inapp_apple"},Xe=e=>0!==e.filter(Ue).filter(Ve).filter(qe).length,Ze=e=>{const t=e.filter(Ue).filter(We).filter(qe),n=e.filter(Ue).filter(He).filter(qe);return 0!==t.length||0!==n.length},Qe=e=>0!==e.filter(ze).filter(Ke).length,et=e=>0!==e.filter(ze).filter(Ye).length,tt=e=>0!==e.filter(ze).filter(qe).length,nt=e=>0!==e.filter(Ue).filter(Ge).filter(qe).length,rt=e=>0!==e.filter(Ue).filter($e).length,it=e=>0!==e.filter(Ue).filter(Ye).length,ot=e=>0!==e.filter(Ue).filter(Ke).length;n.d(t,"GracePopup",(function(){return w})),n.d(t,"HoldAdPopup",(function(){return S})),n.d(t,"HoldPopup",(function(){return Me})),n.d(t,"BASIC_FEATURES",(function(){return Le})),n.d(t,"PRODUCTS_FOR_ADS_POPUP",(function(){return Fe})),n.d(t,"MOBILE_STORES",(function(){return Be})),n.d(t,"getMobile",(function(){return Je})),n.d(t,"isPaymentProblemHoldPopup",(function(){return Xe})),n.d(t,"isPaymentProblemHoldAdPopup",(function(){return Ze})),n.d(t,"isPaymentProblemGraceStoreApple",(function(){return Qe})),n.d(t,"isPaymentProblemGraceStoreAndroid",(function(){return et})),n.d(t,"isPaymentProblemGracePopup",(function(){return tt})),n.d(t,"isPaymentProblemHoldFamilyPopup",(function(){return nt})),n.d(t,"isPaymentProblemHoldStorePopup",(function(){return rt})),n.d(t,"isPaymentProblemHoldStoreAndroid",(function(){return it})),n.d(t,"isPaymentProblemHoldStoreApple",(function(){return ot}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(5),s=n(792);n(1833);var u=a.compose(s.withViewDefault)(s.Drawer);t.Drawer=function(e){return o.default.createElement(u,r({animation:{tension:230,friction:24}},e))}}),(function(e,t){e.exports=ReactDOM}),(function(e,t,n){"use strict";n.r(t),n.d(t,"defaultActionButtonProps",(function(){return A}));var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(10),y=n.n(g),b=n(0),_=n.n(b),O=n(122),w=n.n(O),E=n(136),S=n(26),x=n(11),C=n.n(x);n(1953);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){return C()()("confirmation-dialog")},R={view:"default",size:"m"},A=j(j({},R),{},{view:"action"}),I=function(e){return"_".concat(e,"Ref")},D=(function(e){d()(n,e);var t=T(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onShow=r._onShow.bind(l()(r)),r}return u()(n,[{key:"_onShow",value:function(){if(this.props.autofocusButton){var e=I(this.props.actionButton);this[e]&&!this[e].disabled&&this[e].focus()}}},{key:"_setButtonRef",value:function(e,t){this[I(e)]=t}},{key:"render",value:function(){var e=this.props,t=e.submitButtonText,n=e.submitDisabled,r=e.extraButtonText,o=e.cancelButtonText,a=e.actionButton,s=e.progress,u=e.children,c=e.onSubmit,l=e.onExtraButtonClick,f=e.onCancel,d=this.props.submitButtonProps||("submit"===a?A:R),p=this.props.extraButtonProps||("extra"===a?A:R),h=this.props.cancelButtonProps||("cancel"===a?A:R);return _.a.createElement(E.default,i()({},this.props,{onRender:this._onShow,keepMounted:!1,cls:P().mix(this.props.cls||"")}),_.a.createElement("div",{className:P().e("content")},u),_.a.createElement("div",{className:P().e("footer")},o?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"cancel")},Object.assign({onClick:f,disabled:s,className:P().e("button").m({cancel:!0}).mix(h.className||"")},h)),o):null,r?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"extra")},Object.assign({onClick:l,className:P().e("button").m({extra:!0}).mix(p.className||"")},p)),r):null,t?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"submit")},Object.assign({onClick:c,progress:s,disabled:n,className:P().e("button").m({submit:!0}).mix(d.className||"")},d)),t):null))}}]),n})(b.Component);D.defaultProps=Object.assign({},E.default.defaultProps,{actionButton:"submit",autofocusButton:!0,onExtraButtonClick:w.a,onSubmit:w.a,onCancel:w.a}),t.default=D}),(function(e,t,n){"use strict";n.r(t),n.d(t,"POSITIONS",(function(){return I}));var r=n(10),i=n.n(r),o=n(29),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(122),w=n.n(O),E=n(750),S=n(551),x=n(232),C=n(576),T=n(42),k=n(11),j=n.n(k),P=n(141);n(1859);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var A=function(){return j()()("listing-item")},I={ALWAYS_RIGHT:"ALWAYS_RIGHT",TOP_RIGHT:"TOP_RIGHT"},D=(function(e){h()(n,e);var t=R(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(d()(r)),r}return l()(n,[{key:"componentWillUnmount",value:function(){this.props.resourceRef(this.props.id,null)}},{key:"_getIcon",value:function(){var e=this.props,t=e.listingMods,n=e.type,r=e.defaultPreview,i=e.noIcon,o=e.iconType,s=e.canPlayVideo,u=e.theme;if(i)return null;var c=r&&!o?{type:"preview"}:{type:"icon",resource:n},l=[_.a.createElement(E.a,a()({key:"icon-preview"},this.props))];return Object(P.b)(u)||(l.push(_.a.createElement("div",{className:A().e("fields"),key:"fields"},this._getAdditionalData())),l=_.a.createElement("div",{className:A().e("icon-wrapper").m({"with-shadow":Boolean(s)}).mix(t["with-drag-and-drop"]&&t["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS)},l)),_.a.createElement("div",{className:A().e("icon").m(c)},l)}},{key:"_getColumns",value:function(e,t){var n=this.props.theme,r=Object(P.b)(n)?"column":"field";return e.filter((function(e){return(!e.themes||e.themes.includes(n))&&t&&t(e)})).map((function(e,t){var n=e.type,o=e.content,a=e.mix,s=e.role;return _.a.createElement("div",{className:A().e(r).m(i()({},n,!0)).mix(a),key:"".concat(n,"_").concat(t),role:s||"cell"},o)}))}},{key:"_getAdditionalData",value:function(){var e=this.props,t=e.id,n=e.additionalFields,r=e.theme,i=e.onPlayVideoClick,o=e.canPlayVideo,a=n||[];return o&&i&&a.push({type:"play-video",themes:["tile"],role:"none",content:_.a.createElement(S.default,{iconSize:"l",onClick:function(){return i(t)}})}),this._getColumns(a,(function(e){return!(Object(P.b)(r)&&e.position===I.ALWAYS_RIGHT||!Object(P.b)(r)&&e.position===I.TOP_RIGHT)}))}},{key:"_getRightColumn",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(P.b)(n)&&t?this._getColumns(t,(function(e){return e.position===I.ALWAYS_RIGHT})):null}},{key:"_getTopRightContent",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(P.b)(n)||!t?null:this._getColumns(t,(function(e){return e.position===I.TOP_RIGHT}))}},{key:"_getTitle",value:function(){var e=this,t=this.props,n=t.name,r=t.titleOverflow,i=t.theme,o=t.size,a=t.isTouch,s=n;if("clamp"===r)s=_.a.createElement(x.default,{font:"".concat(a?"15px/16px":"13px/14px",' "YS Text", sans-serif'),numberOfRows:"tile"===i?2:1,text:n,width:this.props.titleWidth});else if("length-limit"===r&&"tile"===i){var u="l"===o?23:16;s=s.length>u?s.slice(0,u).trim()+"…":s}return _.a.createElement("div",{className:A().e("title").m({overflow:r}),ref:function(t){e.props.titleNodeRef&&e.props.titleNodeRef(t)},"aria-label":n},s)}},{key:"_setRef",value:function(e){var t=this.props,n=t.resourceRef,r=t.id;this._ref=e,n(r,e)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.modifier,o=n.theme,a=n.size,s=n.type,u=n.noIcon,c=n.selected,l=n.highlighted,f=n.virus,d=n.listingMods,p=n.isDisabled,h=n.isMacSafari,m=n.isTouch;if("tile-empty"===o)return _.a.createElement("div",{className:A().m({theme:o,size:a})});var v=p(this.props),g={ref:this._setRef,className:A().m((e={},i()(e,r,!!r),i()(e,"theme",o),i()(e,"size",a),i()(e,"type",s),i()(e,"no-icon",u),i()(e,"selected",c),i()(e,"highlighted",l),i()(e,"disabled",v),i()(e,"virus",f),i()(e,"isMacSafari",h),i()(e,"listening-long-tap",Boolean(this.props.onLongTap)),e)).mix(this.props.cls).mix(Object(P.b)(o)&&d["with-drag-and-drop"]&&d["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS)};c&&(g["aria-selected"]=!0),v||(["onClick","onDoubleClick","onFocus","onTouchEnd","onTouchStart","onTouchMove","onContextMenu"].forEach((function(e){g[e]=t.props[e]})),m||(g.onKeyDown=this.props.onKeyDown,g.tabIndex=this.props.tabIndex,g.role="row"));var y=this._getRightColumn(),b=this._getTopRightContent();return _.a.createElement("div",g,_.a.createElement("div",{className:A().e("info")},this._getTitle(),Object(P.b)(o)?this._getAdditionalData():null),this._getIcon(),y&&y.length>0&&_.a.createElement("div",{className:A().e("right")},y),b&&b.length>0&&_.a.createElement("div",{className:A().e("top-right")},b))}}]),n})(b.PureComponent);D.defaultProps={theme:"row",size:"m",selected:!1,virus:!1,isDisabled:function(e){var t=e.state;return Boolean(t&&t.disabled)},listingMods:{},resourceRef:w.a,onContextMenu:w.a},t.default=Object(C.a)(D)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"I18N",(function(){return d})),n.d(t,"bemifyClassName",(function(){return h}));var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=/(\x1d\d~?\x1d)/,u=/^\x1d\d\x1d$/,c=/^\x1d\d~\x1d$/,l="__",f="_";function d(e){var t=(function e(t,n){var r=t.length;var o=[];for(var s=0;s<r;s++){var l=t[s],f=n[l[1]];if(u.test(l))o.push(f);else if(c.test(l)){for(var d=r-1;t[d]!==l;)d--;if(s===d){o.push(f);continue}f=i.a.cloneElement(f,a.a.omit(f.props,["key","ref"]),e(t.slice(s+1,d),n)),o.push(f),s=d}else o.push(l)}return o})(e.loc.split(s),i.a.Children.toArray(e.children));return 1===t.length&&i.a.isValidElement(t[0])?t[0]:i.a.createElement("span",{className:e.className},t)}function p(e,t,n){var r=this.constructor.displayName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return[r,e?l+e:t?" "+r:"",t?f+t:"",n?f+n:"",this.props.className?" "+this.props.className:""].join("")}var h={bemClassName:p,bx:p};d.$1="0",d.$2="1",d.$3="2",d.$4="3",d.$5="4",d.$6="5",d.$7="6",d.$8="7",d.$9="8",d.$1_CLOSE=d.$1_OPEN="0~",d.$2_CLOSE=d.$2_OPEN="1~",d.$3_CLOSE=d.$3_OPEN="2~",d.$4_CLOSE=d.$4_OPEN="3~",d.$5_CLOSE=d.$5_OPEN="4~"}),(function(e,t){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118),o=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXL,i.withSizeXXL),r.composeU(i.withViewBrand,i.withViewPremium,i.withViewAction,i.withViewPseudo,i.withViewClear,i.withViewRaised,i.withViewDefault,i.withViewLink),r.composeU(i.withPinCircleCircle),i.withWidthMax,i.withTypeLink)(i.Button);t.default=o}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t,n,i,o){void 0===t&&(t="DD.MM.YYYY HH:mm");var a=e instanceof Date?e:new Date(e);return t.replace(/([MDEYHhpms])\1{0,3}/g,(function(e){switch(e){case"M":return a.getMonth()+1;case"MM":return r(a.getMonth()+1);case"MMMM":if(!n||!n.length)throw new TypeError("helpers/date/date-to-string::monthsNominative must be defined for MMMM format");return n[a.getMonth()];case"mmmm":if(!i||!i.length)throw new TypeError("helpers/date/date-to-string::monthsGenitive must be defined for mmmm format");return i[a.getMonth()];case"D":return a.getDate();case"DD":return r(a.getDate());case"E":if(!o||!o.length)throw new TypeError("helpers/date/date-to-string::weekDays must be defined for E format");return o[a.getDay()];case"YY":return a.getFullYear()%100;case"YYYY":return a.getFullYear();case"H":return a.getHours();case"HH":return r(a.getHours());case"h":return a.getHours()%12||12;case"p":return a.getHours()<12?"am":"pm";case"m":return a.getMinutes();case"mm":return r(a.getMinutes());case"s":return a.getSeconds();case"ss":return r(a.getSeconds());default:return e}}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getScansPath=function(e){return e.defaultFolders.folders.scans},t.isScansPage=function(e){return"scans"===e.page.idPage},t.isScansLoading=function(e){var n=t.getScansPath(e);return!e.resources[n]||e.resources[n].isLoading}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"hasYaFotkiTab",(function(){return v})),n.d(t,"hasAuxTab",(function(){return g})),n.d(t,"getSlices",(function(){return y})),n.d(t,"getTopLevelCurrentItem",(function(){return E})),n.d(t,"getTopLevelItemsWithCurrent",(function(){return S})),n.d(t,"getLeftColumnItems",(function(){return x})),n.d(t,"getMobileTopLevelItemsWithCurrent",(function(){return C})),n.d(t,"getTabsItems",(function(){return T})),n.d(t,"hasTabs",(function(){return k})),n.d(t,"hasListing",(function(){return j})),n.d(t,"isIdContextWithListing",(function(){return P}));var r=n(10),i=n.n(r),o=n(22),a=n.n(o),s=n(47),u=n(84),c=n(35),l=n(36),f=n(313),d=n(55);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return e.page.idContext},v=function(e){var t;return"done"===(null===(t=e.user.states)||void 0===t?void 0:t.fotki_migration_state)},g=Object(s.createSelector)([f.getDefaultFolders,v],(function(e,t){var n=e.attach,r=e.narod,i=e.yaru;return n||r||i||t})),y=Object(s.createSelector)([function(e){var t=e.resources;return t["/shared"]&&t["/shared"].isComplete&&t["/shared"].children&&0===t["/shared"].children.length},f.getDefaultFolders,d.isFamilySliceVisible,d.isFamilyAlbumSliceVisible,d.shouldShowPromoStub,v,g,d.shouldShowAlbumBadgeSelector],(function(e,t,n,r,i,o,a,s){return[{id:"recent",idContext:"/recent",name:"Последние"},{id:"files",idContext:"/disk",name:"Файлы"},{id:"photo",idContext:"/photo",name:"Фото"},{id:"albums",idContext:"/albums",name:"Альбомы",icon:s?"albumsWithPromo":void 0},{id:"shared",idContext:e?"/published":"/shared",name:"Общий доступ"},{id:"shared_folders",idContext:"/shared",name:"Общие папки",parent:"shared"},{id:"published",idContext:"/published",name:"Ссылки",parent:"shared"},{id:"vd",idContext:"/vd",name:"Общие диски",hidden:!t.hasVirtualDisks,parent:"shared"},{id:"family",icon:i?"lockedFamily":void 0,idContext:"/family",name:"Семья",hidden:!n},{id:"family_folders",idContext:"/family",name:"Папки",parent:"family",hidden:!r},{id:"family_albums",idContext:"/family/album",name:"Альбом",parent:"family",hidden:!r},{id:"aux",name:"Архив",idContext:"/attach",hideOnMobile:!0,hidden:!a},{id:"downloads",idContext:t.folders.downloads||"",disabled:!t.folders.downloads,name:"Загрузки",hideOnMobile:!0},{id:"trash",idContext:"/trash",name:"Корзина"},{id:"journal",idContext:"/journal",name:"История"},{id:"attach",idContext:"/attach",name:"Почтовые вложения",parent:"aux"},{id:"narod",idContext:"/narod",name:"Народ",hidden:!t.narod,parent:"aux"},{id:"yaru",idContext:"/attach/yaruarchive",name:"Другие сервисы",hidden:!t.yaru,parent:"aux"},{id:"yafotki",idContext:"/attach/YaFotki",name:"Яндекс.Фотки",hidden:!o,parent:"aux"}].filter((function(e){return!e.hidden}))})),b=function(e,t){return"albums"===e.id&&0===t.indexOf("/album")},_=Object(s.createSelector)([y],(function(e){return e.filter((function(e){return!e.parent}))})),O=Object(s.createSelector)([y,m],(function(e,t){var n=e.find((function(e){return e.parent&&(0===t.indexOf(e.idContext)||b(e,t))}));return n&&n.parent?e.filter((function(e){return e.parent===n.parent})):[]})),w=function(e){var t=e.page.idContext;return y(e).reduce((function(n,r){if(function(e,t){var n=t.page.idContext;return!("albums"!==e.id||!Object(u.isAlbumSlice)(t))||b(e,n)}(r,e))return{item:r,maxPathLength:1/0};if(a.a.equals(r.idContext,t)||a.a.isParent(r.idContext,t)){var i=r.idContext.split("/").length;if(i>n.maxPathLength)return{item:r,maxPathLength:i}}return n}),{maxPathLength:0,item:null}).item},E=function(e){var t=w(e);return t&&t.parent?_(e).find((function(e){return e.id===t.parent})):t},S=Object(s.createSelector)([_,E],(function(e,t){return e.map((function(e){return t&&e.idContext===t.idContext?Object.assign({},e,{current:!0}):e}))})),x=Object(s.createSelector)([S,l.docsNavigation,l.isDocsPage],(function(e,t,n){return n?t:e.map((function(e){return h(h({},e),{},{url:"/client".concat(e.idContext)})}))})),C=Object(s.createSelector)([S],(function(e){return e.filter((function(e){return!e.hideOnMobile}))})),T=Object(s.createSelector)([O,w],(function(e,t){var n=e.find((function(e){return t&&t.idContext===e.idContext})),r=e.map((function(e){return{id:e.id,link:a.a.escape("/client".concat(e.idContext)),title:e.name}}));return{current:n&&n.id,items:r}})),k=Object(s.createSelector)([T],(function(e){return e.items.length>0})),j=function(e){return c.LISTING_ID_CONTEXTS.some((function(t){return null===e||void 0===e?void 0:e.startsWith(t)}))},P=Object(s.createSelector)(m,j)}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(322),_=n(126),O=n(173),w=n(26),E=n(11),S=n.n(E);n(1952);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var C=function(){return S()()("dialog")},T=(function(e){d()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={titleTabIndex:0},r._onAnimationEnd=r._onAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.setState({titleTabIndex:0})}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.setState({titleTabIndex:0})}},{key:"_onAnimationEnd",value:function(){var e=this.props.onAnimationEnd;e&&e(),this.setState({titleTabIndex:-1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.children,o=e.cls,a=e.noCloseButton,s=e.closeButtonAriaLabel,u=e.onClose,c=e.useMobilePane,l=e.hasAnimation,f=e.keepMounted,d=e.trapFocus,p=e.onRender,h=e.modalRef,m=e.theme,v=e.zIndex,g=e.restoreFocusRef,E=c?_.Drawer:b.Modal,S={onClose:this.props.preventCloseOnOutsideClick?void 0:u,visible:n,innerRef:h,zIndex:v};return Object.assign(S,c?{view:"default"}:{className:C().mix(o),theme:m,onRender:p,hasAnimation:l,keepMounted:f,trapFocus:d,restoreFocusRef:g}),y.a.createElement(E,i()({},S,{onAnimationEnd:this._onAnimationEnd}),y.a.createElement("div",{className:C().e("wrap")},t?y.a.createElement("h2",{className:C().e("title"),tabIndex:this.state.titleTabIndex},t):null,a?null:y.a.createElement(w.Button,{view:"clear",size:"s",className:C().e("close"),"aria-label":s,onClick:u,icon:function(e){return y.a.createElement(O.default,{cls:e,iconSize:"m"})}}),y.a.createElement("div",{className:C().e("body")},r)))}}]),n})(g.Component);T.defaultProps={theme:"normal",visible:!1,onClose:function(){}},t.default=T}),(function(e,t,n){"use strict";var r=n(83),i=n.n(r),o=n(9),a=n.n(o),s=n(335),u=n.n(s),c={init:function(e,t){this._rumServiceIdArray=[u.a.TLD.ru,u.a.SERVICE.disk,u.a.APP[e]],this._rumSubPage=null,this._lastUrl="",t&&(this._blocks=t,ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))),this._handleFirstLoad=a.a.once(this._handleFirstLoad.bind(this)),this._runningXhrCount=0,this._tempResourceTimingBuffer=[],"function"==typeof performance.addEventListener&&performance.addEventListener("resourcetimingbufferfull",this._onResourceTimingBufferFull.bind(this))},reachBlock:function(e){return e===this._blockName&&(this._isBlockReached=!0,!0)},withResourceTimingsPreserved:function(e){var t=this;return this._runningXhrCount++,e.then((function(e){var n=[e,t.getResourceTimings()];return t._decXrhCount(),n}),(function(e){throw t._decXrhCount(),e}))},collectNSTimings:function(e){this._blockName&&(this._collectedNSTimings.push(e),this._isBlockReached&&this._finishCollectTimings())},collectTimings:function(e){this._blockName&&(Object.assign(this._collectedTimings,e),this._isBlockReached&&this._finishCollectTimings())},reachBlockAndFinishCollectTimings:function(e){this.reachBlock(e),this.collectTimings({})},sendHeroElement:function(){this._sendHeroElement&&(Ya.Rum.sendHeroElement(),this._sendHeroElement=!1)},startCollectTimings:function(e){this._startCollectTimings(e)},_getResourceTimings:function(){return performance&&"function"==typeof performance.getEntriesByType?performance.getEntriesByType("resource"):[]},getResourceTimings:function(){return this._tempResourceTimingBuffer.concat(this._getResourceTimings())},_onResourceTimingBufferFull:function(){this._runningXhrCount&&(this._tempResourceTimingBuffer=this._tempResourceTimingBuffer.concat(this._getResourceTimings())),performance.clearResourceTimings()},_getRumSubPageId:function(e){return this._rumServiceIdArray.concat(u.a.BLOCK[e]).join(".")},_onPageBeforeLoad:function(e,t,n){var r=i()(t,2)[1];if(n!==this._lastUrl&&!this._blockName){var o=this._findBlock(r);o&&this._startCollectTimings(o),this._handleFirstLoad(o)}this._lastUrl=n},_handleFirstLoad:function(e){e&&(this._sendHeroElement=!0)},_startCollectTimings:function(e){this._collectedNSTimings=[],this._collectedTimings={},this._blockName=e,this._isBlockReached=!1,this._rumSubPage=Ya.Rum.makeSubPage(this._getRumSubPageId(e))},_finishCollectTimings:function(){var e,t=this._collectedTimings.paint||Ya.Rum.getTime();["listing","slider"].includes(this._blockName)?(this._collectedTimings.blockFirstPaint&&Ya.Rum.sendTimeMark("2793",this._collectedTimings.blockFirstPaint,!1,this._rumSubPage),this._collectedTimings.xhrDuration&&(e=this._collectedTimings.xhrDuration)):e=this._collectedNSTimings.reduce((function(e,t){return e+Object.keys(t).reduce((function(e,n){return n.startsWith("requestModels")?e+t[n]:e}),0)}),0),Ya.Rum.sendTimeMark("1926",t,!1,this._rumSubPage),e&&Ya.Rum.sendTimeMark("3375",t-e,!1,this._rumSubPage),this._collectedTimings.allPreviewsLoaded&&Ya.Rum.sendTimeMark("3669",this._collectedTimings.allPreviewsLoaded.time,!1,Object.assign({1385:this._collectedTimings.allPreviewsLoaded.count},this._rumSubPage)),this._rumSubPage&&!this._rumSubPage.isCanceled()&&this._rumSubPage.cancel(),this._rumSubPage=null,this.sendHeroElement(),this._blockName="",this._isBlockReached=!1},_findBlock:function(e){var t=this;return Object.keys(this._blocks).find((function(n){return t._blocks[n](e)}))},_decXrhCount:function(){this._runningXhrCount--,this._runningXhrCount||(this._tempResourceTimingBuffer=[])}};t.a=c}),(function(e,t,n){var r=n(1119);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v}));var r=n(47),i=n(31),o=n(43),a=n(84),s=n(28),u=n(176),c=n(9),l=n.n(c),f=n(162),d=Object(r.createSelector)([i.currentResourceIsComplete,i.currentResourceChildrenIds,i.resourcesSelector,i.sliderResourceSelector],(function(e,t,n,r){return r?t.includes(r.id)?{sliderResources:t.reduce((function(e,t){var r=n[t];return Object(i.isSliderResource)(r)&&e.push(r),e}),[]),possiblyHasNext:!e}:{sliderResources:[r]}:{sliderResources:[]}})),p=function(e){var t=Object(i.sliderResourceSelector)(e);if(!t)return{sliderResources:[]};var n=Object(a.getNextPhotosliceResources)(e,t,u.a,-1),r=Object(a.getNextPhotosliceResources)(e,t,u.a,1);return{sliderResources:n.resources.reverse().concat(t).concat(r.resources),possiblyHasPrevious:n.possiblyNotLoaded,possiblyHasNext:r.possiblyNotLoaded}},h=function(e){var t=Object(s.getCurrentAlbum)(e),n=Object(i.sliderResourceSelector)(e),r=Object(s.getCurrentAlbumResources)(e);return n?r.find((function(e){return e.id===n.id}))?{sliderResources:Object(s.getCurrentAlbumResources)(e),possiblyHasNext:!t.isCompleted}:{sliderResources:[n]}:{sliderResources:[]}},m=function(e){var t=Object(o.getPage)(e);return"photo"===t?p(e):"album"===t?h(e):d(e)},v=function(e,t){var n=Object(o.getPage)(e),r=e.page.idDialog;if("photo"===n){var u=e.resources[e.page.idDialog];return Object(a.getPhotosliceNeighbour)(e,u.id,t).resource}if("album"===n)return Object(s.getAlbumNextResource)(e,r,t);var c=e.resources,d=Object(i.currentResourceChildrenIds)(e);return l.a.last(Object(f.b)(d.map((function(e){return c[e]})),r,{take:t,loop:!1,matcher:function(e,t){return t&&r===t.id},filter:i.isSliderResource}))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(537);t.Corner=a.Corner,t.Wrapper=a.Wrapper,n(1848);var s=i(n(0)),u=o.compose(o.composeU(a.withViewDefault,a.withViewInverse),o.composeU(a.withSizeM,a.withSizeL)),c=u(a.MessageBox);t.MessageBox=(function(e){return s.memo((function(t){var n=s.useRef(null);return s.useEffect((function(){n.current&&(n.current.setAttribute("role","alert"),n.current.setAttribute("aria-live","assertive"))}),[n]),s.default.createElement(e,r({},t,{innerRef:n}))}))})(c),t.MessageBoxPopup=u(a.MessageBoxPopup)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(752),i=n.n(r),o=function(e){return"row"===e},a=function(e,t,n){var r=Object.assign(e||{},t);return n&&i()(n,r)?n:r}}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return w}));var r=n(10),i=n.n(r),o=n(38),a=n(33),s=n(15),u=n(25),c=n(16),l=n(87),f=n(14);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,m={zero:"history",full:"history,content,folders,files"},v=function(e){return{type:c.UPDATE_SUGGEST_ACTIVATION,active:e}},g=function(e){return{type:c.UPDATE_SUGGEST_QUERY,payload:e}},y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.UPDATE_SUGGEST_RESULT;return function(i,a){i(g(t));var s=a();if(!Object(l.d)(s)){var u=Date.now();h=u;var f=Object.assign({length:10,suggestTypes:m.full,timeout:200,locale:s.environment.session.locale,sessionId:Object(l.a)(s).sessionId},n,{request:t});return Object(o.a)("do-suggest",f,{retriesLeft:0,retryOffline:!1}).then((function(n){if(u===h){var o=n.suggest,a=n["retry-suggest-types"];if(o&&i({type:r,payload:{state:"loaded",items:o}}),a&&a.length&&o&&f.length-o.length>0){var s=Object.assign(f,{timeout:2*f.timeout,length:f.length-o.length,suggestTypes:a.join(",")});return i(e(t,s,c.APPEND_SUGGEST_RESULT))}return n}})).catch((function(e){u===h&&i({type:c.UPDATE_SUGGEST_RESULT,payload:{state:"error",error:e||""}})}))}}},b=function(e,t){return function(n,r){var i=r(),o=i.page.idContext;o.startsWith("/journal")||Object(u.isVirtualDiskJournal)(o)||(Object(l.c)(i)?f.default.count("search-stat",e,p(p({},Object(l.a)(i)),{},{timestamp:Date.now()},t)):o.startsWith("/search")&&f.default.count("search-stat",e,p({timestamp:Date.now()},t)))}},_=function(){return function(e,t){var n=t(),r=n.environment.session.requestId;"/journal"!==n.page.idContext&&(e({type:c.START_SEARCH_SESSION,payload:r}),e(b("start")))}},O=function(e){f.default.countSuggest("select",e)},w=function(e,t,n){return function(r,i){var o=i().suggest.query;"history"!==e.type&&r(b("suggest-item-select",{position:t,queryText:o}));var u=!1;switch(e.type){case"history":O("recent");break;case"content":O("file");break;case"files":case"folders":var c=r(function(e){return function(t,n){var r=e.key,i=n(),o=i.resources,u=i.page.idContext,c=o[r]||a.default.castSuggestItemToResource(e);if(c)return"dir"===c.type||"docviewer"===c.app?t(Object(s.openResource)(c)):"slider"===c.app?u&&u.startsWith("/album")?(t(v(!1)),t(Object(s.goToResource)(r)).then((function(){return t(Object(s.openResource)(c))}))):t(Object(s.openResource)(c)):t(Object(s.goToResource)(r)),c}}(e));if(c){var l=c.app,f=c.type,d=c.meta,p=d&&d.mediatype;["docviewer","slider"].includes(l)?u=void 0:n||r(v(!1));var h="file";"docviewer"===l?h="dv":"dir"===f?h="folder":"video"===p?h="video":a.default.isOpenableImage(c)&&(h="photo"),O(h)}}return u}}}),(function(e,t){e.exports={default:"blank",virus:"virus",folderDefault:"dir",folderTypes:["dir_plus","dir_back","dir_gray","dir_root","dir_screenshots","dir_scans","dir_shared","dir_family","dir_trash","dir_trash-full","dir_yateamnda","vd_vd"],mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",book:"book",development:"development",executable:"executable",font:"font",mail:"mail",compressed:"archive"},extnames:{".7z":"7z",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"audio",".pls":"audio",".ogg":"audio",".wav":"audio",".wma":"audio",".asf":"video",".avi":"video",".flv":"video",".mov":"video",".mp4":"video",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"video",".swf":"video",".vob":"video",".wmv":"video",".ai":"ai",".cur":"image",".bmp":"image",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"image",".jpg":"image",".jpeg":"image",".png":"image",".psd":"psd",".pcx":"image",".mng":"image",".sketch":"sketch",".tif":"image",".tiff":"image",".xcf":"image",".epub":"epub",".fb2":"fb2",".csv":"table",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"css",".htm":"html",".html":"html",".js":"js",".xhtml":"html",".ini":"ini",".xml":"xml",".exe":"exe",".dll":"dll",".vcf":"vcf"}}}),(function(e,t,n){"use strict";(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||(function(){return this})()||this||Function("return this")()}).call(this,n(131))}),(function(e,t){var n=Array.isArray;e.exports=n}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=n(89);t.shouldRestrict=function(e,t){return void 0===t&&(t={}),r.shouldRestrictByOverdraft(e,t)||i.shouldRestrictByFreeB2b(e)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourceView",(function(){return a})),n.d(t,"isResourcesEqual",(function(){return s})),n.d(t,"resourcesSelectorCreator",(function(){return u}));var r=n(47),i=n(37),o=n(229),a=function(e){if(!e)return i.RESOURCE_VIEWS.NONE;if(e.errorCode||e.blocked)return i.RESOURCE_VIEWS.ERROR;if("album"===e.type)return i.RESOURCE_VIEWS.ALBUM;if("dir"===e.type)return i.RESOURCE_VIEWS.DIR;if(e.virus)return i.RESOURCE_VIEWS.ICON;var t=e.meta;if(t){if("image"===t.mediatype&&t.hasPreview)return i.RESOURCE_VIEWS.IMAGE;if("video"===t.mediatype&&!e.videoStreamsFetchError&&e.isAvialableForVideoPlayer)return i.RESOURCE_VIEWS.VIDEO;if("audio"===t.mediatype&&Object(o.default)(t.mimetype))return i.RESOURCE_VIEWS.AUDIO;if(t.hasPreview)return i.RESOURCE_VIEWS.PREVIEW}return i.RESOURCE_VIEWS.ICON},s=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},u=Object(r.createSelectorCreator)(r.defaultMemoize,s)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(47),i=n(18),o=function(e){var t=e.uploader,n=t.totalUploadingSize,r=t.totalUploadedSize,o=t.uploadingStatus===i.UPLOAD_STATUSES.DONE?100:Number(100*(n?r/n:0));return{uploadingTimeRemaining:void 0,uploadingPercentage:o=isNaN(o)?0:Math.min(100,Math.max(0,o))}},a=Object(r.createSelectorCreator)(r.defaultMemoize,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))((function(e){var t=e.uploader.resourcesToUpload,n=e.resources;return t.filter((function(e){return n[e]})).map((function(e){return n[e]}))}),(function(e){return e})),s=function(e){var t=e.uploader,n=t.resourcesToUpload,r=t.uploadingStatesByIds;return n.some((function(e){var t=r[e].status;return Object(i.canCancelUpload)(t)||Object(i.willCanCancelUpload)(t)}))},u=function(e,t){var n=e.uploader.uploadingStatesByIds;return n[t]&&Object(i.isUploadInProgress)(n[t].status)}}),(function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M5.809 3.243c.094-.392.268-1.123.432-1.243l3.551-.016c.167.136.346.877.443 1.275.054.23.116.484.194.741H5.611c.083-.269.144-.53.198-.757zM12.583 4c-.151-.171-.309-.814-.404-1.21C11.911 1.679 11.505 0 9.817 0H6.241c-1.716 0-2.13 1.741-2.377 2.78-.092.385-.262 1.103-.406 1.22H1v2h2v7.985C3 15.098 3.887 16 5 16h5.985A2.015 2.015 0 0 0 13 13.985V6h2V4h-2.417z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!(function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)})()}),(function(e,t,n){var r=n(627),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o}),(function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(1158)),s=i(n(1159)),u=i(n(635)),c=i(n(1160)),l=i(n(1161)),f=i(n(1162)),d=i(n(1163)),p=i(n(1164)),h=i(n(1165)),m=i(n(1166)),v=i(n(1167)),g=i(n(1168)),y=i(n(1169)),b=i(n(1170)),_=i(n(1171)),O=i(n(1172)),w=i(n(1173)),E=i(n(1174)),S=i(n(1175)),x=i(n(1176)),C=i(n(1177)),T=i(n(1178)),k=i(n(1179)),j=i(n(1180)),P=i(n(1181)),R=i(n(1182)),A={mail:a.default,check:s.default,cross:u.default,more:c.default,eye:d.default,pen:p.default,penSmallGrey:h.default,arrowBottom:l.default,arrowShort:f.default,info:m.default,trash:b.default,securityLockB2b:_.default,securityLockB2c:O.default,share:w.default,shield:E.default,touchShare:S.default,androidShare:x.default,copy:C.default,qr:T.default,download:k.default,calendar:j.default,warning:v.default,warningGrey:g.default,warningSmall:y.default,group:P.default,brokenChain:R.default},I=o.forwardRef((function(e,t){var n=e.name,r=e.className,i=e.onClick;return o.default.createElement("div",{ref:t,className:r,onClick:i,dangerouslySetInnerHTML:{__html:A[n]}})}));I.displayName="SvgImage",t.default=I}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(727);t.HeaderContext=i.default.createContext({getI18nFn:function(){return""},timeZone:"",tld:"ru",lang:o.SupportedLangs.ru,theme:"light",currentService:"",isLegoOnReact:!1,countMetrika:function(){return null},LegoPopup:function(){return null},morePopupProps:{},isB2bAdmin:!1,yandex360Link:""})}),(function(e,t,n){"use strict";n.r(t);var r=n(34),i=n(85),o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?Object(i.a)()?document.body:null:n;if(Object(i.a)()){if(!r)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}};n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"moreIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor"},h.a.createElement("circle",{cx:"8",cy:"2",r:"2"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"2"}),h.a.createElement("circle",{cx:"8",cy:"14",r:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(9)),a=i(n(22)),s=n(130),u=n(199),c=n(25),l=n(203),f=n(217),d=n(203);function p(e){var t=e.events[0];return Boolean(t.resource_type&&t.resource_media_type)}function h(e){var t=o.default.extend({},l.pageParams,l.baseJournalParams),n=o.default({}).extend(ns.page.current.params,e).pick(o.default.keys(t)).pickBy(Boolean).value();return ns.router.generateUrl("client-dualPane",n)}function m(e){var t=new Date(e);return t.setHours(23,59,59,999),t}function v(e){if("file"===e.resource_type){var t=e.resource_media_type;return"image"===t?f.ResourceType.photo:"video"===t?f.ResourceType.video:f.ResourceType.file}return f.ResourceType.folder}function g(e){var t;return(null===(t=e.product_period)||void 0===t?void 0:t.includes("months:1"))?e.product_period.includes("months:12")?f.BillingPeriod.everyYear:f.BillingPeriod.everyMonth:f.BillingPeriod.withoutPeriod}function y(e,t){if("user_cancelled"===e.reason)switch(t){case f.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" отменен";case f.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" отменен";case f.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" отменен"}else if(e.reason)switch(t){case f.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён, так как "+yr.externals.entityify(s.I18N.$2);case f.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён, так как "+yr.externals.entityify(s.I18N.$2);case f.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён, так как "+yr.externals.entityify(s.I18N.$2)}else switch(t){case f.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён";case f.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён";case f.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" не проведён"}}function b(e,t){if(e===f.JournalEventType.prolong)switch(t){case f.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" успешно проведён";case f.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" успешно проведён";case f.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(s.I18N.$1)+" успешно проведён"}else if(e===f.JournalEventType.subscribe)switch(t){case f.BillingPeriod.withoutPeriod:return"Вы подключили автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1);case f.BillingPeriod.everyMonth:return"Вы подключили автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1);case f.BillingPeriod.everyYear:return"Вы подключили автоматический ежегодный платеж на сумму "+yr.externals.entityify(s.I18N.$1)}else{if(e!==f.JournalEventType.unsubscribe)return"Вы провели платёж на сумму "+yr.externals.entityify(s.I18N.$1);switch(t){case f.BillingPeriod.withoutPeriod:return"Вы отключили автоматический платёж на сумму "+yr.externals.entityify(s.I18N.$1);case f.BillingPeriod.everyMonth:return"Вы отключили автоматический ежемесячный платёж на сумму "+yr.externals.entityify(s.I18N.$1);case f.BillingPeriod.everyYear:return"Вы отключили автоматический ежегодный платёж на сумму "+yr.externals.entityify(s.I18N.$1)}}}t.journalParams=o.default.extend({},l.baseJournalParams),t.isPersonalJournalIdContext=function(e){return"/journal"===e},t.isJournalIdContext=function(e){return c.isVirtualDiskJournal(e)||t.isPersonalJournalIdContext(e)},t.getJournalId=function(e){return c.isVirtualDiskJournal(e)?c.getVdHash(e):d.personalJournalId},t.isFsEventGroup=p,t.getDefaultFilters=function(e){return void 0===e&&(e=Date.now()),{text:"",untilDateTimestamp:e,folder:void 0,platform:void 0,platforms:[],eventType:[],eventTypes:[]}},t.getListingType=function(e){if(e.group.type===f.JournalEventType.unshareFolderUser)return f.ListingType.users;if(p(e)){var t=e.events[0],n=e.group.itemsCount,r=v(t);if(r===f.ResourceType.photo||r===f.ResourceType.video)return f.ListingType.images;if(n>1)return f.ListingType.names}},t.generateUrl=h,t.getEndOfToday=m,t.urlFilters={eventType:function(e){return["eventType",e.split(",").filter((function(e){return d.journalEventTypes.includes(e)}))]},parentFolder:function(e){return["folder",a.default.normalize(e)]},platform:function(e){return["platform",d.journalPlatforms.includes(e)?e:void 0]},querySearch:function(e){return["text",e]},startEventTimestamp:function(e,t){void 0===t&&(t=new Date);var n=parseInt(e,10),r=m(t);return["untilDateTimestamp",n&&n<=r.getTime()?n:void 0]}},t.getFiltersFromUrl=function(e){return d.journalUrlFilterKeys.reduce((function(n,i){var o;if(e.searchParams.has(i)){var a=e.searchParams.get(i);if(a){var s=t.urlFilters[i](a),u=s[0],c=s[1];if(c)return r(r({},n),((o={})[u]=c,o))}}return n}),{})},t.areFiltersEqual=function(e,t,n){void 0===n&&(n=new Date);var r=m(n),i=o.default(e).omit(["platforms","eventTypes","untilDateTimestamp"]).pickBy(o.default.negate(o.default.isEmpty)).value(),a=o.default(t).omit(["platforms","eventTypes","untilDateTimestamp"]).pickBy(o.default.negate(o.default.isEmpty)).value(),s=e.untilDateTimestamp?m(e.untilDateTimestamp):r,u=t.untilDateTimestamp?m(t.untilDateTimestamp):r;return o.default.isEqual(i,a)&&s.getTime()===u.getTime()},t.getClusterTitle=function(e){var t=e.toDateString(),n=new Date,r=n.toDateString();n.setDate(n.getDate()-1);var i=n.toDateString();switch(t){case r:return"Сегодня";case i:return"Вчера";default:return u.timestampToDate(Number(e)/1e3,n.getFullYear()===e.getFullYear()?"D mmmm":"D mmmm YYYY")}},t.getGroupTitle=function(e){return u.timestampToDate(Date.parse(e)/1e3,"HH:mm")},t.getResourceType=v,t.getTypedResourceName=function(e){switch(v(e)){case f.ResourceType.file:return"файл «"+yr.externals.entityify(s.I18N.$1)+"»";case f.ResourceType.photo:return"фотографию «"+yr.externals.entityify(s.I18N.$1)+"»";case f.ResourceType.video:return"видео «"+yr.externals.entityify(s.I18N.$1)+"»";default:return"папку «"+yr.externals.entityify(s.I18N.$1)+"»"}},t.getEventResourceName=function(e){return a.default.basename(e.event_type===f.JournalEventType.appendTrash?e.from:e.path)},t.getEventResourceUrl=function(e,t,n){void 0===n&&(n=f.NavigationType.setSelected);var r=e.resource?""+t+a.default.normalize(e.resource.path):""+t+e.path;return n===f.NavigationType.setSelected?a.default.getResourceSelectedUrl(r):n===f.NavigationType.openSlider?a.default.getResourceSliderUrl(r):a.default.getFolderUrl(a.default.dirname(r))},t.getTypedResourcesNames=function(e,t){switch(v(e)){case f.ResourceType.file:return __i18n__.i18n.convert(["1 файл",yr.externals.entityify(t)+" файл",yr.externals.entityify(t)+" файла",yr.externals.entityify(t)+" файлов"],yr.externals.entityify(t));case f.ResourceType.photo:return __i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(t)+" фотографию",yr.externals.entityify(t)+" фотографии",yr.externals.entityify(t)+" фотографий"],yr.externals.entityify(t));case f.ResourceType.video:return __i18n__.i18n.convert(["1 видео",yr.externals.entityify(t)+" видео",yr.externals.entityify(t)+" видео",yr.externals.entityify(t)+" видео"],yr.externals.entityify(t));default:return __i18n__.i18n.convert(["одну папку",yr.externals.entityify(t)+" папку",yr.externals.entityify(t)+" папки",yr.externals.entityify(t)+" папок"],yr.externals.entityify(t))}},t.getPaymentPeriod=g,t.getPaymentReason=function(e){switch(e.reason){case"order_not_found":case"payment_not_found":case"invalid_token":case"technical_error":return"возникла техническая ошибка при проведении операции";case"wrong_sms_code":return"передан неверный sms код";case"already_purchased":return"данный продукт (подписка) уже куплен, нельзя приобрести второй";case"already_pending":return"заказ находится в процессе оплаты";case"payment_timeout":return"превышен интервал ожидания";case"not_enough_funds":return"не хватает средств для оплаты";case"authorization_reject":return"возникла ошибка авторизации на стороне платежной системы, например для карты введен неправильный CVN код";case"payment_refused":return"платеж отклонен на стороне платежной системы";case"expired_card":return"возникла проблема с датой окончания срока действия карты (неверно введена, просрочена)";case"limit_exceeded":return"превышен лимит по операциям по данному платежному средству";default:return""}},t.getPaymentAmount=function(e){var t=e.payment_amount||0;switch(e.currency){case"USD":return"$ "+t;default:return __i18n__.i18n.convert([yr.externals.entityify(t)+" рубль",yr.externals.entityify(t)+" рубль",yr.externals.entityify(t)+" рубля",yr.externals.entityify(t)+" рублей"],yr.externals.entityify(t))}},t.getProlongError=y,t.getBillingMessageForPeriod=b,t.getGroupDescription=function(e){var t,n,r=e.events[0],i=e.group,o=i.type,u=i.itemsCount,c=i.isCurrentUserActor,d=i.isCurrentUserOwner;if(o===f.JournalEventType.createAlbum||o===f.JournalEventType.createAlbumItem)return"Вы создали альбом «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.removeAlbum)return r.album_title||(null===(t=r.album)||void 0===t?void 0:t.title)?"Вы удалили альбом «"+yr.externals.entityify(s.I18N.$1)+"»":"Вы удалили альбом из альбома «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.appendAlbumItems)return u>1?"Вы добавили "+__i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(u)+" фотографию",yr.externals.entityify(u)+" фотографии",yr.externals.entityify(u)+" фотографий"],yr.externals.entityify(u))+" в альбом «"+yr.externals.entityify(s.I18N.$1)+"»":"Вы добавили фото «"+yr.externals.entityify(a.default.basename(r.from))+"» в альбом «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.removeAlbumItems)return u>1?"Вы удалили "+__i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(u)+" фотографию",yr.externals.entityify(u)+" фотографии",yr.externals.entityify(u)+" фотографий"],yr.externals.entityify(u))+" из альбома «"+yr.externals.entityify(s.I18N.$1)+"»":"Вы удалили фото «"+yr.externals.entityify(a.default.basename(r.from))+"» из альбома «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.changeAlbumPulicity)return r.album_is_public||(null===(n=r.album)||void 0===n?void 0:n.is_public)?"Вы создали публичную ссылку на альбом «"+yr.externals.entityify(s.I18N.$1)+"»":"Вы удалили публичную ссылку на альбом «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.changeAlbumCover)return"Вы изменили обложку в альбоме «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.changeAlbumTitle)return r.album_prev_title?"Вы переименовали альбом «"+yr.externals.entityify(r.album_prev_title)+"» в «"+yr.externals.entityify(s.I18N.$1)+"»":"Вы указали имя для альбома «"+yr.externals.entityify(s.I18N.$1)+"»";if(o===f.JournalEventType.sentInvite)switch(r.provider_id){case"email":return"Вы отправили приглашение на Диск по адресу "+yr.externals.entityify(s.I18N.$1);default:return""}if(o===f.JournalEventType.activateInvite)return r.user_id?yr.externals.entityify(s.I18N.$1)+" принял ваше приглашение на Диск":r.owner_id?"Вы приняли приглашение на Диск от "+yr.externals.entityify(s.I18N.$1):"";if([f.JournalEventType.addComment,f.JournalEventType.likeComment,f.JournalEventType.dislikeComment].includes(o)){if(o===f.JournalEventType.addComment)return"Вам оставили "+__i18n__.i18n.convert(["комментарий",yr.externals.entityify(u)+" комментарий",yr.externals.entityify(u)+" комментария",yr.externals.entityify(u)+" комментариев"],yr.externals.entityify(u))+" на странице с публичной ссылкой "+yr.externals.entityify(s.I18N.$1);if(o===f.JournalEventType.likeComment)return"Вам поставили "+__i18n__.i18n.convert(["oтметку «Нравится»",yr.externals.entityify(u)+" oтметку «Нравится»",yr.externals.entityify(u)+" oтметки «Нравится»",yr.externals.entityify(u)+" oтметок «Нравится»"],yr.externals.entityify(u))+" на странице с публичной ссылкой "+yr.externals.entityify(s.I18N.$1);if(o===f.JournalEventType.dislikeComment)return"Вам поставили "+__i18n__.i18n.convert(["oтметку «Не нравится»",yr.externals.entityify(u)+" oтметку «Не нравится»",yr.externals.entityify(u)+" oтметки «Не нравится»",yr.externals.entityify(u)+" oтметок «Не нравится»"],yr.externals.entityify(u))+" на странице с публичной ссылкой "+yr.externals.entityify(s.I18N.$1)}if([f.JournalEventType.buy,f.JournalEventType.prolong,f.JournalEventType.prolongError,f.JournalEventType.subscribe,f.JournalEventType.unsubscribe].includes(o)){var p=g(r);return o===f.JournalEventType.prolongError?y(r,p):b(o,p)}if([f.JournalEventType.inviteUser,f.JournalEventType.changeRights,f.JournalEventType.kickFromGroup,f.JournalEventType.activateShare,f.JournalEventType.rejectInvite,f.JournalEventType.removeInvite,f.JournalEventType.changeInviteRights,f.JournalEventType.leaveGroup,f.JournalEventType.unshareFolderUser].includes(o)){if(d){if(o===f.JournalEventType.inviteUser){switch(r.rights){case"rw":return"Вы отправили "+yr.externals.entityify(s.I18N.$1)+" приглашение на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return"Вы отправили "+yr.externals.entityify(s.I18N.$1)+" приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.changeRights){switch(r.rights){case"rw":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» для "+yr.externals.entityify(s.I18N.$1)+" — с доступа только на просмотр на полный";case"r":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» для "+yr.externals.entityify(s.I18N.$1)+" — с полного доступа на право просмотра"}return""}if(o===f.JournalEventType.kickFromGroup)return"Вы закрыли доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» для "+yr.externals.entityify(s.I18N.$1);if(o===f.JournalEventType.activateShare)return yr.externals.entityify(s.I18N.$1)+" принял ваше приглашение на доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";if(o===f.JournalEventType.rejectInvite)return yr.externals.entityify(s.I18N.$1)+" отклонил ваше приглашение на доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";if(o===f.JournalEventType.removeInvite){switch(r.rights){case"rw":return"Вы отменили приглашение "+yr.externals.entityify(s.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return"Вы отменили приглашение "+yr.externals.entityify(s.I18N.$1)+" на доступ с правом просмотра к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.changeInviteRights){switch(r.rights){case"rw":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» для "+yr.externals.entityify(s.I18N.$1)+" — с доступа только на просмотр на полный";case"r":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» для "+yr.externals.entityify(s.I18N.$1)+" — с полного доступа на право просмотра"}return""}return o===f.JournalEventType.leaveGroup?yr.externals.entityify(s.I18N.$1)+" перестал быть участником общей папки «"+yr.externals.entityify(s.I18N.$2)+"»":o===f.JournalEventType.unshareFolderUser?"Вы закрыли доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» "+yr.externals.entityify(s.I18N.$3_OPEN)+"для всех пользователей"+yr.externals.entityify(s.I18N.$3_CLOSE):""}if(o===f.JournalEventType.inviteUser){switch(r.rights){case"rw":return yr.externals.entityify(s.I18N.$1)+" прислал вам приглашение на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return yr.externals.entityify(s.I18N.$1)+" прислал вам приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.changeRights){switch(r.rights){case"rw":return yr.externals.entityify(s.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» — с доступа только на просмотр на полный";case"r":return yr.externals.entityify(s.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» —с полного доступа на право просмотра"}return""}if(o===f.JournalEventType.kickFromGroup)return yr.externals.entityify(s.I18N.$1)+" закрыл вам доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"». На вашем Диске её больше нет";if(o===f.JournalEventType.activateShare){switch(r.rights){case"rw":return"Вы приняли приглашение от "+yr.externals.entityify(s.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return"Вы приняли приглашение от "+yr.externals.entityify(s.I18N.$1)+" на доступ с правом просмотра к общей папке  «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.rejectInvite){switch(r.rights){case"rw":return"Вы отклонили приглашение от "+yr.externals.entityify(s.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return"Вы отклонили приглашение от "+yr.externals.entityify(s.I18N.$1)+" на доступ с правом просмотра к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.removeInvite){switch(r.rights){case"rw":return yr.externals.entityify(s.I18N.$1)+" отменил свое приглашение на полный доступ к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»";case"r":return yr.externals.entityify(s.I18N.$1)+" отменил свое приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(s.I18N.$2)+"»"}return""}if(o===f.JournalEventType.changeInviteRights){switch(r.rights){case"rw":return yr.externals.entityify(s.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» — с доступа только на просмотр на полный";case"r":return yr.externals.entityify(s.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(s.I18N.$2)+"» — с полного доступа на право просмотра"}return""}return o===f.JournalEventType.leaveGroup?"Вы удалили общую папку «"+yr.externals.entityify(s.I18N.$2)+"» и отказались от участия":""}if(o===f.JournalEventType.promoReduce)return r.product_id===l.DISK_FOR_BUSINESS_PRODUCT_ID?"Объём Диска уменьшился на "+yr.externals.entityify(s.I18N.$1)+", услуга «"+yr.externals.entityify(s.I18N.$3)+"» отключена":"Объём Диска уменьшился на "+yr.externals.entityify(s.I18N.$1)+", так как акция «"+yr.externals.entityify(s.I18N.$3)+"» закончилась";if(o===f.JournalEventType.promoEnlarge)return r.product_id===l.DISK_FOR_BUSINESS_PRODUCT_ID?"Объём Диска увеличился на "+yr.externals.entityify(s.I18N.$1)+", услуга «"+yr.externals.entityify(s.I18N.$3)+"» подключена":r.product_period||0===r.product_id.indexOf("yandex_plus")?r.product_period&&r.service_end_date?"Объём Диска увеличился на "+yr.externals.entityify(s.I18N.$1)+" до "+yr.externals.entityify(s.I18N.$2)+" по акции «"+yr.externals.entityify(s.I18N.$3)+"»":"Объём Диска увеличился на "+yr.externals.entityify(s.I18N.$1)+" по акции «"+yr.externals.entityify(s.I18N.$3)+"»":"Объём Диска увеличился на "+yr.externals.entityify(s.I18N.$1)+" навсегда по акции «"+yr.externals.entityify(s.I18N.$3)+"»";if(o===f.JournalEventType.productReduce)return"Срок действия пакета «"+yr.externals.entityify(s.I18N.$1)+"» закончился. "+yr.externals.entityify(s.I18N.$2_OPEN)+"Продлить"+yr.externals.entityify(s.I18N.$2_CLOSE);var h="/disk"!==a.default.dirname(r.path);if(o===f.JournalEventType.dropAllTrash)return d?"Вы очистили "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(s.I18N.$2_CLOSE):yr.externals.entityify(s.I18N.$3)+" очистил "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(s.I18N.$2_OPEN);if(c)switch(o){case f.JournalEventType.copy:return h?"Вы скопировали "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы скопировали "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.move:return h?"Вы переместили "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы переместили "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.rename:return"Вы переименовали "+yr.externals.entityify(s.I18N.$1)+" в «"+yr.externals.entityify(s.I18N.$2)+"»";case f.JournalEventType.mkdir:return h?"Вы создали "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы создали "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.store:return h?"Вы загрузили "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы загрузили "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.storeUpdate:return h?"Вы изменили "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы изменили "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.storeDownload:return h?"Вы сохранили "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы сохранили "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.rm:return"Вы удалили "+yr.externals.entityify(s.I18N.$1)+" навсегда";case f.JournalEventType.appendTrash:return"Вы переместили "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.dropTrash:return"Вы удалили "+yr.externals.entityify(s.I18N.$1)+" из "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзины"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.restoreTrash:return"Вы восстановили "+yr.externals.entityify(s.I18N.$1);case f.JournalEventType.photostreamStore:return __i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(u)+" фотография автоматически загружена",yr.externals.entityify(u)+" фотографии автоматически загружено",yr.externals.entityify(u)+" фотографий автоматически загружено"],yr.externals.entityify(u))+" в папку «"+yr.externals.entityify(s.I18N.$1)+"»";case f.JournalEventType.photounlimStore:return v(r)===f.ResourceType.video?__i18n__.i18n.convert(["1 видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено"],yr.externals.entityify(u))+" в раздел «"+yr.externals.entityify(s.I18N.$1)+"»":__i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(u)+" фотография автоматически загружена",yr.externals.entityify(u)+" фотографии автоматически загружено",yr.externals.entityify(u)+" фотографий автоматически загружено"],yr.externals.entityify(u))+" в раздел «"+yr.externals.entityify(s.I18N.$1)+"»";case f.JournalEventType.setPublic:return h&&v(r)!==f.ResourceType.folder?"Вы создали "+yr.externals.entityify(s.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(s.I18N.$1_CLOSE)+" на "+yr.externals.entityify(s.I18N.$2)+" в папке «"+yr.externals.entityify(s.I18N.$3)+"»":"Вы создали "+yr.externals.entityify(s.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(s.I18N.$1_CLOSE)+" на "+yr.externals.entityify(s.I18N.$2);case f.JournalEventType.setPrivate:return h&&v(r)!==f.ResourceType.folder?"Вы удалили публичную ссылку на "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы удалили публичную ссылку на "+yr.externals.entityify(s.I18N.$1);case f.JournalEventType.aviary:return h?"Вы сохранили отредактированную копию файла «"+yr.externals.entityify(s.I18N.$1)+"» в папке «"+yr.externals.entityify(s.I18N.$2)+"»":"Вы сохранили отредактированную копию файла «"+yr.externals.entityify(s.I18N.$1)+"» в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.importSocial:return"Вы загрузили "+yr.externals.entityify(s.I18N.$1)+" из "+yr.externals.entityify(s.I18N.$2)+" в папку «"+yr.externals.entityify(s.I18N.$3)+"»"}else switch(o){case f.JournalEventType.copy:return h?yr.externals.entityify(s.I18N.$3)+" скопировал "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" скопировал "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.move:return h?yr.externals.entityify(s.I18N.$3)+" переместил "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" переместил "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.rename:return yr.externals.entityify(s.I18N.$3)+" переименовал "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2);case f.JournalEventType.mkdir:return h?yr.externals.entityify(s.I18N.$3)+" создал "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" создал "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.store:return h?yr.externals.entityify(s.I18N.$3)+" загрузил "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" загрузил "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.storeUpdate:return h?yr.externals.entityify(s.I18N.$3)+" изменил "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" изменил "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.storeDownload:return h?yr.externals.entityify(s.I18N.$3)+" сохранил "+yr.externals.entityify(s.I18N.$1)+" в папку «"+yr.externals.entityify(s.I18N.$2)+"»":yr.externals.entityify(s.I18N.$3)+" сохранил "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.rm:return yr.externals.entityify(s.I18N.$3)+" удалил "+yr.externals.entityify(s.I18N.$1)+" навсегда";case f.JournalEventType.appendTrash:return yr.externals.entityify(s.I18N.$3)+" переместил "+yr.externals.entityify(s.I18N.$1)+" в "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.dropTrash:return yr.externals.entityify(s.I18N.$3)+" удалил "+yr.externals.entityify(s.I18N.$1)+" из "+yr.externals.entityify(s.I18N.$2_OPEN)+"Корзины"+yr.externals.entityify(s.I18N.$2_CLOSE);case f.JournalEventType.restoreTrash:return yr.externals.entityify(s.I18N.$3)+" восстановил "+yr.externals.entityify(s.I18N.$1);case f.JournalEventType.photostreamStore:return __i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(u)+" фотография автоматически загружена",yr.externals.entityify(u)+" фотографии автоматически загружено",yr.externals.entityify(u)+" фотографий автоматически загружено"],yr.externals.entityify(u))+" в папку «"+yr.externals.entityify(s.I18N.$1)+"» пользователем "+yr.externals.entityify(s.I18N.$2);case f.JournalEventType.photounlimStore:return v(r)===f.ResourceType.video?__i18n__.i18n.convert(["1 видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено",yr.externals.entityify(u)+" видео автоматически загружено"],yr.externals.entityify(u))+" в раздел «"+yr.externals.entityify(s.I18N.$1)+"» пользователем "+yr.externals.entityify(s.I18N.$2):__i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(u)+" фотография автоматически загружена",yr.externals.entityify(u)+" фотографии автоматически загружено",yr.externals.entityify(u)+" фотографий автоматически загружено"],yr.externals.entityify(u))+" в раздел «"+yr.externals.entityify(s.I18N.$1)+"» пользователем "+yr.externals.entityify(s.I18N.$2);case f.JournalEventType.setPublic:return yr.externals.entityify(s.I18N.$4)+" создал "+yr.externals.entityify(s.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(s.I18N.$1_CLOSE)+" на "+yr.externals.entityify(s.I18N.$2)+" в папке «"+yr.externals.entityify(s.I18N.$3)+"»";case f.JournalEventType.setPrivate:return yr.externals.entityify(s.I18N.$3)+" удалил публичную ссылку на "+yr.externals.entityify(s.I18N.$1)+"  в папке «"+yr.externals.entityify(s.I18N.$2)+"»";case f.JournalEventType.aviary:return yr.externals.entityify(s.I18N.$3)+" сохранил отредактированную копию "+yr.externals.entityify(s.I18N.$1)+" в папке «"+yr.externals.entityify(s.I18N.$2)+"»";case f.JournalEventType.importSocial:return yr.externals.entityify(s.I18N.$4)+" загрузил "+yr.externals.entityify(s.I18N.$1)+" из "+yr.externals.entityify(s.I18N.$2)+" в папку «"+yr.externals.entityify(s.I18N.$3)+"»"}return""},t.getPlatformName=function(e){var t=e.events[0];switch(o.default.get(t,"platform",f.Platform.rest)){case f.Platform.ios:return"iPhone или iPad";case f.Platform.andr:return"Устройство на Android";case f.Platform.wp:return"Windows Phone";case f.Platform.mac:return"MacBook или iMac";case f.Platform.win:return"Компьютер на Windows";case f.Platform.web:return"Веб-интерфейс";case f.Platform.lnx:return"Компьютер на Linux";default:return"Другое устройство"}},t.getGroupById=function(e,t){return o.default.flatten(e.clusters.map(o.default.property("groups"))).find((function(e){return e.group.id===t}))},t.default={generateUrl:h,journalParams:o.default.extend({},t.journalParams)}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(210),y=n(11),b=n.n(y);n(1804);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(){return b()()("hover-tooltip")},w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r.state={visible:!1},r}return a()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0})}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.children,r=e.view,i=e.size,o=e.direction,a=e.className,s=e.clsText,u=e.zIndexGroupLevel,c=e.showDelay,l=e.disabled,f=e.tooltipCls,d=e.mainOffset,p=e.boundary,h={className:f,view:r,size:i,direction:o,zIndexGroupLevel:u,visible:this.state.visible,mainOffset:d,boundary:p};return v.a.createElement(g.default,{visible:this.state.visible&&!l,className:a,onOpen:this._onOpen,onClose:this._onClose,showDelay:c,boundary:!0},v.a.createElement(g.default.Anchor,null,v.a.createElement("div",{className:O().e("tooltip-anchor")},n)),t&&v.a.createElement(g.default.Tooltip,h,v.a.createElement("span",{className:O().e("tooltip-text").mix(s)},t)))}}]),n})(m.Component);w.defaultProps={text:"",view:"default",size:"s",disabled:!1,direction:["bottom"],showDelay:1200},t.default=w}),(function(e,t,n){"use strict";n.r(t),n.d(t,"setTimeToDate",(function(){return a})),n.d(t,"getDateWithoutTime",(function(){return s})),n.d(t,"isSameMonth",(function(){return u})),n.d(t,"isSameDate",(function(){return c})),n.d(t,"groupByDates",(function(){return l})),n.d(t,"getFormattedForDateRange",(function(){return f}));var r=n(133),i=n.n(r),o=n(326),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=e instanceof Date?new Date(e.getTime()):new Date(e);return o.setHours(t),o.setMinutes(n),o.setSeconds(r),o.setMilliseconds(i),o},s=function(e){return a(e,0)},u=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},c=function(e,t){return u(e,t)&&e.getDate()===t.getDate()};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=a(n,0,0,0,0),s=a(n,23,59,59,999),u={today:{start:r,end:s},yesterday:{start:Object(o.getDaysAgoDate)(r,1),end:Object(o.getDaysAgoDate)(s,1)},week:{start:Object(o.getDaysAgoDate)(r,7),end:Object(o.getDaysAgoDate)(s,2)}},c={unknown:"Без даты съемки",today:"Сегодня",yesterday:"Вчера",week:"За последние 7 дней"},l=e.reduce((function(e,n){var r,o,a=t(n);if(a){var s=Object.keys(u).find((function(e){var t=u[e];return a>=t.start&&a<=t.end}));s?r=o=s:(r=a.getFullYear()+"_"+a.getMonth(),o="month")}else o=r="unknown";return e[r]||(e[r]={items:[],key:r,type:o},"month"===o?(e[r].year=a.getFullYear(),e[r].month=a.getMonth(),e[r].title=i()(a,"MMMM YYYY",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"])):e[r].title=c[r]),e[r].items.push(n),e}),{});return Object.keys(l).map((function(e){return l[e]}))}var f=function(e,t){var n,r,o=new Date,a=new Date(e),s=new Date(t);if(a.getFullYear()===s.getFullYear()){var u=a.getFullYear()===o.getFullYear()?"":" YYYY";a.getMonth()===s.getMonth()?a.getDate()===s.getDate()?n="D mmmm"+u:(n="D",r="D mmmm"+u):(n="D mmmm",r="D mmmm"+u)}else n=r="D mmmm YYYY";return i()(e,n,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"])+(r?" - "+i()(t,r,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]):"")}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"backArrowIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M16 7H3.8l5.6-5.6L8 0 0 8l8 8 1.4-1.4L3.8 9H16z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=function e(t,n,r){var o=i.a.extend({loop:!1,take:1},r);o.negative=o.take<0,o.take=Math.abs(o.take);var a=o.negative?"reduceRight":"reduce",s=i.a[a](t,(function(e,t){return r.matcher(n,t)?[]:(i.a.isArray(e)&&e.length<o.take&&(!i.a.isFunction(o.filter)||o.filter(t))&&e.push(t),e)}),!n&&[]);return s&&s.length<o.take&&o.loop&&(s=s.concat(e(t,null,i.a.extend(r,{take:(o.take-s.length)*(o.negative?-1:1)})))),s||[]},a=function(e){return Array.isArray(e)?e.slice():[e]}}),(function(e,t,n){"use strict";var r,i,o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(38),l=n(18),f=n(120),d=n(71),p=function(){var e=n(90);try{if(!(Worker&&Promise&&URL&&Blob)||window.__DISABLE_UPLOAD_HASHES)return null;var t=e.links.static.host+e.externalStaticPath+"_forge.js";return 0===t.indexOf("//")&&(t="https:"+t),t=JSON.stringify(t),new Worker(URL.createObjectURL(new Blob(["importScripts("+t+");","("+function(e){var t="crypto"in self,n=function(e){return new Promise(function(t,n){try{var r=new Uint8Array((new FileReaderSync).readAsArrayBuffer(e));crypto.subtle.digest("SHA-256",r).then((function(n){var r=(new FileReaderSync).readAsBinaryString(e);t({md5:forge.md5.create().update(r).digest().toHex(),sha256:(function(e){e=new Uint8Array(e);for(var t="",n=0;n<e.length;n++)t+=("0"+e[n].toString(16)).slice(-2);return t})(n),webCrypto:!0})}))}catch(e){n(e)}})};self.addEventListener("message",(function(r){var i=r.data;"Promise"in self?(function(r){if(t&&r.size<=e)return n(r);for(var i=forge.md5.create(),o=forge.sha256.create(),a=0,s=r.size;a<s;a+=e){var u=r.slice(a,a+e),c=(new FileReaderSync).readAsBinaryString(u);i.update(c),o.update(c)}return Promise.resolve({md5:i.digest().toHex(),sha256:o.digest().toHex()})})(i.file).catch((function(e){return{error:String(e)||"calculate hashes error"}})).then((function(e){postMessage(e)})):postMessage({error:"no promise in worker"})}),!1)}.toString()+")(47185920)"])))}catch(e){return null}},h=[],m=!0,v=function(e){r&&(r.resolvePromise(e),r=null,y())},g=function(e){"error"===e.type&&(m=!0,v({error:"worker error"}));var t=u.a.get(e,"data.error");return v(t?{error:t}:u.a.pick(e.data,["md5","sha256"]))},y=function(){if(h.length&&!r){if((r=h.shift()).entry.size>47185920)return v({error:"file too big"});if(m&&(i&&(i.removeEventListener("message",g,!1),i.removeEventListener("error",g,!1)),(i=p())&&(i.addEventListener("message",g,!1),i.addEventListener("error",g,!1),m=!1)),!i)return v({error:"no worker"});try{i.postMessage({file:r.entry})}catch(e){v({error:"error"})}}},b=function(e){return new Promise(function(t){!(function(e){h=h.concat(e),y()})({entry:e,resolvePromise:t})})},_=n(17),O=n(48),w=n(15),E=n(14),S=n(13),x=n(78),C=n(35),T=C.MPFS_ERROR_CODES,k=C.GB,j=C.UPLOADER_FILE_SIZE_LIMIT,P={FAILED:"FAILED",DONE:"DONE",COMPLETED:"COMPLETED"},R={Trident:2*k,Edge:.25*k},A=[0,1e3,1e3,1e3,1e3],I=[0,1e3,1e3,1e3,1e3],D=function(e,t,n){return new Promise(function(r,i){var o,a;!(function s(){return Object(c.a)("do-status-operation",{oid:t}).then((function(u){var c=u.state,l=u.resource,f=u.error;if(c===P.FAILED)return clearTimeout(a),void i(f);c!==o&&[P.DONE,P.COMPLETED].includes(c)&&(clearTimeout(a),(function(e,t){var n=Object(S.default)();Object(_.isExistsResource)(n.getState(),e)&&n.dispatch(Object(w.setResourceData)(e,t))})(e,l),r()),o=c,c!==P.COMPLETED&&t&&(a=setTimeout(s,n))})).catch(i)})()})},M=u.a.throttle((function(){Object(S.default)().dispatch(Object(x.a)())}),1e3),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return n(le(e,{status:l.UPLOAD_STATUSES.GETTING_URL})),Object(c.a)("do-resource-upload-url",Object.assign({dst:e.id,force:e.force,size:e.entry.size},t)).then((function(t){var n=t.upload_url,r=t.oid,i=t.status;return Promise.resolve("hardlinked"===i?{status:i}:{uploadUrl:n,oid:r,item:e})}))}},L=function(e,t){var n=0,r=0;return function i(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=function e(t){return n>=A.length?Promise.reject(t):Object(f.defer)(A[n++]).then((function(){return Object(f.waitOnline)("/check-online")})).then((function(){return (function(e){return fetch(e,{method:"HEAD"}).then((function(e){var t=e.status,n=e.headers;return 200===t?parseInt(n.get("content-length")||"",10)||0:Promise.reject({status:t})}))})(o.uploadUrl)})).catch(e).then((function(e){return e<o.item.entry.size?i(o,e):Promise.resolve(o)}))},c=function t(n){return r>=I.length?Promise.reject(n):Object(f.defer)(I[r++]).then((function(){return e(N(o.item))})).then(i,t)};e(le(o.item,{status:l.UPLOAD_STATUSES.UPLOADING}));var d=o.item.entry.size,p=t&&d-a>t?a+t:d;return (function(e,t){var n=e.item,r=e.uploadUrl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.entry.size;return new Promise(function(e,a){var s=new XMLHttpRequest,u=!1;s.addEventListener("load",(function(){var t=this.status;t>=400?a({id:l.UPLOAD_ERROR_ID,status:t}):e({status:t})})),s.addEventListener("error",(function(){var t=this.status;u&&0===t&&e(),a({status:t})})),s.upload.addEventListener("load",(function(){u=!0})),s.upload.addEventListener("progress",(function(e){var r=e.loaded+i,o=n.entry.size;t({loaded:r,total:Math.max(o,r)})})),s.open("PUT",r),s.setRequestHeader("X-Disk-Uploader-Wait-Complete-Upload","false"),n.entry.type&&s.setRequestHeader("Content-Type",n.entry.type),0===i&&o===n.entry.size||s.setRequestHeader("Content-Range","bytes=".concat(i,"-").concat(o-1,"/").concat(n.entry.size)),s.send(n.entry.slice(i,o)),n.abortables.xhr=function(){return s.abort()}})})(o,(function(t){var r=t.loaded,i=t.total;e(ue(o.item.id,{loaded:r,total:i})),n=0}),a,p).then((function(){return p<d?s().then((function(){return o})):o}),(function(e){var t=u.a.get(e,"status");return 0===t||400===t?s(e).catch(c):404===t||t>=500&&507!==t?c(e):Promise.reject(e)}))}},F=n(27),B=n(33),U=n(35).MPFS_ERROR_CODES,z=[".DS_Store","Thumbs.db"],V=function(e){return new Promise(function(t,n){if(e.isDirectory)return t(e);e.file(t,n)})},H=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return (function(e){return new Promise(function(t,n){return e.readEntries(t,n)})})(t).then((function(r){return r.length?e(t,[].concat(a()(n),a()(Array.from(r)))):n}))},W=function e(t,n,r){return (function(e){return H(e.entry.createReader()).then((function(e){return Promise.all(e.map(V))}))})(n).then((function(i){var o=Array.from(i).filter((function(e){var t=z.includes(e.name);return t&&ns.events.trigger("ufo-upload-skip",{statId:n.statsId,type:e.isDirectory?"folder":"file"}),!t})),s=ge(t(),o,n.id,n.statsId,n.id),u=s.filter((function(e){return e.entry.isDirectory}));return Promise.all(u.map((function(n){return e(t,n,r)}))).then((function(e){return s.concat.apply(s,a()(e))}))})).catch((function(){return n.readFail=!0,[]}))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){n(le(e,{status:l.UPLOAD_STATUSES.CREATING_FOLDER}));return (function n(r){return Object(c.a)("do-resource-create-folder",{id:r,force:t},{retriesLeft:1}).then((function(){return r})).catch((function(t){if(t&&t.body&&t.body.code===U.MKDIR_EXISTS&&!e.dependency){var r=t.body.data.autosuffix_path;return n(r)}return Promise.reject(t)}))})(e.isFakeId?B.default.getIdFromFakeId(e.id):e.id).then((function(t){if(n(we(e)))return Promise.resolve();if(t!==e.id){var i=e.id;e.id=t,delete e.isFakeId;var o=r().resources;o[t]||n(Object(d.d)([e])),n(Object(w.moveClonedResource)(o[i],Object(_.getResourceData)(r(),t)))}return n(Object(w.maybeFetchSingleResource)(t)).then((function(){n(Object(w.setResourceBlocked)(t,!1))})).catch((function(){}))})).catch((function(t){t instanceof Error&&setTimeout((function(){throw t}));var r={status:l.UPLOAD_STATUSES.ERROR,error:Object(l.getUploadError)(t)===l.UPLOAD_ERRORS.LOCKED?l.UPLOAD_ERRORS.LOCKED:l.UPLOAD_ERRORS.FOLDER_NOT_CREATED,data:t&&t.body&&t.body.data};return n(le(e,r)),Promise.reject(r)}))}},$=n(40),q=n(16),Y=n(96),K=n(22),J=n(542),X=n(108),Z=n(88),Q=n(234),ee=n(327),te=n(328),ne=n(329);n.d(t,"g",(function(){return ue})),n.d(t,"d",(function(){return le})),n.d(t,"k",(function(){return pe})),n.d(t,"h",(function(){return me})),n.d(t,"a",(function(){return ve})),n.d(t,"e",(function(){return ge})),n.d(t,"i",(function(){return ye})),n.d(t,"j",(function(){return be})),n.d(t,"c",(function(){return _e})),n.d(t,"b",(function(){return Oe})),n.d(t,"f",(function(){return we}));var re=6,ie=[],oe=function(e,t){e.statsSent=!0;var n=e.entry.isDirectory?"folder":"file",r=!e.dependency;switch(t){case l.UPLOAD_STATUSES.DONE:ns.events.trigger("ufo-upload-done",{statId:e.statsId,type:n,root:r});break;case l.UPLOAD_STATUSES.ERROR:ns.events.trigger("ufo-upload-fail",{statId:e.statsId,type:n,root:r});break;case l.UPLOAD_STATUSES.CANCELED:ns.events.trigger("ufo-upload-cancel",{statId:e.statsId,type:n,root:r})}},ae=[],se=u.a.throttle((function(e){e({type:q.UPDATE_UPLOADING_PROGRESS,payload:ae}),ae=[]}),500),ue=function(e,t){return function(n){ae.push(Object.assign({id:e},t)),se(n)}},ce=function(e,t){return{type:q.UPDATE_UPLOADING_STATE,payload:Object.assign({id:e.id,isDirectory:e.entry.isDirectory,originalFileName:e.entry.name},t)}};function le(e,t){return function(n){var r=t.status;n(ce(e,t)),n(me()),r===l.UPLOAD_STATUSES.DONE&&n(Object(w.setResourceBlocked)(e.id,!1))}}var fe=function(e){return function(t,n){return(e.entry.isDirectory?t(function(e){return function(t,n){return E.default.count("interface elements","upload dialog","try upload","folder"),e.dependency?t(G(e)).then((function(){t(le(e,{status:l.UPLOAD_STATUSES.DONE}))})):t(G(e)).then((function(){return W(n,e,e.id)})).then((function(r){var i=Object(O.getLimitUploadSize)(n()),o=[];if(i){var a=[];r.forEach((function(e){!e.entry.isDirectory&&Object(l.isOverLimitFileSize)(e.entry,i)?a.push({name:e.entry.name,size:e.entry.size}):o.push(e)})),a.length&&t(Object(F.showLimitUploadDialog)(a))}else o=r;t(Object(d.i)(o,e.id)),t(ve(o)),t(le(e,{status:l.UPLOAD_STATUSES.UPLOADING}))}))}}(e)):t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(n,r){var i;E.default.count("interface elements","upload dialog","try upload","file");var o=Object(O.getLimitUploadSize)(r());if(e.entry.size>j)i=Promise.reject({id:l.UPLOAD_ERROR_ID,type:l.UPLOAD_ERRORS_TYPES.TOO_BIG});else if(o&&e.entry.size>=o)i=Promise.reject({id:l.UPLOAD_ERROR_ID,type:l.UPLOAD_ERRORS_TYPES.OVER_LIMIT});else{var a=r().environment.agent.BrowserEngine,s=L(n,R[a]),u=function(e){var r=e.item,i=e.oid;return n(le(r,{status:l.UPLOAD_STATUSES.PROCESSING})),n(ue(r.id,{loaded:r.entry.size,total:r.entry.size})),D(r.id,i,t)},c=function(){return n(le(e,{status:l.UPLOAD_STATUSES.DONE})),M(),e};i=(n(le(e,{status:l.UPLOAD_STATUSES.GETTING_HASH})),r().environment.agent.isMobile?Promise.resolve({error:"is mobile"}):b(e.entry)).then((function(t){return n(we(e))?null:n(N(e,t.error?{}:t))})).then((function(t){return t?"hardlinked"===t.status?(n(ue(e.id,{loaded:e.entry.size,total:e.entry.size})),n(le(e,{status:l.UPLOAD_STATUSES.PROCESSING})),n(Object(w.maybeFetchSingleResource)(e.id,{insertOnlyIfPortionLoaded:!0})).then(c)):n(we(e))?e:s(t).then(u).then(c):e}))}return i.catch((function(t){t instanceof Error&&setTimeout((function(){throw t}));var i={};return t&&t.body&&t.body.code===T.STORE_FILE_EXISTS?i.status=l.UPLOAD_STATUSES.CONFLICT:(Object.assign(i,{status:l.UPLOAD_STATUSES.ERROR,error:Object(l.getUploadError)(t),data:t&&t.body&&t.body.data}),i.error===l.UPLOAD_ERRORS.LIMIT&&(i.data=t&&t.body&&t.body.title?JSON.parse(t.body.title):null),t instanceof Error&&(i.verboseReason=t.message+t.stack),t&&t.status&&(i.xhrStatus=t.status)),r().resources[e.id]||n(Object(d.d)([e])),n(le(e,i)),Promise.reject(i)}))}}(e))).then((function(e){return Object(te.isReadOnlyActive)(n())&&t(Object(ee.deactivateReadOnly)()),e})).catch((function(n){if(n.error){if(n.error===l.UPLOAD_ERRORS.LIMIT){var r=n.data&&"UserReadOnly"!==n.data.reason?ne.Type.LIMIT:ne.Type.TECH;return E.default.count("interface elements",r===ne.Type.TECH?"upload_limit_tech":"upload_limit_quota"),t(Object(ee.activateReadOnly)({type:r}))}E.default.count("interface elements","upload dialog","error",(n.error||"").toLowerCase()),Object(X.log)(Object.assign({event:"uploadError",type:e.entry.isDirectory?"folder":"file",statId:e.statsId,reason:n.error},u.a.pick(n,"verboseReason","xhrStatus"))),n.error===l.UPLOAD_ERRORS.LOCKED&&t(function(e,t){return function(n,r){var i=r().user.uid,o=t.op_type,a=t.path,s=t.uid,u=Object(Q.b)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:e,myUid:i,failedOperationType:"upload"}),c=u.reasonText,l=u.reasonTextAux;n(Object($.notify)({status:"failed",reason:"READ_ONLY",reasonText:c,reasonTextAux:l}))}}(e.id,n.data))}else{if(n.status!==l.UPLOAD_STATUSES.CONFLICT)throw n;E.default.count("interface elements","upload dialog","error",n.status.toLowerCase())}}))}},de=function(e){return function(t,n){for(var r in e.abortables)e.abortables[r]();var i=n().resources[e.id];if(t(Object(d.f)(e.id)),i&&i.state&&(i.state.part||i.state.blocked)){var o=Object(Z.getActiveOperations)("move"),s=Object(Z.getActiveOperations)("delete"),u=Object(Z.getActiveOperations)("rename");[].concat(a()(o),a()(s),a()(u)).some((function(e){return e.get(".idSrc")===i.id&&("move"===e.get(".type")?t(Object(w.setResourceData)(i.id,!0,"state.disabled")):t(Object(w.hideResource)(i.id)),!0)}))||t(Object(w.removeResource)(e.id))}}},pe=function(e){return!e||[l.UPLOAD_STATUSES.DONE,l.UPLOAD_STATUSES.CANCELED].includes(e)},he=!1;function me(){return function(e,t){if(!he){he=!0;var n=t().uploader.uploadingStatesByIds,r=[];ie=ie.filter((function(t){var i=n[t.id]&&n[t.id].status;i&&i!==l.UPLOAD_STATUSES.CANCELED||e(de(t));var o=pe(i);return(o||i===l.UPLOAD_STATUSES.ERROR&&!t.statsSent)&&r.push({item:t,status:i}),!o})),r.reverse().forEach((function(e){var t=e.item,n=e.status;oe(t,n)}));for(var i=ie.filter((function(e){var t=n[e.id],r=t.status;return t.isDirectory?r===l.UPLOAD_STATUSES.CREATING_FOLDER:Object(l.isUploadInProgress)(r)})).length,o=0;o<ie.length&&i<re;o++){var a=ie[o];n[a.id].status!==l.UPLOAD_STATUSES.ENQUEUED||a.dependency&&![l.UPLOAD_STATUSES.UPLOADING,l.UPLOAD_STATUSES.DONE].includes(n[a.dependency].status)||(e(fe(a)),i++)}he=!1}}}var ve=function(e){return function(t){ie=ie.concat(e),t(me())}},ge=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=e.environment.agent.OSFamily,a=e.uploader.resourcesToUpload,s="iOS"===o;return t.map((function(e){var t=s?Object(Y.getUnique)()+Object(K.extname)(e.name,!0):e.name,o=Object(J.normalize)(n+"/"+t),u={entry:e,id:o,force:0,dependency:i,abortables:{},statsId:r};return a.includes(o)&&u.entry.isDirectory&&(u.id=B.default.getFakeId(o),u.isFakeId=!0),u}))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){var i,o=ie.find((function(t){var n=t.id;return e===n})),a=r().uploader.uploadingStatesByIds,s=[o.id];if(o.entry.isDirectory){var u=a[o.id].error;i=[l.UPLOAD_ERRORS.FOLDER_NOT_CREATED,l.UPLOAD_ERRORS.LOCKED].includes(u)?l.UPLOAD_STATUSES.ENQUEUED:l.UPLOAD_STATUSES.UPLOADING,ie.forEach((function(e){e.dependency===o.id&&a[e.id].status===l.UPLOAD_STATUSES.ERROR&&Object(l.canRetryUpload)(a[e.id].error)&&(s.push(e.id),e.force=t,n(Object(w.setResourceBlocked)(e.id,!0)))}))}else i=l.UPLOAD_STATUSES.ENQUEUED,o.force=t,n(Object(w.setResourceBlocked)(o.id,!0));n(Object(d.f)(s)),n(le(o,{status:i}))}},be=function(e){return function(t){t(ye(e))}},_e=function(e){return function(t){t(le(ie.find((function(t){return t.id===e})),{status:l.UPLOAD_STATUSES.CANCELED}))}},Oe=function(){return function(e,t){var n=t().uploader.resourcesToUpload.map((function(e){return{id:e,status:l.UPLOAD_STATUSES.CANCELED}}));e({type:q.UPDATE_UPLOADING_STATE,payload:n}),e(me())}},we=function(e){return function(t,n){var r=n().uploader.uploadingStatesByIds[e.id];return!(r&&!r.needCancel)&&(r&&t(le(e,{status:l.UPLOAD_STATUSES.CANCELED})),!0)}}}),,,(function(e,t,n){"use strict";var r=n(588),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(496),i={};i.ru=n(1157);t.default=function(e,t,n){return r.getComponentI18n(i,"share-dialog",e,t,n)}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(555),i=n(0),o={top:0,right:0,bottom:0,left:0};function a(e){void 0===e&&(e={});var t=e.rect,n=e.contextElement,r=Object(i.useRef)(o),a=Object(i.useRef)({contextElement:n,getBoundingClientRect:function(){var e=r.current,t=e.top,n=e.right,i=e.bottom,o=e.left;return{top:t,right:n,bottom:i,left:o,width:n-o,height:i-t}}});if(a.current.contextElement=n,t){var s=t.top,u=void 0===s?0:s,c=t.left,l=void 0===c?0:c,f=t.right,d=void 0===f?l:f,p=t.bottom,h=void 0===p?u:p;r.current={top:u,right:d,bottom:h,left:l}}else r.current=o;return a}var s=n(316),u=n(639),c=n(640);n.d(t,"usePopper",(function(){return r.a})),n.d(t,"useVirtualElementRef",(function(){return a})),n.d(t,"directions",(function(){return s.a})),n.d(t,"applyMinWidth",(function(){return u.a})),n.d(t,"applyMaxHeight",(function(){return c.a}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(76),o=(n(1194),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),i=n(0),o=n.n(i),a=n(5),s=n(555),u=n(330),c=n(76),l=n(316),f={top:-9999,left:-9999,position:"fixed"},d=Object(a.withBemMod)(Object(c.b)(),{target:"anchor"},(function(e){return function(t){var n=t.anchor,i=t.direction,a=void 0===i?l.a:i,c=t.hasTail,d=t.mainOffset,p=void 0===d?c?0:4:d,h=t.modifiers,m=t.motionless,v=t.secondaryOffset,g=t.style,y=t.tailOffset,b=(t.target,t.viewportOffset),_=t.visible,O=void 0!==_&&_,w=t.innerRef,E=t.tailRef,S=t.boundary,x=Object(r.__rest)(t,["anchor","direction","hasTail","mainOffset","modifiers","motionless","secondaryOffset","style","tailOffset","target","viewportOffset","visible","innerRef","tailRef","boundary"]),C=Object(s.a)({anchorRef:n,children:x.children,placement:a,motionless:m,enabled:O,marginThreshold:b,modifiers:h,offset:[v,p],unsafe_tailOffset:y,boundary:S}),T=C.setPopupRef,k=C.setArrowRef;return o.a.createElement(e,Object(r.__assign)({},x,{hasTail:c,innerRef:Object(u.a)(T,w),style:Object(r.__assign)(Object(r.__assign)({},f),g),tailRef:Object(u.a)(k,E),unstable_essentialRefs:[n],visible:O}))}}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeContext=void 0;const i=r(n(0));t.ThemeContext=i.default.createContext({theme:{},isDark:!1})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close2IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M21 5.421L19.579 4 12.5 11.079 5.421 4 4 5.421l7.079 7.079L4 19.579 5.421 21l7.079-7.079L19.579 21 21 19.579 13.921 12.5z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";var r=n(93),i=n(114),o=n(121),a=n(86);function s(e){return["table","td","th"].indexOf(Object(i.a)(e))>=0}var u=n(208),c=n(104);function l(e){if(!Object(a.b)(e)||"fixed"===Object(o.a)(e).position)return null;var t=e.offsetParent;if(t){var n=Object(c.a)(t);if("body"===Object(i.a)(t)&&"static"===Object(o.a)(t).position&&"static"!==Object(o.a)(n).position)return n}return t}function f(e){for(var t=Object(r.a)(e),n=l(e);n&&s(n)&&"static"===Object(o.a)(n).position;)n=l(n);return n&&"body"===Object(i.a)(n)&&"static"===Object(o.a)(n).position?t:n||(function(e){for(var t=Object(u.a)(e);Object(a.b)(t)&&["html","body"].indexOf(Object(i.a)(t))<0;){var n=Object(o.a)(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null})(e)||t}n.d(t,"a",(function(){return f}))}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(29),v=n.n(m),g=n(0),y=n.n(g),b=n(421),_=n(242);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var w=(function(e){l()(n,e);var t=O(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.limit,n=e.activeItemIndex,r=e.items,i=e.createItem,o=Math.floor(t/2),a=Math.max(n-o,0),s=Math.min(n+o,r.length-1);return r.map((function(e,t){return i(t,t>=a&&t<=s)})).filter(Boolean)}},{key:"render",value:function(){return y.a.createElement("div",{className:this.props.className,ref:this.props.itemsListRef},this._getItems())}}]),n})(g.Component),E=n(10),S=n.n(E),x=n(423),C=n(424),T=n(26),k=n(11),j=n.n(k),P=(n(1107),{left:x.b,right:C.b}),R=function(e){var t,n=e.direction,r=e.hidden,i=e.ariaLabel,o=e.theme,a=void 0===o?"dark":o,s=e.buttonSize,u=void 0===s?"xxxl":s,c=e.iconSize,l=void 0===c?"xxl":c,f=e.onClick,d=P[n];return y.a.createElement(T.Button,{size:u,view:"clear","aria-label":i,className:j()()("switch-arrow-button").m((t={},S()(t,n,!0),S()(t,"theme",a),S()(t,"hidden",r),t)),onClick:f,icon:function(e){return y.a.createElement(d,{cls:e,iconSize:l})}})},A=n(68);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var D="keyboard",M="button",N=["input","textarea","select","option"],L=function(e){var t=(function(t){l()(r,t);var n=I(r);function r(e){var t;return i()(this,r),(t=n.call(this,e))._onPreviousArrowClick=t._onPreviousArrowClick.bind(u()(t)),t._onNextArrowClick=t._onNextArrowClick.bind(u()(t)),t._onKeyDown=t._onKeyDown.bind(u()(t)),t}return a()(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown)}},{key:"_canUseArrows",value:function(){return!(!this.props.enableKeyboardControl||this.props.disabledOnFormControls&&document.activeElement&&N.includes(document.activeElement.nodeName.toLowerCase()))}},{key:"_onKeyDown",value:function(e){if(this._canUseArrows())switch(e.keyCode){case A.Keys.LEFT:case A.Keys.UP:this.props.onPrevious(D),e.preventDefault();break;case A.Keys.RIGHT:case A.Keys.DOWN:case A.Keys.SPACE:this.props.onNext(D),e.preventDefault()}}},{key:"_onPreviousArrowClick",value:function(){this.props.onPrevious(M)}},{key:"_onNextArrowClick",value:function(){this.props.onNext(M)}},{key:"render",value:function(){var t=Object.assign({},this.props),n=(t.children||[]).slice();return t.showArrowLeft&&n.push(y.a.createElement(R,{direction:"left",key:"previous",ariaLabel:t.arrowLabels?t.arrowLabels.left:void 0,onClick:this._onPreviousArrowClick})),t.showArrowRight&&n.push(y.a.createElement(R,{direction:"right",key:"next",onClick:this._onNextArrowClick,ariaLabel:t.arrowLabels?t.arrowLabels.right:void 0})),delete t.children,delete t.showArrowLeft,delete t.showArrowRight,delete t.onPrevious,delete t.onNext,y.a.createElement(e,t,n)}}]),r})(g.Component);return t.defaultProps={enableKeyboardControl:!0,disabledOnFormControls:!0},t},F=n(69),B=n(37),U=n.n(B),z=n(95),V=n(315);function H(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}n.d(t,"a",(function(){return G})),n.d(t,"c",(function(){return $}));var W=function(){return j()()("slider")},G=10,$=function(e){return{resources:e.resources,activeResource:e.activeResource}},q=Object(g.memo)((function(e){var t=Object(g.useRef)(null);Object(V.useFocusTrap)({enabled:!0,scopeRef:t,autoFocus:!0,restoreFocus:!0});var n=Object(g.useCallback)((function(n){t.current=n,e.containerProps.ref&&e.containerProps.ref(n)}),[e]);return y.a.createElement("div",v()({},e.containerProps,{ref:n}),e.children)})),Y=L(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={itemsLimit:1},r._getSliderItem=r._getSliderItem.bind(u()(r)),r._onFirstActivePreviewLoad=r._onFirstActivePreviewLoad.bind(u()(r)),r._onKeyUp=r._onKeyUp.bind(u()(r)),r._itemsRefs={},r._isFirstPreviewLoaded=!1,r}return a()(n,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onKeyUp),this.props.activeResource.content&&this._onFirstActivePreviewLoad(),this.props.containerRef&&this.props.containerRef(this._rootRef),this.props.itemsContainerRef&&this.props.itemsContainerRef(this._itemsContainerRef),this.props.itemsRefs&&this.props.itemsRefs(this._itemsRefs),this._maybeFetchResources()}},{key:"componentWillUnmount",value:function(){this._rootRef.removeEventListener("keypress",this._onKeyUp)}},{key:"componentDidUpdate",value:function(e){e.activeResource.id!==this.props.activeResource.id&&this._maybeFetchResources()}},{key:"_maybeFetchResources",value:function(){var e=this;if(!this._isFetching){var t=this.props,n=t.possiblyHasPrevious,r=t.possiblyHasNext,i=t.fetchResourcesThreshold,o=[-1,1].filter((function(t){return Object(z.c)(Object.assign($(e.props),{possiblyHasPrevious:n,possiblyHasNext:r,fetchResourcesThreshold:i}),t)}));if(o.length){var a=this.props.fetchResources(o);if(a instanceof Promise){this._isFetching=!0;var s=function(){e._isFetching=!1};a.then(s,s)}}}}},{key:"_getSliderItems",value:function(){var e=this;return y.a.createElement(w,{className:W().e("items"),itemsListRef:function(t){e._itemsContainerRef=t},limit:this.state.itemsLimit,items:this.props.resources,activeItemIndex:Object(z.a)($(this.props)),createItem:this._getSliderItem})}},{key:"_onFirstActivePreviewLoad",value:function(){this.setState({itemsLimit:5})}},{key:"_getPreview",value:function(e){var t=this,n=this.props.resources[e],r=n===this.props.activeResource;if(n.content){var i="function"==typeof n.content?n.content(this.props.sliderApi):n.content;return y.a.createElement("div",{className:W().e("content")},n.background?y.a.createElement("div",{className:W().e("content-background"),style:{backgroundImage:"url(".concat(n.background,")")}}):null,i)}var o={onError:function(e){return t.props.onImageError(n,e)},className:W().e("preview"),active:r,nonce:this.props.nonce,fitToWidth:n.fitToWidth};if(r&&this.state.isZoomed)o.previewBaseUrl=o.defaultPreview=n.originalUrl;else if(this.props.useSrcSet)o.srcSet=n.srcSet,o.srcSetFallback=n.srcSetFallback;else{var a=this.props.viewportSize,s=a.width,u=a.height;Object.assign(o,{defaultPreview:n.originalUrl,previewBaseUrl:n.previewBaseUrl,width:s,height:u})}return!this._isFirstPreviewLoaded&&r&&(o.onLoad=this._onFirstActivePreviewLoad),y.a.createElement(b.a,o)}},{key:"_getSliderItem",value:function(e,t){var n=this,r=this.props.resources[e],i=r===this.props.activeResource;return y.a.createElement("div",{className:W().e("item").m({active:i,mobile:!this.props.showSwitchArrows}),"aria-hidden":!i,key:r.id||e,ref:function(t){n._itemsRefs[e]=t}},i||t?this._getPreview(e):null)}},{key:"_getToolbar",value:function(){var e=this,t=this.props,n=t.toolbarChildren,r=t.waitResource;return n?y.a.createElement("div",{className:W().e("toolbar").m({visible:this.props.toolbarVisible}),onTouchMove:z.b,onTransitionEnd:function(){return e.props.onToolbarAnimationEnd(e.props.toolbarVisible)}},"function"==typeof n?n(r):n):null}},{key:"_onKeyUp",value:function(e){this.props.enableKeyboardControl&&e.keyCode===U.a.KEYS.ESC&&this.props.onClose(D)}},{key:"render",value:function(){var e=this,t=this.props.activeResource;return y.a.createElement(q,{containerProps:{role:"dialog","aria-modal":"true",className:W().m({zoomed:this.state.isZoomed}).mix(this.props.cls),ref:function(t){e._rootRef=t}}},y.a.createElement("div",{className:W().e("a11y"),role:"alert","aria-live":"assertive"},t&&(t.name||t.id)),this._getSliderItems(),this._getToolbar(),this.props.children)}}]),n}(g.PureComponent)),K=(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={waitPrevious:!1,waitNext:!1},r._setItemsRefs=r._setItemsRefs.bind(u()(r)),r.switchToPrevious=r.switchToPrevious.bind(u()(r)),r.switchToNext=r.switchToNext.bind(u()(r)),r._itemsRefs={},r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=Object(z.a)($(this.props)),n=this.props,r=n.resources,i=n.possiblyHasPrevious,o=n.possiblyHasNext,a=n.onActiveResourceChange,s=r!==e.resources;(this.state.waitPrevious&&(s||i!==e.possiblyHasPrevious)||this.state.waitNext&&(s||o!==e.possiblyHasNext))&&(this.state.waitPrevious&&(t>0?(a(r[t-1],-1),this.setState({waitPrevious:!1})):i||this.setState({waitPrevious:!1})),this.state.waitNext&&(t<r.length-1?(a(r[t+1],1),this.setState({waitNext:!1})):o||this.setState({waitNext:!1})))}},{key:"switchToPrevious",value:function(e){var t=Object(z.a)($(this.props));this.props.possiblyHasPrevious&&0===t&&this.setState({waitPrevious:!0}),this.state.waitNext?this.setState({waitNext:!1}):t>0&&this.props.onActiveResourceChange(this.props.resources[t-1],-1,e)}},{key:"switchToNext",value:function(e){var t=Object(z.a)($(this.props));this.props.possiblyHasNext&&t===this.props.resources.length-1&&this.setState({waitNext:!0}),this.state.waitPrevious?this.setState({waitPrevious:!1}):t<this.props.resources.length-1&&this.props.onActiveResourceChange(this.props.resources[t+1],1,e)}},{key:"_getFakeItem",value:function(e,t){var n=this.props.viewportSize,r=n.width,i=n.height;return{id:"fake-wait-"+e,content:y.a.createElement(F.Spin,{view:"default",progress:!0,size:"m",className:W().e("fake-item-spin")}),background:this.props.showBackgroundWhileLoadNext&&t.previewBaseUrl&&Object(_.c)({previewBaseUrl:t.previewBaseUrl,width:r,height:i})}}},{key:"_getResources",value:function(){var e,t,n=this.props.resources.slice(),r=this.props.activeResource;return this.props.possiblyHasPrevious&&(e=this._getFakeItem("previous",this.props.resources[0]),n.unshift(e),this.state.waitPrevious&&(r=e)),this.props.possiblyHasNext&&(t=this._getFakeItem("next",this.props.resources[this.props.resources.length-1]),n.push(t),this.state.waitNext&&(r=t)),{resources:n,activeResource:r}}},{key:"isCurrentResourceAnImage",value:function(){return!this.state.waitPrevious&&!this.state.waitNext&&!this.props.activeResource.content}},{key:"_setItemsRefs",value:function(e){this._itemsRefs=e}},{key:"getItemsRefs",value:function(){var e;return this.state.waitPrevious?e=0:this.state.waitNext?e=this._itemsRefs.length-1:(e=Object(z.a)($(this.props)),this.props.possiblyHasPrevious&&e++),{current:this._itemsRefs[e],next:this._itemsRefs[e+1],prev:this._itemsRefs[e-1]}}},{key:"render",value:function(){var e=Object(z.a)($(this.props)),t=this.props.showSwitchArrows&&this.props.toolbarVisible,n=t&&(e>0||0===e&&this.props.possiblyHasPrevious&&!this.state.waitPrevious),r=t&&(e<this.props.resources.length-1||e===this.props.resources.length-1&&this.props.possiblyHasNext&&!this.state.waitNext);return y.a.createElement(Y,v()({showArrowLeft:n,showArrowRight:r,waitResource:this.state.waitPrevious||this.state.waitNext,onPrevious:this.switchToPrevious,onNext:this.switchToNext,itemsRefs:this._setItemsRefs},this.props,this._getResources()))}}]),n})(g.PureComponent),J=function(){};K.defaultProps={fetchResourcesThreshold:G,fetchResources:J,enableKeyboardControl:!0,onActiveResourceChange:J,onClose:J,onImageError:J,onToolbarAnimationEnd:J,toolbarVisible:!0,sliderApi:{}},K.ToolbarLeft=function(e){return y.a.createElement("div",{className:W().e("toolbar-left")},e.children)},K.ToolbarRight=function(e){return y.a.createElement("div",{className:W().e("toolbar-right")},e.children)};t.b=K}),(function(e,t,n){"use strict";var r=n(583),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}),(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=t.cnPopup=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(32),a=n(34),s=n(375),u=n(498),c=n(293);n(1202),t.cnPopup=a.cn("Popup2");t.Popup=function(e){var n=e.addonAfter,a=e.addonBefore,l=e.children,f=e.className,d=e.direction,p=e.hasTail,h=e.innerRef,m=e.keepMounted,v=e.scope,g=e.style,y=e.tailRef,b=e.tailSize,_=e.visible,O=e.zIndex,w=e.disableOverlay,E=e.unstable_onRenderTail,S=e.onClose,x=e.unstable_essentialRefs,C=void 0===x?[]:x,T=e.onClick,k=(e.theme,e.view,e.nonvisual,r.__rest(e,["addonAfter","addonBefore","children","className","direction","hasTail","innerRef","keepMounted","scope","style","tailRef","tailSize","visible","zIndex","disableOverlay","unstable_onRenderTail","onClose","unstable_essentialRefs","onClick","theme","view","nonvisual"])),j=i.useRef(null),P=o.useComponentRegistry(t.cnPopup()).Tail;return c.useOverlay({onClose:S,visible:!w&&_,essentialRefs:r.__spread([j],C)}),i.default.createElement(u.Portal,{scope:v,visible:_,keepMounted:m},i.default.createElement("div",r.__assign({},k,{className:t.cnPopup({visible:_},[f]),"data-popper-placement":d,onClick:T,ref:s.useForkRef(j,h),style:r.__assign(r.__assign({},g),{zIndex:O})}),a,"function"==typeof l?l({tailRef:y}):l,n,E&&E(i.default.createElement(P,{ref:y,style:{height:b,width:b}})),!E&&p&&i.default.createElement(P,{ref:y,style:{height:b,width:b}})))},t.Popup.displayName=t.cnPopup()}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.UserFamily=t.Segment=t.Subscription=t.Orientation=t.Platform=t.ThemeType=t.Lang=t.Project=void 0,(function(e){e.mailDesktop="mailDesktop",e.diskDesktop="diskDesktop",e.diskPublicDesktop="diskPublicDesktop",e.diskPublicTouch="diskPublicTouch",e.tuningDesktop="tuningDesktop",e.diskTouch="diskTouch",e.mailTouch="mailTouch",e.tuningTouch="tuningTouch",e.commonLanding="commonLanding",e.mailPublicLanding="mailPublicLanding",e.diskPublicLanding="diskPublicLanding",e.calendarDesktop="calendarDesktop",e.calendarTouch="calendarTouch",e.sarahDesktop="sarahDesktop"})(t.Project||(t.Project={})),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.Lang||(t.Lang={})),(function(e){e.dark="dark",e.light="light"})(t.ThemeType||(t.ThemeType={})),(function(e){e.desktop="desktop",e.touch="touch"})(t.Platform||(t.Platform={})),(function(e){e.landscape="landscape",e.portrait="portrait"})(t.Orientation||(t.Orientation={})),(function(e){e.all="all",e.paid="paid",e.free="free"})(t.Subscription||(t.Subscription={})),(function(e){e.all="all",e.b2b="b2b",e.b2c="b2c"})(t.Segment||(t.Segment={})),(function(e){e.familyInId="familyInId",e.tariffSubscription="tariffSubscription"})(t.UserFamily||(t.UserFamily={})),(function(e){e["page-init"]="page-init",e.compose="compose",e["page-changed"]="page-changed"})(t.Stage||(t.Stage={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1602),i=(function(){function e(){}return e.prototype.checkConditions=function(e){for(var t,n=0,i=e;n<i.length;n++){var o=i[n],a=null===(t=o.expected)||void 0===t||t;if(o.actual!==a)return r.DebugModel.info("checker","["+o.message+"] failed. Expected: [",a,"], actual: [",o.actual,"]"),!1}return!0},e})();t.CheckerModelClass=i,t.CheckerModel=new i}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATASYNC_KEY_NAME=t.ThemeName=void 0,(function(e){e.GeneralDefault="general-default",e.GeneralDarkDefault="general-dark-default",e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.GeneralDarkflow="general-darkflow",e.GeneralNewYear2023="general-new-year-2023",e.Void=""})(t.ThemeName||(t.ThemeName={})),t.DATASYNC_KEY_NAME="generalThemes"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",(function(){return E}));var r=n(21),i=n.n(r),o=n(83),a=n.n(o),s=n(0),u=n.n(s),c=n(19),l=n(426),f=n.n(l),d=n(822),p=n.n(d),h=n(112),m=n(42),v=n(336),g=n(27),y=n(54),b=n(31),_=n(48),O=n(14),w=p()(f.a),E=function(e,t){var n,r=t.objectIds,i=t.publicShareUrl,o=e.environment,a=o.agent,s=a.isTouch,u=a.isTablet,c=a.OSFamily,l=o.session.isOnlyOfficeAvailable,f=e.config,d=f.urlsBase,p=d.mail,h=d.yandex360,m=f.sk,v=f.idClient,g=e.user,y=g.uid,O=g.isOfficeAllowed,w=g.isB2b,E=g.features,S=g.pddOrgId,x=e.page.idContext,C=i?{isPublic:!0,shortUrl:i}:Object(b.getPublishObjectData)(e,r);return Object.assign({},C,{sk:m,connectionId:v,uid:y,isOfficeAllowed:O,idContext:x,mailOrigin:p,isTouch:s,isTablet:u,isAndroid:"Android"===c,isOnlyOfficeAvailable:l,isLinkBlockedForOverdraft:Object(_.isOverdraftHard)(e)&&C.objectType!==b.OBJECT_TYPES.ALBUM&&!C.isGuestInSharedFolder,isPublicSettingsEnabled:Boolean(null===E||void 0===E?void 0:null===(n=E.public_settings)||void 0===n?void 0:n.enabled),isB2b:w,yandex360Link:h,pddOrgId:S})},S={positiveUnsetPublishResource:v.positiveUnsetPublishResource,positiveUpdateOfficeAccessState:v.positiveUpdateOfficeAccessState,positiveUnpublishAlbum:y.positiveUnpublishAlbum,fetchPublicLinkSettings:v.fetchPublicLinkSettings,positiveChangePublicSettings:v.positiveChangePublicSettings,maybeBlockAction:g.maybeBlockAction};t.default=Object(c.connect)(E,S)((function(e){var t=e.objectType,n=e.resourceId,r=e.metaResourceId,o=e.resourceType,c=e.resourcePath,l=e.resourceName,f=e.resourceMediaType,d=e.publicSettings,p=e.isVicariousDoc,v=e.isEditable,g=e.shortUrl,y=e.officeAccessState,_=e.canUnpublish,E=e.isCooperativelyEditable,S=e.visible,x=e.mailOrigin,C=e.uid,T=e.isOfficeAllowed,k=e.sk,j=e.connectionId,P=e.positiveUnsetPublishResource,R=e.positiveUpdateOfficeAccessState,A=e.positiveUnpublishAlbum,I=e.fetchPublicLinkSettings,D=e.positiveChangePublicSettings,M=e.idContext,N=e.onClose,L=e.defaultExpanded,F=e.metrikaPath,B=e.metrikaTail,U=void 0===B?[]:B,z=e.showDeleteLinkProgress,V=e.isTablet,H=e.isAndroid,W=e.isOnlyOfficeAvailable,G=e.isGuestInSharedFolder,$=e.isLinkBlockedForOverdraft,q=e.maybeBlockAction,Y=e.isPublicSettingsEnabled,K=e.isB2b,J=e.yandex360Link,X=e.pddOrgId,Z=e.scope,Q=Object(s.useState)(!1),ee=a()(Q,2),te=ee[0],ne=ee[1],re=Object(s.useRef)(g),ie=Object(s.useRef)(M);Object(s.useEffect)((function(){S&&(re.current&&!g||ie.current!==M)&&N(),re.current=g,ie.current=M}),[S,g,M,N]);var oe=Object(s.useCallback)((function(e){var t=e.newAccessType,r=e.promise;R(n,t,r)}),[n,R]),ae=Object(s.useCallback)((function(e){t===b.OBJECT_TYPES.ALBUM?A(n,e):P(n,e),N()}),[n,t,P,A,N]),se=Object(s.useCallback)((function(){N(),ne(!1)}),[N]),ue=t===b.OBJECT_TYPES.ALBUM?"album":"dir"===o?"folder":"file",ce=Object(s.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];O.count.apply(void 0,i()(F).concat(t,i()(U)))}),[F.join(),U.join()]),le=$||(!T||!W||G)&&"dir"!==o,fe=!$&&E&&W,de=Object(s.useCallback)((function(e,t,r){D(n,e,t,r)}),[n,D]),pe=!$&&"/published"===M,he=t===b.OBJECT_TYPES.RESOURCE&&_&&!pe;return Object(s.useEffect)((function(){S&&he&&I(n).catch((function(){se(),ce("security settings","open error")}))}),[S,he,n,I,se,ce]),u.a.createElement(w,{officeAccessType:y||"disabled",onAccessTypeChange:oe,defaultExpanded:L||te,lang:"ru",linkUrl:he&&!d?null:g,resourceTitle:l,resourceId:t===b.OBJECT_TYPES.ALBUM?n:r,resourcePath:c,resourceType:ue,resourceMediaType:f,viewOnlyTooltipType:v&&!E?"doc":ue,modelsRoute:h.psModelsRoute,sk:k,onSkUpdate:h.onSkUpdate,uid:C,onAuthChanged:h.onAuthChanged,connectionId:j,fetchOptions:h.psFetchDefaultOptions,isTouch:!1,isTablet:V,isAndroid:H,isResourceTypeAvailableToEdit:fe,onClose:se,onDeleteLink:ae,showDeleteLinkProgress:z,visible:S,mailOrigin:x,isUserHasRightsToModifyAccess:_,deselectClass:m.LISTING_PREVENT_DESELECT_CLASS,countMetrikaFn:ce,noViewOnlyTooltip:le,noAccessBlock:pe,isOverdraft:$,isVicariousDoc:p,blockActionOverdraft:q,userHasPublicSettingsFeature:Y,isB2bUser:K,chooseTariffLink:J+(K?"/business":"/premium-plans")+"?from=share_settings",readOnlyValue:null===d||void 0===d?void 0:d.read_only,availableUntilValue:null===d||void 0===d?void 0:d.available_until,havePasswordValue:null===d||void 0===d?void 0:d.have_password,onChangeSecuritySettings:de,externalOrganizationIds:null===d||void 0===d?void 0:d.external_organization_ids,pddOrgId:X,scope:Z})}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M5.54 1.485a.3.3 0 01.3.3v1.95H7.7a.3.3 0 01.3.3v.898a.3.3 0 01-.3.3H5.84v1.95a.3.3 0 01-.3.3h-.9a.3.3 0 01-.3-.3v-1.95H2.483a.3.3 0 01-.3-.3v-.899a.3.3 0 01.3-.3H4.34v-1.95a.3.3 0 01.3-.3h.9zm.285 9.935zM9.64 7.116L5.825 11.42 4.139 9.718a.344.344 0 00-.5.01l-3.584 3.92a.211.211 0 00-.038.226.207.207 0 00.19.126h15.586a.207.207 0 00.189-.124.21.21 0 00-.035-.225l-5.792-6.535a.345.345 0 00-.515 0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"shareIconProvider",(function(){return _}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(30),v=n.n(m),g=n(12);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return this.props.isAndroid?h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.702 4.237L4.97 7.104a2.518 2.518 0 0 1-.042.998l5.862 3.576a2.5 2.5 0 1 1-.736 1.308L4.145 9.382a2.5 2.5 0 1 1 .152-3.62l5.734-2.866a2.5 2.5 0 1 1 .671 1.341z"}):h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.79767 3.15923C4.49622 3.47802 4.72222 4.00277 5.16096 4.00277H7V9.00003C7 9.55231 7.44772 10 8 10C8.55228 10 9 9.55231 9 9.00003V4.00277H10.839C11.2778 4.00277 11.5038 3.47802 11.2023 3.15923L8.36329 0.15695C8.16602 -0.0516654 7.83398 -0.0516656 7.63671 0.15695L4.79767 3.15923ZM13 7.00003C13 6.44775 13.4477 6.00003 14 6.00003C14.5523 6.00003 15 6.44775 15 7.00003V13.5C15 14.3285 14.3284 15 13.5 15H2.5C1.67157 15 1 14.3285 1 13.5V7.00003C1 6.44775 1.44772 6.00003 2 6.00003C2.55228 6.00003 3 6.44775 3 7.00003V13H13V7.00003Z"})}}]),n})(g.default);b.propTypes=Object.assign({isAndroid:v.a.bool.isRequired},g.default.propTypes),t.default=b;var _=Object(g.iconProvider)(b)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{d:"M13 6l-5 5-5-5z"}),h.a.createElement("path",{d:"M6 2h4v5H6zM3 12h10v2H3z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(459),o=n(1712),a=n(1729),s=n(1731),u=n(1734),c=n(1736),l=n(1738);n(1739),t.Textinput=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,c.withSizeNote),r.composeU(i.withViewDefault,a.withViewNormal,o.withViewNote,s.withViewSearch,u.withViewSuggestPsHeaderLight),r.composeU(r.composeU(i.withPinBrickBrick,i.withPinBrickClear,i.withPinBrickRound,i.withPinClearBrick,i.withPinClearClear,i.withPinClearRound),i.withPinRoundBrick,i.withPinRoundClear,i.withPinRoundRound),i.withHasClear,l.withIconClassName)(i.Textinput)}),(function(e,t,n){"use strict";var r=n(192),i=n(39),o=n(93),a=n(104),s=n(275);var u=n(121),c=n(276);var l=n(284),f=n(175),d=n(86),p=n(208),h=n(434),m=n(114);function v(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function g(e,t){return t===i.o?v(function(e){var t=Object(o.a)(e),n=Object(a.a)(e),r=t.visualViewport,i=n.clientWidth,u=n.clientHeight,c=0,l=0;return r&&(i=r.width,u=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,l=r.offsetTop)),{width:i,height:u,x:c+Object(s.a)(e),y:l}}(e)):Object(d.b)(t)?(function(e){var t=Object(r.a)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t})(t):v(function(e){var t=Object(a.a)(e),n=Object(c.a)(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-n.scrollLeft+Object(s.a)(e),f=-n.scrollTop;return"rtl"===Object(u.a)(r||t).direction&&(l+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:l,y:f}}(Object(a.a)(e)))}function y(e,t,n){var r="clippingParents"===t?(function(e){var t=Object(l.a)(Object(p.a)(e)),n=["absolute","fixed"].indexOf(Object(u.a)(e).position)>=0&&Object(d.b)(e)?Object(f.a)(e):e;return Object(d.a)(n)?t.filter((function(e){return Object(d.a)(e)&&Object(h.a)(e,n)&&"body"!==Object(m.a)(e)})):[]})(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=g(e,n);return t.top=Math.max(r.top,t.top),t.right=Math.min(r.right,t.right),t.bottom=Math.min(r.bottom,t.bottom),t.left=Math.max(r.left,t.left),t}),g(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var b=n(438),_=n(435),O=n(437);function w(e,t){void 0===t&&(t={});var n=t,o=n.placement,s=void 0===o?e.placement:o,u=n.boundary,c=void 0===u?i.d:u,l=n.rootBoundary,f=void 0===l?i.o:l,p=n.elementContext,h=void 0===p?i.i:p,m=n.altBoundary,g=void 0!==m&&m,w=n.padding,E=void 0===w?0:w,S=Object(_.a)("number"!=typeof E?E:Object(O.a)(E,i.b)),x=h===i.i?i.j:i.i,C=e.elements.reference,T=e.rects.popper,k=e.elements[g?x:h],j=y(Object(d.a)(k)?k:k.contextElement||Object(a.a)(e.elements.popper),c,f),P=Object(r.a)(C),R=Object(b.a)({reference:P,element:T,strategy:"absolute",placement:s}),A=v(Object.assign(Object.assign({},T),R)),I=h===i.i?A:P,D={top:j.top-I.top+S.top,bottom:I.bottom-j.bottom+S.bottom,left:j.left-I.left+S.left,right:I.right-j.right+S.right},M=e.modifiersData.offset;if(h===i.i&&M){var N=M[s];Object.keys(D).forEach((function(e){var t=[i.k,i.c].indexOf(e)>=0?1:-1,n=[i.m,i.c].indexOf(e)>=0?"y":"x";D[e]+=N[n]*t}))}return D}n.d(t,"a",(function(){return w}))}),(function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M7 14h7V7H7v7zM5 5h11v11H5V5zm4-2v1-1zm1-3H0v10V0h10zM0 10v1h4-4v-1zM10 0h1v4-4h-1zM3 9h1-1zM0 0h11v4H9V2H2v7h2v2H0V0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M1.694 11.531l8.63-8.63L13.1 5.674l-8.631 8.631L.999 15l.695-3.469zM13.1.125L15.876 2.9l-1.388 1.386-2.775-2.774L13.1.125z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{d:"M11 13h3V5H2v5H0v5h11v-2zM6.687 3H16v12H0V1h4.005c.776 0 1.24.271 1.624.73L6.687 3z"}),h.a.createElement("path",{d:"M9 11l-5 4v-3H0v-2h4V7z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},h.a.createElement("path",{d:"M5 3h2L3 13H1z"}),h.a.createElement("path",{d:"M7 3H5l4 10h2z"}),h.a.createElement("path",{d:"M3 9h6v2H3zm10-9h2v16h-2z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r={M:300,L:500,XL:800,XXL:1024,XXXL:1280},i=function(e){return e.filter((function(e){var t=e.name;return r[t]})).map((function(e){var t=e.name,n=e.url;return"".concat(n," ").concat(r[t],"w")})).join(",")},o=function(e,t){var n=e.find((function(e){return e.name===t}));return n&&n.url}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(456),i=n(285);function o(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:new r.a(e.form||e.ownerDocument.body,function(t){return Object(i.d)(t)&&t.name===e.name&&t.checked&&t.form===e.form}).next()})(e);return!t||t===e}function a(e){if(Object(i.d)(e)&&!o(e)||Object(i.c)(e))return-1;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}}),(function(e,t,n){var r=n(133);function i(e,t){try{this.monthsNominative=e||["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],this.monthsGenitive=t||["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}catch(e){}this.timestampToDate=this.timestampToDate.bind(this)}i.prototype={create:function(e,t){return new i(e,t)},timestampToDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY HH:mm";return r(1e3*e,t,this.monthsNominative,this.monthsGenitive)},numberToInterval:function(e,t){var n,r=t.length,i=t[0],o=t[r-1];if(e<=i)return"<= "+i;if(e>o)return"> "+o;for(var a=0;a<r-1;a++)if(i=t[a],o=t[a+1],e>i&&e<=o){n=i+1+" - "+o;break}return n}},e.exports=new i}),(function(e,t,n){"use strict";n.r(t);var r=n(429);n.d(t,"useUniqId",(function(){return r.a}))}),(function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}}),(function(e,t,n){"use strict";n.r(t);var r=n(561);n.d(t,"useRenderOverride",(function(){return r.c})),n.d(t,"RenderOverrideProvider",(function(){return r.b})),n.d(t,"MultiRenderOverrideProvider",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(217);t.personalJournalId="personal",t.contractListingAtLength=5,t.contractedListingSize=3,t.portionSize=40,t.eventsSize=20,t.filtersMetrika=["filters"],t.clearFiltersMetrika=r(t.filtersMetrika,["clear"]),t.eventTypeFilterMetrika=r(t.filtersMetrika,["choose event type"]),t.dateFilterMetrika=r(t.filtersMetrika,["choose date"]),t.textFilterMetrika=r(t.filtersMetrika,["search query"]),t.folderFilterMetrika=r(t.filtersMetrika,["folder"]),t.platformFilterMetrika=r(t.filtersMetrika,["folder"]),t.DISK_FOR_BUSINESS_PRODUCT_ID="yandex_disk_for_business",t.journalIdRe=/^\/client\/(?:vd\/([^\/]+)\/)?journal/,t.journalEventTypes=Object.values(i.JournalEventType),t.journalPlatforms=Object.values(i.Platform),t.journalUrlFilterKeys=["eventType","parentFolder","platform","querySearch","startEventTimestamp"],t.baseJournalParams={folder:null,eventType:null,parentFolder:null,platform:null,startEventTimestamp:null,querySearch:null},t.pageParams={dialog:null,idContext:null}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(76),o=(n(1195),Object(r.withBemMod)(Object(i.b)(),{nonvisual:!0}))}),(function(e,t,n){var r=n(254),i=n(1569),o=n(1591),a=n(256),s=n(304),u=n(1595),c=n(697),l=n(715),f=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var f=t.length;f--;)o(n,t[f]);return n}));e.exports=f}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close3IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",d:"M13.684 1.679l-1.52-1.52-5.321 5.32L1.52.16 0 1.678l5.322 5.32L0 12.322l1.52 1.521L6.843 8.52l5.32 5.322 1.521-1.521L8.363 7z"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"none",fillRule:"evenodd"},h.a.createElement("path",{fill:"currentColor",d:"M7 7h2v5H7zM7 4h2v2H7z"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(114),i=n(104);function o(e){return"html"===Object(r.a)(e)?e:e.assignedSlot||e.parentNode||e.host||Object(i.a)(e)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={};function i(){return r}}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(8),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(127),_=n.n(b),O=n(318),w=n(11),E=n.n(w);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var x=(function(e){d()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component),C=(function(e){d()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component);var T=(function(e){d()(n,e);var t=S(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._anchorRef=y.a.createRef(),r._popup=y.a.createRef(),r._onAnchorMouseEnter=r._onAnchorMouseEnter.bind(a()(r)),r._onAnchorMouseLeave=r._onAnchorMouseLeave.bind(a()(r)),r._onPopupMouseEnter=r._onPopupMouseEnter.bind(a()(r)),r._onPopupMouseLeave=r._onPopupMouseLeave.bind(a()(r)),r._bindPopupEvents=r._bindPopupEvents.bind(a()(r)),r}return l()(n,[{key:"componentDidMount",value:function(){this._bindAnchorEvents(),this.props.visible&&this._bindPopupEvents()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this._bindPopupEvents()}},{key:"componentWillUnmount",value:function(){this._clearTimer(),this._unbindAnchorEvents(),this._unbindPopupEvents()}},{key:"_bindAnchorEvents",value:function(){this._anchor&&(this._anchor.addEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.addEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_unbindAnchorEvents",value:function(){this._anchor&&(this._anchor.removeEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.removeEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_bindPopupEvents",value:function(){if(!this._popupEventsBound&&this._popup){var e=this._popup.current;e&&e.addEventListener("mouseenter",this._onPopupMouseEnter),e&&e.addEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!0}}},{key:"_unbindPopupEvents",value:function(){if(this._popup){var e=this._popup.current;e&&e.removeEventListener("mouseenter",this._onPopupMouseEnter),e&&e.removeEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!1}}},{key:"_clearTimer",value:function(){this._hideTimer&&clearTimeout(this._hideTimer),this._showTimer&&clearTimeout(this._showTimer),this._hideTimer=null,this._showTimer=null}},{key:"_deferClosePopup",value:function(){var e=this;this._hideTimer=setTimeout((function(){e._hideTimer=null,e.props.onClose(),e._unbindPopupEvents()}),200)}},{key:"_onAnchorMouseLeave",value:function(){this._showTimer&&clearTimeout(this._showTimer),this._deferClosePopup()}},{key:"_onAnchorMouseEnter",value:function(){var e=this;this._hideTimer?this._clearTimer():this.props.showDelay?(this._showTimer&&clearTimeout(this._showTimer),this._showTimer=setTimeout((function(){e.props.onOpen()}),this.props.showDelay)):this.props.onOpen()}},{key:"_onPopupMouseEnter",value:function(){this._clearTimer()}},{key:"_onPopupMouseLeave",value:function(){this._deferClosePopup()}},{key:"render",value:function(){var e=this,t=null,n=null;return y.a.Children.forEach(this.props.children,(function(r){(function(e){return e&&"function"==typeof e.type&&e.type===x})(r)&&(t=y.a.createElement(x,i()({ref:function(t){e._anchor=_.a.findDOMNode(t),e._anchorRef={current:e._anchor}}},r.props))),(function(e){return e&&"function"==typeof e.type&&e.type===C})(r)&&(n=y.a.createElement(O.Tooltip,i()({hasTail:!0,state:"warning",visible:e.props.visible,anchor:e._anchorRef,innerRef:e._popup},r.props)))})),y.a.createElement("span",{className:E()()("hover-dropdown").mix(this.props.className)},t,n)}}]),n})(g.Component);T.defaultProps={showDelay:0,onOpen:function(){},onClose:function(){}},T.Anchor=x,T.Tooltip=C,t.default=T}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}t.a=function(e,t,n,r){var o=Array.isArray(t)?t.slice():[t],s=o.map((function(e){return"saved"+e[0].toUpperCase()+e.slice(1)})),c=Array.isArray(t)?r:[r],l=(function(t){u()(l,t);var r=m(l);function l(e){var t;i()(this,l),t=r.call(this,e);var a=n(t.props);return t.state=o.reduce((function(e,n,r){return e[s[r]]=a?t.props[n]:c[r],e}),{}),t}return a()(l,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(n(e)){var t=o.reduce((function(t,n,r){return t[s[r]]=e[n],t}),{});this.setState(t)}}},{key:"render",value:function(){var t=Object.assign({},this.state,this.props);return h.a.createElement(e,t)}}]),l})(p.Component);return l.displayName="WithSavedProps(".concat(e.displayName||e.name,")"),l}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.412 16.02C1.044 14.175-.22 11.745.62 8.73 1.717 4.784 6.38 2.414 5.962.02c2.274.288 5.675 4.796 5.044 8.71.847-.257 1.5-1.343 1.96-3.26 3.272 4.444 2.62 7.96-1.96 10.55-5.1-2.028-4.868-4.935-5.044-5.33-.886 1.493-1.403 3.27-1.55 5.33z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=n(33),a={preprocessAlbum:function(e){return e.public.short_url=o.default.fixShortUrl(e.public.short_url),"favorites"===e.album_type&&(e.title="Избранные"),"family"===e.album_type&&(e.title="Альбом семьи"),e.cover&&e.cover.object&&(e.cover=Object.assign({},e.cover.object,i.a.pick(e.cover,"face_bottom","face_top","face_left","face_right","width","height"))),e},TITLE_ALBUM_DEFAULT:"Яндекс Диск"};t.a=a}),(function(e,t,n){"use strict";n.r(t);var r,i,o=n(188),a=n.n(o),s={},u=document.documentElement,c="modernizr",l=document.createElement(c),f=l.style,d=":)",p=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms".split(" "),m="Webkit Moz O ms".toLowerCase().split(" "),v="http://www.w3.org/2000/svg",g={},y=[],b=y.slice,_=function(e,t,n,r){var i,o,a,s,l=document.createElement("div"),f=document.body,d=f||document.createElement("body");if(parseInt(n,10))for(;n--;)(a=document.createElement("div")).id=r?r[n]:c+(n+1),l.appendChild(a);return i=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),l.id=c,(f?l:d).innerHTML+=i,d.appendChild(l),f||(d.style.background="",d.style.overflow="hidden",s=u.style.overflow,u.style.overflow="hidden",u.appendChild(d)),o=t(l,e),f?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),u.style.overflow=s),!!o},O=(function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t,n){n=n||document.createElement(e[t]||"div");var r=(t="on"+t)in n;return r||(n.setAttribute||(n=document.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(t,""),r=S(n[t],"function"),S(n[t],"undefined")||(n[t]=void 0),n.removeAttribute(t))),n=null,r}})(),w={}.hasOwnProperty;function E(e){f.cssText=e}function S(e,t){return a()(e)===t}function x(e,t){return!!~(""+e).indexOf(t)}function C(e,t){for(var n in e){var r=e[n];if(!x(r,"-")&&void 0!==f[r])return"pfx"!=t||r}return!1}function T(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+h.join(r+" ")+r).split(" ");return S(t,"string")||S(t,"undefined")?C(i,t):(function(e,t,n){for(var r in e){var i=t[e[r]];if(void 0!==i)return!1===n?e[r]:S(i,"function")?i.bind(n||t):i}return!1})(i=(e+" "+m.join(r+" ")+r).split(" "),t,n)}for(var k in i=S(w,"undefined")||S(w.call,"undefined")?function(e,t){return t in e&&S(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1);return function r(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(b.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(b.call(arguments)))}}),g.flexbox=function(){return T("flexWrap")},g.touch=function(){var e;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?e=!0:_(["@media (",p.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){e=9===t.offsetTop})),e},g.draganddrop=function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},g.cssanimations=function(){return T("animationName")},g.csstransforms=function(){return!!T("transform")},g.csstransforms3d=function(){var e=!!T("perspective");return e&&"webkitPerspective"in u.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},g.csstransitions=function(){return T("transition")},g.generatedcontent=function(){var e;return _(["#",c,"{font:0/0 a}#",c,':after{content:"',d,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},g.audio=function(){var e=document.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},g.localstorage=function(){try{return localStorage.setItem(c,c),localStorage.removeItem(c),!0}catch(e){return!1}},g.svg=function(){return!!document.createElementNS&&!!document.createElementNS(v,"svg").createSVGRect},g)i(g,k)&&(r=k.toLowerCase(),s[r]=g[k](),y.push((s[r]?"":"no-")+r));s.addTest=function(e,t){if("object"==a()(e))for(var n in e)i(e,n)&&s.addTest(n,e[n]);else{if(e=e.toLowerCase(),void 0!==s[e])return s;t="function"==typeof t?t():t,u.className+=" "+(t?"":"no-")+e,s[e]=t}return s},E(""),l=null,s._version="2.8.3",s._prefixes=p,s._domPrefixes=m,s._cssomPrefixes=h,s.mq=function(e){var t,n=window.matchMedia||window.msMatchMedia;return n?n(e)&&n(e).matches||!1:(_("@media "+e+" { #"+c+" { position: absolute; } }",(function(e){t="absolute"==(window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position})),t)},s.hasEvent=O,s.testProp=function(e){return C([e])},s.testAllProps=T,s.testStyles=_,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+y.join(" "),s.addTest("filereader",(function(){return!!(window.File&&window.FileList&&window.FileReader)})),s.addTest("fullscreen",(function(){for(var e=0;e<s._domPrefixes.length;e++)if(document[s._domPrefixes[e].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1})),t.default=s}),(function(e,t,n){"use strict";var r=n(201);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))}),(function(e,t,n){"use strict";var r=n(177),i=n(917),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.mkdir="fs-mkdir",e.copy="fs-copy",e.move="fs-move",e.store="fs-store",e.storeUpdate="fs-store-update",e.storeDownload="fs-store-download",e.photostreamStore="fs-store-photostream",e.photounlimStore="fs-store-photounlim",e.setPublic="fs-set-public",e.setPrivate="fs-set-private",e.aviary="fs-aviary-render",e.rm="fs-rm",e.appendTrash="fs-trash-append",e.dropTrash="fs-trash-drop",e.dropAllTrash="fs-trash-drop-all",e.restoreTrash="fs-trash-restore",e.rename="fs-rename",e.importSocial="social-import",e.promoReduce="space-promo-reduce",e.promoEnlarge="space-promo-enlarge",e.productReduce="space-product-reduce",e.createAlbum="album-create",e.removeAlbum="album-remove",e.createAlbumItem="album-create-item",e.appendAlbumItems="album-items-append",e.removeAlbumItems="album-items-remove",e.changeAlbumPulicity="album-change-publicity",e.changeAlbumCover="album-change-cover",e.changeAlbumTitle="album-change-title",e.sentInvite="invite-sent",e.activateInvite="invite-activation",e.addComment="comment-add",e.likeComment="comment-like-add",e.dislikeComment="comment-dislike-add",e.buy="billing-buy-new",e.prolong="billing-prolong",e.prolongError="billing-prolong-error",e.subscribe="billing-subscribe",e.unsubscribe="billing-unsubscribe",e.inviteUser="share-invite-user",e.changeRights="share-change-rights",e.kickFromGroup="share-kick-from-group",e.activateShare="share-activate-invite",e.rejectInvite="share-reject-invite",e.removeInvite="share-remove-invite",e.changeInviteRights="share-change-invite-rights",e.leaveGroup="share-leave-group",e.unshareFolderUser="share-unshare-folder-user"})(t.JournalEventType||(t.JournalEventType={})),(function(e){e.initial="initial",e.created="created",e.fetching="fetching",e.appending="appending",e.fetched="fetched",e.failed="failed"})(t.JournalState||(t.JournalState={})),(function(e){e.folder="folder",e.file="file",e.photo="photo",e.video="video"})(t.ResourceType||(t.ResourceType={})),(function(e){e.names="names",e.images="images",e.users="users"})(t.ListingType||(t.ListingType={})),(function(e){e.goToParent="parent",e.openSlider="openSlider",e.setSelected="selected"})(t.NavigationType||(t.NavigationType={})),(function(e){e.withoutPeriod="withoutPeriod",e.everyMonth="everyMonth",e.everyYear="everyYear"})(t.BillingPeriod||(t.BillingPeriod={})),(function(e){e.ios="ios",e.andr="andr",e.wp="wp",e.mac="mac",e.win="win",e.web="web",e.lnx="lnx",e.rest="rest"})(t.Platform||(t.Platform={}))}),(function(e,t,n){var r=n(603).domains,i=Object.keys(r).map((function(e){return r[e].domain.replace(".","\\.")})),o=new RegExp("^(?:ya\\.ru|яндекс\\.рф|yandex\\.(?:".concat(i.join("|"),"))$")),a=/^(?:gmail\.com|googlemail.com)$/,s=e.exports={domainNormal:"yandex.ru",isEmail:function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)},yandexDomainRegExp:o,normalize:function(e){if(!s.isEmail(e))return e;var t=/^(.+)@([^@]+)$/.exec(e);if(!t)return e;var n=(e=t.slice(1))[0],r=e[1].toLowerCase();return o.test(r)&&(n=n.toLowerCase().split(".").join("-").split("+")[0],r="yandex.ru"),"narod.ru"===r&&(n=n.toLowerCase().split(".").join("-").split("+")[0]),a.test(r)&&(n=n.toLowerCase().split(".").join("").split("+")[0],r="gmail.com"),n+"@"+r}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAllRefs=t.mergeRefs=void 0;var r=n(1028);t.mergeRefs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.canUseDOM()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e},t.mergeAllRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t,n){var r=n(1122),i=n(1127);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}),(function(e,t,n){var r=n(626),i=n(491);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBox=t.cnMessageBox=t.Wrapper=t.Corner=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(34),a=n(1212),s=n(1214),u=n(1216);n(1218);var c=n(1219);Object.defineProperty(t,"Corner",{enumerable:!0,get:function(){return c.MessageBoxCorner}});var l=n(1221);Object.defineProperty(t,"Wrapper",{enumerable:!0,get:function(){return l.MessageBoxTextWrap}}),t.cnMessageBox=o.cn("MessageBox");t.MessageBox=function(e){var n=e.actions,o=e.background,c=e.children,l=e.className,f=e.corner,d=e.hasTail,p=e.innerRef,h=e.layout,m=void 0===h?"plain":h,v=e.onClose,g=e.hasClose,y=void 0===g?Boolean(v):g,b=e.opaque,_=e.tailRef,O=e.tailType,w=void 0===O?"default":O,E=r.__rest(e,["actions","background","children","className","corner","hasTail","innerRef","layout","onClose","hasClose","opaque","tailRef","tailType"]);return i.default.createElement("div",r.__assign({className:t.cnMessageBox({opaque:b,layout:m,hasClose:v&&y},[l]),ref:p},E),i.default.createElement("div",{className:t.cnMessageBox("Backdrop")},d&&i.default.createElement(u.MessageBoxTail,{innerRef:_,tailType:w}),o&&i.default.createElement("div",{className:t.cnMessageBox("Background")},o)),i.default.createElement("div",{className:t.cnMessageBox("Content")},c,v&&y&&i.default.createElement(a.MessageBoxClose,{onClick:v})),n&&i.default.createElement(s.MessageBoxButtons,null,n),f)},t.MessageBox.displayName="MessageBox"}),(function(e,t,n){"use strict";n.r(t);var r=n(557);n.d(t,"usePress",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationsContext=void 0;const i=r(n(0)),o=n(181);t.TranslationsContext=i.default.createContext({keysetId:"",lang:o.Lang.ru,translations:{}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentContext=void 0;const i=r(n(0));t.EnvironmentContext=i.default.createContext({})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9));!(function(e){e.docx="docx",e.doc="doc",e.xlsx="xlsx",e.xls="xls",e.pptx="pptx",e.ppt="ppt"})(t.DocsExt||(t.DocsExt={})),t.acceptedExts={docx:["docx","doc"],xlsx:["xlsx","xls"],pptx:["pptx","ppt"]},t.getAllAcceptedExts=function(){return i.default.flatten(Object.values(t.acceptedExts))},t.getAcceptedExtsByDocsType=function(e){return t.acceptedExts[e]},t.getDocsTypeByExt=function(e){return Object.entries(t.acceptedExts).reduce((function(t,n){var r=n[0];return n[1].some((function(t){return t===e}))?r:t}),null)},t.getExtByFileName=function(e){var t=e.toLowerCase().match(/\.(.*)$/);return t&&t[1]?t[1]:null},t.filterDocsFiles=function(e){for(var n=0,r=t.getAllAcceptedExts();n<r.length;n++){var i=r[n];if(e.name.toLowerCase().match("."+i+"$"))return!0}return!1}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(19),v=n(0),g=n.n(v),y=n(419),b=n(228),_=n(794),O=n(9),w=n.n(O),E=n(197),S=n(92),x=n(54),C=n(28),T=n(55),k=n(27),j=n(37),P=n.n(j),R=n(14),A=n(260),I=n.n(A),D=n(137),M=(n(1883),n(11)),N=n.n(M);function L(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var F=function(){return N()()("albums2")},B=0,U=!1,z=(function(e){l()(n,e);var t=L(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._setNewAlbumRef=r._setNewAlbumRef.bind(u()(r)),r._onNewAlbumClick=r._onNewAlbumClick.bind(u()(r)),r._onNewAlbumKeyPress=r._onNewAlbumKeyPress.bind(u()(r)),r._onAlbumClick=r._onAlbumClick.bind(u()(r)),r._renderItem=r._renderItem.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.canShowAlbumsFaces,r=t.albumType,i=t.fetchAlbums,o=t.goToUrl,a=t.albumsLoaded,s="faces"===r;s&&!n?o("/client/albums"):r?a?this._fetchListing(s):i().then((function(){e._fetchListing(s)})).catch((function(){o("/client/albums")})):this._fetchListing(),this._maybeScrollInAlbums()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.albumType,r=t.isLoaded,i=t.albumsLoaded,o=t.albums,a=t.readonly,s=t.scrollInAlbums;e.albumType!==n&&this._fetchListing(),!a&&n&&r&&!o.length&&this.props.goToUrl("/client/albums"),e.isLoaded||!r||a||n||U||(U=!0,D.a.reachBlock("albums")),s===e.scrollInAlbums&&r===e.isLoaded&&i===e.albumsLoaded||this._maybeScrollInAlbums()}},{key:"_setNewAlbumRef",value:function(e){this._newAlbumRef=e}},{key:"_maybeScrollInAlbums",value:function(){var e=this.props,t=e.scrollInAlbums,n=e.setAlbumsScroll,r=e.albumType,i=e.readonly,o=e.isLoaded,a=e.albumsLoaded;!r&&!i&&o&&a&&t&&(n(null),t===x.ALBUMS_SCROLL.RESTORE?I.a.scrollTo(B):t===x.ALBUMS_SCROLL.SCROLL&&this._newAlbumRef&&I.a.scrollListingToNode($(this._newAlbumRef),46))}},{key:"_fetchListing",value:function(e){"family"!==this.props.albumType&&(e?this.props.fetchAlbumsListing(this.props.albumType,0,!0):this.props.fetchAlbumsListing(this.props.albumType))}},{key:"_onNewAlbumClick",value:function(){this.props.onAlbumClick?this.props.onAlbumClick("new"):(B=window.pageYOffset,this.props.requestNewAlbumTitle(),R.default.count("interface elements","albums","click create album"))}},{key:"_onNewAlbumKeyPress",value:function(e){e.charCode===P.a.KEYS.ENTER&&this._onNewAlbumClick()}},{key:"_onAlbumClick",value:function(e){this.props.onAlbumClick?this.props.onAlbumClick(e):this.props.goToUrl("/client/albums/"+e)}},{key:"_renderNewAlbum",value:function(){return g.a.createElement("div",{className:F().e("item").m({new:!0}),key:"album_new",ref:this._setNewAlbumRef,onClick:this._onNewAlbumClick,onKeyPress:this._onNewAlbumKeyPress,tabIndex:0},g.a.createElement("div",{className:F().e("new-content")},g.a.createElement(b.default,null),g.a.createElement("span",{className:F().e("new-text")},"Новый альбом")))}},{key:"_renderItem",value:function(e){if("new"===e.id)return this._renderNewAlbum();var t=w.a.get(e,"cover.meta.sizes"),n=t&&Object(E.a)(t,"DEFAULT")||e.preview,r={"no-cover":!n};return![e.id,e.album_type].includes("family")||this.props.hasFamilyAlbumFeature||this.props.shouldShowAlbumPromoStub||(r["warning-icon"]=!0),g.a.createElement(_.a,{id:e.id,key:e.id,album:e,preview:n,modifiers:r,onOpen:this._onAlbumClick,isMobile:this.props.isMobile,readonly:this.props.readonly})}},{key:"render",value:function(){var e=this,t=this.props.isMobile,n=[];return this.props.albums.forEach((function(t){n.push(e._renderItem(t))})),g.a.createElement("div",{className:F().m({mobile:t,desktop:!t,listing:!0})},g.a.createElement("div",{className:F().e("row")},g.a.createElement("div",{className:F().e("panel")},n)))}}]),n})(v.Component),V=Object(y.a)(z,(function(e,t){return t.albums.length!==e.albums.length}));t.default=Object(m.connect)((function(e,t){var n=e.environment,r=n.agent,i=r.isMobile,o=r.OSFamily,a=n.session.locale,s=e.albums.isLoaded,u=e.personalAlbums.scrollInAlbums,c=t.albumType||null,l=t.albums||Object(C.getAlbumsListing)(e,c),f=Object(C.getAlbumsData)(e,c);return{canShowAlbumsFaces:Object(C.canShowAlbumsFaces)(e),scrollInAlbums:u,readonly:!!t.readonly,loading:f.isLoading,isLoaded:f.isLoaded,albumsLoaded:s,completed:f.isCompleted,OSFamily:o,isMobile:i,locale:a,albumType:c,albums:l,metrikaTail:["albums listing"],centerSpin:"family"===t.albumType,hasFamilyAlbumFeature:Object(T.hasFamilyAlbumFeature)(e)}}),(function(e,t){return{fetchAlbums:function(){return e(Object(S.fetchAlbums)())},fetchAlbumsListing:function(){return e(S.fetchAlbumsListing.apply(void 0,arguments))},requestFetchNext:function(){return"family"!==t.albumType?e(Object(S.fetchAlbumsNext)(t.albumType)):void 0},requestNewAlbumTitle:function(){return e(Object(x.requestNewAlbumTitle)())},setAlbumsScroll:function(t){return e(Object(x.setAlbumsScroll)(t))},goToUrl:function(t){return e(Object(k.goToUrl)(t))}}}))(V)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"plusIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M13 11V3.5c0-.276-.214-.5-.505-.5h-.99a.507.507 0 0 0-.505.5V11H3.5c-.276 0-.5.214-.5.505v.99c0 .279.23.505.5.505H11v7.5c0 .276.214.5.505.5h.99c.279 0 .505-.23.505-.5V13h7.5c.276 0 .5-.214.5-.505v-.99a.507.507 0 0 0-.5-.505H13z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r;n.r(t),t.default=function(e,t){return"function"!=typeof Audio?"":(r||(r=new Audio),r.canPlayType(e+(t?'; codecs="'.concat(t,'"'):"")))}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=function(e,t){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},i=function(e,t){return r(e,t)?Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)):0},o=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.right,o=t.bottom;return{top:n+=window.pageYOffset,left:r+=window.pageXOffset,right:i+=window.pageXOffset,bottom:o+=window.pageYOffset}}}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(1868),n(0)),_=n.n(b),O=n(19),w=n(33),E=n(97),S=n(103),x=n(15),C=n(280),T=n.n(C),k=(n(126),n(72)),j=n(57),P=n(69),R=n(184),A=n(186),I=n(321),D=n(465),M=n(196),N=n(150),L=n(212),F=n(124),B=n(195),U=n(194),z=n(239),V=n(193),H=n(187),W=n(241),G=n(238),$=n(333),q=n(185),Y=n(207),K=n(240),J=n(12);function X(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Z=(function(e){h()(n,e);var t=X(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return _.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M15.362 17.095l-8.458-8.46c1.323-1.107 2.806-1.313 5.07-.783l1.083.254 4.45-4.447 2.827 2.826-3.66 3.66-.793.791.261 1.09c.548 2.283.348 3.739-.78 5.069zM4.766 7.91a1 1 0 0 0 0 1.414l4.242 4.243-5.642 5.643-.709 2.124 2.123-.71 5.642-5.642 4.247 4.247a1 1 0 0 0 1.414 0l.316-.315c2.124-2.111 2.387-4.444 1.688-7.356l3.661-3.66a2 2 0 0 0 0-2.828L18.92 2.245a2 2 0 0 0-2.828 0l-3.662 3.66c-2.887-.676-5.251-.407-7.35 1.691l-.314.315z"})}}]),n})(J.default),Q=(Object(J.iconProvider)(Z),n(211)),ee=n(11),te=n.n(ee),ne=n(20),re=n(14),ie=n(31),oe=n(48);function ae(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}n.d(t,"ACTIONS",(function(){return ue}));var se=function(){return te()()("resources-actions-popup")},ue=[{group:0,id:ne.PUBLISH,icon:function(e){var t=e.isAndroid;return function(e){return _.a.createElement(A.default,{cls:e,isAndroid:t})}}},{group:1,id:ne.VIEW,icon:function(){return D.b}},{group:1,id:ne.EDIT,icon:function(){return U.b}},{group:1,id:ne.PIN,icon:function(){return function(e){return _.a.createElement(Z,{iconSize:"m",cls:e})}}},{group:2,id:ne.SHARE_ACCESS,icon:function(){return I.a}},{group:2,id:ne.ADD_TO_ALBUM,icon:function(){return q.a}},{group:2,id:ne.SET_AS_COVER,icon:function(){return K.a}},{group:2,id:ne.FOTKI_INFO,icon:function(){return Y.b}},{group:3,id:ne.DOWNLOAD,icon:function(){return H.b}},{group:3,id:ne.RENAME,icon:function(){return M.a}},{group:3,id:ne.MOVE,icon:function(){return B.b}},{group:3,id:ne.COPY,icon:function(){return V.a}},{group:3,id:ne.GO_TO_FILE,icon:function(){return G.a}},{group:3,id:ne.GO_TO_FOLDER,icon:function(){return $.a}},{group:4,id:ne.VERSIONS,icon:function(){return z.a}},{group:4,id:ne.EXCLUDE_FROM_PERSONAL_ALBUM,icon:function(){return F.a}},{group:4,id:ne.EXCLUDE_FROM_GEO_ALBUM,icon:function(){return F.a}},{group:4,id:ne.EXCLUDE_FROM_ALBUM,icon:function(){return F.a}},{group:4,id:ne.DELETE,icon:function(){return N.b}},{group:4,id:ne.REMOVE_FROM_DOCS,icon:function(){return N.b}},{group:5,id:ne.RESTORE,icon:function(){return W.b}},{group:5,id:ne.DELETE_FROM_TRASH,icon:function(){return L.a}},{group:5,id:ne.CLEAN_TRASH,icon:function(){return L.a}}],ce=(function(e){h()(n,e);var t=ae(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._getPopupContent=r._getPopupContent.bind(d()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(d()(r)),r._onWindowContextMenu=r._onWindowContextMenu.bind(d()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(d()(r)),r.state={isShareDialogVisible:!1,shareDialogMenuExpanded:!1,forceShowShareDialog:!1},r._showShareDialogOnPublish=!1,r._drawerRef=_.a.createRef(),r}return l()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this._showShareDialogOnPublish&&e.isPublic&&!this.props.isPublic;t&&this.props.visible&&(this._showShareDialogOnPublish=!1,this.setState({isShareDialogVisible:!0})),t&&this.state.forceShowShareDialog&&(this.props.resourceId===e.resourceId?(this._showShareDialogOnPublish=!1,this.setState({isShareDialogVisible:!0})):this.state.forceShowShareDialog&&this.setState({forceShowShareDialog:!1}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditable,r=t.shouldShowExpandedMenu,i=t.shortUrl,o=t.isPublishing,s=t.saveShareEditMenuExpanded;!e.visible||this.props.visible||this.state.forceShowShareDialog||(re.default.count.apply(re.default,a()(this.props.metrikaPath).concat(["close"],a()(this.props.metrikaTail))),this._showShareDialogOnPublish=!1),n&&!this.state.shareDialogMenuExpanded&&(r||i&&e.isPublishing&&!o)&&(r&&s(),this.setState({shareDialogMenuExpanded:!0})),this.props.isOverdraftDialogOpened&&!e.isOverdraftDialogOpened&&this.props.onClose()}},{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"_onWindowContextMenu",value:function(e){var t;null!==(t=this._drawerRef.current)&&void 0!==t&&t.contains(e.target)&&e.preventDefault()}},{key:"_onCloseBeforeAction",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector('.listing-item[tabindex="0"]');t&&t.focus(),e&&this.props.onClose()}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;t!==ne.PUBLISH?(this._onCloseBeforeAction(),this.props.onAction(t),this._countActionInMetrika(t)):this.props.isPublic?(this._onCloseBeforeAction(!1),this.setState({isShareDialogVisible:!0}),this.props.isLinkBlockedForOverdraft||this.props.copyPublicLink(this.props.shortUrl)):this.props.maybeBlockAction({forLite:!0})?this._onCloseBeforeAction():(this._onCloseBeforeAction(!1),this.props.publishObject(this.props.savedResources.map((function(e){return e.id})),this.props.objectType),this._showShareDialogOnPublish=!0,w.default.isCamera(this.props.resourceId)&&this.setState({forceShowShareDialog:!0}))}},{key:"_getMetrikaAction",value:function(e){var t=e;return e===ne.PUBLISH&&this.props.savedResources.length>1&&(t+=" album"),t}},{key:"_countActionInMetrika",value:function(e){var t=this.props.metrikaPath.concat(this._getMetrikaAction(e));re.default.count.apply(re.default,a()(t).concat(a()(this.props.metrikaTail)))}},{key:"_getMenuItems",value:function(){var e,t=this,n=null,r=ue.filter((function(e){return t.props.savedActions[e.id]})).filter((function(e){return e.id!==ne.VERSIONS||!t.props.savedActions[e.id].disabled})).map((function(e){return Object.assign({title:Object(ne.getTitle)(e.id,t.props.savedResources)},e,t.props.savedActions[e.id])})).reduce((function(r,i){var o;if(i.group!==n&&(n=i.group,e&&r.push(_.a.createElement(j.Group,{key:n,paddingless:!0},e)),e=[]),i.id===ne.PUBLISH){var a=t.props.isPublishing;if(1===t.props.savedResources.length){var s=t.props.isPublic;a=Boolean(t.props.isPublishing&&(i.id===ne.PUBLISH?!s:s))}o=_.a.createElement("span",{className:se().e("spin-wrapper")},i.title,_.a.createElement(P.Spin,{view:"default",className:se().e("spin"),size:"xxs",progress:a}))}else o=i.title;return e.push(_.a.createElement(j.Item,{key:i.id,value:i.id,disabled:i.disabled,tabIndex:0,className:se().e("action").m({type:i.id}),tooltipText:i.tooltipText,icon:i.icon(t.props)},o)),r}),[]);return e&&r.push(_.a.createElement(j.Group,{key:String(n),paddingless:!0},e)),r}},{key:"_getPopupContent",value:function(){return _.a.createElement("div",{className:se().e("wrapper")},_.a.createElement(j.Menu,{className:se().e("actions-menu"),view:"default",size:"m",wide:!0,paddingless:!0,onChange:this._onMenuItemClick},this._getMenuItems()))}},{key:"_onShareDialogClose",value:function(){this.props.onClose(),this.setState({isShareDialogVisible:!1,forceShowShareDialog:!1})}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.resourceId,r=e.position,o=e.anchor,a=e.target,s=e.onClose,u=e.direction,c=e.metrikaPath,l=this.state.isShareDialogVisible,f={target:a};f.direction=u,"anchor"===a?f.anchor=o:(f.position=r,f.motionless=!0);var d=t&&!l;return _.a.createElement(_.a.Fragment,null,_.a.createElement(k.Popup,i()({view:"default",className:se().mix("js-prevent-deselect"),visible:d,onClose:s},f),this._getPopupContent()),Boolean(n)?_.a.createElement(R.default,{visible:l&&(t||this.state.forceShowShareDialog),objectIds:[n],onClose:this._onShareDialogClose,metrikaPath:c.concat(this._getMetrikaAction(ne.PUBLISH)),defaultExpanded:this.state.shareDialogMenuExpanded}):null)}}]),n})(b.Component);ce.defaultProps={direction:["bottom-start","bottom-end","top-start","top-end","left"],target:"position",metrikaTail:[]};var le={saveShareEditMenuExpanded:x.saveShareEditMenuExpanded},fe=Object(O.connect)((function(e,t){var n=e.settings.shareEditMenuExpandedShowed,r=t.savedResources.map((function(e){return e.id})),i=t.savedResources.length?Object(ie.getPublishObjectData)(e,r):{};return Object.assign({},i,{objectIds:r,shouldShowExpandedMenu:"1"!==n,isLinkBlockedForOverdraft:Object(oe.isOverdraftHard)(e)&&i.objectType!==ie.OBJECT_TYPES.ALBUM,isOverdraftDialogOpened:Object(S.isDialogOpened)(e,"overdraft")})}),le)(ce);t.default=T()(Object(Q.a)(fe,["actions","resources"],(function(e){return e.visible}),[{},[]]),E.getSelectedResources)}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=function(e){for(var t=[],n=0;n<e.length;n++){55296==(63488&e.charCodeAt(n))?(t.push(e.slice(n,n+2)),n++):t.push(e[n])}return t},y=n(11),b=n.n(y);n(1841);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=[".",",",":",";","!","?","…",")","]","}","»"," ",'"',"'"],w=["(","[","{","«"," ",'"',"'"],E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={text:e.text},r}return u()(n,[{key:"componentDidMount",value:function(){this._createContext(this.props.font),this._updateText(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateContext(e.font),this._updateText(e)}},{key:"_createContext",value:function(e){this._context=document.createElement("canvas").getContext("2d"),this._updateContext(e)}},{key:"_updateContext",value:function(e){this._context&&(this._context.font=e)}},{key:"_updateText",value:function(e){this.setState({text:this._getText(e)})}},{key:"_getTextWidth",value:function(e){return this._context?this._context.measureText(e.join("").trim()).width+.5:0}},{key:"_getText",value:function(e){var t=e.numberOfRows,n=e.text,r=e.width;if(this._text=n.replace("\n"," "),this._text.normalize&&(this._text=this._text.normalize()),!r)return this._text;for(var i=[],o=0;o<t;o++){var a={characters:g(this._text.slice(i.join("").length)),width:r,currentRowNumber:o},s=o===t-1?this._getTextRowWithFiller(a):this._getTextRow(a);if(i.push(s),i.join("")===this._text)break}return i.map((function(e){return e.trim()})).join("\n")}},{key:"_getTextRow",value:function(e){var t=e.characters,n=e.width,r=e.currentRowNumber,i=this._getTextWidth(t),o=i/t.length,a=this._getMaximumBreakableLengthFromPosition({characters:t,position:Math.floor((i-n)/o)}),s=this._getUnbreakableSequenceLength(t,r);return i>n&&t.length>3?this._getTextRow({characters:this._trimRight({characters:t,trimBy:s||a>2&&a||1}),width:n,currentRowNumber:r}):t.join("")}},{key:"_getTextRowWithFiller",value:function(e){var t=e.characters,n=e.beginCharacters,r=e.endCharacters,o=e.width,a=n&&r,s=a?[].concat(i()(n),[this.props.filler],i()(r)):t,u=this._getTextWidth(s);if(u>o&&s.length>3){if(a){var c=n.length>=r.length;return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:n,trimBy:c?1:0}),endCharacters:this._trimLeft({characters:r,trimBy:c?0:1}),width:o})}var l=u/t.length,f=Math.floor((u-o)/l/2),d=.5*t.length+(f>1?f:0);return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:t,trimBy:d}),endCharacters:this._trimLeft({characters:t,trimBy:d}),width:o})}return s.join("")}},{key:"_trimRight",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(0,t.length-n)}},{key:"_trimLeft",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(-t.length+n)}},{key:"_getUnbreakableSequenceLength",value:function(e,t){var n=(e.join("").match(/\.\w{2,}$/g)||[])[0];if(n)return n.length-1;if(!this.props.breakWordsInFirstRow&&0===t){var r=e.lastIndexOf(" ");if(r>0)return e.length-r}var i=e[e.length-1],o=e[e.length-2];return O.indexOf(i)>-1&&O.indexOf(o)<0&&w.indexOf(o)<0||O.indexOf(i)<0&&w.indexOf(i)<0&&w.indexOf(o)>-1?2:0}},{key:"_getMaximumBreakableLengthFromPosition",value:function(e){var t=e.characters,n=e.position;if(n<2)return n;var r=t[t.length-n],i=t[t.length-n+1];return w.indexOf(r)>-1&&O.indexOf(i)<0&&w.indexOf(i)<0?n-2:O.indexOf(r)>-1?n-1:n}},{key:"render",value:function(){var e={className:b()()("clamped-text"),"aria-hidden":!0,style:{font:this.props.font,maxWidth:this.props.width||"auto"}};return this._text!==this.state.text&&(e.title=this._text),v.a.createElement("span",e,this.state.text)}}]),n})(v.a.PureComponent);E.defaultProps={filler:"…",font:"normal normal 400 normal 15px / normal Arial, sans-serif",numberOfRows:1,text:"",width:0,breakWordsInFirstRow:!1};t.default=E}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=function(){};o.define=function(e,t){return ns.Model.define(e,t,o)},no.inherit(o,ns.Model,{_init:function(e){var t;this.limit=ns.Model.infoLite(e).limit||10,this.items=[],this.itemsProcessing=[],this.busy=!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=ns.Model.prototype._init).call.apply(t,[this,e].concat(r))},push:function(e){var t=this.createItem(e);return this.items.push(t),this.trigger("added",t),this.nextTick(this.doIteration),t.promise},pushPriority:function(e){var t=this.createItem(e),n=this.items.indexOf(this.itemLastPriority);return this.items.splice(n+1,0,t),this.itemLastPriority=t,this.trigger("added",t),this.doIteration(),t.promise},doIteration:function(){var e=this;if(!this.busy){var t=this.getPortion(),n=function(){e.busy=!1,e.trigger("processed",t),e.doIteration()};t.length?(this.busy=!0,this.handlePortion(t).then(n,n),this.trigger("processing",t)):this.trigger("drained")}},getPortion:function(){return this.items.splice(0,this.limit)},createItem:function(e){return{item:e,promise:new Vow.Promise}},handlePortion:function(){throw new Error("You must implement method `handlePortion` in model "+this.id)},nextTick:function(e){i.a.defer(e.bind(this))}}),t.a=o}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(21),i=n.n(r),o=n(22),a=n.n(o),s="Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания.",u={move_resource:{target:{me:[{message:"Объект перемещается"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект перемещается другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке перемещается"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке перемещается другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом перемещается другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка перемещается"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка перемещается другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},copy_resource:{target:{me:[{message:"Объект копируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект копируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке копируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке копируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом копируется"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом копируется другим участником общей папки"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка копируется"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка копируется другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},trash_append:{target:{me:[{message:"Объект перемещается в Корзину"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект удаляется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0},{message:"После удаления он станет недоступен"}]},child:{me:[{message:"Объект в этой папке перемещается в Корзину"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке удаляется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается в Корзину"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом удаляется другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0},{message:"После удаления они станут недоступны"}]},destination:{me:[{message:"Целевая папка перемещается в Корзину"},{message:"После удаления она станет недоступна"}],other:[{message:"Целевая папка перемещается в Корзину другим участником общей папки"},{message:"После удаления она станет недоступна"}]}},office:{target:{me:[{message:"Документ редактируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ редактируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Документ в этой папке редактируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ в этой папке редактируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]}},trash_drop_all:"Корзина уже очищается",clean_trash:"Корзина уже очищается",trash_restore:"Объект восстанавливается",trash_drop_element:"Объект удаляется из Корзины",rm:"Объект удаляется из Корзины",from_trash:{trash_append:"Идет перемещение в Корзину",trash_restore:"Идет восстановление из Корзины"}},c={copy:"Не удалось скопировать",move:"Не удалось переместить",moveToTrash:"Не удалось переместить в Корзину",delete:"Не удалось удалить",rename:"Не удалось переименовать",upload:"Не удалось загрузить",publish:"Не удалось опубликовать",restore:"Не удалось восстановить",unshare:"Не удалось закрыть доступ",cleanTrash:"Не удалось очистить Корзину",leaveFolder:"Не удалось покинуть папку",acceptInvite:"Не удалось принять приглашение",accessFolder:"Не удалось поменять права",createFolder:"Не удалось создать папку",inviteFolder:"Не удалось отправить приглашение",uploadFolder:"Не удалось загрузить папку"},l=function(e){var t=e.myUid,n=e.lockType,r=e.lockInitiatorUid,i=e.lockedResourcePath,o=e.targetResourcePath,c=e.failedOperationType,l=e.isLong,f=void 0!==l&&l;if("cleanTrash"===c&&["trash_append","trash_restore"].includes(n))return[u.from_trash[n]];switch(n){case"move_resource":case"copy_resource":case"trash_append":case"office":var d,p,h,m=(function(e,t){return t===e?"target":a.a.isParent(e,t)?"parent":a.a.isParent(t,e)?"child":"destination"})(i,o),v=t===r?"me":"other";return(null===(d=u[n][m])||void 0===d?void 0:null===(p=d[v])||void 0===p?void 0:null===(h=p.filter((function(e){var t=e.isForLong;return f||!t})))||void 0===h?void 0:h.map((function(e){return e.message})))||[s];default:return[u[n]]}},f=function(e){var t=e.lockType,n=e.targetResourcePath,r=e.failedOperationType,o=e.isLong,f=void 0!==o&&o,d=e.onlyReason,p=void 0!==d&&d;if(!u[t])return[s];var h=l(e),m=[];if(p&&f)m.push("Пожалуйста, подождите");else if(!p){var v=(function(e,t){return"delete"!==e||a.a.isParent("/trash",t)||(e="moveToTrash"),e&&c[e]})(r,n);v&&m.push(v),v&&!f||m.push("Пожалуйста, подождите")}return m.push.apply(m,i()(h)),m},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:". ";return f(e).join(t)},p=function(e){var t,n,r=f(e);return r.length>2?(t=r.slice(0,2).join(". ")+".",n=r.slice(2).join(". ")):t=r.join(". "),{reasonText:t,reasonTextAux:n}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(50),i=n(63),o=n(41),a=n(209);function s(e,t){var n,s,u,c,l,f,d,p;Object(o.a)(1,arguments);var h=Object(a.a)(),m=Object(i.a)(null!==(n=null!==(s=null!==(u=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t?void 0:null===(l=t.locale)||void 0===l?void 0:null===(f=l.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==u?u:h.weekStartsOn)&&void 0!==s?s:null===(d=h.locale)||void 0===d?void 0:null===(p=d.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Object(r.a)(e),g=v.getDay(),y=(g<m?7:0)+g-m;return v.setDate(v.getDate()-y),v.setHours(0,0,0,0),v}}),(function(e,t,n){"use strict";t.a=function(e){((function(){var e=document.getElementById("download-iframe");return e||((e=document.createElement("iframe")).id="download-iframe",e.style.display="none",document.body.appendChild(e)),e})()).src=e}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M6.62 11.205c-2.526 0-4.583-2.056-4.583-4.584 0-2.526 2.057-4.583 4.584-4.583 2.53 0 4.585 2.057 4.585 4.584 0 2.53-2.056 4.585-4.584 4.585zM16 14.56l-4.04-4.04c.803-1.095 1.283-2.44 1.283-3.9 0-3.65-2.97-6.62-6.622-6.62C2.97 0 0 2.97 0 6.62c0 3.652 2.97 6.623 6.62 6.623 1.46 0 2.805-.48 3.9-1.282L14.56 16 16 14.56z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M2 10.031h2.999v2.519l4.407-3.526L4.999 5.5v2.531H2V0h8l4 4v12H2z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{fillRule:"nonzero",d:"M11.437 9.791l-.358.715a.5.5 0 0 1-.671.224L8.376 9.712a.5.5 0 0 1-.276-.447V5.551a.5.5 0 0 1 .5-.5h.8a.5.5 0 0 1 .5.5v2.911l1.314.658a.5.5 0 0 1 .223.671z"}),h.a.createElement("path",{fillRule:"nonzero",d:"M1.8 7.172l1.982.27a5.151 5.151 0 0 1 10.252.708 5.15 5.15 0 0 1-9.147 3.248.193.193 0 0 0-.268-.016c-.294.224-.731.54-1.29.979-.11.087-.069.206-.03.253A7.15 7.15 0 1 0 1.8 7.171z"}),h.a.createElement("path",{d:"M.374 6h5.252a.2.2 0 0 1 .167.31l-2.627 3.94a.2.2 0 0 1-.332 0L.207 6.31A.2.2 0 0 1 .374 6z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M.097 1.485C0 1.675 0 1.925 0 2.422v10.156c0 .498 0 .747.097.937a.889.889 0 0 0 .388.388c.19.097.44.097.937.097h13.156c.498 0 .747 0 .937-.097a.889.889 0 0 0 .388-.388c.097-.19.097-.44.097-.937V2.422c0-.498 0-.747-.097-.937a.889.889 0 0 0-.388-.388C15.325 1 15.075 1 14.578 1H1.422c-.498 0-.747 0-.937.097a.889.889 0 0 0-.388.388zm.95.753C1 2.33 1 2.453 1 2.697v9.606c0 .244 0 .366.047.46a.435.435 0 0 0 .19.19c.094.047.216.047.46.047h12.606c.244 0 .366 0 .46-.047a.435.435 0 0 0 .19-.19c.047-.094.047-.216.047-.46V2.697c0-.244 0-.366-.047-.46a.435.435 0 0 0-.19-.19C14.668 2 14.546 2 14.302 2H1.697c-.244 0-.366 0-.46.047a.435.435 0 0 0-.19.19z"}),h.a.createElement("rect",{fill:"currentColor",x:"2",y:"3",width:"12",height:"8",rx:".444"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M13.002 8a5 5 0 0 0-5-5 4.94 4.94 0 0 0-3.316 1.282l2.316 2.12L0 8.127 1.1 1l2.098 1.92A6.958 6.958 0 0 1 8.002 1a7 7 0 0 1 0 14 6.995 6.995 0 0 1-6.256-3.872l1.8-.901C4.37 11.865 6.046 13 8.003 13a5 5 0 0 0 5-5h-.001z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="size={{width}}x{{height}}",i=1280;t.c=function(e){var t=e.previewBaseUrl,n=e.defaultPreview,i=e.width,o=e.height,a=e.crop,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i||!o)return n;var c=Math.max(window.devicePixelRatio||1,1),l=i*c,f=o*c,d=s.replace("{{width}}",String(Math.floor(l))).replace("{{height}}",String(Math.floor(f))),p="".concat(t,"&").concat(d);return a&&(p+="&crop=1"),u&&(p+="&retry=1"),p}}),(function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.MailProB2c="mail_pro_b2c",e.Family360="family_360"})(t.ProductSetKeys||(t.ProductSetKeys={})),(function(e){e.USD="USD",e.RUB="RUB"})(i=t.Currency||(t.Currency={})),t.CurrencySymbol=((r={})[i.USD]="$",r[i.RUB]="₽",r),(function(e){e.month="month",e.year="year",e.day="day"})(t.PaymentPeriod||(t.PaymentPeriod={})),(function(e){e.Autosave="mail_pro_b2c_autosave",e.Backup="mail_b2c_can_use_backup",e.BeautifulEmail="mail_b2c_domain_enabled",e.DiskSpace="mpfs_disk_space",e.IncreasedFileLimit="increased_filesize_limit",e.ExtHistory="mail_pro_b2c_ext_history",e.NoAds="mail_ad_disabled",e.OptInSubs="mail_b2c_can_use_opt_in_subs",e.PrioritySupport="mail_priority_support",e.PublicLinksSettings="public_settings_enabled",e.Smart="mail_smart_enabled",e.UnlimPublicDownload="mail_pro_b2c_unlim_public_download",e.UnlimMobile="mail_pro_b2c_unlim_mobile_video"})(t.ProductFeatureCode||(t.ProductFeatureCode={}))}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(19),y=n(11),b=n.n(y),_=n(161),O=n(12);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var E=(function(e){l()(n,e);var t=w(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",d:"M6.71 3.91a1 1 0 0 0-1.415-1.415L.497 7.293a1 1 0 0 0 0 1.414l4.798 4.798A1 1 0 0 0 6.71 12.09l-1.413-1.412a10 10 0 0 0-1.759-1.4l-.747-.469.047-.047.959.137A10 10 0 0 0 5.21 9H15a1 1 0 1 0 0-2H5.21c-.473 0-.946.034-1.414.1l-.96.137-.046-.046.75-.47a10 10 0 0 0 1.756-1.4L6.71 3.91Z"})}}]),n})(O.default),S=Object(O.iconProvider)(E),x=n(26),C=n(194),T=n(754),k=n.n(T);n(28),n(1875);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var P=function(){return b()()("section-header")},R="large",A="normal",I=(function(e){l()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getTitle",value:function(){var e=this.props,t=e.title,n=e.emptyTitleText,r=e.onEmptyTitleClick,i=e.titleRightIcon;return!t&&n?v.a.createElement("h1",{className:P().e("title")},v.a.createElement("span",{className:P().e("name"),onClick:r},n,v.a.createElement(C.a,null))):v.a.createElement("h1",{className:P().e("title").m({"with-icon":!!i}),title:t},t)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.mode,r=e.titleRightIcon,o=e.titleRef,a=e.onTitleClick;return v.a.createElement("div",{className:P().m(i()({},n,!0)).mix(t)},v.a.createElement("div",{className:P().e("top")},Boolean(this.props.backUrl)&&v.a.createElement(x.Button,{className:P().e("back-button"),view:"clear",size:"s",type:"link","aria-label":"Назад",url:this.props.backUrl,icon:_.backArrowIconProvider}),Boolean(this.props.showPreviousPhoto)&&v.a.createElement(x.Button,{className:P().e("previous-photo-button"),view:"clear",size:"s","aria-label":"Назад",icon:S,onClick:this.props.onPreviousPhotoClick},this.props.showPreviousPhoto),v.a.createElement("div",{onClick:a,ref:o,className:P().e("title-wrapper").m({"with-icon":!!r})},n===A&&this._getTitle(),r),Boolean(this.props.children)&&v.a.createElement("div",{className:P().e("controls-wrapper")},this.props.children)),this.props.showFamilyExpiredNotify&&v.a.createElement(k.a,null),n===R&&this._getTitle())}}]),n})(m.Component);I.defaultProps={mode:A};t.default=Object(g.connect)((function(e){return{showFamilyExpiredNotify:!1}}))(I)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.NAME="name",e.SIZE="size",e.DATE_LAST_VIEW="date_last_view",e.MTIME="mtime"})(t.SortBy||(t.SortBy={})),(function(e){e.ASC="1",e.DESC="0"})(t.SortOrder||(t.SortOrder={})),(function(e){e.ALL="ALL",e.MY="MY",e.OTHER="OTHER"})(t.FilterType||(t.FilterType={}))}),(function(e,t,n){var r=n(247),i=n(1123),o=n(1124),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}}),(function(e,t,n){var r=n(152).Symbol;e.exports=r}),(function(e,t){e.exports=function(e){return function(t){return e(t)}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(76),o=(n(1229),Object(r.withBemMod)(Object(i.b)(),{theme:"clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(76),o=(n(1230),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.cnMenu=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(34),a=n(32),s=n(632),u=n(68),c=n(219),l=n(648),f=n(202);n(1270);var d=function(e){return l.flatMap((function(e){return e.items?e.items:e}),e)},p=function(e){return void 0!==e.items},h=function(e){return void 0===e&&(e=0),function(){return e++}};t.cnMenu=o.cn("Menu");var m=(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoveredIndex:t.props.focused?0:-1},t.innerRef=i.createRef(),t.itemsRef=[],t.uniqId=s.IS_TESTING?"0":String(Date.now())+Math.floor(1e4*Math.random()),t.mapChildren=function(e,n){var o=e.Item,a=e.Group,s=n.getNextItemCount,u=n.getNextGroupCount,c=n.disabled;return function(e){if(p(e)){var n=u();return i.default.createElement(a,r.__assign({title:e.title,key:"group-"+n},e.unsafe_props),e.items.map(t.mapChildren({Item:o,Group:a},{getNextItemCount:s,getNextGroupCount:u,disabled:c})))}var l=t.props,f=l.value,d=l.view,h=t.state.hoveredIndex,m=[].concat(f),v="default"===d&&void 0!==f,g=s();return t.itemsRef[g]=i.createRef(),i.default.createElement(o,r.__assign({},e.unsafe_props,{id:e.id||"item-"+t.uniqId+"-"+g,key:"item-"+g,"data-key":"item-"+g,needIconGlyph:v,checked:-1!==m.indexOf(e.value),disabled:e.disabled||c,hovered:!c&&h===g,onMouseEnter:t.setHoveredOnMouseEnter,onMouseLeave:t.setHoveredOnMouseLeave,onClick:t.onMenuItemClick,type:void 0===f?f:"option",innerRef:t.itemsRef[g],value:e.value,index:g}),e.content)}},t.onKeyDown=function(e){if(!e.shiftKey&&u.isKeyCode(e.keyCode,[u.Keys.UP,u.Keys.DOWN])){e.preventDefault();var r=e.keyCode-39,i=t.getNextNotDisabledIndex(r);t.triggerOnMenuItemChange(i),n.scrollToItem(t.innerRef,t.itemsRef[i]),t.setState({hoveredIndex:i})}u.isKeyCode(e.keyCode,[u.Keys.ENTER,u.Keys.SPACE])&&(e.preventDefault(),t.triggerOnChange())},t.onMenuItemClick=function(e,n){t.setState({hoveredIndex:n},(function(){t.triggerOnChange()}))},t.setHoveredOnMouseEnter=function(e,n){t.setState({hoveredIndex:n})},t.setHoveredOnMouseLeave=function(e,n){t.setState({hoveredIndex:-1})},t}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.focused&&(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement())},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.focused&&this.props.focused?(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement()):e.focused&&!this.props.focused?(this.setState({hoveredIndex:-1}),this.unsubscribeFromEvents()):this.props.focused&&e.items.length!==this.props.items.length&&this.hoverAndScrollToFirstSelectedElement()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.render=function(){var e=this,n=this.props,o=n.className,s=n.disabled,u=(n.focused,n.items),c=(n.onChange,n.onActiveItemChange,n.value),l=(n.innerRef,n.renderItem),d=r.__rest(n,["className","disabled","focused","items","onChange","onActiveItemChange","value","innerRef","renderItem"]);return i.default.createElement(a.ComponentRegistryConsumer,{id:t.cnMenu()},(function(n){var a=n.Item,p=n.Group;return i.default.createElement(f.RenderOverrideProvider,{component:a,render:l},(function(n){var a=h(),l=h();return i.default.createElement("div",r.__assign({},d,{ref:e.innerRef,"aria-disabled":s,"aria-multiselectable":Array.isArray(c),role:void 0!==c?"listbox":void 0,className:t.cnMenu(null,[o])}),u.map(e.mapChildren({Item:n,Group:p},{getNextItemCount:a,getNextGroupCount:l,disabled:s})))}))}))},n.prototype.forwardRefs=function(){c.mergeRefs(this.innerRef,this.props.innerRef)},n.scrollToItem=function(e,t){if(null!==e.current&&void 0!==t&&null!==t.current){var n,r=e.current.getBoundingClientRect().top,i=t.current.getBoundingClientRect().top;i<r?n=i-r:(n=i+t.current.offsetHeight-r-e.current.offsetHeight)<0&&(n=0),e.current.scrollTop=e.current.scrollTop+n}},n.prototype.subscribeToEvents=function(){document.addEventListener("keydown",this.onKeyDown,!0)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener("keydown",this.onKeyDown,!0)},n.prototype.hoverAndScrollToFirstSelectedElement=function(){var e=[].concat(this.props.value),t=d(this.props.items).reduce((function(t,n,r){return t<0&&-1!==e.indexOf(n.value)?r:t}),-1);n.scrollToItem(this.innerRef,this.itemsRef[t]),this.setState({hoveredIndex:t<0?0:t})},n.prototype.getNextNotDisabledIndex=function(e){for(var t=this.state.hoveredIndex,n=0,r=d(this.props.items);n<r.length&&(n++,(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),r[t].disabled););return t},n.prototype.triggerOnMenuItemChange=function(e){var t=this.props.onActiveItemChange;if(void 0!==t&&null!==this.innerRef.current){var n=this.innerRef.current.querySelector('[data-key="item-'+e+'"]');n&&t(n.id)}},n.prototype.triggerOnChange=function(){var e=this.props,t=e.onChange,n=e.value,i=this.state.hoveredIndex;if(void 0!==t){var o=d(this.props.items),a=-1===i?"":o[i].value;if(Array.isArray(n)){var s=r.__spread(n);-1!==s.indexOf(a)?s=s.filter((function(e){return e!==a})):s.push(a),a=s}t({target:{value:a}})}},n.displayName=t.cnMenu(),n})(i.PureComponent);t.Menu=m}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.cnIcon=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(34);n(1276),t.cnIcon=o.cn("Icon");t.Icon=function(e){var n=e.direction,o=e.size,a=e.url,s=e.style,u=void 0===s?{}:s,c=e.children,l=e.title,f=e.onClick,d=(e.type,e.glyph,r.__rest(e,["direction","size","url","style","children","title","onClick","type","glyph"])),p=t.cnIcon({direction:n,size:o},[d.className]);return void 0!==a&&(u.backgroundImage="url('"+a+"')"),i.default.createElement("span",r.__assign({},d,{"aria-hidden":!0,className:p,style:u,title:l,onClick:f}),c)},t.Icon.displayName=t.cnIcon()}),(function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(100);t.maybeFetchAccessFolderUsers=a.createAction("accessFolder/fetchUsers"),t.revokeAccess=a.createAction("accessFolder/revokeAccess"),t.inviteUser=a.createAction("accessFolder/inviteUser"),t.changeRights=a.createAction("accessFolder/changeRights"),t.unshareFolder=a.createAction("accessFolder/unshareFolder"),t.fetchSuggestions=a.createAction("accessFolder/fetchSuggestions");var s=a.createSlice({name:"access-folder",initialState:{usersByResource:{},suggest:{suggestions:[]}},reducers:{setUsersLoadingState:function(e,t){e.usersByResource[t.payload.id]=i(i({},e.usersByResource[t.payload.id]||{}),{isLoading:t.payload.isLoading})},setUsers:function(e,t){e.usersByResource[t.payload.id]=i(i({},e.usersByResource[t.payload.id]||{}),{users:t.payload.users,isLoading:!1})},updateUser:function(e,t){var n=e.usersByResource[t.payload.id].users.find((function(e){return e.email===t.payload.email}));n&&Object.assign(n,t.payload.data)},removeUser:function(e,t){e.usersByResource[t.payload.id].users=e.usersByResource[t.payload.id].users.filter((function(e){return e.email!==t.payload.email}))},setSuggestions:function(e,t){e.suggest.suggestions=o(t.payload)},setInvitingUser:function(e,t){e.usersByResource[t.payload.id]||(e.usersByResource[t.payload.id]={isLoading:!1,users:[]}),e.usersByResource[t.payload.id].invitingUser=t.payload.invitingUser},clearFolderState:function(e,t){e.usersByResource[t.payload.id]={isLoading:!1,users:[]}}}});t.setUsersLoadingState=(r=s.actions).setUsersLoadingState,t.setUsers=r.setUsers,t.updateUser=r.updateUser,t.removeUser=r.removeUser,t.setSuggestions=r.setSuggestions,t.setInvitingUser=r.setInvitingUser,t.clearFolderState=r.clearFolderState,t.default=s.reducer}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=t.mapTypes=t.mapSnapshotTypes=t.FieldEnum=t.FieldNullable=t.FieldJson=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldString=t.FieldNumber=t.TransportAdapter=t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(1434);Object.defineProperty(t,"DatasyncClient",{enumerable:!0,get:function(){return o.DatasyncClient}}),Object.defineProperty(t,"NoopDatasyncClient",{enumerable:!0,get:function(){return o.NoopDatasyncClient}});var a=n(1435);Object.defineProperty(t,"TransportAdapter",{enumerable:!0,get:function(){return a.TransportAdapter}});var s=n(690);Object.defineProperty(t,"FieldNumber",{enumerable:!0,get:function(){return s.FieldNumber}}),Object.defineProperty(t,"FieldString",{enumerable:!0,get:function(){return s.FieldString}}),Object.defineProperty(t,"FieldBoolean",{enumerable:!0,get:function(){return s.FieldBoolean}}),Object.defineProperty(t,"FieldDate",{enumerable:!0,get:function(){return s.FieldDate}}),Object.defineProperty(t,"FieldArray",{enumerable:!0,get:function(){return s.FieldArray}}),Object.defineProperty(t,"FieldTuple",{enumerable:!0,get:function(){return s.FieldTuple}}),Object.defineProperty(t,"FieldJson",{enumerable:!0,get:function(){return s.FieldJson}}),Object.defineProperty(t,"FieldNullable",{enumerable:!0,get:function(){return s.FieldNullable}}),Object.defineProperty(t,"FieldEnum",{enumerable:!0,get:function(){return s.FieldEnum}});var u=n(689);Object.defineProperty(t,"mapSnapshotTypes",{enumerable:!0,get:function(){return u.mapSnapshotTypes}}),Object.defineProperty(t,"mapTypes",{enumerable:!0,get:function(){return u.mapTypes}});var c=n(1436);Object.defineProperty(t,"DatasyncService",{enumerable:!0,get:function(){return c.DatasyncService}}),i(n(511),t)}),(function(e,t,n){var r=n(145),i=n(515),o=n(1461),a=n(1464);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}}),(function(e,t,n){var r=n(301),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(2),o=n(0),a=n.n(o),s=n(34),u=n(428),c=n(70),l=n(91),f=n(439),d=n(561),p=(n(1259),function(e){return Object(f.a)((function(e){return e.items?e.items:e}),e)}),h=function(e){return void 0!==e.items},m=function(e){return void 0===e&&(e=0),function(){return e++}},v=Object(s.cn)("Menu"),g=(function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hoveredIndex:n.props.focused?0:-1},n.innerRef=Object(o.createRef)(),n.itemsRef=[],n.uniqId=u.a?"0":String(Date.now())+Math.floor(1e4*Math.random()),n.mapChildren=function(e,t){var r=e.Item,s=e.Group,u=t.getNextItemCount,c=t.getNextGroupCount,l=t.disabled;return function(e){if(h(e)){var t=c();return a.a.createElement(s,Object(i.__assign)({title:e.title,key:"group-"+t},e.unsafe_props),e.items.map(n.mapChildren({Item:r,Group:s},{getNextItemCount:u,getNextGroupCount:c,disabled:l})))}var f=n.props,d=f.value,p=f.view,m=n.state.hoveredIndex,v=[].concat(d),g="default"===p&&void 0!==d,y=u();return n.itemsRef[y]=Object(o.createRef)(),a.a.createElement(r,Object(i.__assign)({},e.unsafe_props,{id:e.id||"item-"+n.uniqId+"-"+y,key:"item-"+y,"data-key":"item-"+y,needIconGlyph:g,checked:-1!==v.indexOf(e.value),disabled:e.disabled||l,hovered:!l&&m===y,onMouseEnter:n.setHoveredOnMouseEnter,onMouseLeave:n.setHoveredOnMouseLeave,onClick:n.onMenuItemClick,type:void 0===d?d:"option",innerRef:n.itemsRef[y],value:e.value,index:y}),e.content)}},n.onKeyDown=function(e){if(!e.shiftKey&&Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])){e.preventDefault();var r=e.keyCode-39,i=n.getNextNotDisabledIndex(r);n.triggerOnMenuItemChange(i),t.scrollToItem(n.innerRef,n.itemsRef[i]),n.setState({hoveredIndex:i})}Object(c.b)(e.keyCode,[c.a.ENTER,c.a.SPACE])&&(e.preventDefault(),n.triggerOnChange())},n.onMenuItemClick=function(e,t){n.setState({hoveredIndex:t},(function(){n.triggerOnChange()}))},n.setHoveredOnMouseEnter=function(e,t){n.setState({hoveredIndex:t})},n.setHoveredOnMouseLeave=function(e,t){n.setState({hoveredIndex:-1})},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs(),this.props.focused&&(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement())},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.focused&&this.props.focused?(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement()):e.focused&&!this.props.focused?(this.setState({hoveredIndex:-1}),this.unsubscribeFromEvents()):this.props.focused&&e.items.length!==this.props.items.length&&this.hoverAndScrollToFirstSelectedElement()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.disabled,s=(t.focused,t.items),u=(t.onChange,t.onActiveItemChange,t.value),c=(t.innerRef,t.renderItem),l=Object(i.__rest)(t,["className","disabled","focused","items","onChange","onActiveItemChange","value","innerRef","renderItem"]);return a.a.createElement(r.ComponentRegistryConsumer,{id:v()},(function(t){var r=t.Item,f=t.Group;return a.a.createElement(d.b,{component:r,render:c},(function(t){var r=m(),c=m();return a.a.createElement("div",Object(i.__assign)({},l,{ref:e.innerRef,"aria-disabled":o,"aria-multiselectable":Array.isArray(u),role:void 0!==u?"listbox":void 0,className:v(null,[n])}),s.map(e.mapChildren({Item:t,Group:f},{getNextItemCount:r,getNextGroupCount:c,disabled:o})))}))}))},t.prototype.forwardRefs=function(){Object(l.b)(this.innerRef,this.props.innerRef)},t.scrollToItem=function(e,t){if(null!==e.current&&void 0!==t&&null!==t.current){var n,r=e.current.getBoundingClientRect().top,i=t.current.getBoundingClientRect().top;i<r?n=i-r:(n=i+t.current.offsetHeight-r-e.current.offsetHeight)<0&&(n=0),e.current.scrollTop=e.current.scrollTop+n}},t.prototype.subscribeToEvents=function(){document.addEventListener("keydown",this.onKeyDown,!0)},t.prototype.unsubscribeFromEvents=function(){document.removeEventListener("keydown",this.onKeyDown,!0)},t.prototype.hoverAndScrollToFirstSelectedElement=function(){var e=[].concat(this.props.value),n=p(this.props.items).reduce((function(t,n,r){return t<0&&-1!==e.indexOf(n.value)?r:t}),-1);t.scrollToItem(this.innerRef,this.itemsRef[n]),this.setState({hoveredIndex:n<0?0:n})},t.prototype.getNextNotDisabledIndex=function(e){for(var t=this.state.hoveredIndex,n=0,r=p(this.props.items);n<r.length&&(n++,(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),r[t].disabled););return t},t.prototype.triggerOnMenuItemChange=function(e){var t=this.props.onActiveItemChange;if(void 0!==t&&null!==this.innerRef.current){var n=this.innerRef.current.querySelector('[data-key="item-'+e+'"]');n&&t(n.id)}},t.prototype.triggerOnChange=function(){var e=this.props,t=e.onChange,n=e.value,r=this.state.hoveredIndex;if(void 0!==t){var o=p(this.props.items),a=-1===r?"":o[r].value;if(Array.isArray(n)){var s=Object(i.__spread)(n);-1!==s.indexOf(a)?s=s.filter((function(e){return e!==a})):s.push(a),a=s}t({target:{value:a}})}},t.displayName=v(),t})(o.PureComponent);function y(e){var t=e.checked,n=e.className,r=e.disabled,a=e.hovered,s=e.type,u=void 0===s?"menuitem":s,c=e.id,l=e.index,f=e.onClick,d=e.onMouseEnter,p=e.onMouseLeave,h=Object(i.__rest)(e,["checked","className","disabled","hovered","type","id","index","onClick","onMouseEnter","onMouseLeave"]),m=Object(o.useCallback)((function(e){f&&f(e,l)}),[l,f]),g=Object(o.useCallback)((function(e){d&&d(e,l)}),[l,d]),y=Object(o.useCallback)((function(e){p&&p(e,l)}),[l,p]);return Object(i.__assign)(Object(i.__assign)({},h),{"aria-selected":t,"aria-disabled":r,id:c,role:u,className:v("Item",{checked:t,disabled:r,hovered:a,type:u},[n]),onClick:m,onMouseEnter:g,onMouseLeave:y})}var b=n(52),_=n(414),O=new r.Registry({id:v()});O.set("Group",(function(e){var t=e.children,n=e.className,o=e.title,s=Object(i.__rest)(e,["children","className","title"]),u=Object(r.useComponentRegistry)(v()).Title;return a.a.createElement("div",Object(i.__assign)({},s,{role:"group",className:v("Group",null,[n])}),o&&a.a.createElement(u,null,o),t)})).set("Item",(function(e){var t=e.needIconGlyph,n=e.children,o=e.innerRef,s=(e.value,Object(i.__rest)(e,["needIconGlyph","children","innerRef","value"])),u=Object(r.useComponentRegistry)(v()),c=u.Text,l=u.Icon,f=y(s);return a.a.createElement("div",Object(i.__assign)({ref:o},f),t&&a.a.createElement(l,{glyph:"type-check"}),a.a.createElement(c,null,n))})).set("Text",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("span",Object(i.__assign)({},r,{className:v("Text",null,[n])}),t)})).set("Title",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("div",Object(i.__assign)({},r,{"aria-hidden":!0,className:v("Title",null,[n])}),t)})).set("Icon",Object(_.a)(b.a));var w=Object(r.withRegistry)(O)(g),E=n(174);function S(e){var t=[],n={createCollection:S};return o.Children.forEach(e,(function(e){if(function(e){return Object(o.isValidElement)(e)&&e.type===o.Fragment}(e))t.push.apply(t,Object(i.__spread)(S(e.props.children)));else if(function(e){if(Object(o.isValidElement)(e)){var t=e.type;return"function"==typeof t&&"function"==typeof t.getCollectionNode}return!1}(e))t.push(e.type.getCollectionNode(e.props,n));else if(e)throw new Error("Unknown element of the children")})),t}var x=function(){return null};x.getCollectionNode=function(e,t){e.children;var n=e.label,r=Object(i.__rest)(e,["children","label"]);return{title:n,items:t.createCollection(e.children),unsafe_props:r}};var C=function(){return null};function T(e){var t=function(t){var n=t.items,r=(t.children,Object(i.__rest)(t,["items","children"])),s=(function(e){var t=e.children;return Object(o.useMemo)((function(){return S(t)}),[t])})(t);return a.a.createElement(e,Object(i.__assign)({},r,{items:n||s}))};return t.displayName="withJsxContent("+Object(E.a)(e)+")",t}C.getCollectionNode=function(e){var t=e.children,n=e.value,r=e.disabled;return{id:e.id,disabled:r,value:n,content:t,unsafe_props:Object(i.__rest)(e,["children","value","disabled","id"])}};var k=n(5),j=(n(1262),Object(k.withBemMod)(v(),{size:"m"})),P=(n(1263),Object(k.withBemMod)(v(),{size:"s"})),R=(n(1264),Object(k.withBemMod)(v(),{theme:"normal"})),A=(n(1265),n(1266),Object(k.withBemMod)(v(),{view:"default"})),I=(n(1267),n(1268),Object(k.withBemMod)(v(),{width:"auto"})),D=(n(1269),Object(k.withBemMod)(v(),{width:"max"})),M=n(647);n(1279);const N=Object(k.withBemMod)(v(),{size:"l"});n.d(t,"Menu",(function(){return w})),n.d(t,"withJsxContent",(function(){return T})),n.d(t,"withSizeM",(function(){return j})),n.d(t,"withSizeS",(function(){return P})),n.d(t,"withWidthAuto",(function(){return I})),n.d(t,"withWidthMax",(function(){return D})),n.d(t,"useMenuItem",(function(){return y})),n.d(t,"cnMenu",(function(){return v})),n.d(t,"Group",(function(){return x})),n.d(t,"Item",(function(){return C})),n.d(t,"withThemeNormal",(function(){return R})),n.d(t,"withViewDefault",(function(){return A})),n.d(t,"menuRegistry",(function(){return M.menuRegistry})),n.d(t,"withSizeL",(function(){return N}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(2),i=n(0),o=n.n(i),a=n(34),s=n(558),u=n(556),c=n(431),l=n(432),f=(n(1225),Object(a.cn)("Modal")),d=function(e){var t=e.children,n=e.className,a=e.contentVerticalAlign,d=void 0===a?"middle":a,p=e.hasAnimation,h=void 0===p||p,m=e.innerRef,v=e.keepMounted,g=e.onClose,y=e.preventBodyScroll,b=void 0===y||y,_=e.scope,O=e.visible,w=e.zIndex,E=e.trapFocus,S=void 0===E||E,x=e.autoFocus,C=void 0===x||x,T=e.restoreFocus,k=void 0===T||T,j=e.restoreFocusRef,P=e.ariaLabelledBy,R=Object(r.__rest)(e,["children","className","contentVerticalAlign","hasAnimation","innerRef","keepMounted","onClose","preventBodyScroll","scope","visible","zIndex","trapFocus","autoFocus","restoreFocus","restoreFocusRef","ariaLabelledBy"]),A=Object(i.useRef)(null);return Object(s.a)({enabled:b&&O}),Object(u.a)({enabled:S&&O,scopeRef:A,autoFocus:C,restoreFocus:k,restoreFocusRef:j}),Object(c.a)({visible:O,onClose:g,essentialRefs:[A],unsafe_strategy:"pressup"}),o.a.createElement(l.a,{scope:_,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},R,{ref:m,className:f({visible:O,hasAnimation:h},[n]),style:{zIndex:w}}),o.a.createElement("div",{className:f("Overlay")}),o.a.createElement("div",{className:f("Wrapper")},o.a.createElement("div",{className:f("Table")},o.a.createElement("div",{className:f("Cell",{align:d})},o.a.createElement("div",{ref:A,className:f("Content"),tabIndex:-1,role:"dialog","aria-labelledby":P,"aria-modal":!0},t))))))};d.displayName=f()}),(function(e,t,n){var r=$(window),i=$("html, body"),o=n(35),a=e.exports={scrollListingToNode:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.scrollListingToPosition(e.offset().top,{itemHeight:e.outerHeight(),extraOffsetTop:t,animate:n})},scrollListingToPosition:function(e,t){var n=t.itemHeight,i=t.extraOffsetTop,s=t.animate,u=o.ROOT_CONTENT_TOP;i&&(u+=i);var c=r.outerHeight()||0,l=r.scrollTop()||0;if(!(e>l+u)||!(e+n<c+l)){var f=e-u;a.scrollTo(f,s)}},scrollTo:function(e,t){t?i.animate({scrollTop:e}):i.scrollTop(e)}}}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(29),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(19),w=n(26),E=n(186),S=n(446),x=n(27),C=n(15),T=n(269),k=n(31),j=n(48),P=n(9),R=n.n(P),A=n(184);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var D=(function(e){h()(n,e);var t=I(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={shareDialogVisible:!1,shareDialogMenuExpanded:!1},r._onShareButtonClick=r._onShareButtonClick.bind(d()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(d()(r)),r._getShareIcon=r._getShareIcon.bind(d()(r)),r._containerRef=_.a.createRef(),r}return l()(n,[{key:"componentDidMount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(this)}},{key:"componentWillUnmount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(null)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isPublic&&!this.props.isPublic&&this._publishFromButton&&(this._publishFromButton=!1,this.setState({shareDialogVisible:!0}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.shouldShowExpandedMenu,r=t.isEditable,i=t.saveShareEditMenuExpanded,o=t.shortUrl,a=t.isPublishing;r&&!this.state.shareDialogMenuExpanded&&(n||o&&e.isPublishing&&!a)&&(n&&i(),this.setState({shareDialogMenuExpanded:!0}))}},{key:"closeDropdown",value:function(){this.state.shareDialogVisible&&this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_getMetrikaAction",value:function(){return this.props.objectIds.length>1?"album share link":"share link"}},{key:"_onShareButtonClick",value:function(){if(this.props.isPublic)this.props.isLinkBlockedForOverdraft||this.props.copyPublicLink(this.props.shortUrl),this.setState({shareDialogVisible:!this.state.shareDialogVisible});else{if(this.props.maybeBlockAction({forLite:!0}))return;this.props.onPublish(),this.props.publishObject(this.props.objectIds,this.props.objectType),this._publishFromButton=!0}}},{key:"_onShareDialogClose",value:function(){this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_isButtonChecked",value:function(){return this._publishFromButton&&this.props.isPublishing||this.state.shareDialogVisible}},{key:"_getShareIcon",value:function(e){return this.props.isPublishing?_.a.createElement(S.a,{white:!0,spinSize:"xxs",cls:e}):_.a.createElement(E.default,{isAndroid:this.props.isAndroid,cls:e})}},{key:"render",value:function(){var e=this,t={size:"m",onClick:this._onShareButtonClick,disabled:this.props.disabled};return this.props.checkButton&&Object.assign(t,{type:"check",checked:this._isButtonChecked()}),_.a.createElement("span",{ref:this._containerRef},this.props.onlyIcon?null:_.a.createElement(w.Button,a()({view:"clear"},t,this.props.buttonProps,{iconLeft:this.props.noIcon?void 0:function(t){return e._getShareIcon(t)}}),"Поделиться"),_.a.createElement(w.Button,a()({},t,this.props.onlyIconButtonProps,{"aria-label":"Поделиться",icon:function(t){return e._getShareIcon(t)}})),_.a.createElement(A.default,{visible:this.state.shareDialogVisible,objectIds:this.props.objectIds,onClose:this._onShareDialogClose,metrikaPath:["interface elements"].concat(i()(this.props.metrikaContext),[this._getMetrikaAction()]),metrikaTail:this.props.metrikaTail,defaultExpanded:this.state.shareDialogMenuExpanded,scope:this.props.shareDialogScope}))}}]),n})(b.Component);D.defaultProps={onPublish:R.a.noop,metrikaTail:[],checkButton:!0};var M={publishObject:T.publishObject,copyPublicLink:x.copyPublicLink,saveShareEditMenuExpanded:C.saveShareEditMenuExpanded,maybeBlockAction:x.maybeBlockAction};t.a=Object(O.connect)((function(e,t){var n=e.environment.agent.OSFamily,r=e.scrollToResource,i=e.settings.shareEditMenuExpandedShowed,o=Object(k.getPublishObjectData)(e,t.objectIds);return Object.assign({},o,{isAndroid:"Android"===n,shouldShowExpandedMenu:"1"!==i,isLinkBlockedForOverdraft:Object(j.isOverdraftHard)(e)&&o.objectType!==k.OBJECT_TYPES.ALBUM,scrollToResource:r})}),M)(D)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreClicksSelectorBase",(function(){return N})),n.d(t,"getListingViewProps",(function(){return L})),n.d(t,"Listing",(function(){return U}));var r=n(83),i=n.n(r),o=n(8),a=n.n(o),s=n(29),u=n.n(s),c=n(10),l=n.n(c),f=n(21),d=n.n(f),p=n(3),h=n.n(p),m=n(4),v=n.n(m),g=n(6),y=n.n(g),b=n(7),_=n.n(b),O=n(1),w=n.n(O),E=n(0),S=n.n(E),x=n(129),C=n(230),T=n(42),k=n(37),j=n.n(k),P=n(419),R=(n(1865),n(11)),A=n.n(R);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=w()(e);if(t){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}var M=function(){return A()()("listing")},N=".Button2, .Popup2, .Modal",L=function(e){switch(e){case"tile":return{theme:"tile",size:"l"};case"icons":return{theme:"tile",size:"m"};default:return{theme:"row"}}},F=(function(e){y()(n,e);var t=D(n);function n(e){var r;return h()(this,n),(r=t.call(this,e)).itemsRef={},r.itemsIds=[],r.focusedItemIndex=0,r}return v()(n,[{key:"_getEmptyItems",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=[];e;)n.push(S.a.createElement(x.default,{theme:"tile-empty",size:this.props.size,key:"".concat(t,"-").concat(e)})),e--;return n}},{key:"_handleKeyDown",value:function(e,t,n){var r=this.props,i=r.theme,o=r.goToParent;if(o&&e.keyCode===j.a.KEYS.BACKSPACE&&o(),"tile"===i){var a=this.props.getInteractedItemParams(n).columnsCount;e.keyCode===j.a.KEYS.UP&&(this.itemsRef[this.itemsIds[t-a]]?this.itemsRef[this.itemsIds[t-a]].focus():this.itemsRef[this.itemsIds[0]]&&this.itemsRef[this.itemsIds[0]].focus()),e.keyCode===j.a.KEYS.DOWN&&(this.itemsRef[this.itemsIds[t+a]]?this.itemsRef[this.itemsIds[t+a]].focus():this.itemsRef[this.itemsIds[this.itemsIds.length-1]]&&this.itemsRef[this.itemsIds[this.itemsIds.length-1]].focus()),e.keyCode===j.a.KEYS.LEFT&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===j.a.KEYS.RIGHT&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}else e.keyCode===j.a.KEYS.UP&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===j.a.KEYS.DOWN&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}},{key:"_onFocus",value:function(e){this.focusedItemIndex!==e&&(this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]].setAttribute("tabindex",-1),this.itemsRef[this.itemsIds[e]]&&this.itemsRef[this.itemsIds[e]].setAttribute("tabindex",0),this.focusedItemIndex=e)}},{key:"_focusElement",value:function(){this.props.resources&&this.props.resources.length&&this.itemsIds[this.focusedItemIndex]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&(document.body.classList.contains("pointerfocus")&&document.dispatchEvent(new CustomEvent("pointerdown")),this.itemsRef[this.itemsIds[this.focusedItemIndex]].focus())}},{key:"_resourceChangedOrLoaded",value:function(e,t){var n;return t.currentResourceId!==e.currentResourceId||!(null!==(n=e.resources)&&void 0!==n&&n.length)&&t.resources!==e.resources}},{key:"componentWillReceiveProps",value:function(e){this._resourceChangedOrLoaded(this.props,e)&&(this.focusedItemIndex=0)}},{key:"componentDidUpdate",value:function(e){this._resourceChangedOrLoaded(e,this.props)&&this._focusElement()}},{key:"componentDidMount",value:function(){this._focusElement()}},{key:"render",value:function(){var e=this,t=this.props,n=t.getGroup,r=t.resources,i=t.theme,o=t.getItemProps,a=t.renderItem,s=null,c=[];this.itemsIds=r.map((function(e){return e.id}));for(var f=function(t){var f=r[t];if(n){var p=n(f);s&&s.id===p.id||(s&&"tile"===i&&c.push.apply(c,d()(e._getEmptyItems(15,s.id))),c.push(S.a.createElement("h2",{key:"group-".concat(p.id),className:M().e("group-title")},S.a.createElement("span",{className:T.LISTING_PREVENT_MOUSE_SELECTION_CLASS},p.title))),s=p)}var h=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({onKeyDown:function(n){return e._handleKeyDown(n,t,f.id)},onFocus:function(){return e._onFocus(t)},tabIndex:t===e.focusedItemIndex?0:-1},o(f,t)),m=a?a(h):S.a.createElement(x.default,u()({key:h.id},h,{resourceRef:function(t,n){n?e.itemsRef[t]=n:delete e.itemsRef[t],h.resourceRef&&h.resourceRef(t,n)}}));c.push(m)},p=0;p<r.length;p++)f(p);return"tile"===i&&c.push.apply(c,d()(this._getEmptyItems(15))),S.a.createElement("div",{className:M().e("items")},c)}}]),n})(E.PureComponent),B=function(e,t){return t.theme!==e.theme||t.size!==e.size||t.resources.length!==e.resources.length},U=(function(e){y()(n,e);var t=D(n);function n(e){var r;return h()(this,n),(r=t.call(this,e)).state={titleWidth:r._getTitleWidth()},r._itemsRefs=new Map,r._getInteractedItemParams=r._getInteractedItemParams.bind(a()(r)),r._getItemProps=r._getItemProps.bind(a()(r)),r._resourceRef=r._resourceRef.bind(a()(r)),r._onOpenResource=r._onOpenResource.bind(a()(r)),r._updateTitleSize=r._updateTitleSize.bind(a()(r)),r._setContainerRef=r._setContainerRef.bind(a()(r)),r._onSelectResource=r._onSelectResource.bind(a()(r)),r._onContextMenu=r._onContextMenu.bind(a()(r)),r._isDoubleClick=!1,r}return v()(n,[{key:"componentDidMount",value:function(){"clamp"===this.props.titleOverflow&&this._initClamp(),this._updateResourcesCoordinates()}},{key:"componentWillUnmount",value:function(){"clamp"===this.props.titleOverflow&&window.removeEventListener("resize",this._updateTitleSize)}},{key:"getSnapshotBeforeUpdate",value:function(){return window.scrollY}},{key:"componentDidUpdate",value:function(e,t,n){this.props.saveScrollAfterUpdate&&window.scrollTo(0,n),B(e,this.props)&&this._updateResourcesCoordinates(),"clamp"===this.props.titleOverflow?"clamp"===e.titleOverflow&&this.props.theme===e.theme&&this.props.size===e.size&&this.props.resources.length===e.resources.length||(this._wasClampInited=!1,this._initClamp()):"clamp"===e.titleOverflow&&(window.removeEventListener("resize",this._updateTitleSize),this._wasClampInited=!1),this.props.resources.length&&"clamp"===this.props.titleOverflow&&!this._wasClampInited&&this._initClamp()}},{key:"_setContainerRef",value:function(e){this._containerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"_updateResourcesCoordinates",value:function(){this.props.withMouseSelection&&d()(this._itemsRefs.entries()).forEach((function(e){var t=i()(e,2)[1],n=t.ref;t.coordinates=Object(C.b)(n)}))}},{key:"_initClamp",value:function(){var e=this;if(this.props.resources.length){if(this._updateTitleSize(),this.props.animatedContainerSelector){var t=document.querySelector(this.props.animatedContainerSelector);if(t){t.addEventListener("animationend",(function n(){e._updateTitleSize(),t.removeEventListener("animationend",n)}))}}window.addEventListener("resize",this._updateTitleSize),this._wasClampInited=!0}}},{key:"_getTitleWidth",value:function(){var e=this._firstItemTitleNode&&this._firstItemTitleNode.getBoundingClientRect().width;return e||(this.state&&this.state.titleWidth?this.state.titleWidth:"tile"===this.props.theme?"l"===this.props.size?145:90:0)}},{key:"_updateTitleSize",value:function(){var e=this._getTitleWidth();this.state.titleWidth!==e&&this.setState({titleWidth:e})}},{key:"updateItemsInfo",value:function(){this._updateResourcesCoordinates()}},{key:"getItemInfo",value:function(e){return this._itemsRefs.get(e)}},{key:"getItemsInfo",value:function(){return this._itemsRefs}},{key:"_getInteractedItemParams",value:function(e){var t=this.props.resources.findIndex((function(t){return t.id===e}));if("tile"===this.props.theme){var n=Math.floor(this._containerRef.clientWidth/this.getItemInfo(e).ref.clientWidth);return{columnsCount:n,row:Math.floor(t/n)+1,column:t%n+1}}if("row"===this.props.theme)return{position:t+1}}},{key:"_resourceRef",value:function(e,t){t?this._itemsRefs.has(e)||this._itemsRefs.set(e,{ref:t,coordinates:{}}):this._itemsRefs.has(e)&&this._itemsRefs.delete(e)}},{key:"_onSelectResource",value:function(e){var t=this,n=this.props,r=n.onSelectResource,i=n.onResourceAction;this._isDoubleClick=!1;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];r.apply(void 0,[e].concat(a)),i&&setTimeout((function(){t._isDoubleClick||i(e,"resource-select",t._getInteractedItemParams(e))}),k.DOUBLE_CLICK_DELAY)}},{key:"_onOpenResource",value:function(e,t){var n=this.props,r=n.onResourceOpen,i=n.onResourceAction;this._isDoubleClick=!0,r(e,t),i&&i(e,"resource-open",this._getInteractedItemParams(e))}},{key:"_onContextMenu",value:function(e){for(var t=this.props,n=t.onResourceContextMenu,r=t.onResourceAction,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(void 0,[e].concat(o)),r&&r(e,"resource-context-menu",this._getInteractedItemParams(e))}},{key:"_getItemProps",value:function(e,t){var n=this;if(!e)return null;var r=this.props,i=r.mods,o=r.theme,a=r.size,s=r.isTouch,u=r.titleOverflow,c=r.currentResource,l=r.onPlayVideoClick,f=r.useRealDevicePixelRatio,d=r.getAdditionalFields,p=r.getResourceClassName,h=r.previewRumId,m=r.onImageLoadSuccess,v=r.onImageLoadError,g=r.openOnSingleClick,y=r.supportDoubleClick,b=r.ignoreClicksSelector,_=r.highlightedResources,O=r.isResourceDisabled,w=r.isMacSafari,E=r.touchContextMenu,S=Object.assign({},e,{listingMods:i,additionalFields:d(e),cls:p(e),theme:o,size:a,titleOverflow:u,useRealDevicePixelRatio:f,isTouch:s,resourceRef:this._resourceRef,onPlayVideoClick:l,previewRumId:h,onImageLoadSuccess:m,onImageLoadError:v,openOnSingleClick:g,supportDoubleClick:y,ignoreClicksSelector:b,isDisabled:O,isMacSafari:w,touchContextMenu:E}),x=e.state&&e.state.disabled;return S.cls=[S.cls,T.LISTING_PREVENT_DESELECT_CLASS].filter(Boolean).join(" "),c&&c.id===e.id?(S.onClick=this.props.onCurrentResourceClick,S.modifier="current"):(S.onOpen=this._onOpenResource,this.props.isSelectable&&(S.selectOnClick=s&&this.props.isSelectable&&this.props.selectedResources.length>0,S.onSelect=this._onSelectResource),!this.props.onContextMenu||s&&!E||(S.onContextMenu=this._onContextMenu),S.selected=!x&&this.props.selectedResources.includes(e.id),S.highlighted=_&&_.includes(e.id)),"clamp"===u&&(S.titleWidth=this.state.titleWidth,0===t&&(S.titleNodeRef=function(e){n._firstItemTitleNode=e})),S}},{key:"render",value:function(){var e=this.props,t=e.resources,n=e.selectedResources,r=e.highlightedResources,i=e.theme,o=e.size,a=e.completed,s=e.mods,c=e.goToParent,l=e.getGroup,f=e.renderItem,d=e.currentResource,p=e.currentResourceId,h=this._getItemProps(d),m={resources:t,currentResourceId:p,theme:i,size:o,goToParent:c,getGroup:l,renderItem:f,selectedResources:n,highlightedResources:r};return S.a.createElement("div",{className:M().m(Object.assign({},s,{theme:i,completed:a})).mix(this.props.cls),ref:this._setContainerRef},h&&S.a.createElement(x.default,h),S.a.createElement(F,u()({},m,{getInteractedItemParams:this._getInteractedItemParams,getItemProps:this._getItemProps,titleWidth:this.state.titleWidth})))}}]),n})(E.PureComponent),z=function(){};U.defaultProps={theme:"row",size:"m",isSelectable:!1,isMultiSelectable:!0,selectedResources:[],getAdditionalFields:z,getResourceClassName:z,requestFetchNext:z,onResourceOpen:z,onSelectionChanged:z,onCurrentResourceClick:z,onImageLoadSuccess:z,onImageLoadError:z};var V=Object(P.a)(U,B,["getItemsInfo","getItemInfo","updateItemsInfo"]);t.default=V}),(function(e,t,n){var r=n(9),i=e.exports=function(){};no.inherit(i,ns.Model,{isValid:no.true,_init:function(e,t){var n=ns.Model.prototype._init.call(this,e,t),i=this.info.defaults||{};return i&&(i=r.isFunction(i)?i.call(this,t):i,ns.Model.prototype.setData.call(this,i)),n}}),i.define=function(e,t){return ns.Model.define(e,t,i)}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(997),t),i(n(998),t),i(n(999),t),i(n(1e3),t),i(n(1001),t),i(n(1002),t)}),(function(e,t){var n=0,r=function(){return++n};r.reset=function(e){n=void 0===e?0:e},r.current=function(){return n},e.exports=r}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeReload=function(){var e=document.cookie.match(/reloadsCount=(\d+)/),t=e?Number(e[1]):0;if(!(t>2)){var n=new Date;n.setHours(n.getHours()+1),document.cookie="reloadsCount="+(t+1)+"; expires="+n+"; path=/; Secure; SameSite=Lax",location.reload()}}}),(function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(9)),u=n(158),c=n(100),l=n(217);var f=c.createSlice({name:"journals",initialState:{},reducers:{initJournal:function(e,t){var n=Date.now(),r=t.payload,o=r.id,a=r.filters,s=void 0===a?{}:a;e[o]={error:void 0,journal:void 0,state:l.JournalState.created,updatedAt:n,filters:i(i({},u.getDefaultFilters(n)),s)}},fetchJournalGroup:function(e,t){var n=t.payload,r=n.id,i=n.groupId,o=u.getGroupById(e[r].journal,i);o&&(o.fetching=!0)},fetchJournal:function(e,t){var n=t.payload,r=n.id,i=n.append,o=e[r].state;i&&o!==l.JournalState.fetched||(e[r].state=i?l.JournalState.appending:l.JournalState.fetching)},fetchJournalFailed:function(e,t){var n=t.payload.id;e[n]=i(i({},e[n]),{state:l.JournalState.failed,journal:void 0})},setJournal:function(e,t){var n=t.payload,r=n.id,o=n.journal;e[r]=i(i({},e[r]),{error:void 0,state:l.JournalState.fetched,updatedAt:Date.now(),journal:o})},appendJournal:function(e,t){var n=t.payload,r=n.id,a=n.journal,u=e[r].journal;e[r]=i(i({},e[r]),{error:void 0,state:l.JournalState.fetched,updatedAt:Date.now(),journal:(function(e,t){var n=e.clusters,r=t.clusters,a=s.default.last(n),u=s.default.first(r),c=u&&a&&u.id===a.id?o(n.slice(0,-1),[i(i({},a),{groups:o(a.groups,u.groups)})],s.default.tail(r)):o(n,r),l=e.page_load_date;return{total_count:t.total_count,loaded_count:e.loaded_count+t.loaded_count,page_load_date:l,clusters:c}})(u,a)})},appendJournalGroup:function(e,t){var n,r=t.payload,i=r.id,o=r.events,a=r.groupId,s=u.getGroupById(e[i].journal,a);s&&(s.fetching=!1,(n=s.events).push.apply(n,o))},fetchJournalGroupFailed:function(e,t){var n=t.payload,r=n.id,i=n.groupId,o=u.getGroupById(e[r].journal,i);o&&(o.fetching=!1)},setJournalCounters:function(e,t){var n=t.payload,r=n.id,i=n.eventTypes,o=n.platforms;e[r].filters.eventTypes=i,e[r].filters.platforms=o},setJournalFilter:function(e,t){var n=Date.now(),r=t.payload,o=r.id,a=r.filters,c=r.reset,f=void 0!==c&&c;e[o]=i(i({},e[o]),{state:l.JournalState.fetching,updatedAt:n,filters:i(f?i(i({},e[o].filters),s.default.omit(u.getDefaultFilters(n),["eventTypes","platforms"])):i({},e[o].filters),a)})}}});t.journalMounted=c.createAction("journals/mounted"),t.setJournal=(r=f.actions).setJournal,t.initJournal=r.initJournal,t.fetchJournal=r.fetchJournal,t.appendJournal=r.appendJournal,t.appendJournalGroup=r.appendJournalGroup,t.setJournalFilter=r.setJournalFilter,t.fetchJournalFailed=r.fetchJournalFailed,t.fetchJournalGroup=r.fetchJournalGroup,t.fetchJournalGroupFailed=r.fetchJournalGroupFailed,t.setJournalCounters=r.setJournalCounters,t.default=f.reducer}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s="/ping",u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return i()(this,e),this._fetch=this._fetch.bind(this),this._onOffline=this._onOffline.bind(this),this._onOnline=this._onOnline.bind(this),this._onlineListener=this._onlineListener.bind(this),this._ping=this._ping.bind(this),this.addOfflineEventListener=this.addOfflineEventListener.bind(this),this.addOnlineEventListener=this.addOnlineEventListener.bind(this),this.removeOfflineEventListener=this.removeOfflineEventListener.bind(this),this.removeOnlineEventListener=this.removeOnlineEventListener.bind(this),this.pingUntilOnline=this.pingUntilOnline.bind(this),e._instance?e._instance:(e._instance=this,e._instance._pingURL=t,e._instance._init(),e._instance)}return a()(e,[{key:"addOfflineEventListener",value:function(e){this._onOfflineCallbacks.push(e)}},{key:"addOnlineEventListener",value:function(e){this._onOnlineCallbacks.push(e)}},{key:"removeOfflineEventListener",value:function(e){this._onOfflineCallbacks=this._onOfflineCallbacks.filter((function(t){return t!==e}))}},{key:"removeOnlineEventListener",value:function(e){this._onOnlineCallbacks=this._onOnlineCallbacks.filter((function(t){return t!==e}))}},{key:"_init",value:function(){this._onOfflineCallbacks=[],this._onOnlineCallbacks=[],"undefined"!=typeof window&&window.addEventListener("offline",this._onOffline)}},{key:"_fetch",value:function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){r.status?t(r.status):n(r.status)},r.onerror=function(){n(r.status)},r.send()})}},{key:"pingUntilOnline",value:function(){var e=this;return this._ping().then((function(t){return!!t||(function(e){return new Promise(function(t){setTimeout((function(){t()}),e)})})(2e3).then(e.pingUntilOnline)}))}},{key:"_ping",value:function(){return this._fetch(this._pingURL).then((function(e){return 200===e})).catch((function(){return!1}))}},{key:"checkIsOnline",value:function(){var e=this;return navigator.onLine?this._ping().then((function(t){return t||e._onOffline(),t})):(this._onOffline(),Promise.resolve(!1))}},{key:"_onlineListener",value:function(){var e=this;window.removeEventListener("online",this._onlineListener),this.pingUntilOnline().then((function(){e._onOnline()}))}},{key:"_onOffline",value:function(){this._offlineTime=Date.now(),this._onOfflineCallbacks.forEach((function(e){try{e()}catch(e){setTimeout((function(){throw e}),0)}})),window.addEventListener("online",this._onlineListener)}},{key:"_onOnline",value:function(e){if(this._offlineTime){var t=Date.now()-this._offlineTime;this._onOnlineCallbacks.forEach((function(n){n(e,t)}))}}}]),e})();u._instance=null}),(function(e,t,n){"use strict";n.r(t),n.d(t,"publishObject",(function(){return p})),n.d(t,"openShareDialog",(function(){return h})),n.d(t,"unpublishObject",(function(){return m}));var r=n(10),i=n.n(r),o=n(48),a=n(31),s=n(447),u=n(15),c=n(54),l=n(27),f=n(23);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var s,p,h;t===a.OBJECT_TYPES.RESOURCE?(p=e[0],s=r(Object(u.publishResource)(p))):t===a.OBJECT_TYPES.ALBUM&&(e.length>1?s=r(Object(c.publishPhotos)(e)).then((function(e){return h=e})):(h=e[0],s=r(Object(c.publishAlbum)(h)))),s.then((function(){var a,s=o();p?a=s.resources[p].meta.short_url:h&&(a=s.personalAlbums.albumsByIds[h].public.short_url),r(Object(l.copyPublicLink)(a)),n.shouldOpenDialog&&r(Object(f.openDialog)("share-dialog",(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({objectIds:e,objectType:t},n.dialogData)))}))}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,r){Array.isArray(e)||(e=[e]);var i=Object(s.getMetrikaSectionTail)(r()),u=Object(a.getPublishObjectData)(r(),e),c=Object(o.isOverdraftHard)(r())&&u.objectType!==a.OBJECT_TYPES.ALBUM;if(u.isPublic)c||n(Object(l.copyPublicLink)(u.shortUrl)),n(Object(f.openDialog)("share-dialog",{metrikaContext:t,metrikaTail:i,objectIds:e,objectType:u.objectType}));else{if(n(Object(l.maybeBlockAction)({forLite:!0})))return;n(p(e,u.objectType,{shouldOpenDialog:!0,dialogData:{metrikaContext:t,metrikaTail:i,justPublished:!0}}))}}},m=function(e,t){return function(n){t===a.OBJECT_TYPES.RESOURCE?n(Object(u.unpublishResource)(e[0])):t===a.OBJECT_TYPES.ALBUM&&(e.length>1?n(Object(c.unpublishPhotos)()):n(Object(c.unpublishAlbum)(e[0])))}}}),(function(e,t,n){"use strict";var r=n(32),i=n(76),o=n(433),a=new r.Registry({id:Object(i.b)()});a.set("Tail",o.a),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i.b}));var s=Object(r.withRegistry)(a)(i.a)}),(function(e,t,n){"use strict";var r=n(0),i=n(441),o=n(2),a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),s=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function u(){var e=Object(r.useContext)(i.a);return Object(r.useMemo)((function(){return (function(e){if(Intl.Locale){var t=new Intl.Locale(e).maximize(),n=t.region,r=t.script,i=t.language,u=a.has(r)?"rtl":"ltr";return{locale:e,language:i,region:n,direction:u,isRTL:"rtl"===u}}var c=Object(o.__read)(e.split("-"),2),l=c[0],f=c[1],d=s.has(l)?"rtl":"ltr";return{locale:e,language:l,region:f,direction:d,isRTL:"rtl"===d}})(e)}),[e])}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n.n(i),a=n(174);function s(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:e.props.focused,pressed:e.props.pressed,disabled:e.props.disabled},e.onMouseDown=function(t){3!==t.nativeEvent.which&&(e.setState({pressed:!0}),e.docOnMouseDown(),void 0!==e.props.onMouseDown&&e.props.onMouseDown(t))},e.onMouseUp=function(t){e.setState({pressed:!1}),void 0!==e.props.onMouseUp&&e.props.onMouseUp(t)},e.docOnMouseDown=function(){document.addEventListener("mouseup",e.docOnMouseUp),document.addEventListener("dragend",e.docOnMouseUp)},e.docOnMouseUp=function(){e.setState({pressed:!1}),document.removeEventListener("mouseup",e.docOnMouseUp),document.removeEventListener("dragend",e.docOnMouseUp)},e.onFocus=function(t){e.setState({focused:!0}),void 0!==e.props.onFocus&&e.props.onFocus(t)},e.onBlur=function(t){e.setState({focused:!1}),void 0!==e.props.onBlur&&e.props.onBlur(t)},e}return Object(r.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},n.prototype.render=function(){var t=this.state,n=t.disabled,i=t.focused,a=t.pressed,s=e;return o.a.createElement(s,Object(r.__assign)({},this.props,{focused:n?void 0:i,pressed:n?void 0:a,onMouseDown:n?void 0:this.onMouseDown,onMouseUp:n?void 0:this.onMouseUp,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur}))},n.displayName="WithControl("+Object(a.a)(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(192),i=n(104),o=n(276);function a(e){return Object(r.a)(Object(i.a)(e)).left+Object(o.a)(e).scrollLeft}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(93);function i(e){var t=Object(r.a)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(121);function i(e){var t=Object(r.a)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}}),(function(e,t,n){"use strict";function r(){return (function(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test(window.navigator.userAgent)})(/Firefox/)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(157),w=n(159),E=n(26),S=n(72),x=n(126),C=n(57),T=n(42),k=n(11),j=n.n(k);n(1834);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=function(){return j()()("groupable-buttons")},A=(function(e){h()(n,e);var t=P(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={popupMoreButtonsVisible:!1,hiddenButtonIndexes:[]},r._onMoreButtonsPopupOutsideClick=r._onMoreButtonsPopupOutsideClick.bind(d()(r)),r._onMoreButtonsPopupToggle=r._onMoreButtonsPopupToggle.bind(d()(r)),r._updateInvisibleButtons=r._updateInvisibleButtons.bind(d()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(d()(r)),r._popupMoreButtonsAnchor=_.a.createRef(),r._moreContainerRef=_.a.createRef(),r}return l()(n,[{key:"closeDropdown",value:function(){this.state.popupMoreButtonsVisible&&this.setState({popupMoreButtonsVisible:!1})}},{key:"componentDidMount",value:function(){this.props.collapsible&&(this._updateButtonsSizes(),this._updateInvisibleButtons(),window.addEventListener("resize",this._updateInvisibleButtons))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateInvisibleButtons)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&this.setState({hiddenButtonIndexes:[]})}},{key:"componentDidUpdate",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&(this._updateButtonsSizes(),this._updateInvisibleButtons())}},{key:"_buttonsWasChanged",value:function(e){return this.props.buttons.length!==e.buttons.length||this.props.buttons.some((function(t,n){return t.id!==e.buttons[n].id}))}},{key:"_updateButtonsSizes",value:function(){var e=this;if(this.props.buttons.length&&this._visibleButtonsContainerNode){var t=Array.from(this._visibleButtonsContainerNode.childNodes).filter((function(t){var n;return t!==(null===(n=e.props.renderBeforeRef)||void 0===n?void 0:n.current)})).map((function(t,n){var r=getComputedStyle(t),i=t.getBoundingClientRect().width+parseFloat(r["margin-left"])+parseFloat(r["margin-right"]);return Object.assign({hidePriority:0},e.props.buttons[n],{width:i,index:n})})),n=0;this._breakpoints=t.sort((function(e,t){return e.hidePriority>t.hidePriority?-1:1})).map((function(e){return{value:n+=e.width,buttonIndex:e.index}}))}}},{key:"_updateInvisibleButtons",value:function(){var e,t,n,r;if(this.props.buttons.length&&this._breakpoints&&this._visibleButtonsContainerNode){for(var i=this._visibleButtonsContainerNode.getBoundingClientRect().width-((null===(e=this.props.renderBeforeRef)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:null===(n=t.getBoundingClientRect)||void 0===n?void 0:null===(r=n.call(t))||void 0===r?void 0:r.width)||0),o=[],a=this._breakpoints.length-1;a>=0;a--)this._breakpoints[a].value>i&&o.push(this._breakpoints[a].buttonIndex);var s={hiddenButtonIndexes:o};this._allButtonsAreVisible(s)&&this.state.popupMoreButtonsVisible&&(s.popupMoreButtonsVisible=!1),this.state.hiddenButtonIndexes.length!==o.length&&this.setState(s)}}},{key:"_allButtonsAreVisible",value:function(e){return 0===e.hiddenButtonIndexes.length&&this.props.buttons.every((function(e){return!e.hidden}))}},{key:"_onMoreButtonsPopupOutsideClick",value:function(){this.props.onMoreClose(),this.setState({popupMoreButtonsVisible:!1})}},{key:"_onMoreButtonsPopupToggle",value:function(){this.state.popupMoreButtonsVisible?this.props.onMoreClose():this.props.onMoreOpen(),this.setState({popupMoreButtonsVisible:!this.state.popupMoreButtonsVisible})}},{key:"render",value:function(){return _.a.createElement("div",{className:R()},this.props.isMobile?this.props.renderBefore:null,this._renderVisibleButtons(),this._renderOtherButtons())}},{key:"_renderVisibleButtons",value:function(){var e=this;return _.a.createElement("div",{className:R().e("visible-buttons"),ref:function(t){e._visibleButtonsContainerNode=t}},this.props.isMobile?null:this.props.renderBefore,this.props.buttons.filter((function(e){return!e.hidden})).map((function(t,n){var r=t.id,o=t.text,s=t.icon,u=t.iconOnly,c=t.noTooltip,l=t.tooltipText,f=t.content,d=t.disabled,p=t.view,h=e.state.hiddenButtonIndexes.includes(n),m=e.props.disabled||d,v=null;return v=f?"function"==typeof f?f(h):f:_.a.createElement(E.Button,i()({className:R().e("visible-button").m({name:r}).mix(h?"hidden":""),onClick:function(){return e.props.onButtonClick(r)},size:"m",disabled:m,view:p||e.props.view,"aria-label":o},a()({},u||!o?"icon":"iconLeft",s)),u?null:o),Boolean(c)?v:_.a.createElement(w.default,{key:r,text:u?o:l,disabled:m||e.props.isMobile||!u&&!l||h},v)})))}},{key:"_renderMoreButton",value:function(){var e=this.props,t=e.moreButtonSize,n=e.moreIconSize,r=_.a.createElement(E.Button,{innerRef:this._popupMoreButtonsAnchor,onClick:this._onMoreButtonsPopupToggle,className:R().e("more-button"),"aria-label":this.props.moreButtonsText,view:this.props.view,disabled:this.props.disabled,size:t||"m",icon:function(e){return _.a.createElement(O.default,{iconSize:n,cls:e})}});return this.props.isMobile?r:_.a.createElement(w.default,{text:this.props.moreButtonsText,disabled:!this.props.moreButtonsText||this.state.popupMoreButtonsVisible,direction:this.props.moreButtonsHoverTooltipText},r)}},{key:"_renderOtherButtons",value:function(){var e=this,t=this.props.buttons.map((function(e,t){return Object.assign({group:0,position:t},e)})).sort((function(e,t){return e.group===t.group?e.position-t.position:e.group-t.group})).reduce((function(e,t){return 0===e.length||e[e.length-1].group!==t.group?e.push({group:t.group,buttons:[t]}):e[e.length-1].buttons.push(t),e}),[]),n=_.a.createElement(C.Menu,{className:R().e("menu-buttons"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},t.map((function(t,n){var r=0===n&&e.props.collapsible,i=r&&0===e.state.hiddenButtonIndexes.length?"hidden":"";return _.a.createElement(C.Group,{key:t.group,className:R().e("groupable-menu-buttons").mix(i)},t.buttons.map((function(t,n){var i=r&&!e.state.hiddenButtonIndexes.includes(n);return e._getMenuItem(t,i)})).filter(Boolean))}))),r=R().e("more-button-popup").mix(T.LISTING_PREVENT_DESELECT_CLASS);return _.a.createElement("div",{className:R().e("more-button-wrap").m({invisible:this._allButtonsAreVisible(this.state)}),ref:this._moreContainerRef},this._renderMoreButton(),this.props.useMobilePane?_.a.createElement(x.Drawer,{className:r,onClose:this._onMoreButtonsPopupOutsideClick,view:"default",visible:this.state.popupMoreButtonsVisible},n):_.a.createElement(S.Popup,{view:"default",direction:this.props.moreButtonsPopupDirections||["bottom-end"],className:r,visible:this.state.popupMoreButtonsVisible,target:"anchor",anchor:this._popupMoreButtonsAnchor,onClose:this._onMoreButtonsPopupOutsideClick,scope:this.props.popupScope||this._moreContainerRef},n))}},{key:"_onMenuItemClick",value:function(e){this._popupMoreButtonsAnchor.current.focus(),this.props.onButtonClick(e.target.value),this.setState({popupMoreButtonsVisible:!1})}},{key:"_getMenuItem",value:function(e,t){return e.content?null:_.a.createElement(C.Item,{key:e.id,value:e.id,disabled:this.props.disabled||e.disabled,className:R().e("menu-button").m({action:e.id}).mix(t?"hidden":""),tooltipText:e.tooltipText,icon:e.icon,tabIndex:0},e.text)}}]),n})(b.PureComponent);A.defaultProps={onMoreClose:function(){},onMoreOpen:function(){}},t.a=A}),(function(e,t,n){"use strict";var r,i=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=n(19),c=s(n(0)),l=n(15),f=n(269),d=n(82),p=n(532),h=n(117),m=n(1842),v=n(27),g=n(54),y=n(269),b=n(20),_=((r={})[b.PUBLISH]="openShareDialog",r[b.UNPUBLISH]="unpublishResource",r[b.FOTKI_INFO]="showResourceFotkiInfo",r[b.DOWNLOAD]="downloadResource",r[b.SHOW_FULLSIZE]="showFullsizeResource",r[b.SET_AS_COVER]="setResourceAsAlbumCover",r[b.EDIT]="editResource",r[b.VIEW]="openResource",r[b.COPY]="copyResource",r[b.MOVE]="moveResource",r[b.DELETE]="deleteResource",r[b.DELETE_FROM_TRASH]="deleteResource",r[b.RENAME]="renameResource",r[b.ADD_TO_ALBUM]="addToAlbum",r[b.EXCLUDE_FROM_ALBUM]="excludeFromAlbum",r[b.EXCLUDE_FROM_GEO_ALBUM]="excludeFromGeoAlbum",r[b.EXCLUDE_FROM_PERSONAL_ALBUM]="excludeFromPersonalAlbum",r[b.GO_TO_FILE]="goToResource",r[b.GO_TO_FOLDER]="goToResource",r[b.VERSIONS]="openVersionsDialog",r[b.RESTORE]="restoreResource",r[b.SHARE_ACCESS]="openSharedFolderAccessDialog",r[b.CLEAN_TRASH]="cleanTrash",r[b.PIN]="remoteTogglePinDoc",r[b.REMOVE_FROM_DOCS]="removeFromDocs",r),O=[b.DELETE,b.DELETE_FROM_TRASH,b.RESTORE,b.EXCLUDE_FROM_PERSONAL_ALBUM];t.default=function(e,t,n){var r={openShareDialog:f.openShareDialog,publishObject:y.publishObject,unpublishObject:y.unpublishObject,publishAlbum:g.publishAlbum,unpublishAlbum:g.unpublishAlbum,publishResource:l.publishResource,unpublishResource:l.unpublishResource,showResourceFotkiInfo:l.showResourceFotkiInfo,showFullsizeResource:l.showFullsizeResource,setResourceAsAlbumCover:g.setResourceAsAlbumCover,downloadResource:l.downloadResource,copyResource:l.copyResource,deleteResource:l.deleteResource,moveResource:l.moveResource,goToResource:l.goToResource,editResource:l.editResource,restoreResource:l.restoreResource,openSharedFolderAccessDialog:l.openSharedFolderAccessDialog,openVersionsDialog:p.openVersionsDialog,renameResource:m.renameResource,cleanTrash:v.cleanTrash,createAlbum:g.createAlbum,addToAlbum:g.addToAlbum,addToCurrentAlbum:g.addToCurrentAlbum,excludeFromAlbum:g.excludeFromAlbum,excludeFromGeoAlbum:g.excludeFromGeoAlbum,excludeFromPersonalAlbum:g.excludeFromPersonalAlbum,openResource:l.openResourceById,deselectAllStatesContext:h.deselectAllStatesContext,copyPublicLink:v.copyPublicLink,maybeBlockAction:v.maybeBlockAction,remoteTogglePinDoc:d.remoteTogglePinDoc,removeFromDocs:d.removeFromDocs};return u.connect((function(e,n){var r=n.resources?n.resources:t(e);return{page:e.page,resources:r,availableActions:b.getAvailableActions(r,e),disableReasons:b.getDisableReasons(r,e)}}),r)(function(t){function r(e){var n=t.call(this,e)||this;return n._onAction=n._onAction.bind(n),n._onKeyDown=n._onKeyDown.bind(n),n}return i(r,t),r.prototype.componentDidMount=function(){n&&window.addEventListener("keydown",this._onKeyDown)},r.prototype.componentWillUnmount=function(){n&&window.removeEventListener("keydown",this._onKeyDown)},r.prototype._onKeyDown=function(e){var t,n=this.props,r=n.availableActions;n.resources.length&&(46!==e.keyCode||(null===(t=e.target)||void 0===t?void 0:t.closest("input"))||(r.includes(b.DELETE)&&this._onAction(b.DELETE),r.includes(b.DELETE_FROM_TRASH)&&this._onAction(b.DELETE_FROM_TRASH)))},r.prototype._getSelectedIds=function(){var e=this.props.resources;return e.length>1?e.map((function(e){return e.id})):e[0].id},r.prototype._getActionParams=function(e){return e===b.PUBLISH&&this.props.metrikaContext?[this.props.metrikaContext]:[]},r.prototype._onAction=function(e){var t;(t=this.props)[_[e]].apply(t,a([this._getSelectedIds()],this._getActionParams(e))),O.includes(e)&&this.props.deselectAllStatesContext()},r.prototype.render=function(){var t=this.props,n=t.availableActions,r=t.disableReasons,i=n.reduce((function(e,t){return e[t]={disabled:!1},e}),{});return r.forEach((function(e){var t=e.action,n=e.reason;i[t]={disabled:!0,tooltipText:b.reasonsMessages[n]}})),c.default.createElement(e,o({},this.props,{actions:i,availableActions:n,onAction:this._onAction}))},r}(c.Component))}}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(0),a=n.n(o),s=n(94),u=n(11),c=n.n(u);t.a=function(e){var t,n=e.resource,r=e.cls,o=e.size,u=n.name.split(".").pop();return t="dir"===n.type?{type:"dir"+(n.iconType?"_"+n.iconType:""),cls:c()()("listing-item").e("dir-icon").mix(r)}:{ext:u,mediatype:n.meta&&n.meta.mediatype,type:n.iconType,cls:r},a.a.createElement(s.default,i()({size:o},t))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(n(1007))}),(function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))}),(function(e,t,n){"use strict";var r=n(208),i=n(277),o=n(114),a=n(86);var s=n(93);function u(e,t){void 0===t&&(t=[]);var n=(function e(t){return["html","body","#document"].indexOf(Object(o.a)(t))>=0?t.ownerDocument.body:Object(a.b)(t)&&Object(i.a)(t)?t:e(Object(r.a)(t))})(e),c="body"===Object(o.a)(n),l=Object(s.a)(n),f=c?[l].concat(l.visualViewport||[],Object(i.a)(n)?n:[]):n,d=t.concat(f);return c?d:d.concat(u(Object(r.a)(f)))}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c}));var r=null;function i(e,t){return!!r&&r.call(e,t)}function o(e){return"INPUT"===e.tagName}function a(e){return"IFRAME"===e.tagName}function s(e){return o(e)&&"hidden"===e.type}function u(e){return o(e)&&"radio"===e.type}function c(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1}"undefined"!=typeof Element&&(r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(83),a=n.n(o),s=n(317),u=n(38),c=n(46),l=n.n(c),f=n(60),d=n.n(f),p=n(15),h=n(33),m=n(101),v={},g=function(e,t){return new Promise(function(n,r){if(v[e])n(v[e]);else if(window.indexedDB){var i=window.indexedDB.open(e);i.onerror=r,i.onsuccess=function(t){v[e]=t.target.result,n(v[e])},i.onupgradeneeded=function(){var e=i.result;e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})}}else r()})},y=n(9),b=n.n(y),_=n(53),O=n(117),w=n(27),E=n(35),S=n.n(E),x=n(16),C=n(312),T=n(43),k=n(84),j=n(260);n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return z})),n.d(t,"f",(function(){return V}));var P,R=function(e){return{type:s.c,payload:e}},A=function(e,t){return e.albumsSupportedV2=!0,e.locale=t,(function(e,t,n,r){return new Promise(function(i,o){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var a=e.transaction(t,"readwrite").objectStore(t),s=a.delete(n);s.onerror=o,s.onsuccess=function(){var e=a.add({id:n,data:r});e.onerror=o,e.onsuccess=function(){i(e.result)}}}else o()})).catch(o)})})(E.PHOTOSLICE_DB.NAME,E.PHOTOSLICE_DB.STORE,E.PHOTOSLICE_DB.OBJECT,e).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))},I=function(e){return (function(e,t,n){return new Promise(function(r,i){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var o=e.transaction(t).objectStore(t).get(n);o.onerror=i,o.onsuccess=function(){o.result?r(o.result.data):i()}}else i()})).catch(i)})})(E.PHOTOSLICE_DB.NAME,E.PHOTOSLICE_DB.STORE,E.PHOTOSLICE_DB.OBJECT).then((function(t){return t&&t.albumsSupportedV2&&t.locale===e?t:{}})).catch((function(e){return e instanceof Error&&setTimeout((function(){throw e}),0),Promise.resolve({})}))},D=function e(){return function(t,n){var r=n(),i=r.photoslice,o=i.photosliceId,a=i.isLoading,s=i.isLoaded,c=i.revision,l=i.unfilteredTotalSelected,f=r.environment.session.locale;return a||l&&"photo"===Object(T.getPage)(r)?t(R({hasDiff:!0})):Object(u.a)("getDiff",{idSlice:o,revision:c,locale:f}).then((function(n){if(!n.total)return s?Promise.resolve():t(R({isLoaded:!0}));var r=Object(m.h)(n,c);t({type:x.APPLY_DIFF,payload:{diff:r}}),t(function(e){return function(t){Object.keys(e.clusters).forEach((function(n){var r=e.clusters[n];r.insert&&r.insert.items.forEach((function(e){var r=e.id;t(Object(p.maybeSetClusterIdToResource)(r,n))})),r.items&&Object.keys(r.items).forEach((function(e){r.items[e].insert&&t(Object(p.maybeSetClusterIdToResource)(r.items[e].insert.id,n))}))}))}}(r));var i=(function(e,t){return I(t).then((function(n){for(var r in n.revision=e.revision,e.clusters){var i=Object(m.d)(n.items,r,(function(e){return e.id})),o=i.index,a=i.found,s=e.clusters[r];if(s.delete)a&&n.items.splice(o,1);else{var u=a?n.items[o]:{id:r};s.insert&&Object(m.b)(u,b.a.omit(s.insert,["items"])),s.update&&Object(m.b)(u,b.a.omit(s.update,["items"])),a||n.items.splice(o,0,u)}}return A(n,t)})).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))})(r,f);return n.total>n.limit?i.then((function(){return t(e())})):i})).catch((function(){return t(M())}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),i=r.photoslice.isLoaded,o=r.environment.session.locale;t(R({isLoading:!0,isLoaded:!!i,hasDiff:!1})),clearTimeout(P),P=setTimeout((function(){t(R({isSlowLoading:!0}))}),5e3);var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];clearTimeout(P);return t({type:s.a,payload:Object.assign({photosliceId:e.id},e,{isLoaded:!r})}),A(e,o).then((function(){return n().photoslice.hasDiff?t(D()):Promise.resolve()}))},c=function(e){clearTimeout(P),t(R({isLoading:!1,isSlowLoading:!1})),l.a.go("/client/error","preserve",{reason:"photo2_fetch_snapshot_error",error:e})},f=function(){return Object(u.a)("initSnapshot")},d=function(e){return Object(u.a)("getSnapshot",{idSlice:e,locale:o}).then(a).catch(c)};return e?I(o).then((function(e){return f().then((function(n){var r=n.photoslice_id;return e.id&&r===e.id?a(e,!0).then((function(){return t(D()).catch((function(){return d(r)}))})):d(r)}))})).catch(c):f().then((function(e){var t=e.photoslice_id;return d(t)})).catch(c)}},N=function(e,t,n){var r=[],i=[];for(var o in e){var a=t[o];if(e[o].resources&&a&&a.items){var s=Object(C.getFilteredClusterData)(a.items,(function(e){return!n.includes(e)})),u=s.albums,c=s.items,l=s.size,f=(a.albums||u)&&!b.a.isEqual(u,a.albums);l?(l!==a.items.length||f)&&i.push(Object.assign({},a,{items:c,size:l,albums:u})):r.push(o)}}return{fetched:i,missing:r}},L=function(e,t){return function(n,r){var o=r(),s=o.photoslice.photosliceId,c=o.page.filter,f=o.resources,d=(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=Object(k.getAllItems)(e),o=e.resources,s={},u=[],c={},l={};Object(m.j)(t,i,(function(e,t){if(o[t.id])if(o[t.id].clusterId){var n=b.a.get(o[t.id],"meta.albums_exclusions",[]);t.albums&&t.albums.some((function(e){return n.includes(e)}))&&(l[t.id]=!0)}else c[t.id]=e.id;else(s[e.id]||(s[e.id]={resources:[]})).resources.push(t.id)}),(function(e,t,n){s[e.id]={range:[t,n]}})),n&&n.length&&n.forEach((function(e){for(var t=a()(e,2),n=t[0],r=t[1],o=n;o<=r;o++){var u=i[o];u.items||s[u.id]||(s[u.id]=!0)}}));for(var f=Object.keys(s),d=0;d<Math.ceil(f.length/r);d++){var p=d*r,h=p+r;u.push(b.a.pick(s,f.slice(p,h)))}return{clustersToLoad:u,resourcesWithoutClusterIds:c,resourcesNeededExcludeFromAlbums:l}})(o,e,t),v=d.clustersToLoad,g=d.resourcesWithoutClusterIds,y=d.resourcesNeededExcludeFromAlbums,_=[];for(var O in g){var w=g[O];n(Object(p.maybeSetClusterIdToResource)(O,w)),f[O]&&_.push(Object.assign({},f[O],{clusterId:w}))}for(var E in y)g[E]||_.push(f[E]);return v.length?Promise.all(v.map((function(e){var t={photosliceId:s,clusters:JSON.stringify(e)};return Object(k.isValidFilter)(c)&&(t.filter=c),Object(u.a)("getClustersWithResources",t).then((function(t){var o=t.clusters,a=t.resources,s=r().photoslice.clustersByIds;o.fetched=o.fetched.filter((function(t){return!!s[t.id]&&(!s[t.id].items||(e[t.id]={resources:[]},!1))}));var c={};if(a.error)Object(u.a)("getResources",{ids:JSON.stringify(a.requested||[]),photoslice:!0}).then((function(t){var i=r().photoslice.clustersByIds,s={resources:h.default.preprocessResources(t,r()).concat(_),clusters:o};if(t.length!==a.requested.length){for(var u in e){var c=e[u];i[u]&&(c.resources=c.resources||{})}var l=b.a.differenceWith(a.requested,t,(function(e,t){return e===t.id})),f=N(e,i,l);Object.assign(s,{clusters:f})}n(Object(p.updateClustersAndResources)(s))}),(function(e){l.a.go("/client/error","preserve",{reason:"photo2_fetch_resources_error",error:e})}));else if(a.fetched.length&&Object.assign(c,{resources:h.default.preprocessResources(a.fetched,r()).concat(_)}),a.missing.length){var f,d,m=N(e,s,a.missing),v=m.fetched,g=m.missing;(f=o.fetched).push.apply(f,i()(v)),(d=o.missing).push.apply(d,i()(g))}(o.fetched.length||o.missing.length)&&Object.assign(c,{clusters:o}),Object.keys(c).length&&n(Object(p.updateClustersAndResources)(c))})).catch((function(e){e&&"HTTP_404"===e.id?n(M()):l.a.go("/client/error","preserve",{reason:"photo2_fetch_clusters_with_resources_error",error:e})}))}))):(_.length&&n(Object(p.updateClustersAndResources)({resources:_})),Promise.resolve())}},F=function(e){return function(t,n){var r=n().photoslice.photosliceId;return Object(u.a)("getClusters",{idSlice:r,ids:e}).then((function(e){var n=e.items[0];if(n)return n.id=n.cluster_id,delete n.cluster_id,n.items=n.items.map(C.preprocessClusterItem),n.size=n.items.length,t({type:x.UPDATE_CLUSTERS_AND_RESOURCES,payload:{clusters:{added:[n]}}}),n}))}},B=function(e){return function(t,n){var r=n().page,i=r.filter,o=r.currentUrl;if(e!==i){t(Object(O.setFilteredSelection)({total:0,missing:0,unfilteredTotal:0,resources:[]}));var a=d.a.replaceParam(d.a.getPath(o)+(d.a.getSearch(o)||""),"filter",e!==S.a.PHOTOSLICE_FILTERS.ALL?e:void 0,!0);t(Object(w.goToUrl)(a))}}},U=function(e){return function(t,n){var r=n(),i=r.page.filter,o=r.settings,a="".concat(i,"AlbumPhotoView"),s=o[a]?a:"photoView";t(Object(_.saveSettings)({key:s,value:e}))}},z=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.a.noop,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.fetchSingleResource,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F;return function(s,u){var c=u(),l=c.resources,f=function(t){return t.id===e},d=e,h=Object(k.getAllItems)(c),v=function(e,o){var a=o.findIndex(f);if(~a){var u=t.getItemAbsoluteTop(e,a),c=n.shouldSelect,l=t._options.offset.y,p=r(u-l,{shouldNotScroll:!0,updatePages:!0});setTimeout((function(){Object(j.scrollListingToPosition)(p+l,{itemHeight:t.getItemSize(e,a).height})}),0),c&&s(Object(O.setFilteredSelection)({total:1,unfilteredTotal:1,missing:0,resources:[d]}))}else i()},g=function(e){var t=e.meta.photoslice_time,n=Object(m.e)(h,1e3*t);n>=0?(function(e){var t=h[e],n=t.id,r=t.items;r?v(n,r):s(a(n)).then((function(){var t=Object(k.getAllItems)(u())[e];t&&t.items?v(n,t.items):i()}))})(n):i()},y=l[d];y?g(y):s(o(d,{silent:!0})).then((function(e){e.error?i():g(e)})),s(Object(p.setScrollToResource)(null))}},V=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.a.noop;return function(i,o){var a=Object(k.getAllItems)(o()),s=Object(m.c)(a,e);if(s){var u=t.getClusterAbsoluteTop(s.id),c=t._options.offset.y,l=n(u-c,{shouldNotScroll:!0,updatePages:!0});setTimeout((function(){Object(j.scrollListingToPosition)(l+c,{itemHeight:60})}),0)}else r()}}}),,(function(e,t,n){"use strict";var r=n(166),i=n(588),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}}),(function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!(function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,(function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}})(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),(function(e,t,n){var r=n(1121),i=n(490),o=n(1128),a=n(852),s=n(1129),u=n(246),c=n(628),l=c(r),f=c(i),d=c(o),p=c(a),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Radiobox=t.cnRadiobox=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(32),a=n(34),s=n(630);n(1150),t.cnRadiobox=a.cn("Radiobox");t.Radiobox=function(e){var n=e.children,a=e.className,u=e.disabled,c=e.innerRef,l=e.name,f=e.onChange,d=e.options,p=void 0===d?[]:d,h=e.value,m=(e.view,e.size,e.theme,o.useComponentRegistry(t.cnRadiobox()).Radio),v=r.__read(i.useState({onChange:f,value:h,disabled:u,name:l}),2),g=v[0],y=v[1];return i.useEffect((function(){y({onChange:f,value:h,disabled:u,name:l})}),[f,h,u,l]),i.default.createElement("span",{className:t.cnRadiobox(null,[a]),ref:c,role:"radiogroup"},i.default.createElement(s.RadioGroupProvider,{value:g},n||p.map((function(e){var t=e.label,n=r.__rest(e,["label"]);return i.default.createElement(m,r.__assign({key:n.value},n),t)}))))},t.Radiobox.displayName=t.cnRadiobox()}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(219),a=r(n(0)),s=i(n(636)),u=n(34).cn("HoverTooltip");n(1223);t.default=function(e){var t=e.disabled,n=e.anchorRef,r=e.className,i=e.children,c=e.tooltipContent,l=e.direction,f=e.hasTail,d=e.messageBoxClassName,p=e.size,h=a.useState(!1),m=h[0],v=h[1],g=a.useRef(null),y=o.mergeRefs(g,n),b=a.useRef(null),_=a.useRef(void 0),O=a.useRef(void 0),w=a.useCallback((function(){t||(m?window.clearTimeout(O.current):_.current=window.setTimeout((function(){v(!0)}),200))}),[m,t]),E=a.useCallback((function(){m?O.current=window.setTimeout((function(){v(!1)}),200):_.current&&window.clearTimeout(_.current)}),[m]),S=function(){window.clearTimeout(O.current)},x=function(){O.current=window.setTimeout((function(){v(!1)}),200)};return a.useEffect((function(){if(m){var e=b.current;return requestAnimationFrame((function(){e&&(e.addEventListener("mouseenter",S),e.addEventListener("mouseleave",x))})),function(){e&&(e.removeEventListener("mouseenter",S),e.removeEventListener("mouseleave",x))}}}),[m]),a.useEffect((function(){t&&(window.clearTimeout(_.current),window.clearTimeout(O.current),requestAnimationFrame((function(){v(!1)})))}),[t,_,O,v]),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{onMouseEnter:w,onMouseLeave:E,className:u("Wrap",[r]),ref:y},i),c?a.default.createElement(s.default,{size:p||"s",view:"default",visible:m,anchor:y,direction:l,hasTail:f,innerRef:b,opaque:!0,className:d},c):null)}}),(function(e,t,n){"use strict";n.r(t);var r=n(431);n.d(t,"useOverlay",(function(){return r.a}));var i=n(413);n.d(t,"OverlayManager",(function(){return i.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(650);n.d(t,"LocaleProvider",(function(){return r.a}));var i=n(271);n.d(t,"useLocale",(function(){return i.a}));var o=n(651);n.d(t,"useDateFormatter",(function(){return o.a}));var a=n(652);n.d(t,"useFirstDayOfWeek",(function(){return a.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(560);n.d(t,"mergeProps",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(543);n.d(t,"useUniqId",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(544);n.d(t,"useFocusable",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeSinglePromoByFormat=t.humanReadableInterval=t.CLOSE_DELAY=t.delay=t.getForcedPromoName=void 0;const r=n(299);t.getForcedPromoName=(e=>{const t="string"==typeof e?e:window.location.search,n=new URLSearchParams(t);return n.get("promozavr")||n.get("promo")});t.delay=(e=>new Promise(t=>setTimeout(t,e))),t.CLOSE_DELAY=300;const i=[{value:r.DAY,letter:"d"},{value:r.HOUR,letter:"h"},{value:r.MINUTE,letter:"m"},{value:r.SECOND,letter:"s"}];t.humanReadableInterval=(e=>{let t=[];for(const{value:n,letter:r}of i)e>n&&(t.push({value:Math.floor(e/n),letter:r}),e%=n);return t.push({value:e,letter:"ms"}),t.filter(({value:e})=>e>0).map(({value:e,letter:t})=>`${e}${t}`).join(",")});t.takeSinglePromoByFormat=(e=>{const t={};return e.filter(e=>!t[e.format]&&(t[e.format]=!0,e))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS_FALLBACK_EN=t.DAY=t.HOUR=t.MINUTE=t.SECOND=void 0,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.LANGS_FALLBACK_EN=["en","tr","az","hy","ka","ro","uz"]}),(function(e,t,n){var r=n(256),i=n(257);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}}),(function(e,t,n){var r=n(246),i=n(179),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;const r=n(5),i=n(578);t.Text=r.compose(r.composeU(i.withTypographyBodyShortS,i.withTypographyBodyShortM,i.withTypographyBodyShortL,i.withTypographyBodyShortXL,i.withTypographyBodyLongXL,i.withTypographyBodyLongM,i.withTypographySubheaderM,i.withTypographySubheaderL,i.withTypographySubheaderXL,i.withTypographyHeadlineL),r.composeU(i.withWeightMedium,i.withWeightBold))(i.Text)}),(function(e,t,n){var r=n(711),i=n(624),o=n(221);e.exports=function(e){return o(e)?r(e):i(e)}}),(function(e,t,n){var r=n(516),i=n(695);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}}),(function(e,t,n){"use strict";n.r(t);var r=n(398);n.d(t,"cnTextinput",(function(){return r.b})),n.d(t,"Textinput",(function(){return r.a})),n.d(t,"withBaseline",(function(){return r.c})),n.d(t,"withHasClear",(function(){return r.d})),n.d(t,"withPinBrickBrick",(function(){return r.e})),n.d(t,"withPinBrickClear",(function(){return r.f})),n.d(t,"withPinBrickRound",(function(){return r.g})),n.d(t,"withPinClearBrick",(function(){return r.h})),n.d(t,"withPinClearClear",(function(){return r.i})),n.d(t,"withPinClearRound",(function(){return r.j})),n.d(t,"withPinRoundBrick",(function(){return r.k})),n.d(t,"withPinRoundClear",(function(){return r.l})),n.d(t,"withPinRoundRound",(function(){return r.m})),n.d(t,"withSizeM",(function(){return r.n})),n.d(t,"withSizeS",(function(){return r.o})),n.d(t,"withThemeNormal",(function(){return r.p})),n.d(t,"withThemeWebsearch",(function(){return r.q})),n.d(t,"withViewDefault",(function(){return r.r})),n.d(t,"withViewMaterial",(function(){return r.s}));var i=n(407);n.d(t,"withSizeL",(function(){return i.a}))}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDebugMode",(function(){return r}));var r=function(e){var t=location.search.match(/[&?]debug=([^&]+)/);if(t){var n=t[1];return"all"===n||n.split(",").includes(e)}return!1}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(376)),u=o(n(132)),c=n(34).cn("ConfirmDialog");n(1235);t.default=function(e){var t=e.visible,n=e.title,i=e.children,o=e.submitButtonText,l=e.submitButtonProps,f=void 0===l?{}:l,d=e.cancelButtonText,p=e.cancelButtonProps,h=void 0===p?{}:p,m=e.actionButton,v=void 0===m?"submit":m,g=e.autofocusButton,y=void 0===g||g,b=e.progress,_=e.submitDisabled,O=e.onClose,w=e.closeI18n,E=e.onSubmit,S=e.onCancel,x=void 0===S?O:S,C=e.zIndexGroupLevel,T=e.className,k=a.useRef(null),j=a.useRef(null);return a.useEffect((function(){y&&requestAnimationFrame((function(){switch(v){case"submit":k.current&&k.current.focus();break;case"cancel":j.current&&j.current.focus()}}))}),[t,v,y]),a.default.createElement(s.default,{visible:t,title:n,onClose:O,closeI18n:w,zIndexGroupLevel:C,className:c(null,[T])},a.default.createElement("div",{className:c("Content")},i),a.default.createElement("div",{className:c("Footer")},d?a.default.createElement(u.default,r({innerRef:j,size:"xl",view:"pseudo",disabled:b,onClick:x,className:c("Button",{cancel:!0},[h.className])},h),d):null,o?a.default.createElement(u.default,r({innerRef:k,size:"xl",view:"action",progress:b,disabled:_,onClick:E,className:c("Button",{submit:!0},[f.className])},f),o):null))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(698),o=n(181),a=n(31),s=n(89),u=n(36),c=n(517),l=n(55),f=n(1476),d=n(1610),p=n(1613),h=n(1616),m=(n(1619),n(1620),n(1621)),v=n(1622),g=n(1623),y=n(35);t.isAuthorized=function(e){var t;return null===(t=e.environment.session.auth)||void 0===t?void 0:t.isAuth},t.shouldShowPromozavr=function(e){var n=e.environment.agent,r=n.isHermione,i=n.isInMobileApp,o=n.isSearchApp;return t.isAuthorized(e)&&"1"!==r&&!u.isDocsPage(e)&&(!i||o)&&!a.isSliderOpened(e)};var b=Date.now();t.getServerDate=function(e){return e.environment.session.serverTime},t.makeGetNow=function(e){return function(){return e+Date.now()-b}},t.getProject=function(){return o.Project.diskDesktop},t.getPlatform=function(){return o.Platform.desktop},t.getBillingProducts=function(e){return e.billingProducts},t.getLang=function(e){return e.environment.session.locale},t.getPlugins=r.createSelector(t.getBillingProducts,(function(e){return[new f.PaymentProblemGrace(e.paymentProblem),new d.PaymentProblemHoldAd(e.paymentProblem),new p.PaymentProblemHold(e.paymentProblem),new h.PaymentProblemAppStore(e.paymentProblem),new g.PaymentProblemHoldFamily(e.paymentProblem),new m.PaymentProblemGraceAndroid(e.paymentProblem),new v.PaymentProblemGraceApple(e.paymentProblem)]})),t.getRegistrationDays=function(e){var n=1e3*e.user.reg_time,r=t.makeGetNow(e.environment.session.serverTime);return Math.floor((r()-n)/y.ONE_DAY)},t.getUserSubcription=r.createSelector(s.getUser,(function(e){return e.hasProSubscription?o.Subscription.paid:o.Subscription.free})),t.getUserInfo=function(e,n){var r,i=s.getUser(e),a=t.getUserSubcription(e),u=i.isB2b,c=e.environment.session.experimentBoxes.map((function(e){return e.split(",")[0]})),f=e.environment.session.tld,d=t.getProject(),p=l.hasFamilySubscription(e);l.hasFamily(e)&&(r=o.UserFamily.familyInId),p&&(r=o.UserFamily.tariffSubscription);var h=t.getRegistrationDays(e);return{subscription:a,segment:u?o.Segment.b2b:o.Segment.b2c,customSegments:null===n||void 0===n?void 0:n.segments,testids:null!==c&&void 0!==c?c:[],project:d,isNotAuthorized:!t.isAuthorized(e),settings:{registrationDays:h},tld:f,userFamily:r,isFamilyAdmin:l.isFamilyAdmin(e),isYandexStaff:i.isYandexStaff}},t.getCurrentPromo=function(e){return e.promozavr.currentPromo},t.getMaybeShowPromozavr=function(e){return e.promozavr.fetchCompleted&&!e.promozavr.currentPromo},t.getTranslations=function(e){return e.promozavr.translations?e.promozavr.translations:{keysets:{}}},t.getWebApiUrl=function(e){return e.config.urlsBase.webApi+"/web-api/shared/models"},t.getPromozavrConfig=r.createSelector([s.getUser,c.getLogger,t.getWebApiUrl],(function(e,t,n){return new i.PromozavrConfig({apiUrl:n,uid:e.uid,logger:t})}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPromoImage=t.findImage=t.calculateWeight=t.calculateWeightForLang=void 0;const i=r(n(1536)),o=n(379),a=n(705),s=n(387);t.calculateWeightForLang=((e,t)=>{if(e.lang===t)return 1;let n=a.fallbacks[t],r=.5;for(;n;){if(e.lang===n)return r;n=a.fallbacks[n],r/=2}return e.lang===o.whatever?0:NaN});t.calculateWeight=((e,t,n)=>n&&e[t]!==n?e[t]===o.whatever?0:NaN:1);t.findImage=((e,n)=>{const r=e.map(e=>({weight:t.calculateWeight(e,"platform",n.platform)+t.calculateWeight(e,"theme",n.themeType)+t.calculateWeightForLang(e,n.lang)+t.calculateWeight(e,"orientation",n.orientation),image:e})).filter(({weight:e})=>!isNaN(e));if(r.length)return i.default(r,({weight:e})=>-1*e)[0].image});t.getPromoImage=((e,n,r)=>{var i;let o;return(o=e&&e.length?null===(i=t.findImage(e,n))||void 0===i?void 0:i.urls:null===r||void 0===r?void 0:r[n.themeType])?s.getSrcsForImage(o):void 0})}),(function(e,t,n){"use strict";n.r(t);var r=n(62),i=n(149),o=n(272),a=n(44),s=n(24);n(283);"function"==typeof Symbol&&Symbol.observable;var u=function(){return Math.random().toString(36).substring(7).split("").join(".")};u(),u();function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function l(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var f=l,d=(n(409),[]),p=0;function h(e){try{g(),e()}finally{y()}}function m(e){d.push(e),p||(g(),b())}function v(e){try{return g(),e()}finally{b()}}function g(){p++}function y(){p--}function b(){var e;for(y();!p&&void 0!==(e=d.shift());)h(e)}var _=function(e){return function(t){return e.some((function(e){return x(e)(t)}))}},O=function(e){return function(t){return e(t)}},w=function(e){return function(t){return t.type===String(e)}},E=function(e){return function(t){return t.type===e}},S=function(){return s.U};function x(e){var t="*"===e?S:Object(a.k)(e)?w:Object(a.a)(e)?_:Object(a.l)(e)?w:Object(a.d)(e)?O:Object(a.m)(e)?E:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var C={type:r.b},T=function(e){return e&&e.type===r.b};function k(e){void 0===e&&(e=Object(s.O)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(C):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.bb)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(C):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++)(0,e[r])(C)}}}}function j(e,t){void 0===t&&(t=Object(s.X)());var n,r=!1,i=k(t),o=function(){r||(r=!0,Object(a.d)(n)&&n(),i.close())};return n=e((function(e){T(e)?o():i.put(e)})),n=Object(s.Y)(n),r&&n(),{take:i.take,flush:i.flush,close:o}}function P(){var e,t=!1,n=[],i=n;var o=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(C)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(T(e))a();else for(var o=n=i,s=0,u=o.length;s<u;s++){var c=o[s];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=S),t?e(C):(e[r.d]=n,o(),i.push(e),e.cancel=Object(s.Y)((function(){o(),Object(s.bb)(i,e)})))},e.close=a,e}function R(){var e=P(),t=e.put;return e.put=function(e){e[r.f]?t(e):m((function(){t(e)}))},e}var A=0,I=1,D=2,M=3;function N(e,t){var n=e[r.a];Object(a.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var L,F=0,B=function(){return++F};function U(e){e.isRunning()&&e.cancel()}var z=((L={})[s.u]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,s=t.pattern,u=t.maybe,c=function(e){e instanceof Error?n(e,!0):!T(e)||u?n(e):n(r.k)};try{o.take(c,Object(a.g)(s)?x(s):null)}catch(e){return void n(e,!0)}n.cancel=c.cancel},L[s.q]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&Object(a.j)(t)?N(t,n):n(t)}))},L[s.b]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t);if(0!==u.length){var c=Object(s.V)(t,n);u.forEach((function(e){i(t[e],o,c[e],e)}))}else n(Object(a.a)(t)?[]:{})},L[s.s]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t),c=Object(a.a)(t)?Object(s.W)(u.length):{},l={},f=!1;u.forEach((function(e){var t=function(t,r){f||(r||Object(s.cb)(t)?(n.cancel(),n(t,r)):(n.cancel(),f=!0,c[e]=t,n(c)))};t.cancel=s.db,l[e]=t})),n.cancel=function(){f||(f=!0,u.forEach((function(e){return l[e].cancel()})))},u.forEach((function(e){f||i(t[e],o,l[e],e)}))},L[s.d]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=r.task;try{var l=o.apply(i,u);if(Object(a.j)(l))return void N(l,n);if(Object(a.e)(l))return void X(e,l,c.context,F,Object(s.T)(o),!1,n);n(l)}catch(e){n(e,!0)}},L[s.C]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var s=function(e,t){Object(a.n)(e)?n(t):n(e,!0)};i.apply(r,o.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(e){n(e,!0)}},L[s.g]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=t.detached,l=r.task,f=(function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Object(a.e)(i))return i;var o=!1;return Object(s.ab)((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!Object(a.j)(i)})}))}catch(e){return Object(s.ab)((function(){throw e}))}})({context:i,fn:o,args:u}),d=(function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.T)(t)})(f,o);v((function(){var t=X(e,f,l.context,F,d,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},L[s.k]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Object(s.bb)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(a.a)(t)){if(0===t.length)return void n([]);var u=Object(s.V)(t,n);t.forEach((function(e,t){o(e,u[t])}))}else o(t,n)},L[s.L]=function(e,t,n,i){var o=i.task;t===r.h?U(o):Object(a.a)(t)?t.forEach(U):U(t),n()},L[s.t]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},L[s.N]=function(e,t,n){var r=t.pattern,i=k(t.buffer),o=x(r),a=function t(n){T(n)||e.channel.take(t,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},e.channel.take(a,o),n(i)},L[s.P]=function(e,t,n,r){n(r.task.isCancelled())},L[s.Q]=function(e,t,n){t.flush(n)},L[s.h]=function(e,t,n,r){n(r.task.context[t])},L[s.R]=function(e,t,n,r){var i=r.task;Object(s.Z)(i.context,t),n()},L);function V(e,t){return e+"?"+t}function H(e){var t=e.name,n=e.location;return n?t+"  "+V(n.fileName,n.lineNumber):t}var W=null,G=[],$=function(e){e.crashedEffect=W,G.push(e)},q=function(){W=null,G.length=0},Y=function(e){W=e},K=function(){var e=G[0],t=G.slice(1),n=e.crashedEffect?(function(e){var t=Object(s.fb)(e);return t?t.code+"  "+V(t.fileName,t.lineNumber):""})(e.crashedEffect):null;return["The above error occurred in task "+H(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+H(e.meta)})),[(function(e){var t=Object(s.eb)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""})(G)]).join("\n")};function J(e,t,n,i,o,a,u){var c;void 0===u&&(u=s.db);var l,d,p=A,h=null,m=[],v=Object.create(n),g=(function(e,t,n){var r,i=[],o=!1;function a(e){t(),c(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,c){o||(Object(s.bb)(i,t),t.cont=s.db,c?a(u):(t===e&&(r=u),i.length||(o=!0,n(r))))}}function c(){o||(o=!0,i.forEach((function(e){e.cont=s.db,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:c,abort:a,getTasks:function(){return i}}})(t,(function(){m.push.apply(m,g.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(p=D,$({meta:o,cancelledTasks:m}),b.isRoot){var i=K();q(),e.onError(t,{sagaStack:i})}d=t,h&&h.reject(t)}else t===r.j?p=I:p!==I&&(p=M),l=t,h&&h.resolve(t);b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((c={})[r.i]=!0,c.id=i,c.meta=o,c.isRoot=a,c.context=v,c.joiners=[],c.queue=g,c.cancel=function(){p===A&&(p=I,g.cancelAll(),y(r.j,!1))},c.cont=u,c.end=y,c.setContext=function(e){Object(s.Z)(v,e)},c.toPromise=function(){return h?h.promise:(h=f(),p===D?h.reject(d):p!==A&&h.resolve(l),h.promise)},c.isRunning=function(){return p===A},c.isCancelled=function(){return p===I||p===A&&t.status===I},c.isAborted=function(){return p===D},c.result=function(){return l},c.error=function(){return d},c);return b}function X(e,t,n,i,o,u,c){var l=e.finalizeRunEffect((function(t,n,i){if(Object(a.j)(t))N(t,i);else if(Object(a.e)(t))X(e,t,d.context,n,o,!1,i);else if(t&&t[r.c]){var s=z[t.type];s(e,t.payload,i,p)}else i(t)}));h.cancel=s.db;var f={meta:o,cancel:function(){f.status===A&&(f.status=I,h(r.j))},status:A},d=J(e,f,n,i,o,u,c),p={task:d,digestEffect:m};return c&&(c.cancel=d.cancel),h(),d;function h(e,n){try{var o;n?(o=t.throw(e),q()):Object(s.gb)(e)?(f.status=I,h.cancel(),o=Object(a.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):o=Object(s.hb)(e)?Object(a.d)(t.return)?t.return():{done:!0}:t.next(e),o.done?(f.status!==I&&(f.status=M),f.cont(o.value)):m(o.value,i,h)}catch(e){if(f.status===I)throw e;f.status=D,f.cont(e,!0)}}function m(t,n,r,i){void 0===i&&(i="");var o,a=B();function u(n,i){o||(o=!0,r.cancel=s.db,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&Y(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),u.cancel=s.db,r.cancel=function(){o||(o=!0,u.cancel(),u.cancel=s.db,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},l(t,a,u)}}function Z(e,t){var n=e.channel,r=void 0===n?R():n,i=e.dispatch,o=e.getState,a=e.context,u=void 0===a?{}:a,l=e.sagaMonitor,f=e.effectMiddlewares,d=e.onError,p=void 0===d?s.c:d;for(var h=arguments.length,m=new Array(h>2?h-2:0),g=2;g<h;g++)m[g-2]=arguments[g];var y=t.apply(void 0,m);var b,_=B();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.db,l.effectTriggered=l.effectTriggered||s.db,l.effectResolved=l.effectResolved||s.db,l.effectRejected=l.effectRejected||s.db,l.effectCancelled=l.effectCancelled||s.db,l.actionDispatched=l.actionDispatched||s.db,l.rootSagaStarted({effectId:_,saga:t,args:m})),f){var O=c.apply(void 0,f);b=function(e){return function(t,n,r){return O((function(t){return e(t,n,r)}))(t)}}}else b=s.f;var w={channel:r,dispatch:Object(s.e)(i),getState:o,sagaMonitor:l,onError:p,finalizeRunEffect:b};return v((function(){var e=X(w,y,u,_,Object(s.T)(t),!0,void 0);return l&&l.effectResolved(_,e),e}))}var Q=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,u=n.channel,c=void 0===u?R():u,l=n.sagaMonitor,f=Object(o.a)(n,["context","channel","sagaMonitor"]);function d(e){var n=e.getState,r=e.dispatch;return t=Z.bind(null,Object(i.a)({},f,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return d.run=function(){return t.apply(void 0,arguments)},d.setContext=function(e){Object(s.Z)(a,e)},d};n.d(t,"CANCEL",(function(){return r.a})),n.d(t,"SAGA_LOCATION",(function(){return r.g})),n.d(t,"buffers",(function(){return s.i})),n.d(t,"detach",(function(){return s.j})),n.d(t,"END",(function(){return C})),n.d(t,"channel",(function(){return k})),n.d(t,"eventChannel",(function(){return j})),n.d(t,"isEnd",(function(){return T})),n.d(t,"multicastChannel",(function(){return P})),n.d(t,"runSaga",(function(){return Z})),n.d(t,"stdChannel",(function(){return R}));t.default=Q}),(function(e,t,n){var r=n(22),i=n(9),o=function(e){return i.isEmpty(e)?null:e};e.exports={getAlbums:o,preprocessClusterItem:function(e){var t=e.path,n=e.item_id,i=e.width,o=e.height,a=e.beauty,s=e.albums;return{id:r.normalize(t),itemId:n,width:i,height:o,beauty:a,albums:s}},getFilteredClusterData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n={},r=e.filter((function(e){var r=e.id,i=e.albums,o=t(r);return o&&i&&i.length&&i.forEach((function(e){n[e]||(n[e]=0),n[e]++})),o}));return{size:r.length,items:r,albums:o(n)}}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFolders=function(e){return e.defaultFolders}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"TRASH_ID",(function(){return c})),n.d(t,"onSuccessCleanTrash",(function(){return l})),n.d(t,"onFailedCleanTrash",(function(){return f})),n.d(t,"onRequestCleanTrash",(function(){return d})),n.d(t,"startOperationCleanTrash",(function(){return p})),n.d(t,"submitCleanTrash",(function(){return h})),n.d(t,"doCleanTrash",(function(){return m}));var r=n(38),i=n(40),o=n(45),a=n(15),s=n(51),u=n(78),c="/trash",l=function(){return function(e){e(Object(u.d)()),e(Object(u.a)()),e(Object(a.destroyChildren)(c)),e(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH)),e(Object(i.notify)({operation:"cleanTrash",status:"done"}))}},f=function(){return function(e){e(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH)),e(Object(i.notify)({operation:"cleanTrash",status:"failed"}))}},d=function(e){return function(t){return Object(o.d)(e).then((function(){t(l())})).catch((function(){t(f())}))}},p=function(){return function(e){e(Object(o.f)(o.a.ADD,o.b.CLEAN_TRASH))}},h=function(){return function(e){return e(p()),Object(r.a)("do-clean-trash").then((function(t){var n=t.oid;return e(d(n))})).catch((function(){e(f())}))}},m=function(){return function(e){e(Object(s.add)("confirmation",{dialogParams:{title:"Очистка Корзины",text:"".concat("Содержимое Корзины будет удалено без возможности восстановления.","\n").concat("Вы уверены?"),submitButtonText:"Очистить"},onSubmit:function(){e(h())},onReject:function(){}}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1118);t.useFocusTrap=r.useFocusTrap}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["top-start","top","top-end","bottom-start","bottom","bottom-end","right-start","right","right-end","left-start","left","left-end"]}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r="UPDATE_PHOTOSLICE",i="FETCH_PHOTOSLICE_SUCCESS",o="PHOTO_SELECTION"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(871);n(1803),t.Tooltip=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeM))(i.Tooltip)}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return b}));var r=n(43),i=n(31),o=n(101),a=n(84),s=n(139),u=n(28),c=n(15),l=n(286),f=n(61),d=n(229),p=n(53),h=n(95),m=function(e){return function(t,n){var r=Object(s.c)(n(),e);!(function(e){e?ns.action.run("app.openSlider",{id:e}):ns.action.run("dialog.close")})(r&&r.id)}},v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(u,c){var f=t.includes(-1)?-r:0,d=t.includes(1)?r:0;return u(function(e,t,n){return function(r,s){var u=s(),c=Object(i.sliderResourceSelector)(u),f=Object(a.getAllItems)(u),d=n||c.clusterId,p=Object(o.d)(f,d,(function(e){return e.id})),h=f[p.index].items,m={clusterIndex:p.index,resourceIndex:h.findIndex((function(e){return e.id===c.id}))},v=Object(a.getResourcePosition)(u,Object.assign({diff:e},m)),g=Object(a.getResourcePosition)(u,Object.assign({diff:t},m));return 0!==v.diff||0!==g.diff?r(Object(l.d)([[v,g]])):Promise.resolve()}}(f,d,n)).then((function(){var o=c();if(Object(i.getCurrentSliderResource)(o)){var a=Object(s.b)(o),l=a.sliderResources,f=a.possiblyHasPrevious,d=a.possiblyHasNext,p=Object(i.getCurrentSliderResource)(o).id;return t.filter((function(e){return Object(h.c)({resources:l,activeResource:l.find((function(e){return e.id===p})),possiblyHasPrevious:f,possiblyHasNext:d},e)})).length?u(e(t,n,r+30)):void 0}}))}},g=function(e){return function(t,n){var i=n(),o=Object(r.getPage)(i);if("remember-block"!==o)return"photo"===o?t(v(e)):"album"===o?Object(u.getCurrentAlbum)(i).isCompleted?void 0:t(Object(f.fetchAlbumWithItems)()):t(Object(c.fetchCurrentListing)())}},y=function(){return function(e,t){var n=t(),r=Object(i.getCurrentSliderResource)(n);if(r&&r.meta){var s=Object(o.c)(Object(a.getAllItems)(n),1e3*r.meta.photoslice_time);s&&!s.items&&e(Object(l.c)(s.id)).then((function(){e(Object(c.setResourceData)(r.id,Object.assign({clusterId:s.id},r))),Object(i.getCurrentSliderResource)(t())&&e(v([-1,1],s.id))}))}}},b=function(){return function(e,t){var n=Object(i.getNextSliderResource)(t());if(!n||"audio"!==n.meta.mediatype||!Object(d.default)(n.meta.mimetype))return e(Object(p.updateSettings)({autoplayAudio:!1}));e(m(1))}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(159)),s=n(26),u=n(173),c=n(1844),l=n(42),f=i(n(11)),d=function(){return f.default()("resources-action-bar")};n(1845),t.ResourcesActionBarContext=o.createContext({visible:!1,onClose:function(){}}),t.ResourcesActionBar=function(e){var n=e.visible,r=e.fixed,i=e.delay,f=e.theme,p=e.innerRef,h=e.onTransitionEnd,m=void 0===h?function(){}:h,v=e.onClose,g=void 0===v?function(){}:v,y=e.closeButtonText,b=e.isMobile,_=e.className,O=e.children,w=o.default.Children.toArray(O).filter(Boolean),E=o.useRef("undefined"!=typeof document?document.body:null);c.useOverlay({visible:n,onClose:g,essentialRefs:[E],unsafe_strategy:"pressup"});var S=o.default.createElement(s.Button,{className:d().e("close"),onClick:g,"aria-label":y,size:"m",view:"clear-inverse",icon:u.close2IconProvider});return o.default.createElement(t.ResourcesActionBarContext.Provider,{value:{visible:n,onClose:g}},o.default.createElement("div",{ref:p,className:d().m({visible:n,fixed:r,delay:i,theme:f}).mix(l.LISTING_PREVENT_DESELECT_CLASS).mix(_),"aria-hidden":!n,onTransitionEnd:m},n?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:d().e("body")},w),b?S:o.default.createElement(a.default,{text:y,direction:"left"},S)):null))},t.ResourcesActionBarLeft=function(e){var t=e.children;return o.default.createElement("div",{className:d().e("side-left")},t)},t.ResourcesActionBarRight=function(e){var t=e.children;return o.default.createElement("div",{className:d().e("side-right")},t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.498 9.88C8.495 8.72 7.075 8 5.5 8 2.463 8 0 10.687 0 14h16v-1c0-2.21-1.79-4-4-4-.947 0-1.817.33-2.502.88zM5.5 7C4.12 7 3 5.88 3 4.5S4.12 2 5.5 2 8 3.12 8 4.5 6.88 7 5.5 7zM12 8c-1.105 0-2-.896-2-2 0-1.105.895-2 2-2s2 .895 2 2c0 1.104-.895 2-2 2z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(0),s=n(5);n(1950);var u,c=n(205),l=(u=n(1951)).Modal,f=u.withThemeNormal,d=s.compose(f)(l);t.Modal=function(e){var t=e.visible,n=e.innerRef,i=e.onRender,s=e.onAnimationEnd,u=a.useState(!1),l=u[0],f=u[1],p=a.useState(!1),h=p[0],m=p[1];a.useEffect((function(){t&&!h&&f(!0),m(t)}),[t,h]);var v=a.useCallback((function(e){if("function"==typeof n&&n(e),e&&l){f(!1),i&&i();var t=function(){s&&s(),e.removeEventListener("animationend",t)};e.addEventListener("animationend",t)}}),[n,l,i,s]),g=c(e,["onRender","onAnimationEnd"]);return o.default.createElement(d,r({},g,{innerRef:v}))}}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=(n(1963),n(0)),y=n.n(g),b=n(11),_=n.n(b),O=n(26),w=n(453);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(){return _()()("upload-button")},x=(function(e){d()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._handleChange=r._handleChange.bind(l()(r)),r.reset=r.reset.bind(l()(r)),r}return u()(n,[{key:"reset",value:function(){this._fileInput&&(this._fileInput.value="")}},{key:"_handleChange",value:function(e){var t=e.target.files;"function"==typeof this.props.onChange&&t&&t.length>0&&this.props.onChange(t,this.reset)}},{key:"render",value:function(){var e=this,t={};switch(this.props.theme){case"clear":t.view="clear";break;case"clear-black":t.view="clear-black";break;case"yellow-white":t.view="action",t.theme="raised";break;default:t.view="raised"}return y.a.createElement(O.Button,i()({className:S().m({"without-text":!this.props.text}).mix(this.props.cls),size:this.props.size,title:this.props.title,width:this.props.width,disabled:this.props.disabled,onClick:this.props.onClick,as:"span",iconLeft:this.props.icon},t),this.props.withoutInput?null:y.a.createElement("div",{className:S().e("attach-wrapper")},y.a.createElement("input",{ref:function(t){e._fileInput=t},className:S().e("attach"),type:"file",accept:this.props.accept.join(","),multiple:!0,title:this.props.title,onChange:this._handleChange,disabled:this.props.disabled})),this.props.text)}}]),n})(g.PureComponent);x.defaultProps={theme:"yellow-white",icon:w.a,size:"m",text:null,accept:[],withoutInput:!1,onClick:function(){}},t.default=x}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(128),_=n(189);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var w=(function(e){d()(n,e);var t=O(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r.state={text:r.props.text},r}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.text&&this.props.text===e.text||this.setState({text:e.text})}},{key:"_onTextChange",value:function(e){var t=e.target.value;this.setState({text:t}),this.props.onChange(t)}},{key:"reset",value:function(){this.setState({text:null})}},{key:"_setRef",value:function(e){var t=this.props.controlRef;"function"==typeof t&&t(e)}},{key:"render",value:function(){return y.a.createElement(_.Textinput,i()({view:this.props.view||"normal"},this.props,{controlRef:this._setRef,onChange:this._onTextChange,value:this.state.text||""}))}}]),n})(g.Component);w.defaultProps={onChange:function(){}};var E=w,S=n(11),x=n.n(S);n(2110);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(){return x()()("rename-dialog")},k=(function(e){d()(n,e);var t=C(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._setInputRef=r._setInputRef.bind(l()(r)),r._onModalAnimationEnd=r._onModalAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.submitDisabled||this.props.onSubmit()}},{key:"_setInputRef",value:function(e){this._input=e}},{key:"_onModalAnimationEnd",value:function(){var e=this.props,t=e.dontSelectExtention,n=e.renameText,r=t?n.lastIndexOf("."):-1;this._input&&(this._input.focus(),this._input.setSelectionRange(0,r>=0?r:n.length)),this.props.onAnimationEnd&&this.props.onAnimationEnd()}},{key:"_getContent",value:function(){var e=this;return y.a.createElement("div",{className:T().e("content")},this.props.children,y.a.createElement("form",{className:T().e("rename-form"),onSubmit:this._onFormSubmit},y.a.createElement(E,{view:"default",size:"m",controlRef:this._setInputRef,ref:function(t){e._inputRef=t},onChange:this.props.onTextChange,text:this.props.renameText,disabled:this.props.progress})),y.a.createElement("div",{className:T().e("rename-error")},this.props.errorText))}},{key:"render",value:function(){return y.a.createElement(b.default,i()({},this.props,{onAnimationEnd:this._onModalAnimationEnd}),this._getContent())}}]),n})(g.Component);k.defaultProps=Object.assign({},b.default.defaultProps,{onTextChange:function(){}});t.default=k}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t,n=e.billingProducts,r=null===n||void 0===n?void 0:null===(t=n.active_promo)||void 0===t?void 0:t.key;if(r){var i;try{var o,a;i=(null===n||void 0===n?void 0:null===(o=n.active_promo)||void 0===o?void 0:o.payload)&&JSON.parse(null===n||void 0===n?void 0:null===(a=n.active_promo)||void 0===a?void 0:a.payload)}catch(e){}if(i)return i.id=r,i}}}),(function(e,t){var n=function(e,t){return new Date(new Date(e).setDate(e.getDate()-t))};e.exports={getDaysAgoDate:n,wasItYesterday:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=n(t,1);return e.toDateString()===r.toDateString()}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i={isActive:!1,type:null},o=n(100).createSlice({name:"readOnly",initialState:i,reducers:{activateReadOnly:function(e,t){var n=t.payload.type;e.isActive=!0,e.type=n},deactivateReadOnly:function(e){e.isActive=i.isActive,e.type=i.type}}});t.activateReadOnly=(r=o.actions).activateReadOnly,t.deactivateReadOnly=r.deactivateReadOnly,t.default=o.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnlyActive=function(e){return e.readOnly.isActive},t.readOnlyType=function(e){return e.readOnly.type}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.TECH="TECH",e.LIMIT="LIMIT"})(t.Type||(t.Type={}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(21),i=n.n(r),o=n(9),a=n.n(o),s=n(14),u=["family-folder","create","success"],c=["family-folder","create","error"];var l=function(){s.default.count.apply(s.default,u)},f=function(e){s.default.count.apply(s.default,i()(function(e){if(a.a.isNil(e))return c.concat("unknown");if(e instanceof Response)return c.concat("http_".concat(e.status));var t=a.a.get(e,"error.type","unknown");if("mpfs"===t){var n=a.a.get(e,"error.code","unknown"),r=a.a.get(e,"error.statusCode","unknown");return c.concat("mpfs_".concat(n,"_").concat(r))}return c.concat(t)}(e)))},d=function(){s.default.count.apply(s.default,c.concat(["exists"]))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(98),i=n(43);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.config.links.help.versionControl,n=e.environment.agent,a=n.isMobile,s=n.isInMobileApp,u=n.isSearchApp,c=e.user,l=c.paid,f=c.b2b_paid,d=c.isYandexStaff,p=e.dialogs,h=e.resources,m=e.versions,v=m.loading,g=m.error,y=m.versions,b=m.completed,_=m.subversions,O=m.iterationKey,w=e.sharedFoldersUsers,E=p.versions;if(E&&E.data&&E.data.resourcePath&&h[E.data.resourcePath]){var S,x,C,T=E.data.resourcePath,k=h[T],j=k.meta.resource_id,P=Boolean(k.meta.group&&k.meta.group.is_shared),R=Boolean(k.meta.group&&k.meta.group.in_readonly),A=Boolean(l||f||d);if(P){var I,D=o(k.parents.reverse());try{for(D.s();!(I=D.n()).done;){var M=I.value.id;if(!h[M]){C=M;break}if(h[M].meta&&h[M].meta.group&&h[M].meta.group.is_root){x=h[M].meta.group.gid;break}}}catch(e){D.e(e)}finally{D.f()}x&&w[x]&&w[x].users&&(S=w[x].users.reduce((function(e,t){return e[t.uid]=t,e}),{}))}var N=Object(r.isIosSafariSelector)(e);return{isTouch:a,shouldShowBuyButton:(!s||u)&&Object(i.shouldShowBuyButton)(e),isIosSafari:N,isReadonly:R,hasPreview:"docviewer"===k.app,visible:"opened"===E.state,resourcePath:T,resource:k,resourceId:j,gid:x,parentToLoad:C,versions:y,iterationKey:O,subversions:_,completed:b,isShared:P,users:S,loading:v,error:g,versionControlHelpUrl:t,paidVersioning:A,buyButtonUrl:Object(i.getBuyButtonUrl)(e)}}return{visible:!1}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 10.031h5.999v2.519l4.407-3.526L5.999 5.5v2.531H0V1h5.923L8 3h8v12H0z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){var n=function(e){return Boolean(null===e||void 0===e?void 0:e.start_discount)};e.exports={isPriceWithTemporaryDiscount:n,getBestPrice:function(e){return n(e)?e.start_discount.price:e.amount}}}),(function(e,t){e.exports={TLD:{ru:28},SERVICE:{disk:1008},APP:{client:2989},BLOCK:{listing:3e3,slider:1109,photo:275,albums:3001,album:58,journal:3002,remember:3982},DEVICE:{touch:584}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=n(40),a=n(17),s=n(36),u=n(112);t.positiveUnsetPublishResource=function(e,t){return function(n,r){var u=a.getResourceData(r(),e);if(u){var c=u.meta.short_url,l=u.meta.office_access_state,f=u.meta.office_online_sharing_url;n(i.unsetPublishResource(e)),t.then((function(e){return s.isDocsView(r())&&n(o.notify({operation:"publish",reverse:!0,status:"done",src:u})),e})).catch((function(){n(i.setPublishResource(e,{short_url:c,office_access_state:l,office_online_sharing_url:f})),n(o.notify({operation:"publish",reverse:!0,status:"failed",src:{name:u.name,type:u.type}}))}))}}},t.positiveUpdateOfficeAccessState=function(e,t,n){return function(s,u){var c,l,f,d,p=a.getResourceData(u(),e);if(p){var h=p.meta.office_access_state,m={id:e,meta:Object.assign({},p.meta,{office_access_state:t})},v="all"===t&&((null===(c=p.publicSettings)||void 0===c?void 0:c.read_only)||(null===(l=p.publicSettings)||void 0===l?void 0:l.have_password)),g=null===(f=p.publicSettings)||void 0===f?void 0:f.read_only,y=null===(d=p.publicSettings)||void 0===d?void 0:d.have_password;v&&(m.publicSettings=r(r({},p.publicSettings),{read_only:!1,have_password:!1})),s(i.updateResource(m)),n.catch((function(){var t=a.getResourceData(u(),e);if(t){var n={id:e,meta:Object.assign({},t.meta,{office_access_state:h})};v&&(n.publicSettings=r(r({},t.publicSettings),{read_only:g,have_password:y})),s(i.updateResource(n)),s(o.notify({operation:"officeAccessTypeChange",status:"failed",src:{name:t.name,type:t.type}}))}}))}}},t.fetchPublicLinkSettings=function(e){return function(t,n){var r=n().resources[e];return u.api("mpfs/get-public-settings",{path:e},{retryCodes:[500,502,503,504],maxRetries:1}).then((function(n){t(i.updateResource({id:e,publicSettings:n}))})).catch((function(e){throw t(o.notify({operation:"getPublicLinkSettings",status:"failed",src:r})),e}))}};t.positiveChangePublicSettings=function(e,t,n,r){return function(s,u){var c,l=a.getResourceData(u(),e);if(l){var f=(function(e,t){return"external_organization_id"===e?["external_organization_ids",t?[t]:[]]:[e,t]})(t,n),d=f[0],p=f[1],h=l.publicSettings[d];s(i.updateResource({id:e,publicSettings:Object.assign({},l.publicSettings,(c={},c[d]=p,c))})),r.catch((function(){var t;s(i.updateResource({id:e,publicSettings:Object.assign({},l.publicSettings,(t={},t[d]=h,t))})),s(o.notify({operation:"changePublicLinkSettings",status:"failed",src:l}))}))}}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(83),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(138),h=n.n(p),m=n(6),v=n.n(m),g=n(7),y=n.n(g),b=n(1),_=n.n(b),O=(n(0),n(30)),w=n.n(O),E=n(9),S=n.n(E),x=n(365),C=n(110),T=n(101);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var j={NONE:"NONE",SOME:"SOME",ALL:"ALL"};function P(e,t){var n=Object(C.sortedFind)(t,e,(function(e,t){var n=e.offset,r=e.size;return t<n?1:t>=n+r?-1:0}));return{clusterIndex:n,resourceIndex:e-t[n].offset}}function R(e,t,n){return t.clusterIndex===e.clusterIndex?t.resourceIndex-e.resourceIndex==1:t.clusterIndex-e.clusterIndex==1&&e.resourceIndex===n[e.clusterIndex].size-1&&0===t.resourceIndex}t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(function(n){v()(o,n);var r=k(o);function o(e){var n;return u()(this,o),(n=r.call(this,e))._clustersOffsets=[],n._clustersOffsetsById={},n._clustersById={},n._anchorIndexPath={clusterIndex:0,resourceIndex:0},n._clustersWithSelectedResources={},n._onSelectClusters=n._onSelectClusters.bind(d()(n)),n._getClusterSelectionState=n._getClusterSelectionState.bind(d()(n)),t.forEach((function(e){n[e]=function(){var t;return n._wrappedComponentRef&&(t=n._wrappedComponentRef)[e].apply(t,arguments)}})),n}return l()(o,[{key:"componentDidMount",value:function(){this._updateClustersOffsets(this.props.items),h()(_()(o.prototype),"componentDidMount",this).call(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._photosliceStructureChanged(e)&&this._updateClustersOffsets(e.items),h()(_()(o.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e)}},{key:"componentDidUpdate",value:function(e){h()(_()(o.prototype),"componentDidUpdate",this).call(this,e),this._shouldTriggerSelectionChangeAction&&this._fetchResources()}},{key:"_photosliceStructureChanged",value:function(e){return this.props.items!==e.items}},{key:"_getSelectedResourcesFromProps",value:function(e){var t=this;return this._clustersWithSelectedResources={},e.selectedResources.reduce((function(n,r){var i=t.props.getResourceById(r);if(!i)return n;var o=Object(T.g)(e.items,i);return o&&(t._clustersWithSelectedResources[e.items[o.clusterIndex].id]=!0,n.push(o)),n}),[])}},{key:"_updateChangeFlags",value:function(e){h()(_()(o.prototype),"_updateChangeFlags",this).call(this,e),this._shouldUpdateSelectionRanges=Boolean(this._selectionRanges.length)&&this._photosliceStructureChanged(e),this._shouldTriggerSelectionChangeAction=Boolean(this._selectionRanges.length)&&(this._photosliceStructureChanged(e)||e.resourcesVersion!==this.props.resourcesVersion)}},{key:"_isContextMenuEnabled",value:function(){return this.props.contextMenuEnabled&&this.size<=this.props.maxActionableSize}},{key:"_updateClustersOffsets",value:function(e){var t=e.reduce((function(e,t,n){var r={offset:e.offset,size:t.size,index:n};return e.clustersOffsetsById[t.id]=r,e.clustersOffsets.push(r),e.clustersById[t.id]=t,e.offset+=t.size,e}),{clustersOffsetsById:{},clustersOffsets:[],clustersById:{},offset:0}),n=t.clustersOffsetsById,r=t.clustersOffsets,i=t.clustersById;this._clustersOffsetsById=n,this._clustersOffsets=r,this._clustersById=i}},{key:"_reindexSelections",value:function(e){var t=this,n=e.items,r=this.props.items;this._selectionRanges=this._selectionRanges.reduce((function(e,i){if(1===i.size){var o=t._clustersById[i.startClusterId];if(!o)return e;var s=t._clustersOffsetsById[o.id],u=s.offset,c=s.index;if(i.startId){var l,f=i.startIndexPath.resourceIndex;if((null===(l=o.items[f])||void 0===l?void 0:l.id)!==i.startId&&(f=o.items.findIndex((function(e){return e.id===i.startId}))),-1===f)return e;i.start=u+f,i.startIndexPath.resourceIndex=f}else{if(o.size<=i.startIndexPath.resourceIndex)return e;i.start=u+i.startIndexPath.resourceIndex}i.startIndexPath.clusterIndex=c,i.startId=o.items&&o.items[i.startIndexPath.resourceIndex].id,i.end=i.start,i.endId=i.startId,i.endIndexPath=i.startIndexPath,e.push(i)}else{var d=t._clustersById[i.startClusterId];if(d){var p=t._clustersOffsetsById[d.id],h=p.offset,m=p.index;if(i.startId){var v=i.startIndexPath.resourceIndex;if(d.items[v]&&d.items[v].id===i.startId||(v=d.items.findIndex((function(e){return e.id===i.startId}))),v>-1)i.start=h+v,i.startIndexPath.clusterIndex=m,i.startIndexPath.resourceIndex=v,i.startId=d.items[v].id;else{var g=r[i.startIndexPath.clusterIndex],y=d.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),b=g.items.slice(i.startIndexPath.resourceIndex+1).find((function(e){var t=e.id;return y.hasOwnProperty(t)}));if(b)v=y[b.id],i.start=h+v,i.startIndexPath.clusterIndex=m,i.startIndexPath.resourceIndex=v,i.startId=b.id;else{var _=m+1,O=n[_];if(!O)return e;var w=t._clustersOffsetsById[O.id].offset;i.start=w,i.startIndexPath={clusterIndex:_,resourceIndex:0},i.startClusterId=O.id,i.startId=S.a.get(O,["items",0,"id"])}}}else if(d.size<=i.startIndexPath.resourceIndex){var E=m+1,x=n[E];if(!x)return e;var C=t._clustersOffsetsById[x.id].offset;i.start=C,i.startIndexPath={clusterIndex:E,resourceIndex:0},i.startClusterId=x.id,i.startId=S.a.get(x,["items",0,"id"])}else i.start=h+i.startIndexPath.resourceIndex,i.startIndexPath.clusterIndex=m,i.startId=d.items&&d.items[i.startIndexPath.resourceIndex].id}else{for(var T=i.startIndexPath.clusterIndex+1,k=null;T<=r.length&&!k;){var j=r[T];t._clustersOffsetsById[j.id]&&(k=n[t._clustersOffsetsById[j.id].index]),T++}if(!k)return e;var P=t._clustersOffsetsById[k.id],R=P.offset,A=P.index;i.start=R,i.startIndexPath={clusterIndex:A,resourceIndex:0},i.startClusterId=k.id,i.startId=S.a.get(k,["items",0,"id"])}var I=t._clustersById[i.endClusterId];if(I){var D=t._clustersOffsetsById[I.id],M=D.offset,N=D.index;if(i.endId){var L,F=i.endIndexPath.resourceIndex;if((null===(L=I.items[F])||void 0===L?void 0:L.id)!==i.endId&&(F=I.items.findIndex((function(e){return e.id===i.endId}))),F>-1)i.end=M+F,i.endIndexPath.clusterIndex=N,i.endIndexPath.resourceIndex=F,i.endId=I.items[F].id;else{var B=r[i.endIndexPath.clusterIndex],U=I.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),z=S.a.findLast(B.items.slice(0,i.endIndexPath.resourceIndex),(function(e){var t=e.id;return U.hasOwnProperty(t)}));if(z)F=U[z.id],i.end=M+F,i.endIndexPath.clusterIndex=N,i.endIndexPath.resourceIndex=F,i.endId=z.id;else{var V=N-1,H=n[V];if(!H)return e;var W=t._clustersOffsetsById[H.id].offset,G=H.size-1;i.end=W+G,i.endIndexPath={clusterIndex:V,resourceIndex:G},i.endClusterId=H.id,i.endId=S.a.get(H,["items",G,"id"])}}}else i.endIndexPath.resourceIndex=Math.min(i.endIndexPath.resourceIndex,I.size-1),i.end=M+i.endIndexPath.resourceIndex,i.endIndexPath.clusterIndex=N,i.endId=I.items&&I.items[i.endIndexPath.resourceIndex].id}else{for(var $=i.endIndexPath.clusterIndex-1,q=null;$>-1&&!q;){var Y=r[$];t._clustersOffsetsById[Y.id]&&(q=n[t._clustersOffsetsById[Y.id].index]),$--}if(!q)return e;var K=t._clustersOffsetsById[q.id],J=K.offset,X=K.index,Z=q.size-1;i.end=J+Z,i.endIndexPath={clusterIndex:X,resourceIndex:Z},i.endClusterId=q.id,i.endId=S.a.get(q,["items",Z,"id"])}i.end-i.start>=0&&(i.size=i.end-i.start+1,e.push(i))}return e}),[])}},{key:"_getAnchorResourceId",value:function(){return S.a.get(this.props.items,[this._anchorIndexPath.clusterIndex,"items",this._anchorIndexPath.resourceIndex,"id"])}},{key:"_getAnchorResourceIndex",value:function(e){var t=this.props.items[this._anchorIndexPath.clusterIndex].id,n=S.a.get(this._clustersById,[t,"items"],[]).findIndex((function(t){return t.id===e}));return-1===n?n:this._clustersOffsetsById[t].offset+n}},{key:"_updateAnchor",value:function(e,t){h()(_()(o.prototype),"_updateAnchor",this).call(this,e,t),this._anchorIndexPath=P(this._anchor,this._clustersOffsets)}},{key:"_getResourceIndex",value:function(e){var t=e.clusterIndex,n=e.resourceIndex;return this._clustersOffsets[t].offset+n}},{key:"_isResourceSelected",value:function(e){return e.selected}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t),i=P(n,this._clustersOffsets),o=n===r?i:P(r,this._clustersOffsets);return this._internalCreateSelection(n,i,r,o)}},{key:"_internalCreateSelection",value:function(e,t,n,r){var i=this.props.items,a=h()(_()(o.prototype),"_createSelection",this).call(this,e,n),s=S.a.get(i,[t.clusterIndex,"items",t.resourceIndex,"id"]),u=t,c=S.a.get(i,[t.clusterIndex,"id"]),l=a.size>1?S.a.get(i,[r.clusterIndex,"items",r.resourceIndex,"id"]):s,f=r,d=a.size>1?S.a.get(i,[r.clusterIndex,"id"]):c;return Object.assign(a,{startId:s,startIndexPath:u,startClusterId:c,endId:l,endIndexPath:f,endClusterId:d})}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props.items;this._selectedResources=[],this._clustersWithSelectedResources={};var n=0,r=0,i=this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]}));return Object(T.j)(i,t,(function(t,i){var o=i.id,a=e.props.getResourceById(o);a?e.props.isSelectableResource(a)&&(e._clustersWithSelectedResources[t.id]=!0,e._selectedResources.push(o),n++):(n++,r++)}),(function(e){n+=e.size,r+=e.size})),{resources:this._selectedResources,total:n,missing:r,unfilteredTotal:this.size}}},{key:"_onSelectionChanged",value:function(e){h()(_()(o.prototype),"_onSelectionChanged",this).call(this,e),this._fetchResources()}},{key:"_onSelectClusters",value:function(e,t){var n=t===j.ALL?j.NONE:j.ALL,r=e[0],i=e[e.length-1];this._anchor=this._clustersOffsetsById[r].offset;var o=this._clustersOffsetsById[i].offset+this._clustersOffsetsById[i].size-1;n===j.NONE?this._removeMultiSelection(o):this._addMultiSelection(o,!1),this._triggerSelectionChangeAction()}},{key:"_buildNewSelectionRangesFromResources",value:function(e){for(var t=e[0],n=null,r=0;r<e.length;r++){var i=e.length-r==1;if(0===r)t=e[r];else if(!R(e[r-1],e[r],this.props.items)){n=e[r-1];var o=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,a=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(o,t,a,n)),t=e[r],n=null}if(i){n=e[r];var s=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,u=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(s,t,u,n))}}}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];(n=h()(_()(o.prototype),"_changeSelections",this)).call.apply(n,[this,e,t].concat(i)),this._fetchResources()}},{key:"_fetchResources",value:function(){this.size<=this.props.maxSizeForFetch&&this.props.fetchClustersRanges(this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]})))}},{key:"_getClusterSelectionState",value:function(e){if(!this._clustersWithSelectedResources[e])return j.NONE;var t=this._clustersOffsetsById[e],n=t.offset,r=n+t.size-1,o=(function(e,t,n){return Object(C.sortedFind)(e,[t,n],(function(e,t){var n=i()(t,2),r=n[0],o=n[1];return o<e.start?1:r>e.end?-1:0}))})(this._selectionRanges,n,r);if(o<0)return j.NONE;var a=this._selectionRanges[o];return a.start<=n&&a.end>=r?j.ALL:j.SOME}},{key:"render",value:function(){return this._render(e,{getClusterSelectionState:this._getClusterSelectionState,onSelectClusters:this._onSelectClusters})}}]),o})(x.a);return n.propTypes=Object.assign({},x.a.propTypes,{fetchClustersRanges:w.a.func.isRequired,maxSizeForFetch:w.a.number,maxActionableSize:w.a.number,items:w.a.arrayOf(w.a.object).isRequired,structureVersion:w.a.number.isRequired,resourcesVersion:w.a.number.isRequired,isSelectableResource:w.a.func.isRequired,getResourceById:w.a.func.isRequired,contextMenuEnabled:w.a.bool}),n.defaultProps=Object.assign({},x.a.defaultProps,{maxSizeForFetch:500,contextMenuEnabled:!0}),n}}),(function(e,t,n){"use strict";n.r(t);var r=n(52),i=n(2),o=n(0),a=n.n(o),s=n(5),u=(n(168),n(1519),Object(s.withBemMod)(Object(r.b)(),{glyph:"carets-v"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14"},a.a.createElement("path",{d:"M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z"})))}}))),c=(n(1520),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-arrow"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),"xs"===o.size?a.a.createElement("svg",{focusable:"false",width:"11",height:"7",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.25 1L5.5 4.6 1.75 1 1 1.72 5.5 6 10 1.72 9.25 1z"})):a.a.createElement("svg",{focusable:"false",width:"13",height:"8",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M11.3 1L6.5 5.7 1.7 1l-.7.7L6.5 7 12 1.7l-.7-.7z"})))}}))),l=n(414),f=(n(1521),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-close"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},a.a.createElement("polygon",{points:"10,0.714 9.287,0 5,4.286 0.714,0 0,0.714 4.286,5 0,9.285 0.714,10 5,5.714 9.287,10 10,9.285 5.714,5"})))}}))),d=(n(1522),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-cross-websearch"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},a.a.createElement("path",{d:"M6.586 8L.93 2.343 2.342.93 8 6.585 13.657.93l1.414 1.413L9.42 8l5.657 5.657-1.413 1.414L8 9.42l-5.657 5.65L.93 13.658 6.585 8z"})))}}))),p=(n(1523),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-cross"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),"xs"===o.size?a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},a.a.createElement("polygon",{points:"10,0.7 9.3,0 5,4.3 0.7,0 0,0.7 4.3,5 0,9.3 0.7,10 5,5.7 9.3,10 10,9.3 5.7,5"})):a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},a.a.createElement("polygon",{points:"14,0.7 13.3,0 7,6.3 0.7,0 0,0.7 6.3,7 0,13.3 0.7,14 7,7.7 13.3,14 14,13.3 7.7,7"})))}}))),h=(n(1524),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-filter"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 16",width:"20",height:"16"},a.a.createElement("path",{d:"M7.17 12H0v2h7.17c.413 1.165 1.524 2 2.83 2s2.417-.835 2.83-2H20v-2h-7.17c-.413-1.165-1.524-2-2.83-2s-2.417.835-2.83 2zm-7-10H0v2h.17C.584 5.165 1.695 6 3 6s2.417-.835 2.83-2H20V2H5.83C5.416.835 4.305 0 3 0S.583.835.17 2z"})))}}))),m=(n(1525),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-indeterminate"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fill:"#fff",d:"M4 7h9v3H4z"})))}}))),v=(n(1526),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-tick"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10"},a.a.createElement("path",{d:"M1.49 4.885l1.644-1.644 4.385 4.385L5.874 9.27 1.49 4.885zm4.384 1.096L11.356.5 13 2.144 7.519 7.626 5.874 5.98v.001z"})))}}))),g=(n(1527),Object(s.withBemMod)(Object(r.b)(),{glyph:"x-sign"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{viewBox:"0 0 20 20"},a.a.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}}))),y=(n(1528),Object(s.withBemMod)(Object(r.b)(),{type:"arrow"})),b=(n(1529),Object(s.withBemMod)(Object(r.b)(),{type:"close"})),_=(n(1530),Object(s.withBemMod)(Object(r.b)(),{type:"cross-websearch"})),O=(n(1531),Object(s.withBemMod)(Object(r.b)(),{type:"cross"})),w=(n(1532),Object(s.withBemMod)(Object(r.b)(),{type:"filter"}));n.d(t,"cnIcon",(function(){return r.b})),n.d(t,"Icon",(function(){return r.a})),n.d(t,"withGlyphCaretsV",(function(){return u})),n.d(t,"withGlyphTypeArrow",(function(){return c})),n.d(t,"withGlyphTypeCheck",(function(){return l.a})),n.d(t,"withGlyphTypeClose",(function(){return f})),n.d(t,"withGlyphTypeCrossWebsearch",(function(){return d})),n.d(t,"withGlyphTypeCross",(function(){return p})),n.d(t,"withGlyphTypeFilter",(function(){return h})),n.d(t,"withGlyphTypeIndeterminate",(function(){return m})),n.d(t,"withGlyphTypeTick",(function(){return v})),n.d(t,"withGlyphXSign",(function(){return g})),n.d(t,"withTypeArrow",(function(){return y})),n.d(t,"withTypeClose",(function(){return b})),n.d(t,"withTypeCrossWebsearch",(function(){return _})),n.d(t,"withTypeCross",(function(){return O})),n.d(t,"withTypeFilter",(function(){return w}))}),(function(e,t,n){"use strict";n.r(t);var r=n(270),i=n(204),o=n(171),a=n(249),s=n(250),u=n(170),c=n(169),l=n(499);n.d(t,"directions",(function(){return c.directions})),n.d(t,"Popup",(function(){return r.a})),n.d(t,"withNonvisual",(function(){return i.a})),n.d(t,"withTargetAnchor",(function(){return o.a})),n.d(t,"withThemeClear",(function(){return a.a})),n.d(t,"withThemeNormal",(function(){return s.a})),n.d(t,"withViewDefault",(function(){return u.a})),n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"popupRegistry",(function(){return l.popupRegistry}))}),,,(function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(941),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(131))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseline=void 0;var r=n(5),i=n(58);n(1034),t.withBaseline=r.withBemMod(i.cnButton(),{baseline:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickBrick=void 0;var r=n(5),i=n(58);n(1035),t.withPinBrickBrick=r.withBemMod(i.cnButton(),{pin:"brick-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickCircle=void 0;var r=n(5),i=n(58);n(1036),t.withPinBrickCircle=r.withBemMod(i.cnButton(),{pin:"brick-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickClear=void 0;var r=n(5),i=n(58);n(1037),t.withPinBrickClear=r.withBemMod(i.cnButton(),{pin:"brick-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickRound=void 0;var r=n(5),i=n(58);n(1038),t.withPinBrickRound=r.withBemMod(i.cnButton(),{pin:"brick-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleBrick=void 0;var r=n(5),i=n(58);n(1039),t.withPinCircleBrick=r.withBemMod(i.cnButton(),{pin:"circle-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleCircle=void 0;var r=n(5),i=n(58);n(1040),t.withPinCircleCircle=r.withBemMod(i.cnButton(),{pin:"circle-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleClear=void 0;var r=n(5),i=n(58);n(1041),t.withPinCircleClear=r.withBemMod(i.cnButton(),{pin:"circle-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearBrick=void 0;var r=n(5),i=n(58);n(1042),t.withPinClearBrick=r.withBemMod(i.cnButton(),{pin:"clear-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearCircle=void 0;var r=n(5),i=n(58);n(1043),t.withPinClearCircle=r.withBemMod(i.cnButton(),{pin:"clear-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearClear=void 0;var r=n(5),i=n(58);n(1044),t.withPinClearClear=r.withBemMod(i.cnButton(),{pin:"clear-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearRound=void 0;var r=n(5),i=n(58);n(1045),t.withPinClearRound=r.withBemMod(i.cnButton(),{pin:"clear-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundBrick=void 0;var r=n(5),i=n(58);n(1046),t.withPinRoundBrick=r.withBemMod(i.cnButton(),{pin:"round-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundClear=void 0;var r=n(5),i=n(58);n(1047),t.withPinRoundClear=r.withBemMod(i.cnButton(),{pin:"round-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeL=void 0;var r=n(5),i=n(58);n(1050),t.withSizeL=r.withBemMod(i.cnButton(),{size:"l"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeM=void 0;var r=n(5),i=n(58);n(1051),t.withSizeM=r.withBemMod(i.cnButton(),{size:"m"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeS=void 0;var r=n(5),i=n(58);n(1052),t.withSizeS=r.withBemMod(i.cnButton(),{size:"s"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeLink=void 0;var r=n(5),i=n(58);n(1057),t.withThemeLink=r.withBemMod(i.cnButton(),{theme:"link"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeLink=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(5),a=n(68),s=n(58);t.withTypeLink=o.withBemMod(s.cnButton(),{type:"link"},(function(e){return function(t){t.type;var n=t.target,o=t.rel,s=t.url,u=t.disabled,c=t.tabIndex,l=r.__rest(t,["type","target","rel","url","disabled","tabIndex"]),f=o;return"_blank"===n&&void 0!==o&&-1===o.indexOf("noopener")&&(f=o+" noopener"),i.default.createElement(e,r.__assign({},l,{rel:f,target:n,disabled:u,pressKeys:[a.Keys.ENTER],href:u?void 0:s,tabIndex:u?-1:c,type:null,autoComplete:null,as:"a"}))}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeSubmit=void 0;var r=n(5),i=n(58);t.withTypeSubmit=r.withBemMod(i.cnButton(),{type:"submit"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withWidthAuto=void 0;var r=n(5),i=n(58);n(1082),t.withWidthAuto=r.withBemMod(i.cnButton(),{width:"auto"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withWidthMax=void 0;var r=n(5),i=n(58);n(1083),t.withWidthMax=r.withBemMod(i.cnButton(),{width:"max"})}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(37),w=n.n(O),E=n(42),S=n(110);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var C=(function(e){h()(n,e);var t=x(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._shiftKeyPressed=!1,r._selectionRanges=[],r._anchor=0,r._anchorSelectionIndex=null,r._wrappedComponentRef=null,r._selectedResources=e.selectedResources,r._onWindowKeyUp=r._onWindowKeyUp.bind(d()(r)),r._onWindowKeyDown=r._onWindowKeyDown.bind(d()(r)),r._onToggleSelected=r._onToggleSelected.bind(d()(r)),r._onSelectResource=r._onSelectResource.bind(d()(r)),r._onDeselectAllClick=r._onDeselectAllClick.bind(d()(r)),r._onSelectionChanged=r._onSelectionChanged.bind(d()(r)),r._onResourceContextMenu=r._onResourceContextMenu.bind(d()(r)),r._setWrappedComponentRef=r._setWrappedComponentRef.bind(d()(r)),r._shouldUpdateSelectionRanges=!1,r._shouldCreateSelectionRanges=!1,r._shouldTriggerSelectionChangeAction=!1,r}return l()(n,[{key:"componentDidMount",value:function(){this._selectedResources.length&&this._createSelectionRanges(this._getSelectedResourcesFromProps(this.props)),window.addEventListener("keyup",this._onWindowKeyUp),window.addEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.addEventListener("click",this._onDeselectAllClick,!0)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateChangeFlags(e),this._shouldUpdateSelectionRanges&&this._updateSelectionRanges(e),this._shouldCreateSelectionRanges&&this._createSelectionRanges(this._getSelectedResourcesFromProps(e))}},{key:"componentDidUpdate",value:function(e){this._shouldTriggerSelectionChangeAction&&this._triggerSelectionChangeAction()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onWindowKeyUp),window.removeEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.removeEventListener("click",this._onDeselectAllClick,!0)}},{key:"size",get:function(){return this._selectionRanges.reduce((function(e,t){return e+t.size}),0)}},{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e,this.proxyMethods()}},{key:"proxyMethods",value:function(){}},{key:"_onWindowKeyDown",value:function(e){e.which===w.a.KEYS.SHIFT&&(this._shiftKeyPressed=!0,this.props.selectedResources.length>0&&document.body.classList.add("no-user-select"))}},{key:"_onWindowKeyUp",value:function(e){e.which===w.a.KEYS.SHIFT&&(this._shiftKeyPressed=!1,document.body.classList.remove("no-user-select"))}},{key:"_updateChangeFlags",value:function(e){this._shouldUpdateSelectionRanges=!1,this._shouldTriggerSelectionChangeAction=!1,this._shouldCreateSelectionRanges=this._selectedResources!==e.selectedResources}},{key:"_updateSelectionRanges",value:function(e){this._reindexSelections(e),this._mergeAdjacentSelections(),this._findAnchor()}},{key:"_onSelectResource",value:function(e,t,n){var r="MacOS"===this.props.OSFamily?n.metaKey:n.ctrlKey;this.props.isMultiSelectable?n.shiftKey?this._selectRange(e):r||t?this._toggleSelected(e):this._setSelected(e):this._setSelected(e)}},{key:"_onResourceContextMenu",value:function(e,t){var n,r;if(this._isContextMenuEnabled()){if(this._isResourceSelected(e))n=a()(this.props.selectedResources);else{var i=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(i),n=r=this._getSelectedResources()}this.props.onContextMenu(n,t,r)}}},{key:"_onToggleSelected",value:function(e){this.props.isMultiSelectable&&this._shiftKeyPressed?this._selectRange(e):this._toggleSelected(e)}},{key:"_onDeselectAllClick",value:function(e){e.target&&!e.target.closest("."+E.LISTING_PREVENT_DESELECT_CLASS)&&this._selectionRanges.length&&(this._resetSelectionRanges(),this._triggerSelectionChangeAction())}},{key:"_resetSelectionRanges",value:function(){this._selectionRanges=[],this._updateAnchor()}},{key:"_setSelected",value:function(e){var t=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_toggleSelected",value:function(e){var t=this._getResourceIndex(e);this._isResourceSelected(e)?this._removeSingleSelection(t):this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t);return{start:n,end:r,size:r-n+1}}},{key:"_mergeSelections",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=r.start,o=r.end,a=0;a<t.length;a++)i=Math.min(i,t[a].start),o=Math.max(o,t[a].end);return this._createSelection(i,o)}},{key:"_mergeAdjacentSelections",value:function(){for(var e=0;e<this._selectionRanges.length-1;){var t=this._selectionRanges[e],n=this._selectionRanges[e+1];n.start-t.end<=1?this._selectionRanges.splice(e,2,this._mergeSelections(t,n)):e++}}},{key:"_splitSelectionAt",value:function(e,t){return t===e.start?[this._createSelection(e.start+1,e.end)]:t===e.end?[this._createSelection(e.start,e.end-1)]:[this._createSelection(e.start,t-1),this._createSelection(t+1,e.end)]}},{key:"_subtractIndicesFromSelection",value:function(e,t,n){var r=Math.min(e,t),i=Math.max(e,t);return r===n.start&&i===n.end?[]:r===n.start?[this._createSelection(i+1,n.end)]:i===n.end?[this._createSelection(n.start,r-1)]:[this._createSelection(n.start,r-1),this._createSelection(i+1,n.end)]}},{key:"_addSingleSelection",value:function(e){var t=this._createSelection(e),n=Object(S.sortedIndex)(this._selectionRanges,t,(function(e,t){return e.start-t.start})),r=n>0&&e-this._selectionRanges[n-1].end==1,i=this._selectionRanges[n]&&this._selectionRanges[n].start-e==1;i&&r?this._changeSelections(n-1,2,this._mergeSelections(this._selectionRanges[n-1],this._selectionRanges[n])):r?this._changeSelections(n-1,1,this._mergeSelections(this._selectionRanges[n-1],t)):i?this._changeSelections(n,1,this._mergeSelections(t,this._selectionRanges[n])):this._changeSelections(n,0,t),r?this._updateAnchor(e,n-1):this._updateAnchor(e,n)}},{key:"_removeSingleSelection",value:function(e){var t=T(this._selectionRanges,e);if(t>-1){var n=this._selectionRanges[t];1===n.size?this._changeSelections(t,1):this._changeSelections.apply(this,[t,1].concat(a()(this._splitSelectionAt(n,e)))),this._findNextAnchor(e)}}},{key:"_removeMultiSelection",value:function(e){var t=T(this._selectionRanges,e);if(!(t<0)){var n=this._subtractIndicesFromSelection(this._anchor,e,this._selectionRanges[t]);this._changeSelections.apply(this,[t,1].concat(a()(n))),this._findNextAnchor(e)}}},{key:"_findAnchor",value:function(){if(!this._selectionRanges.length)return this._updateAnchor();var e=this._getAnchorResourceId();if(!e)return this._moveAnchorToNextSelection();var t=this._getAnchorResourceIndex(e);if(-1===t)return this._moveAnchorToNextSelection();var n=T(this._selectionRanges,t);if(-1===n)return this._moveAnchorToNextSelection();this._updateAnchor(t,n)}},{key:"_updateAnchor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchor=e,this._anchorSelectionIndex=t}},{key:"_findNextAnchor",value:function(e){var t=Object(S.sortedIndex)(this._selectionRanges,e,(function(e,t){return e.start-t}));if(t===this._selectionRanges.length)if(this._selectionRanges.length){var n=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[n].end,n)}else this._updateAnchor();else this._updateAnchor(this._selectionRanges[t].start,t)}},{key:"_moveAnchorToNextSelection",value:function(){var e=this._anchorSelectionIndex||0;if(this._selectionRanges[e])this._updateAnchor(this._selectionRanges[e].start,e);else{var t=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[t].end,t)}}},{key:"_getResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isResourceSelected",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResources",value:function(){throw"Should be implemented"}},{key:"_reindexSelections",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResourcesFromProps",value:function(e){return e.selectedResources}},{key:"_buildNewSelectionRangesFromResources",value:function(e){throw"Should be implemented"}},{key:"_createSelectionRanges",value:function(e){this._resetSelectionRanges(),e.length&&(this._buildNewSelectionRangesFromResources(e),this._selectionRanges.length&&this._updateAnchor(this._selectionRanges[0].start,0))}},{key:"_getAnchorResourceId",value:function(){throw"Should be implemented"}},{key:"_getAnchorResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isContextMenuEnabled",value:function(){return!this.props.maxActionableSize||this.props.selectedResources.length<=this.props.maxActionableSize}},{key:"_selectRange",value:function(e){this._addMultiSelection(this._getResourceIndex(e)),this._triggerSelectionChangeAction()}},{key:"_onSelectionChanged",value:function(e){this._createSelectionRanges(e),this._triggerSelectionChangeAction()}},{key:"_addMultiSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._createSelection(this._anchor,e),r=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.start-t.start})),r=n-1,i=t[n],o=t[r],a=i&&k(i,e),s=o&&j(o,e),u=o&&k(o,e);if(s||u)return{index:r,isIntersected:u,isAdjacent:s};return{index:n,isIntersected:a,isAdjacent:!1}})(n,this._selectionRanges),i=r.index,o=r.isIntersected,a=r.isAdjacent,s=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.end-t.end})),r=n-1,i=t[n],o=t[r],a=i&&k(i,e),s=i&&j(i,e),u=o&&k(o,e);if(!i||s||a)return{index:n,isIntersected:a,isAdjacent:s};return o?{index:r,isIntersected:u,isAdjacent:!1}:{index:0,isIntersected:!1,isAdjacent:!1}})(n,this._selectionRanges),u=s.index,c=s.isIntersected,l=s.isAdjacent,f=u-i+(a||o?1:0)+(l||c?1:0),d=[n];(a||!t&&o)&&d.push(this._selectionRanges[i]),(l||!t&&c)&&d.push(this._selectionRanges[u]);var p=this._mergeSelections.apply(this,d);this._changeSelections(i,f,p),this._updateAnchor(this._anchor,i)}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];(n=this._selectionRanges).splice.apply(n,[e,t].concat(i))}},{key:"_triggerSelectionChangeAction",value:function(){this.props.onSelectionChanged(this._getSelectedResources())}},{key:"_render",value:function(e,t){return _.a.createElement(e,i()({},this.props,t,{ref:this._setWrappedComponentRef,onToggleSelected:this._onToggleSelected,onSelectResource:this._onSelectResource,onResourceContextMenu:this.props.onContextMenu&&this._onResourceContextMenu,onSelectionChanged:this._onSelectionChanged}))}}]),n})(b.Component);function T(e,t){return Object(S.sortedFind)(e,t,(function(e,t){return t<e.start?1:t>e.end?-1:0}))}function k(e,t){return Math.max(e.start,t.start)<=Math.min(e.end,t.end)}function j(e,t){return e.start-t.end==1||t.start-e.end==1}C.defaultProps={isMultiSelectable:!0},t.a=C}),(function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}),(function(e,t,n){var r=n(1130),i=n(179),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u}),(function(e,t,n){(function(e){var r=n(152),i=n(1131),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(178)(e))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1140),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1141),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1142),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1144),Object(r.withBemMod)(Object(i.b)(),{theme:"pseudo"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1146),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(73),o=(n(1148),Object(r.withBemMod)(Object(i.b)(),{view:"outline"}))}),(function(e,t,n){"use strict";n.r(t);var r=n(330);n.d(t,"useForkRef",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(642)),s=i(n(1228)),u=i(n(132)),c=i(n(635)),l=n(34).cn("Dialog");n(1234);var f=function(){return o.default.createElement("div",{dangerouslySetInnerHTML:{__html:c.default}})};t.default=function(e){var t=e.visible,n=e.title,r=e.children,i=e.onClose,c=e.zIndexGroupLevel,d=e.noCloseButton,p=e.closeI18n,h=e.useDrawer,m=e.className,v=e.scope;o.useEffect((function(){t&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[t]);var g=o.useCallback((function(){return i("button")}),[i]),y=o.useCallback((function(e,t){return i(t)}),[i]),b=o.default.createElement("div",{className:l("Wrap")},n?o.default.createElement("h2",{className:l("Title")},n):null,d?null:o.default.createElement(u.default,{view:"clear",size:"s",className:l("Close"),onClick:g,"aria-label":p},o.default.createElement(f,null)),r);return h?o.default.createElement(s.default,{animation:{tension:230,friction:24},view:"default",visible:t,onClose:i,className:l(null,[m]),scope:v},b):o.default.createElement(a.default,{theme:"normal",visible:t,zIndexGroupLevel:c,onClose:y,className:l(null,[m]),scope:v},b)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(259),o=(n(1226),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textinputRegistry=void 0;var r=n(32),i=n(79),o=n(1322),a=n(1324),s=n(1326),u=n(1330);t.textinputRegistry=new r.Registry({id:i.cnTextinput()}),t.textinputRegistry.set("Control",o.TextinputControl).set("Box",a.TextinputBox).set("Icon",s.TextinputIcon).set("Hint",u.TextinputHint)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromoFormat=t.ThemeSource=t.ConditionValues=t.Condition=t.TernaryValues=t.Ternary=t.whatever=void 0;n(181);var r,i;t.whatever="all",(function(e){e.irrelevant="irrelevant",e.on="on",e.off="off"})(r=t.Ternary||(t.Ternary={})),t.TernaryValues=Object.values(r),(function(e){e.equal="equal",e.greater="greater",e.less="less",e.greaterOrEqual="greaterOrEqual",e.lessOrEqual="lessOrEqual"})(i=t.Condition||(t.Condition={})),t.ConditionValues=Object.values(i),(function(e){e.default="default",e.dark="dark",e.light="light"})(t.ThemeSource||(t.ThemeSource={})),(function(e){e.tooltip="tooltip",e.popup="popup",e.fullscreen="fullscreen",e.custom="custom",e.topline="topline",e.banner="banner"})(t.PromoFormat||(t.PromoFormat={}))}),(function(e,t,n){var r=n(220)(Object,"create");e.exports=r}),(function(e,t,n){var r=n(1408),i=n(1409),o=n(1410),a=n(1411),s=n(1412);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(383);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}}),(function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}}),(function(e,t,n){var r=n(1414);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}}),(function(e,t){e.exports=function(e){return e}}),(function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSrcsForImage=void 0;const i=r(n(205));t.getSrcsForImage=function(e){const t=e["3x"]||e["2x"]||e["1.5x"]||e["1x"];if(!t)return;const n=i.default(e,"color");return{src:t,srcSet:Object.entries(n).map(([e,t])=>t?`${t} ${e}`:void 0).filter(Boolean).join(", ")}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS=t.ExternalContext=void 0;var i=n(1754);Object.defineProperty(t,"ExternalContext",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(t,"LANGS",{enumerable:!0,get:function(){return i.LANGS}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(102),o=(n(1774),Object(r.withBemMod)(Object(i.b)(),{size:"l"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(102),o=(n(1775),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(102),o=(n(1776),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(102),o=(n(1777),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,o=e.scope?e.scope:e.scopeSelector?document.querySelector(e.scopeSelector):document,a=(function(e){return e?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"}})(e.isTouch),s=e.scrollBorder||{width:0,height:0},u=!1,c=function(t){return e.isTouch?{x:t.touches[0].pageX,y:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{x:t.pageX,y:t.pageY,clientX:t.clientX,clientY:t.clientY}},l=function e(t){t.preventDefault(),n.removeEventListener("dragstart",e)},f=function(r){if(!(function(t){return!e.isTouch&&0!==t.button||e.isTouch&&1!==t.touches.length}(r)||e.startFilter&&e.startFilter(r))){e.isTouch||(n=r.target)&&n.addEventListener("dragstart",l),document.addEventListener(a.move,h,e.isTouch&&{passive:!1}),!e.isTouch&&document.addEventListener("scroll",m),document.addEventListener(a.end,d);var i=document.getSelection();i&&i.removeAllRanges(),t=c(r),e.onBeforeStart&&e.onBeforeStart(t,r),document.body.classList.add("no-user-select")}},d=function t(i,o){document.body.classList.remove("no-user-select"),document.removeEventListener(a.move,h),e.isTouch||(document.removeEventListener("scroll",m),n.removeEventListener("dragstart",l)),document.removeEventListener(a.end,t),u&&e.onEnd&&e.onEnd(i,o),u=!1,r=null},p=function(n,i){if(!u){if(e.startThreshold){var o=n.x-t.x,a=n.y-t.y;Math.sqrt(o*o+a*a)>e.startThreshold&&(u=!0)}else u=!0;u&&e.onStart&&e.onStart(t)}if(u){if(e.scroll){var c=document.scrollingElement||document.documentElement;if(n.x=Math.min(n.x,c.scrollWidth-s.width),n.y=Math.min(n.y,c.scrollHeight-s.height),n.clientY<0)window.scrollBy(0,n.clientY);else{var l=window.innerHeight-n.clientY-30;l<0&&window.scrollBy(0,-l)}}e.onMove&&e.onMove(t,n,i)}r=n},h=function(e){e.preventDefault(),p(c(e),e)},m=function(e){r&&(clearTimeout(i),i=setTimeout((function(){var t=Object.assign({},r);t.x=window.window.pageXOffset+t.clientX,t.y=window.window.pageYOffset+t.clientY,p(t,e)}),0))};return o&&o.addEventListener(a.start,f),{clearListeners:function(){o&&o.removeEventListener(a.start,f),document.body.classList.remove("no-user-select")},cancel:function(){u&&d({},!0)}}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayTilesIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 7h7V0H0v7zm9 0h7V0H9v7zm-9 9h7V9H0v7zm9 0h7V9H9v7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(26),a=n(450),s=n(11),u=n.n(s),c=(n(1882),function(){return u()()("public-icon")});t.a=function(e){var t=e.onClick,n=e.cls,r=e.ariaLabel;return t?i.a.createElement(o.Button,{className:c().m({button:!0}).mix(n),view:"tundora",pin:"circle-circle",size:"xxs","aria-label":r,tabIndex:-1,onClick:t,icon:function(e){return i.a.createElement(a.default,{iconSize:"s",cls:e})}}):i.a.createElement("div",{className:c().m({plain:!0})},i.a.createElement(a.default,{iconSize:"s"}))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(5),s=n(32),u=n(870),c=n(872),l=n(26),f=n(57),d=n(72),p=n(338),h=a.compose(p.withGlyphTypeArrow)(p.Icon),m=new s.Registry({id:u.cnSelect()});m.set("Trigger",l.Button).set("Popup",d.Popup).set("Menu",f.Menu).set("Icon",h);var v=a.compose(c.withTogglable,s.withRegistry(m))(u.Select);t.Select=function(e){return o.default.createElement(v,r({iconProps:{glyph:"type-arrow"}},e))}}),(function(e,t,n){"use strict";var r=n(558);n.d(t,"a",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=n(56),i=n(5),o=(n(1713),Object(i.createClassNameModifier)(Object(r.b)(),{baseline:!0})),a=n(2),s=n(0),u=n.n(s),c=n(32),l=n(91),f=Object(i.withBemMod)(Object(r.b)(),{hasClear:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(s.createRef)(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.addonBefore,o=(n.onClearClick,n.hasClear,n.controlRef),s=(n.clearIcon,Object(a.__rest)(n,["addonBefore","onClearClick","hasClear","controlRef","clearIcon"]));return u.a.createElement(c.ComponentRegistryConsumer,{id:Object(r.b)()},(function(n){var r=n.Clear;return u.a.createElement(e,Object(a.__assign)({},s,{controlRef:Object(l.a)(t.controlRef,o),addonBefore:u.a.createElement(u.a.Fragment,null,u.a.createElement(r,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,icon:t.props.clearIcon,visible:Boolean(t.props.value)}),i)}))}))},n})(s.PureComponent)})),d=(n(1714),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-brick"})),p=(n(1715),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-clear"})),h=(n(1716),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-round"})),m=(n(1717),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-brick"})),v=(n(1718),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-clear"})),g=(n(1719),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-round"})),y=(n(1720),Object(i.withBemMod)(Object(r.b)(),{pin:"round-brick"})),b=(n(1721),Object(i.withBemMod)(Object(r.b)(),{pin:"round-clear"})),_=Object(i.withBemMod)(Object(r.b)(),{pin:"round-round"}),O=(n(1722),Object(i.withBemMod)(Object(r.b)(),{size:"m"})),w=(n(1723),Object(i.withBemMod)(Object(r.b)(),{size:"s"})),E=(n(1724),Object(i.withBemMod)(Object(r.b)(),{theme:"normal"})),S=(n(1725),Object(i.withBemMod)(Object(r.b)(),{theme:"websearch"})),x=(n(1726),Object(i.withBemMod)(Object(r.b)(),{view:"default"})),C=n(273),T=function(e){var t=e.floated,n=e.className,i=Object(a.__rest)(e,["floated","className"]);return u.a.createElement("label",Object(a.__assign)({className:Object(r.b)("Label",{floated:t},[n])},i))},k=(n(1727),Object(i.withBemMod)(Object(r.b)(),{view:"material"},(function(e){return Object(C.a)((function(t){var n=t.hint,i=t.onChange,o=t.className,c=t.label,l=t.variant,f=t.focused,d=t.addonBefore,p=Object(a.__rest)(t,["hint","onChange","className","label","variant","focused","addonBefore"]),h=p.defaultValue,m=p.view,v=p.state,g=Object(a.__read)(Object(s.useState)(h),2),y=g[0],b=g[1],_=Boolean(p.value)||Boolean(y)||f,O=Boolean(c);return u.a.createElement(u.a.Fragment,null,u.a.createElement(e,Object(a.__assign)({className:Object(r.b)({variant:l},[o]),addonBefore:u.a.createElement(u.a.Fragment,null,d,O&&u.a.createElement(T,{floated:_},c)),onChange:function(e){b(e.target.value),"function"==typeof i&&i(e)}},p)),n&&u.a.createElement("div",{className:Object(r.b)("Hint",{view:m,state:v,variant:l})},n))}))})));n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return k}))}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=(n(538),n(73)),o=n(2),a=n(0),s=n.n(a),u=n(273),c=n(429),l=n(428),f=(n(1138),function(e){var t=e.children,n=e.className,r=Object(o.__rest)(e,["children","className"]);return s.a.createElement("span",Object(o.__assign)({},r,{className:Object(i.b)("Box",null,[n])}),t)}),d=(n(1139),function(e){var t=e.autoFocus,n=e.checked,r=e.controlRef,o=e.disabled,a=e.labelledBy,u=e.name,c=e.onChange,l=e.value;return s.a.createElement("input",{"aria-checked":n,"aria-labelledby":a,autoFocus:t,autoComplete:"off",checked:n,className:Object(i.b)("Control"),disabled:o,name:u,onChange:c,ref:r,type:"radio",value:l})}),p=n(427),h=(n(1137),Object(u.a)((function(e){var t=e.autoFocus,n=e.checked,r=e.children,o=e.className,a=e.controlRef,u=e.disabled,h=e.focused,m=e.innerRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onClick,_=e.onFocus,O=e.onMouseEnter,w=e.onMouseLeave,E=e.pressed,S=e.value,x=Object(p.b)(),C=x.value?x.value===S:n,T=x.disabled||u,k="label-"+(l.a?"0":Object(c.a)("radio"));return s.a.createElement("label",{className:Object(i.b)("Radio",{checked:C,disabled:T,focused:h,pressed:E},[o]),onBlur:g,onClick:b,onFocus:_,onMouseEnter:O,onMouseLeave:w,ref:m},s.a.createElement(f,null,s.a.createElement(d,{autoFocus:t,checked:C,controlRef:a,disabled:T,labelledBy:k,name:x.name||v,onChange:x.onChange||y,value:S})),s.a.createElement("span",{"aria-hidden":"true",className:Object(i.b)("Text"),id:k},r))}))),m=n(174);var v=(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return Object(o.__extends)(n,t),n.prototype.render=function(){var t=this.props.disabled,n=!t&&Boolean(this.state.hovered||this.props.hovered),r=e;return s.a.createElement(r,Object(o.__assign)({},this.props,{hovered:t?void 0:n,onMouseEnter:t?void 0:this.onMouseEnter,onMouseLeave:t?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+Object(m.a)(e)+")",n})(a.PureComponent)})((function(e){var t=e.className,n=e.hovered,r=Object(o.__rest)(e,["className","hovered"]);return s.a.createElement(h,Object(o.__assign)({},r,{className:Object(i.b)("Radio",{hovered:n},[t])}))})),g=new r.Registry({id:Object(i.b)()});g.set("Radio",v);n(1135);var y=Object(r.withRegistry)(g)(i.a),b=n(369),_=n(370),O=n(371),w=(n(1143),n(372)),E=(n(1145),n(373)),S=(n(1147),n(374)),x=(n(1149),n(629));n.d(t,"Radio",(function(){return v})),n.d(t,"Radiobox",(function(){return y})),n.d(t,"withSizeM",(function(){return b.a})),n.d(t,"withSizeS",(function(){return _.a})),n.d(t,"cnRadiobox",(function(){return i.b})),n.d(t,"withThemeNormal",(function(){return O.a})),n.d(t,"withThemePseudo",(function(){return w.a})),n.d(t,"withViewDefault",(function(){return E.a})),n.d(t,"withViewOutline",(function(){return S.a})),n.d(t,"radioboxRegistry",(function(){return x.radioboxRegistry}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(34),s=(n(1814),Object(a.cn)("Link")),u=function(e){var t=e.as,n=e.children,o=e.controlRef,a=e.disabled,u=e.innerRef,c=e.role,l=(e.pseudo,e.view,Object(r.__rest)(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),f=t||(l.href?"a":"span"),d=l.rel;return"_blank"===l.target&&void 0!==d&&-1===d.indexOf("noopener")&&(d+=" noopener"),Object(i.createElement)(f,Object.assign(l,{"aria-disabled":a,className:s(null,[l.className]),ref:u||o,rel:d,role:c,tabIndex:a?-1:l.tabIndex}),n)};u.displayName=s();var c=n(5),l=n(70),f=Object(c.withBemMod)(s(),{pseudo:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){t.preventDefault(),void 0!==e.props.onClick&&e.props.onClick(t)},e.onKeyDown=function(t){t.keyCode===l.a.SPACE&&t.preventDefault(),void 0!==e.props.onKeyDown&&e.props.onKeyDown(t)},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=(t.pseudo,Object(r.__rest)(t,["pseudo"]));return o.a.createElement(e,Object(r.__assign)({},n,{onClick:this.onClick,onKeyDown:this.onKeyDown}))},n})(i.PureComponent)})),d=(n(1815),Object(c.withBemMod)(s(),{theme:"black"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),p=(n(1816),Object(c.withBemMod)(s(),{theme:"ghost"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),h=(n(1817),Object(c.withBemMod)(s(),{theme:"normal"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),m=(n(1818),Object(c.withBemMod)(s(),{theme:"outer"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),v=(n(1819),Object(c.withBemMod)(s(),{theme:"pseudo"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),g=(n(1820),Object(c.withBemMod)(s(),{theme:"strong"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),y=(n(1821),Object(c.withBemMod)(s(),{view:"default"}));n.d(t,"cnLink",(function(){return s})),n.d(t,"Link",(function(){return u})),n.d(t,"withPseudo",(function(){return f})),n.d(t,"withThemeBlack",(function(){return d})),n.d(t,"withThemeGhost",(function(){return p})),n.d(t,"withThemeNormal",(function(){return h})),n.d(t,"withThemeOuter",(function(){return m})),n.d(t,"withThemePseudo",(function(){return v})),n.d(t,"withThemeStrong",(function(){return g})),n.d(t,"withViewDefault",(function(){return y}))}),(function(e,t,n){"use strict";var r=n(5),i=n(2229);n(1048);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{size:"xxl"})}),(function(e,t,n){"use strict";var r=n(5),i=n(2229);n(1049);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{size:"xl"})}),(function(e,t,n){"use strict";var r=n(5),i=n(2229);n(1079);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{view:"brand"})}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(5),a=n(2229),s=(n(1080),"Button_view_premium_background_nIWzt"),u="Button_view_premium_layer1_A-tPT",c="Button_view_premium_layer2_lmjBA",l="Button_view_premium_layer3_fXqht",f="Button_view_premium_layerProgress_3bFh4";n.d(t,"a",(function(){return d}));const d=Object(o.withBemMod)(Object(a.a)(),{view:"premium"},e=>t=>i.a.createElement(e,Object.assign({},t,{addonBefore:i.a.createElement("div",{className:s},i.a.createElement("div",{className:u}),i.a.createElement("div",{className:c}),i.a.createElement("div",{className:l}),t.progress&&i.a.createElement("div",{className:f}))})))}),(function(e,t,n){"use strict";var r=n(5),i=n(2229);n(1081);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{view:"danger"})}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(174),s=n(91),u={},c={zIndexGroupLevel:0},l=function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentZIndex=0,e.innerRef=Object(i.createRef)(),e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.visible&&this.updateZIndexPosition()},n.prototype.componentDidUpdate=function(e){e.visible!==this.props.visible&&this.updateZIndexPosition()},n.prototype.componentWillUnmount=function(){0!==this.currentZIndex&&this.releaseZIndex(this.props.zIndexGroupLevel,this.currentZIndex)},n.prototype.render=function(){var t=this.props,n=(t.zIndexGroupLevel,Object(r.__rest)(t,["zIndexGroupLevel"]));return o.a.createElement(e,Object(r.__assign)({},n,{innerRef:Object(s.a)(this.innerRef,this.props.innerRef)}))},n.prototype.updateZIndexPosition=function(){var e=this;requestAnimationFrame((function(){var t=e.props,n=t.visible,r=t.zIndexGroupLevel;n&&0===e.currentZIndex?e.currentZIndex=e.captureZIndex(r):n||(e.currentZIndex=e.releaseZIndex(r,e.currentZIndex)),n&&(null!==e.innerRef.current?e.innerRef.current.style.zIndex=String(e.currentZIndex):e.updateZIndexPosition())}))},n.prototype.captureZIndex=function(e){var t=u[e];void 0===t&&(t=[1e3*(e+1)],u[e]=t);var n=t[t.length-1]+1;return t.push(n),n},n.prototype.releaseZIndex=function(e,t){var n=u[e];return void 0!==n&&n.length>1&&n.splice(n.indexOf(t),1),0},n})(i.PureComponent)).displayName="withZIndex("+Object(a.a)(e)+")",t.defaultProps=c,t};n.d(t,"withZIndex",(function(){return l}))}),(function(e,t,n){"use strict";var r=n(5),i=n(56);n(1351);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.b)(),{size:"l"})}),(function(e,t,n){(function(t){var n={};n.de="undefined"==typeof window,n.inherit=function(e,t,r){var i=function(){};i.prototype=t.prototype;var o=e.prototype=new i;if(r)if(Array.isArray(r))for(var a=0,s=r.length;a<s;a++)n.extend(o,r[a]);else n.extend(o,r);return o.super_=t.prototype,o.constructor=e,e},n.extend=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e},n.nop=function(){},n.true=function(){return!0},n.false=function(){return!1},n.value=function(e){return function(){return e}},n.logger=function(e){return e?function(){var t=[].slice.call(arguments);console.log.apply(null,[e].concat(t))}:console.log},n.de?n.next=function(e){t.nextTick(e)}:n.next=function(e){setTimeout(e,0)},n.de&&(e.exports=n),e.exports=n}).call(this,n(289))}),(function(e,t,n){"use strict";var r=n(62);t.a=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise(function(r){n=setTimeout(r,e,t)});return i[r.a]=function(){clearTimeout(n)},i}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getInvitesList",(function(){return i})),n.d(t,"getInvitesCount",(function(){return o})),n.d(t,"getFamilyInvitesList",(function(){return a})),n.d(t,"getFamilyInvitesCount",(function(){return s})),n.d(t,"getNonFamilyInvitesList",(function(){return u})),n.d(t,"getNonFamilyInvitesCount",(function(){return c}));var r=n(47),i=Object(r.createSelector)((function(e){return e.invitesToFolders}),(function(e){var t=e.invites,n=e.invitesByHash;return t.map((function(e){return n[e]})).filter((function(e){return e&&!e.hidden}))})),o=function(e){return e.invitesToFolders.invites.length},a=Object(r.createSelector)(i,(function(e){return e.filter((function(e){return"family"===e.group_type}))})),s=Object(r.createSelector)(a,(function(e){return e.length})),u=Object(r.createSelector)(i,(function(e){return e.filter((function(e){return"family"!==e.group_type}))})),c=Object(r.createSelector)(u,(function(e){return e.length}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(16),i=n(53),o=function(e,t){return function(n,i){n({type:r.UPDATE_SORT,payload:{idContext:i().page.idContext,sort:e,order:t}})}},a=function(e){return function(t){t({type:r.SET_VIEW,payload:{view:e}}),t(Object(i.saveSettings)({key:"view",value:e}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(37),i=function(e){return"squares"===e?r.PHOTO_GRID_TYPES.TILE:r.PHOTO_GRID_TYPES.WOW}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(){this.overlays=[],this.eventTarget=null,this.onDocumentKeyUp=this.onDocumentKeyUp.bind(this),this.onDocumentMouseDown=this.onDocumentMouseDown.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this)}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.count=function(){return this.overlays.length},e.prototype.addOverlay=function(e){0===this.overlays.length&&this.attachEvents(),this.overlays.push(e)},e.prototype.removeOverlay=function(e){this.overlays.splice(this.overlays.indexOf(e),1),0===this.overlays.length&&this.detachEvents()},e.prototype.getTopOverlayOptions=function(){return this.overlays[this.overlays.length-1]},e.prototype.isEssentionalClick=function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))},e.prototype.handleClose=function(e,t,n){var r=this.getTopOverlayOptions();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&this.isEssentionalClick(r.refs,e.target)||r.onClose(e,t)},e.prototype.onDocumentKeyUp=function(e){var t=e.key;"Escape"!==t&&"Esc"!==t||this.handleClose(e,"esc")},e.prototype.onDocumentMouseDown=function(e){this.eventTarget=e.target,this.activeOverlay=this.getTopOverlayOptions(),this.handleClose(e,"click","pressdown")},e.prototype.onDocumentClick=function(e){var t=this.eventTarget;this.eventTarget=null;var n=this.activeOverlay;this.activeOverlay=null,e.button>0||n===this.getTopOverlayOptions()&&t===e.target&&this.handleClose(e,"click","pressup")},e.prototype.attachEvents=function(){document.addEventListener("keyup",this.onDocumentKeyUp),document.addEventListener("mousedown",this.onDocumentMouseDown,!0),document.addEventListener("click",this.onDocumentClick,!0)},e.prototype.detachEvents=function(){document.removeEventListener("keyup",this.onDocumentKeyUp),document.removeEventListener("mousedown",this.onDocumentMouseDown,!0),document.removeEventListener("click",this.onDocumentClick,!0)},e})()}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(5),s=n(52),u=(n(168),n(1260),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-check"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},o.a.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(16),i=(n(464),function(e,t){return{type:r.UPDATE_SHARED_FOLDERS_USERS,payload:{gid:e,users:t}}}),o=function(e,t){return{type:r.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE,payload:{gid:e,isLoading:t}}},a=function(e,t){return function(n){var r=ns.Model.get("usersFolder",{gidFolder:t,idFolder:e});r.isValid()||(n(o(t,!0)),r.fetch().always((function(){n(o(t,!1))})))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1657),n(1658);var r={color:"ps-light",root:"ps-light"}}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t){var n=e<0;t=t||":",n&&(e=Math.abs(e));var i=Math.floor(e/3600),o=r(Math.floor(e%3600/60)),a=r(e%60);return(n?"-":"")+(i?i+t:"")+o+t+a}}),(function(e,t,n){"use strict";(function(e,r){var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(6),c=n.n(u),l=n(7),f=n.n(l),d=n(1),p=n.n(d),h=n(0),m=n.n(h),v=n(19),g=n(69),y=n(11),b=n.n(y);n(1850);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){return b()()("react-noscript")},w=(function(t){c()(i,t);var n=_(i);function i(){return o()(this,i),n.apply(this,arguments)}return s()(i,[{key:"componentDidMount",value:function(){this._view=ns.View.create(this.props.viewName,this.props.params),this._view._setNode(this._viewContainer),this._view.invalidate(),this._nsRender()}},{key:"componentDidUpdate",value:function(){this._nsRender()}},{key:"componentWillUnmount",value:function(){this._view.destroy()}},{key:"_nsRender",value:function(){var t=this;this._update&&(this._update.abort(),this._updateTimer&&e(this._updateTimer));var n=this.props.params,i=ns.layout.page(this.props.layoutName,n);this._update=new ns.Update(this._view,i,n);var o=this.props.yateModule||"common";this._update.applyTemplate=function(e){return ns.renderString(e,null,o)},this._update.EXEC_FLAG=ns.U.EXEC.PARALLEL,this._updateTimer=r((function(){t._update.render().fail((function(e){e instanceof Error&&setTimeout((function(){throw e}))}))}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:O().mix(this.props.cls)},m.a.createElement("div",{ref:function(t){e._viewContainer=t}},this.props.renderSpin?m.a.createElement("div",{className:O().e("spin-wrap")},m.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"})):null))}}]),i})(h.Component);t.a=Object(v.connect)((function(e,t){var n=e.page.originalNSParams,r=t.overrideParams;return{params:Object.assign({},n,r)}}))(w)}).call(this,n(342).clearImmediate,n(342).setImmediate)}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(753),_=n.n(b),O=n(69),w=(n(1864),n(11)),E=n.n(w);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var x=function(){return E()()("load-portions")},C=function(){return!1};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return (function(r){d()(s,r);var o=S(s);function s(e){var t;return a()(this,s),(t=o.call(this,e))._spinNode=y.a.createRef(),t._wrappedComponentRef=y.a.createRef(),t._checkBottomThrottled=_()(t._checkBottom,500).bind(l()(t)),n.forEach((function(e){t[e]=function(){var n;return t._wrappedComponentRef.current&&(n=t._wrappedComponentRef.current)[e].apply(n,arguments)}})),t}return u()(s,[{key:"componentDidMount",value:function(){this._scrollingElement=this.props.scrollingElementSelector?document.querySelector(this.props.scrollingElementSelector):window,this._bindCheckBottom()}},{key:"componentWillUnmount",value:function(){this.props.completed||this._unbindCheckBottom()}},{key:"componentDidUpdate",value:function(e){t(e,this.props)&&this._checkBottom(),this.props.completed!==e.completed&&(this.props.completed?this._unbindCheckBottom():this._bindCheckBottom())}},{key:"_bindCheckBottom",value:function(){this._scrollingElement.addEventListener("scroll",this._checkBottomThrottled),window.addEventListener("resize",this._checkBottomThrottled),this._checkBottom()}},{key:"_unbindCheckBottom",value:function(){this._scrollingElement.removeEventListener("scroll",this._checkBottomThrottled),window.removeEventListener("resize",this._checkBottomThrottled)}},{key:"_checkBottom",value:function(){if(!this.props.completed&&this._spinNode.current){var e=this._spinNode.current.getBoundingClientRect().top;this._scrollingElement!==window&&(e-=this._scrollingElement.getBoundingClientRect().top),e<=2*(this._scrollingElement===window?window.innerHeight:this._scrollingElement.clientHeight)&&this._fetchNextPortion()}}},{key:"_fetchNextPortion",value:function(){var e=this.props,t=e.loading;e.completed||t||this.props.requestFetchNext()}},{key:"_getSpin",value:function(){var e=this.props,t=e.loading,n=e.completed,r=e.centerSpin;return n?null:y.a.createElement("div",{className:x().m({center:r}).e("spin-wrapper"),ref:this._spinNode},y.a.createElement(O.Spin,{view:"default",size:"m",progress:t,className:x().e("spin")}))}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({ref:this._wrappedComponentRef},this.props)),this._getSpin())}}]),s})(g.Component)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayWowIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 0h10v7H0V4zm6 9h10v7H6v-7zm6-9h4v7h-4V4zM0 9h4v7H0v-7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(30),_=n.n(b),O=n(11),w=n.n(O),E=n(242),S=function(e){return"".concat(Math.ceil(e),"px")},x=function(e,t,n){var r,i,o=e.width,a=e.height,s=t.width,u=t.height,c=n.top,l=n.bottom,f=n.left,d=n.right;r=(i=a/(l-c))*s/u,i<a&&(r=(i=a)*s/u),r<o&&(i=(r=o)*u/s);var p=c*i,h=f*r;return h=h+(d-f)*r/2-o/2,(p=p+(l-c)*i/2-a/2)+a>i&&(p=i-a),h+o>r&&(h=r-o),h=h>0?-1*h:0,p=p>0?-1*p:0,{width:r,height:i,transform:"translate(".concat(S(h),", ").concat(S(p),")")}};n(1020);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(){return w()()("scalable-preview")},k=(function(e){d()(n,e);var t=C(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={renderFallback:r.props.shouldRenderFallback&&!r.props.previewBaseUrl,previewFragmentStyle:null,retry:!1},r._setPreviewContainerRef=r._setPreviewContainerRef.bind(l()(r)),r._updateImgStyle=r._updateImgStyle.bind(l()(r)),r._onLoadError=r._onLoadError.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.props.previewFragment&&(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle))}},{key:"componentDidUpdate",value:function(e){e.previewBaseUrl!==this.props.previewBaseUrl&&(this.props.previewFragment?(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle)):window.removeEventListener("resize",this._updateImgStyle))}},{key:"componentWillUnmount",value:function(){this.props.previewFragment&&window.removeEventListener("resize",this._updateImgStyle)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.renderFallback&&this._getPreviewUrl()!==this._getPreviewUrl(e)&&this.setState({renderFallback:!1})}},{key:"_setPreviewContainerRef",value:function(e){this._previewContainerRef=e}},{key:"_updateImgStyle",value:function(){if(this.props.previewFragment){var e=this._previewContainerRef?this._previewContainerRef.getBoundingClientRect():{};this.setState({previewFragmentStyle:x({width:e.width,height:e.height},{width:this.props.previewSize.width,height:this.props.previewSize.height},this.props.previewFragment)})}}},{key:"_onLoadError",value:function(){this.setState({renderFallback:!0})}},{key:"_getSizeFormat",value:function(){return this.context.sizeFormat||E.a}},{key:"_getPreviewUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=Object.assign({},e);if(this.props.previewFragment){var n=Math.max(window.devicePixelRatio||1,1);t.width=E.b/n,t.height=E.b/n,t.crop=!1}return Object(E.c)(t,this._getSizeFormat(),this.state.retry)}},{key:"_getPreview",value:function(){var e=this,t=this.props,n=t.onLoad,r=t.onError,o=t.active,a=t.previewBaseUrl,s=t.nonce,u=t.srcSet,c=t.srcSetFallback,l=t.shouldRenderFallback,f=t.cover,d={onLoad:n,onError:l?this._onLoadError:r};this.props.previewFragment&&this.state.previewFragmentStyle?d.style=this.state.previewFragmentStyle:d.className=T().e("image").m({cover:f});var p="undefined"==typeof window;if(u)return y.a.createElement("img",i()({srcSet:u,src:c},d));if(p){var h=[y.a.createElement("img",i()({key:"image",src:""},d))];return o&&h.push(y.a.createElement("script",{key:"script",nonce:s,dangerouslySetInnerHTML:{__html:(function(e,t){return"\nvar preview = document.querySelector('.scalable-preview_active .scalable-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var width = document.documentElement.clientWidth * drp;\n  var height = document.documentElement.clientHeight * drp;\n  preview.src = '".concat(e,"&' + '").concat(t,"'.replace('{{width}}', Math.floor(width)).replace('{{height}}', Math.floor(height));\n}")})(a,this._getSizeFormat())}})),h}var m=this._getPreviewUrl();return d.onError=function(t){e.state.retry?(l&&e._onLoadError(),r&&r(t)):setTimeout((function(){m===e._getPreviewUrl()&&e.setState({retry:!0})}),500)},y.a.createElement("img",i()({src:m},d))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.active,i=e.fitToWidth,o=e.style,a=e.previewBaseUrl,s=this.state.renderFallback;return y.a.createElement("div",{className:T().m({active:r,"fit-to-width":Boolean(i)}).mix(t),onClick:n,style:o,ref:this._setPreviewContainerRef},s||!a?y.a.createElement("div",{className:T().e("fallback")}):this._getPreview())}}]),n})(g.Component);k.contextTypes={sizeFormat:_.a.string};t.a=k}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=n(120),a=function(e,t,n){var r=!1,a=[];return e.invalid.forEach((function(e){var n=t.find((function(t){var n=t.item;return n.id===e.id&&i.a.isEqual(n.params,e.params)})),o=e.getError();o&&"HTTP_0"===o.id&&e.retryOffline()?(r=!0,a.push(n)):o&&"WRONG_SK"===o.id?a.push(n):e.shouldRetryFails()&&0!==n.retriesLeft?a.push(n):n.promise.reject(e)})),a.length?(r?Object(o.waitOnline)("/check-online"):Object(o.defer)(n)).then((function(){return a.forEach((function(e){e.retriesLeft=e.retriesLeft||3,e.retriesLeft--})),new Promise(function(e){e(a)})})):new Promise(function(e,t){t()})}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M9.6 4l-4 4 4 4 .8-.8L7.2 8l3.2-3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M6.4 12l4-4-4-4-.8.8L8.8 8l-3.2 3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(9),i=n.n(r),o=n(27),a=n(53),s=n(38),u=(n(112),function(){return function(e){return Object(s.a)("do-get-user-info").then((function(t){e(Object(o.updateUser)(t))}))}}),c=function(e){return function(t){var n=i.a.get(e,"root.parameters");t(Object(a.updateSettings)({closedOverdraftBlock:!0})),t(Object(a.updateSettings)({closedOverdraftScreen:!0})),t(Object(o.updateUser)({overdraft_status:n.overdraft_status,overdraft_block_date:n.overdraft_block_date}))}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(1133)),u=o(n(1250)),c=o(n(1254)),l=o(n(1256)),f=o(n(376)),d=o(n(167)),p=o(n(308)),h=n(34).cn("ShareDialog");n(1377);var m=o(n(154));t.getConfirmTexts=function(e){return{title:d.default(e,"delete-link-confirm-title"),text:{file:d.default(e,"delete-link-confirm-text-file"),folder:d.default(e,"delete-link-confirm-text-folder"),album:d.default(e,"delete-link-confirm-text-album")},submit:d.default(e,"delete-link-confirm-submit"),cancel:d.default(e,"delete-link-confirm-cancel")}};t.default=function(e){var n=e.officeAccessType,i=e.runChangeType,o=e.onAccessTypeChange,v=e.lang,g=e.linkUrl,y=e.resourceTitle,b=e.resourceId,_=e.resourcePath,O=e.resourceType,w=void 0===O?"file":O,E=e.resourceMediaType,S=e.isResourceTypeAvailableToEdit,x=e.noViewOnlyTooltip,C=e.viewOnlyTooltipType,T=e.defaultExpanded,k=e.dialogTitle,j=e.onClose,P=e.runDeleteLink,R=e.onDeleteLink,A=e.onCopyLinkClick,I=e.isOverdraft,D=e.isVicariousDoc,M=e.blockActionOverdraft,N=e.mailOrigin,L=e.showDeleteLinkProgress,F=e.visible,B=e.zIndexGroupLevel,U=e.isUserHasRightsToModifyAccess,z=e.noAccessBlock,V=e.isTouch,H=e.isTablet,W=e.isAndroid,G=e.deselectClass,$=e.countMetrikaFn,q=e.userHasPublicSettingsFeature,Y=e.isB2bUser,K=e.chooseTariffLink,J=e.readOnlyValue,X=e.availableUntilValue,Z=e.havePasswordValue,Q=e.setLinkSettings,ee=e.onChangeSecuritySettings,te=e.externalOrganizationIds,ne=e.pddOrgId,re=e.scope,ie=e.noDeleteButton,oe=a.useState(!1),ae=oe[0],se=oe[1],ue=a.useCallback((function(){se(!0),$("clickQRCode","show")}),[$]);a.useEffect((function(){F&&se(!1)}),[F]),a.useEffect((function(){F&&$("open")}),[F,$]);var ce=a.useState(!1),le=ce[0],fe=ce[1],de=a.useState(!1),pe=de[0],he=de[1],me=a.useCallback((function(){fe(!0),$("click delete")}),[$]),ve=a.useCallback((function(){fe(!1),$("cancel unshare")}),[$]),ge=a.useCallback((function(){var e=P("album"===w,"album"===w?{albumId:b}:{path:_,type:w});L?(he(!0),e.catch((function(){})).then((function(){he(!1),fe(!1),null===R||void 0===R||R(e),j()}))):(fe(!1),null===R||void 0===R||R(e),j()),$("unshare")}),[P,b,_,w,L,j,R,$]),ye=a.useMemo((function(){return t.getConfirmTexts(v)}),[v]),be=a.useMemo((function(){var e={file:"file-link-title",folder:"folder-link-title",album:"album-link-title"};return d.default(v,e[w])}),[w,v]),_e=a.useCallback((function(){j(),$("close")}),[j,$]),Oe=V&&!H,we="album"!==w&&U&&!I&&!z,Ee=U&&!!ne&&"album"!==w,Se=r({visible:F&&!le,title:k||be,zIndexGroupLevel:B,onClose:_e,closeI18n:d.default(v,"close-menu"),className:h({touch:Oe,showQR:ae},[G]),scope:re},Oe?{useDrawer:!0,noCloseButton:!0}:null);if(!g)return a.default.createElement(f.default,r({},Se),a.default.createElement("div",{className:h("AccordionStub")}),we&&a.default.createElement("div",{className:h("SecuritySettingsStub",{withFeature:q})}),a.default.createElement("div",{className:h("CopyButtonStub")}));if(ae)return a.default.createElement(f.default,r({},Se,{title:d.default(v,"qr-code-title")}),a.default.createElement(c.default,{linkUrl:g,countMetrikaFn:$}));var xe=Boolean(ne&&te&&parseInt(ne,10)===te[0]),Ce=U&&!ie;return a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,r({},Se),z?null:a.default.createElement(a.default.Fragment,null,!q&&(J||Boolean(X)||Z||xe)?a.default.createElement("div",{className:h("OnlyDisableTip")},a.default.createElement(m.default,{name:"warningSmall",className:h("TipIcon")}),d.default(v,"security-only-disable")):null,a.default.createElement("div",{className:h("AccessAccordion")},a.default.createElement(s.default,{shouldRenderOrganizationScopeBlock:Ee,isUserHasRightsToModifyAccess:U,isVicariousDoc:D,isOverdraft:I,resourcePath:_,chooseTariffLink:K,setLinkSettings:Q,officeAccessType:n,externalOrganizationIds:te,runChangeType:i,onAccessTypeChange:o,userHasPublicSettingsFeature:q,onChangeSecuritySettings:ee,isResourceTypeAvailableToEdit:S,resourceType:w,noViewOnlyTooltip:x,viewOnlyTooltipType:C||w,defaultExpanded:T,pddOrgId:ne,lang:v,visible:F,resourceId:b,isTouch:V,deselectClass:G,countMetrikaFn:$,isSmartphone:Oe,isB2b:Y}))),we&&a.default.createElement(l.default,{lang:v,hasFeature:q,isB2b:Y,chooseTariffLink:K,resourcePath:_,resourceMediaType:E,readOnlyValue:J,externalOrganizationIds:te,availableUntilValue:X,havePasswordValue:Z,setLinkSettings:Q,onChangeSecuritySettings:ee,officeAccessType:n,isDialogVisible:F,countMetrikaFn:$,deselectClass:G,isSmartphone:Oe,datePickerScope:re,isAndroid:W}),a.default.createElement(u.default,{lang:v,visible:F,url:g,onCopyLinkClick:A,isOverdraft:I,blockActionOverdraft:M,mailOrigin:N,resourceTitle:y,resourceType:w,officeAccessType:n,onClickQR:ue,isTouch:V,isAndroid:W,countMetrikaFn:$,shouldRenderRemoveLink:Ce,onDeleteConfirmOpen:me})),a.default.createElement(p.default,{visible:le,title:ye.title,submitButtonText:ye.submit,cancelButtonText:V?"":ye.cancel,submitButtonProps:{progress:pe},onSubmit:ge,onClose:ve,closeI18n:d.default(v,"close-menu"),className:G},ye.text[w]))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(0),i=Object(r.createContext)({});i.displayName="RadioGroup";var o=i.Provider,a=function(){return Object(r.useContext)(i)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!1}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(0),o=n(543);function a(e){var t=Object(o.a)();return Object(r.__read)(Object(i.useState)((function(){return e?e+t.replace("xuniq",""):t})),1)[0]}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=n.n(r),o={value:0,id:0},a=Object(r.createContext)(o),s=function(e){var t=e.children,n=Object(r.useContext)(a),s=Object(r.useMemo)((function(){return{value:0,id:n===o?0:++n.id}}),[n]);return i.a.createElement(a.Provider,{value:s},t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(413);function o(e){var t=e.visible,n=e.onClose,o=e.essentialRefs,a=e.unsafe_strategy,s=void 0===a?"pressdown":a,u=Object(r.useRef)({onClose:n,refs:o,closeStrategy:s});Object(r.useEffect)((function(){u.current.onClose!==n&&(u.current.onClose=n),u.current.refs!==o&&(u.current.refs=o)}),[n,o]),Object(r.useEffect)((function(){if(t){var e=u.current,n=i.a.getInstance();return n.addOverlay(e),function(){n.removeOverlay(e)}}}),[t])}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(188),i=n.n(r),o=n(2),a=n(0),s=n(127),u=n(85),c=Object(u.a)(),l=c?document.body:null,f=function(e){var t=e.visible,n=e.keepMounted,r=void 0===n||n,u=e.children,f=e.scope,d=Object(o.__read)(Object(a.useState)(l),2),p=d[0],h=d[1],m="inplace"===f,v=Object(a.useRef)(!1);return Object(a.useEffect)((function(){"object"===i()(f)&&h(f.current)}),[f]),t&&(v.current=!0),c&&(t||r&&v.current)||!c&&t?m?u:p?Object(s.createPortal)(u,p):null:null}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n.n(i),a=n(76),s=(n(1193),Object(i.forwardRef)((function(e,t){var n=e.className,i=Object(r.__rest)(e,["className"]);return o.a.createElement("div",Object(r.__assign)({},i,{ref:t,className:Object(a.b)("Tail",null,[n])}),o.a.createElement("svg",{viewBox:"0 0 24 24",className:Object(a.b)("TailSvg")},o.a.createElement("path",{className:Object(a.b)("TailFill"),d:"M12 16C15 16 18 24 24 24H0C6 24 9 16 12 16Z",fill:"none"}),o.a.createElement("path",{className:Object(a.b)("TailBorder"),d:"M8.05888 18.9807C6.77697 20.3966 5.32977 21.9951 3.57172 23H0C2.53449 23 4.52121 21.3153 6.39546 19.3161C6.68742 19.0046 6.98315 18.6782 7.27806 18.3526L7.27807 18.3526C7.87384 17.6949 8.46631 17.0408 9.01776 16.5218C9.82327 15.7637 10.827 15 12 15C13.173 15 14.1767 15.7637 14.9822 16.5218C15.5337 17.0408 16.1262 17.6949 16.7219 18.3526L16.7219 18.3526L16.7222 18.3529C17.017 18.6783 17.3127 19.0047 17.6045 19.3161C19.4788 21.3153 21.4655 23 24 23H20.4283C18.6702 21.9951 17.223 20.3966 15.9411 18.9807C14.4853 17.3726 13.2426 16 12 16C10.7574 16 9.51472 17.3726 8.05888 18.9807Z",fill:"none"})))})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(86);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Object(r.c)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(436);function i(e){return Object.assign(Object.assign({},Object(r.a)()),e)}}),(function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(113),i=n(191),o=n(274),a=n(39);function s(e){var t,n=e.reference,s=e.element,u=e.placement,c=u?Object(r.a)(u):null,l=u?Object(i.a)(u):null,f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2;switch(c){case a.m:t={x:f,y:n.y-s.height};break;case a.c:t={x:f,y:n.y+n.height};break;case a.k:t={x:n.x+n.width,y:d};break;case a.f:t={x:n.x-s.width,y:d};break;default:t={x:n.x,y:n.y}}var p=c?Object(o.a)(c):null;if(null!=p){var h="y"===p?"height":"width";switch(l){case a.l:t[p]=Math.floor(t[p])-Math.floor(n[h]/2-s[h]/2);break;case a.e:t[p]=Math.floor(t[p])+Math.ceil(n[h]/2-s[h]/2)}}return t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return t.reduce((function(t,n){return t.concat(e(n))}),[])}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(285),i=['[contenteditable]:not([contenteditable="false"])',"[tabindex]","a[href]","area[href]","audio[controls]","button","details","details>summary:first-of-type","input","select","textarea","video[controls]","iframe"].join(",");function o(e){return!(!Object(r.e)(e,i)||Object(r.b)(e)||e.disabled||Object(r.a)(e))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i="undefined"!=typeof navigator&&navigator.language||"ru-RU",o=Object(r.createContext)(i)}),(function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(87),i=n(31),o=function(e){var t=e.notifications.promo.visible;return (function(e){return!Object(r.e)(e)&&!Object(i.isSliderOpened)(e)})(e)?t:null}}),(function(e,t,n){var r=n(35).USER_SETTINGS_DEFAULTS;e.exports={preprocessSettings:function(e,t){var n=Object.assign({},e);return t&&(n.view||(n.view="list")),Object.assign({},r,n)}}}),(function(e,t,n){"use strict";function r(e){var t=e.fill,n=e.initials,r=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80">',"<g>",t?'<rect height="100%" width="100%" fill="'.concat(t,'"/>'):""].concat(n?['<text y="52.32542" x="41.423134" style="text-rendering:optimizeLegibility;font-size:36px;font-family:sans-serif;text-anchor:middle;fill:#fff;">',unescape(encodeURIComponent(n)),"</text>"]:['<g fill="#fff">','<path d="M42.1 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6s-6.3 0-6.6 3.6c-.6 4.5 2.1 13.8 3 14.7 2.4 1.5 1.5 3.9.9 5.1 0 .3-.3.6-.3.6-.6 1.5-3.9 3.9-10.2 7.2l-1.5-2.7c3.9-2.1 8.1-4.8 8.7-5.7 0-.3.3-.6.3-.9.3-.3.6-1.2.3-1.2-2.7-1.8-5.1-12.6-4.5-17.7.6-6.3 9.3-6.3 9.6-6.3.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-.9 2.4z"/>','<path d="M52.6 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6v-3c.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-1.2 2.1z"/>','<path d="M62.8 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6v-3c.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-1.2 2.1z"/>',"</g>"]).concat(["</g>","</svg>"]).join("");return"data:image/svg+xml;base64,"+btoa(r)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12),v=n(69),g=(n(1838),n(11)),y=n.n(g);function b(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var _={xs:"xs",s:"xs",m:"s",n:"xs",l:"m",head:"m","ufo-xl":"l"},O=(function(e){u()(n,e);var t=b(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement(v.Spin,{view:"default",size:this.props.spinSize||_[this.props.size],progress:!0,className:y()()("spin-wrapper").m({white:this.props.white})})}}]),n})(m.default)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(84),o=n(28);t.getMetrikaSectionTail=function(e){var t="photo"===r.getPage(e),n=i.getMetrikaSection(e),a=o.getCurrentAlbumType(e);return t?n:o.isPageAlbum(e)?["album",a]:["listing"]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.454 5.623c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n(30),c=[],l=[];function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function d(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=f(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function p(e,t){return s.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function h(e,t){var f,d;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:p,webpack:null,modules:null},t),m=null;function v(){return m||(m=e(h.loader)),m.promise}return c.push(v),"function"==typeof h.webpack&&l.push((function(){if(function(e){return"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]}))}(h.webpack))return v()})),d=f=(function(t){function n(r){i(this,n);var a=o(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),a._loadModule()},v(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n})(s.Component),f.contextTypes={loadable:u.shape({report:u.func.isRequired})},d}function m(e){return h(f,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(d,e)};var v=(function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t})(s.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}v.propTypes={report:u.func.isRequired},v.childContextTypes={loadable:u.shape({report:u.func.isRequired}).isRequired},m.Capture=v,m.preloadAll=function(){return new Promise(function(e,t){g(c).then(e,t)})},m.preloadReady=function(){return new Promise(function(e,t){g(l).then(e,e)})},e.exports=m}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"linkIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",null,h.a.createElement("path",{fill:"currentColor",d:"M10.792 6.572c.35-.38.34-.97-.025-1.337a.97.97 0 0 0-1.338-.028l-.093.089-1.364 1.367-1.312 1.31-1.361 1.364-.091.091a.965.965 0 1 0 1.365 1.365l.09-.093 1.364-1.36 1.312-1.313L10.7 6.664l.094-.093v.002l-.003-.001z"}),h.a.createElement("path",{fill:"currentColor",d:"M14.796 2.955l-1.773-1.778c-1.055-1.061-2.903-1.061-3.96 0L7.289 2.955a2.803 2.803 0 0 0-.17 3.756l1.454-1.46a.768.768 0 0 1 .154-.858l1.776-1.777a.761.761 0 0 1 1.084 0l1.776 1.777a.775.775 0 0 1 0 1.09L11.587 7.26a.784.784 0 0 1-.854.15L9.275 8.876a2.77 2.77 0 0 0 3.75-.173L14.8 6.924a2.817 2.817 0 0 0 0-3.97h-.004zm-7.37 7.765c.133.29.072.63-.153.856l-1.776 1.781a.787.787 0 0 1-1.085 0L2.64 11.576a.77.77 0 0 1 0-1.085l1.773-1.784a.76.76 0 0 1 .858-.154l1.456-1.458c-1.08-.875-2.76-.827-3.751.168L1.2 9.045a2.817 2.817 0 0 0 0 3.974l1.773 1.777c.528.53 1.234.823 1.979.823.75 0 1.453-.292 1.984-.823l1.773-1.78a2.807 2.807 0 0 0 .174-3.76l-1.456 1.463-.002.004.002-.003z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),o=n(135),a=n(25),s=i.createSelector([function(e){return e.user.organizations}],(function(e){var t=null===e||void 0===e?void 0:e[0];return{id:a.VIRTUAL_DISKS_ROOT,idContext:a.VIRTUAL_DISKS_ROOT,name:(null===t||void 0===t?void 0:t.name)||""}}));t.getCrumbsItems=function(e){var t,n,i,o=e.page.idContext,u=e.resources,c=(null===(t=u[o])||void 0===t?void 0:t.parents)||[];if(a.isPathInsideVirtualDiskFiles(o)||a.isVirtualDiskTrash(o)){var l=void 0;if(c.length){var f=c[0];l={id:f.id,name:(null===(n=u[f.id])||void 0===n?void 0:n.name)||f.name},c=c.slice(1)}c=r([s(e)],l?[l]:[],c)}else if(a.isVirtualDiskSearchPath(o)||a.isVirtualDiskJournal(o)){var d=a.getCurrentVirtualDisk(o);l=d?{id:d,name:null===(i=u[d])||void 0===i?void 0:i.name}:null;c=r([s(e)],l?[l]:[])}return c},t.getCurrentCrumbItem=function(e){return a.isVirtualDiskPath(e.page.idContext)?s(e):o.getTopLevelCurrentItem(e)}}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(19),y=n(0),b=n.n(y),_=n(262),O=n(129),w=n(395),E=n(15),S=n(31),x=n(25),C=n(9),T=n.n(C),k=(n(1954),n(11)),j=n.n(k);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var R=function(){return j()()("select-folder-listing")},A=(function(e){d()(n,e);var t=P(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onResourceOpen=r._onResourceOpen.bind(l()(r)),r._onSelectResource=r._onSelectResource.bind(l()(r)),r._onBackClick=r._onBackClick.bind(l()(r)),r._fetchListing=r._fetchListing.bind(l()(r)),r._getAdditionalFields=r._getAdditionalFields.bind(l()(r)),r._scrollContainer=b.a.createRef(),r}return u()(n,[{key:"componentDidMount",value:function(){this._onChangeFolder()}},{key:"componentDidUpdate",value:function(e){e.currentResource.id!==this.props.currentResource.id&&this._onChangeFolder()}},{key:"_onChangeFolder",value:function(){this._fetchListing(),this._scrollContainer.current&&(this._scrollContainer.current.scrollTop=0)}},{key:"_onResourceOpen",value:function(e){this.props.onResourceOpen(e)}},{key:"_onSelectResource",value:function(e){this.props.onSelectResource(e)}},{key:"_getAdditionalFields",value:function(e){var t=Boolean(T.a.get(e,"meta.public"));return[{type:"public-link",position:O.POSITIONS.ALWAYS_RIGHT,content:t?b.a.createElement(w.a,null):null}]}},{key:"_onBackClick",value:function(){var e=this.props.currentResource.parents;this.props.onSelectResource(e[e.length-1].id)}},{key:"_fetchListing",value:function(){this.props.fetchListing(this.props.currentResource.id)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.OSFamily,r=e.currentResource,o=e.resources,a=e.resourcesByIds,s=e.isComplete,u=e.selectedResources,c=e.isSelectable,l=void 0===c||c,f=e.openOnSingleClick,d=void 0!==f&&f,p=e.isResourceDisabled,h=!Object(x.isRootOfVirtualDisk)(r.id)&&(r.parents||[]).length;return Object(x.getIsVirtualDiskList)(r.id)&&o.unshift({icon:"vd",iconType:"vd",id:"/disk",name:"Мой Диск",type:"vd"}),b.a.createElement("div",{className:R().mix(t),ref:this._scrollContainer},h?b.a.createElement(O.default,i()({modifier:"current",theme:"row"},r,{title:r.name,iconType:"back",onSelect:this._onBackClick,onOpen:this._onBackClick})):null,b.a.createElement(_.default,{OSFamily:n,theme:"row",titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:l,openOnSingleClick:d,onSelectResource:this._onSelectResource,onResourceOpen:this._onResourceOpen,requestFetchNext:this._fetchListing,loading:r.isLoading,completed:s,resources:o,isResourceDisabled:p,getAdditionalFields:this.props.getAdditionalFields||this._getAdditionalFields,resourcesByIds:a,scrollingElementSelector:"."+R(),animatedContainerSelector:".select-folder-dialog",selectedResources:u}))}}]),n})(y.Component),I={fetchListing:E.fetchListing};t.default=Object(g.connect)((function(e,t){var n=t.folderId,r=e.resources,i=e.environment.agent.OSFamily,o=r[n]||{id:n};return{resources:Object(S.getResourceChildren)(e,o).filter((function(e){var t=e.type,n=e.id;return"dir"!==t||"/trash"!==n})),isComplete:Object(S.resourceIsComplete)(e,o),resourcesByIds:r,currentResource:o,OSFamily:i}}),I)(A)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M1 13v2h14v-2H1z M2 7h3v5h6V6.969L14 7L8 1L2 7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(72),_=n(29),O=n.n(_),w=n(11),E=n.n(w),S=n(37),x=n.n(S),C=n(65),T=n(26),k=n(189),j=n(237),P=n(161),R=n(206);n(1740);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var I=function(){return E()()("search-bubble")},D=(function(e){d()(n,e);var t=A(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._contentMounted=r._contentMounted.bind(l()(r)),r._onClick=r._onClick.bind(l()(r)),r._setUnselectable=r._setUnselectable.bind(l()(r)),r.state={},r}return u()(n,[{key:"_setUnselectable",value:function(e){1===e.nodeType&&(e.setAttribute("unselectable","on"),Array.prototype.forEach.call(e.childNodes,this._setUnselectable))}},{key:"_contentMounted",value:function(e){if(e){var t=e.innerText;this.setState({title:t}),this._setUnselectable(e)}}},{key:"_onClick",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.isSelected,r=e.onClose,i=e.removeBubbleTitle;return y.a.createElement("div",{className:I().m({"is-selected":n}),title:this.state.title,onClick:this._onClick},y.a.createElement("span",{className:I().e("text"),ref:this._contentMounted},t),y.a.createElement(T.Button,{view:"clear",className:I().e("close"),onClick:r,title:i||"Удалить",ariaLabel:i,icon:R.close3IconProvider}))}}]),n})(y.a.Component);n(1741);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var N=function(){return E()()("search-bubble-list")},L=(function(e){d()(n,e);var t=M(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._elementDidMount=r._elementDidMount.bind(l()(r)),r._scrollHorizontally=r._scrollHorizontally.bind(l()(r)),r._scrollBy=r._scrollBy.bind(l()(r)),r}return u()(n,[{key:"_elementDidMount",value:function(e){e&&(this.node=e,e.addEventListener("wheel",this._scrollHorizontally))}},{key:"_scrollBy",value:function(e){this.node&&(this.node.scrollBy?this.node.scrollBy(e,0):this.node.scrollLeft=this.node.scrollLeft+e)}},{key:"_scrollHorizontally",value:function(e){var t=e.deltaY;0!==e.deltaX&&(t=-e.deltaX),1===e.deltaMode&&(t*=17),Math.abs(t)>100&&(t=t>0?50:-50),this._scrollBy(t),e.stopPropagation(),e.preventDefault()}},{key:"_bringNthBubbleToView",value:function(e){if(this.wrap&&this.wrap.childNodes[e]){var t=this.wrap.childNodes[e],n=getComputedStyle(t),r=parseInt(n&&n.marginLeft||"0",10),i=t.offsetLeft-r-(this.node&&this.node.scrollLeft||0);if(i<0)this._scrollBy(i);else{var o=i+t.offsetWidth+r,a=this.node&&this.node.offsetWidth||0;o>a&&this._scrollBy(o-a)}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.removeBubbleTitle,i=t.cls,o=t.onBubbleClick,a=t.onBubbleRemove,s=t.selectedIndexes;return y.a.createElement("div",{className:N().mix(i),ref:this._elementDidMount},y.a.createElement("div",{className:N().e("bubble-wrap"),ref:function(t){e.wrap=t}},n&&n.map((function(e,t){var n=e.content,i=e.id;return y.a.createElement(D,{key:i||n,content:n,isSelected:s&&-1!==s.indexOf(t),onClick:function(e){return o&&o(e,t)},onClose:function(){return a&&a(i)},removeBubbleTitle:r})}))))}},{key:"componentWillUnmount",value:function(){this.node&&this.node.removeEventListener("wheel",this._scrollHorizontally)}},{key:"componentDidUpdate",value:function(e){this.props.bubbles!==e.bubbles&&this.props.bubbles.length>=e.bubbles.length&&this._scrollBy(this.wrap.scrollWidth),this.props.selectedIndexes!==e.selectedIndexes&&1===this.props.selectedIndexes.length&&this._bringNthBubbleToView(this.props.selectedIndexes[0])}}]),n})(y.a.Component),F=n(550),B=(n(736),function(){return E()()("search-input")}),U={normal:"normal","ps-header":"clear"},z=function(e){var t=e.advancedButton,n=e.containerRef,r=e.showCross,i=e.showIcon,o=e.theme,a=e.onCrossClick;return t||r||i?y.a.createElement("div",{className:B().e("right-buttons"),ref:n},t,r?y.a.createElement(T.Button,{theme:U[o],view:"clear",size:"m",className:B().e("narrow-close-button"),icon:F.close4IconProvider,onClick:a}):null,i?y.a.createElement(j.a,{cls:B().e("magnify-icon")}):null):null};n(1742);function V(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var H=function(){return E()()("search-input")},W=(function(e){d()(n,e);var t=V(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onCrossClick=r._onCrossClick.bind(l()(r)),r._onFocus=r._onFocus.bind(l()(r)),r._onButtonActivatorClick=r._onButtonActivatorClick.bind(l()(r)),r.setFocus=r.setFocus.bind(l()(r)),r._onChange=r._onChange.bind(l()(r)),r._rightButtons=y.a.createRef(),r._inputRef=null,r}return u()(n,[{key:"componentDidMount",value:function(){this.props.focus&&(this._focusTimer=setTimeout(this.setFocus,1))}},{key:"componentDidUpdate",value:function(e){this.props.focus!==e.focus&&(this.props.focus?this.setFocus():this.setBlur())}},{key:"componentWillUnmount",value:function(){this._focusTimer&&clearTimeout(this._focusTimer)}},{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(C.a.SEARCH_BUTTON)}},{key:"_onKeyDown",value:function(e){if(e.keyCode===x.a.KEYS.ENTER)return e.preventDefault(),e.stopPropagation(),void this.props.onSubmit(C.a.ENTER_PRESS);var t=this.props.bubbles,n=e.target.selectionStart,r=e.target.selectionEnd-n;0!==n||0!==r||!t.length||e.keyCode!==x.a.KEYS.LEFT&&e.keyCode!==x.a.KEYS.BACKSPACE||this.props.onBackspace&&this.props.onBackspace()}},{key:"_getPropsForRightButtons",value:function(){var e=this.props,t=e.advancedButton,n=e.tone,r=e.text,i=e.showClose,o=e.isFolded,a=e.iconPosition,s=e.theme;return{iconRight:y.a.createElement(z,{containerRef:this._rightButtons,advancedButton:t,tone:n,theme:s,showCross:!!(r||i&&!o),showIcon:o&&"right"===a,onCrossClick:this._onCrossClick})}}},{key:"_onCrossClick",value:function(){var e=this.props,t=e.text,n=e.onClearClick,r=e.onCloseClick,i=e.onTextChange;t?(i(""),this.setFocus(),n()):r()}},{key:"setFocus",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._inputRef&&(this._inputRef.focus(),null!==t&&(e="start"===t?0:"end"===t?this._inputRef.value.length:t,this._inputRef.setSelectionRange(e,e)))}},{key:"setBlur",value:function(){this._inputRef&&this._inputRef.blur()}},{key:"_onFocus",value:function(e){var t=this._rightButtons.current;if(!t||!t.contains(e.target)){var n=this.props,r=n.preventFocusSet,i=n.onFocus;r&&this.setBlur(),i()}}},{key:"_maybeRenderSearchButton",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.searchButtonText;return t||r?null:y.a.createElement(T.Button,{view:"suggest",size:n?"s":"m",pin:"clear-round",className:H().e("form-button"),type:"submit"},i||"Найти")}},{key:"_onButtonActivatorClick",value:function(){this.setFocus()}},{key:"_maybeRenderButtonActivator",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.clsActivator;if((t||n)&&r)return y.a.createElement(T.Button,{view:"clear",size:"m",className:H().e("form-activator").mix(i),onClick:this._onButtonActivatorClick,icon:j.b})}},{key:"_onChange",value:function(e){this.props.onTextChange(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.iconPosition,i=t.isCompact,o=t.isFolded,a=t.isMobile,s=t.maxLength,u=t.onClick,c=t.onBubbleClick,l=t.onBubbleRemove,f=t.placeholder,d=t.removeSearchBubbleTitle,p=t.selectedBubblesIndexes,h=t.tone,m=t.noBubbleList,v=t.theme,g=this._maybeRenderButtonActivator(),b=this._maybeRenderSearchButton(),_={};a?_.iconLeft=y.a.createElement(P.default,{onClick:this.props.onClose}):o&&"left"===r?_.iconLeft=y.a.createElement(j.a,{cls:H().e("magnify-icon")}):b&&(_.pin="round-clear");return y.a.createElement("div",{className:H().m({"search-icon":r,theme:v,tone:h})},g,y.a.createElement("form",{className:H().e("form").m({hidden:Boolean(g),folded:o}),onSubmit:this._onFormSubmit},y.a.createElement("div",{className:H().e("text-bubble-container")},m?null:y.a.createElement(L,{bubbles:n,removeBubbleTitle:d,cls:h,onBubbleClick:c,onBubbleRemove:l,selectedIndexes:p}),y.a.createElement(k.Textinput,O()({className:H().e("form-input").m({"has-bubbles":Boolean(n.length)}),type:"text",view:h,size:i?"s":"m",controlRef:function(t){e._inputRef=t},placeholder:f,value:this.props.text,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this.props.onBlur,onChange:this._onChange,onClick:u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","aria-autocomplete":"list","aria-controls":this.props.ariaResultKey,"aria-activedescendant":this.props.ariaActiveResultItemKey,maxLength:s},_,this._getPropsForRightButtons()))),b))}}]),n})(g.PureComponent);W.defaultProps={bubbles:[],preventFocusSet:!1,onFocus:function(){}};var G=W;n(1743);function $(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var q=function(){return E()()("search-result")},Y=(function(e){d()(n,e);var t=$(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.query,n=e.items,r=e.ariaItemKey,i=e.ariaKey,o=e.hoverIndex,a=e.activeIndex,s=e.renderItem,u=e.getShowText,c=e.getItemType,l=e.onItemHover,f=e.onSelect,d=-1!==o?o:a,p=n&&n.map((function(e,n){var i=n===d;return y.a.createElement("div",{className:q().e("item").m({active:i,type:c(e)}),key:"".concat(t,"-").concat(n),onClick:function(){return f(e,n)},onMouseEnter:function(){return l(n)},"aria-selected":i,role:"option",id:"".concat(r,"-").concat(n),title:u(e)},s(e))}));return y.a.createElement("div",{className:q().e("items"),role:"listbox",id:i,onMouseLeave:function(){return l(-1)}},p)}},{key:"render",value:function(){return y.a.createElement("div",{className:q()},this._getItems())}}]),n})(g.PureComponent);function K(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}n.d(t,"a",(function(){return re}));var J=function(){return E()()("search")},X="suggest-result",Z="suggest-result-item",Q={SHORTCUT:"shortcut",CLOSE_CLICK:"close-click",BG_CLICK:"bg-click"},ee="click",te="hotkey",ne="js-no-suggest-hotkey",re="js-prevent-popup-close",ie=(function(e){d()(n,e);var t=K(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onBubbleClick=r._onBubbleClick.bind(l()(r)),r._onInputBlur=r._onInputBlur.bind(l()(r)),r._onInputFocus=r._onInputFocus.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onSubmit=r._onSubmit.bind(l()(r)),r._onItemHover=r._onItemHover.bind(l()(r)),r._preventFocusLoose=r._preventFocusLoose.bind(l()(r)),r._onCloseClick=r._onCloseClick.bind(l()(r)),r._onSelect=r._onSelect.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r._activate=r._activate.bind(l()(r)),r._onWindowMouseDown=r._onWindowMouseDown.bind(l()(r)),r._targetCanSendActivateHokey=function(e){for(var t=e;t&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"true"!==t.contentEditable&&(!t.className||-1===t.className.split(" ").indexOf(ne));)t=t.parentNode;return!t},r._isSuggestActive=!1,r.state={activeItemIndex:-1,hoverItemIndex:-1,inputText:e.suggestQuery,selectedBubblesIndexes:Array()},r.selectedBubblesIndexFrom=null,r.selectedBubblesIndexTo=null,r._container=y.a.createRef(),r._content=y.a.createRef(),r}return u()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.state.inputText?C.b.UNFOLDED_INACTIVE:C.b.FOLDED;"undefined"!=typeof window?(this._setSuggestState(e),window.addEventListener("keydown",this._onKeyDown,!0)):this.setState({state:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidMount",value:function(){var e=this.state.state;this._onSuggestStateSet(void 0,e),window.addEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.suggestQuery;n!==this.state.inputText&&this.setState({inputText:n});var r=t.state,i=this.state.state;e.bubbles!==this.props.bubbles&&this._clearBubblesSelection(),this._onSuggestStateSet(r,i)}},{key:"_setActiveItem",value:function(e){var t=this.props.suggestItems,n=this.state,r=n.activeItemIndex,i=n.hoverItemIndex,o=-1===i?r:i;(o+=e?1:-1)>=t.length?o=-1:o<-1&&(o=t.length-1),this.setState({activeItemIndex:o,hoverItemIndex:-1})}},{key:"_setSelectedBubbles",value:function(e,t){var n=this.props.bubbles;if(n.length){var r=this.state.selectedBubblesIndexes;t||e||1!==r.length||r[0]!==n.length-1||(this._clearBubblesSelection(),this.focusInput(!1,0));var i=this.selectedBubblesIndexFrom,o=this.selectedBubblesIndexTo,a=null,s=null;if(null===i){if(!e)return;i=n.length-1,o=n.length-1,a=i}else{var u=o;e&&o>0?o--:!e&&o<n.length-1&&o++,t?o!==u&&(e&&i<u||!e&&i>u)?s=u:a=o:a=i=o}if(r=t?r.slice(0):[],null!==a&&-1===r.indexOf(a))r.push(a);else if(null!==s){var c=r.indexOf(s);r.splice(c,1)}this.setState({selectedBubblesIndexes:r}),this.selectedBubblesIndexFrom=i,this.selectedBubblesIndexTo=o,this._inputRef&&this._inputRef.setBlur()}}},{key:"_onBubbleClick",value:function(e,t){if(this._activate(),e&&e.shiftKey){for(var n=this.selectedBubblesIndexFrom||0,r=this.selectedBubblesIndexTo||0,o=Math.min(n,r,t),a=Math.max(n,r,t),s=Math.min(n,t),u=Math.max(n,t),c=this.state.selectedBubblesIndexes.slice(0),l=o;l<=a;l++)if(l>=s&&l<=u)-1===c.indexOf(l)&&c.push(l);else{var f=c.indexOf(l);-1!==f&&c.splice(f,1)}this.setState({selectedBubblesIndexes:c})}else{if(e&&(e.ctrlKey||e.metaKey)){var d=this.state.selectedBubblesIndexes.slice(0),p=d.indexOf(t);-1===p?this.setState({selectedBubblesIndexes:[].concat(i()(d),[t])}):(d.splice(p,1),this.setState({selectedBubblesIndexes:d}),1===d.length&&(t=d[0]))}else this.setState({selectedBubblesIndexes:[t]});this.selectedBubblesIndexFrom=t}this.selectedBubblesIndexTo=t,this._inputRef&&this._inputRef.setBlur()}},{key:"_clearBubblesSelection",value:function(){this.setState({selectedBubblesIndexes:[]}),this.selectedBubblesIndexFrom=null,this.selectedBubblesIndexTo=null}},{key:"_removeSelectedBubbles",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.bubbles,n=this.state.selectedBubblesIndexes,r=n.map((function(e){return t[e].id}));if(this._removeBubbles(r),1===n.length){var i=n[0];e&&i>0?this._onBubbleClick(null,i-1):!e&&i<t.length-1?this._onBubbleClick(null,i):this.focusInput(!1,0)}else this.focusInput(!1,0)}},{key:"_removeBubbles",value:function(e){this.props.onBubblesRemove&&this.props.onBubblesRemove(e)}},{key:"_resetCurrentItems",value:function(){this.setState({activeItemIndex:-1,hoverItemIndex:-1})}},{key:"_toggleSuggestActive",value:function(e){this._isSuggestActive!==e&&(this._isSuggestActive=e,this.props.onActiveChange(e))}},{key:"_setSuggestState",value:function(e){if(e!==this.state.state){switch(e){case C.b.UNFOLDED_INACTIVE:this._resetCurrentItems();break;case C.b.FOLDED:this._onTextChange("")}var t={state:e};e!==C.b.UNFOLDED_ACTIVE&&this._inputRef&&this._inputRef.setBlur(),this.setState(t),this.props.onStateChanged&&this.props.onStateChanged(e)}}},{key:"_onSuggestStateSet",value:function(e,t){if(t!==e){var n=this.props.onFoldedChanged,r=t===C.b.UNFOLDED_ACTIVE,i=e===C.b.FOLDED,o=t===C.b.FOLDED;this._toggleSuggestActive(r),e&&i===o||n(o)}}},{key:"_onKeyDown",value:function(e){if(!this.props.ignoreKeyboardEvents){var t=e.keyCode,n=e.key;if(this._isSuggestActive){if(t===x.a.KEYS.UP||t===x.a.KEYS.DOWN)e.preventDefault(),e.stopPropagation(),this._setActiveItem(t===x.a.KEYS.DOWN);else if(t===x.a.KEYS.ESC||t===x.a.KEYS.TAB)e.preventDefault(),e.stopPropagation(),this._deactivate(Q.SHORTCUT);else if(!this._inputFocused){switch(t){case x.a.KEYS.LEFT:case x.a.KEYS.RIGHT:this._setSelectedBubbles(t===x.a.KEYS.LEFT,e.shiftKey);break;case x.a.KEYS.ENTER:this._onSubmit(C.a.ENTER_PRESS);break;case x.a.KEYS.BACKSPACE:case x.a.KEYS.DELETE:this._removeSelectedBubbles(t===x.a.KEYS.BACKSPACE)}e.stopPropagation(),e.preventDefault()}}else-1!=="/.".indexOf(n)&&e.target&&this._targetCanSendActivateHokey(e.target)&&(this.isFolded()&&this._activate(te),this.focusInput(!0),e.stopPropagation(),e.preventDefault());this.props.onKeyDown(e)}}},{key:"_activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.startSuggest;this.state.state!==C.b.UNFOLDED_ACTIVE&&(t(e||this._activateSource||ee),this._setSuggestState(C.b.UNFOLDED_ACTIVE),this._activateSource=null)}},{key:"_deactivate",value:function(e){var t=this.props,n=t.shouldFoldOnEsc,r=t.onSearchFinish,i=t.keepExpanded,o=this.state.inputText;this._clearBubblesSelection(),o&&!n()||i?(this._setSuggestState(C.b.UNFOLDED_INACTIVE),r(e,!1)):(this._setSuggestState(C.b.FOLDED),r(e,!0))}},{key:"_onSubmit",value:function(e){var t=this.state.activeItemIndex,n=this.props,r=n.suggestItems,i=n.onSubmit;this._clearBubblesSelection(),-1!==t?this._onSelect(r[t]):this._isDirty()&&(i(e),this._setSuggestState(C.b.UNFOLDED_INACTIVE)),this._inputRef&&this._inputRef.setBlur()}},{key:"focusInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this._activateSource=te),this._inputRef&&this._inputRef.setFocus(t)}},{key:"isFolded",value:function(){return this.state.state===C.b.FOLDED}},{key:"isSuggestVisible",value:function(){return this.state.state===C.b.UNFOLDED_ACTIVE}},{key:"fold",value:function(){this._setSuggestState(C.b.FOLDED)}},{key:"unfold",value:function(){this._setSuggestState(C.b.UNFOLDED_INACTIVE)}},{key:"_isDirty",value:function(){var e=this.state,t=e.activeItemIndex,n=e.inputText,r=this.props.bubbles;return n||r&&r.length||-1!==t}},{key:"_onItemHover",value:function(e){this.setState({hoverItemIndex:e})}},{key:"_preventFocusLoose",value:function(e){var t=this.state.state===C.b.UNFOLDED_ACTIVE;this.props.isMobile&&t&&e.preventDefault()}},{key:"_onCloseClick",value:function(){this.props.shouldNotDeactivateOnClose||this._deactivate(Q.CLOSE_CLICK),this.props.onCloseClick()}},{key:"_onInputFocus",value:function(){this._clearBubblesSelection(),this._inputFocused=!0,this._activate()}},{key:"_onInputBlur",value:function(){this._inputFocused=!1}},{key:"_onSelect",value:function(e,t){if(e){var n=this.props,r=n.getShowText,i=n.handleItemSelect,o=r(e),a=i(e,t);a?this._setSuggestState(C.b.FOLDED):this.setState({inputText:o}),!1===a&&this._setSuggestState(C.b.UNFOLDED_INACTIVE)}}},{key:"_onTextChange",value:function(e){var t=this.props.onTextChange;this.setState({inputText:e}),this._resetCurrentItems(),t(e)}},{key:"_renderInput",value:function(){var e,t=this,n=this.state,r=n.state,i=n.inputText,o=n.activeItemIndex,a=n.selectedBubblesIndexes,s=this.props,u=s.placeholderDefault,c=s.placeholderCustom,l=s.isMobile,f=s.isCompact,d=s.bubbles,p=s.advancedButton,h=s.searchButtonText,m=s.removeSearchBubbleTitle,v=s.maxLength,g=s.onClearClick,b=s.showClose,_=s.clsActivator,O=s.toneDefault,w=s.iconPosition,E=s.keepTextWhenFolded,S=s.noBubbleList,x=s.theme,T=r===C.b.FOLDED;return o>0&&(e="".concat(Z,"-").concat(o)),y.a.createElement(G,{isMobile:l,isCompact:f,isFolded:T,maxLength:v,bubbles:T?[]:d,selectedBubblesIndexes:a,onBubbleClick:this._onBubbleClick,onBubbleRemove:function(e){return t._removeBubbles([e])},placeholder:T?u:c,searchButtonText:h,removeSearchBubbleTitle:m,advancedButton:T?null:p,ariaResultKey:X,ariaActiveResultItemKey:e,onTextChange:this._onTextChange,onClearClick:g,onBackspace:function(){return t._setSelectedBubbles(!0,!1)},showClose:b,onCloseClick:this._onCloseClick,clsActivator:_,tone:O,text:T&&!E?"":i,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onSubmit:this._onSubmit,iconPosition:w,ref:function(e){t._inputRef=e},noBubbleList:S,theme:x})}},{key:"_renderResults",value:function(){var e=this.props,t=e.suggestItems,n=e.getShowText,r=this.state,i=r.activeItemIndex,o=r.hoverItemIndex,a=r.inputText;return y.a.createElement(Y,{items:t,renderItem:this.props.renderItem,query:a,activeIndex:i,hoverIndex:o,ariaKey:X,ariaItemKey:Z,getShowText:n,getItemType:this.props.getItemType,onSelect:this._onSelect,onItemHover:this._onItemHover})}},{key:"_renderPopupContents",value:function(e){var t=this.state.state===C.b.UNFOLDED_ACTIVE;return y.a.createElement("div",{className:J().e("content").m({empty:e}),onMouseDown:this._preventFocusLoose,ref:this._content,role:"combobox","aria-haspopup":"listbox","aria-owns":X,"aria-expanded":t},y.a.createElement("div",{className:J().e("form-wrap")},this._renderResults()))}},{key:"_onWindowMouseDown",value:function(e){if(this.state.state===C.b.UNFOLDED_ACTIVE){for(var t=e.target;t.parentElement;){if(t===this._container.current||t===this._content.current||t.classList.contains(re))return;t=t.parentElement}"HTML"===t.nodeName&&this._deactivate(Q.BG_CLICK)}}},{key:"_renderPopup",value:function(){if(this.props.noSuggestPopup)return null;var e=!this.props.suggestItems||0===this.props.suggestItems.length;return y.a.createElement(b.Popup,{view:"default",visible:this.state.state===C.b.UNFOLDED_ACTIVE,className:J().e("popup").m({empty:e}).mix(this.props.popupClassName),scope:this._container,style:{top:"auto",left:0,right:0},noTrapAutoFocus:!0},this._renderPopupContents(e))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.cls;return y.a.createElement("div",{className:J().m({theme:t}).mix(n),ref:this._container},this._renderInput(),this._renderPopup())}}]),n})(g.PureComponent),oe=function(){};ie.defaultProps={isMobile:!1,isCompact:!1,toneDefault:"suggest-default",iconPosition:"left",getItemType:function(){return null},shouldFoldOnEsc:function(){return!0},startSuggest:oe,onClearClick:oe,onFoldedChanged:oe,onCloseClick:oe,onActiveChange:oe,onSearchFinish:oe,onKeyDown:oe,keepTextWhenFolded:!1,noSuggestPopup:!1,noBubbleList:!1,theme:"normal",ignoreKeyboardEvents:!1},ie.SUGGEST_STATE=C.b,ie.SEARCH_TRIGGER=C.a,ie.FOLD_SOURCE=Q;t.b=ie}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(11),y=n.n(g),b={};function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(){},w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onLoad=r._onLoad.bind(u()(r)),r._onError=r._onError.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){if(this._isImageLoaded())this._onLoad();else{var e=new Image;e.addEventListener("load",this._onLoad),e.addEventListener("error",this._onError),e.src=this.props.src}}},{key:"_isImageLoaded",value:function(){return this._imageNode&&this._imageNode.naturalWidth>0}},{key:"_onLoad",value:function(e){this.props.rumId&&(function(e,t){b[e]||(b[e]=0),window.Ya.Rum&&b[e]<20&&(window.Ya.Rum.sendResTiming([e,85+b[e]].join("."),t),b[e]++)})(this.props.rumId,this.props.src),this.props.onLoad(this.props.id,e)}},{key:"_onError",value:function(e){this.props.onError(this.props.id,e)}},{key:"render",value:function(){var e=this;return v.a.createElement("img",{className:y()()("resource-image").mix(this.props.cls),ref:function(t){e._imageNode=t},src:this.props.src,onLoad:this._onLoad,onError:this._onError})}}]),n})(m.PureComponent);w.defaultProps={onError:O,onLoad:O};t.a=w}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(e,t){this.walker=(function(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)})(e,(function(e){return t(e)})),this.currentElement=null}return Object.defineProperty(e.prototype,"root",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.currentElement===this.root?null:this.currentElement},set:function(e){var t=this.root.contains(e)?e:null;this.currentElement=t,this.walker.currentNode=null!==t&&void 0!==t?t:this.root},enumerable:!1,configurable:!0}),e.prototype.first=function(){return this.walker.currentNode=this.walker.root,this.next()},e.prototype.last=function(){this.walker.currentNode=this.walker.root;for(var e=null;this.walker.lastChild();)e=this.walker.currentNode;return this.currentElement=e,e},e.prototype.next=function(){return this.currentElement=this.walker.nextNode(),this.currentElement},e.prototype.previous=function(){var e=this.walker.previousNode();return this.currentElement=e===this.root?null:e,this.currentElement},e})()}),(function(e,t,n){ns.Model.define("userCurrent",{methods:{isValid:no.true,getData:function(){return n(13).default().getState().user}}}),e.exports=ns.Model.get("userCurrent")}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(26);n(1906);var s=r(n(11)),u=function(){return s.default()("onboarding-step")};t.default=function(e){var t=e.imageSrc,n=e.imageSrc2x,r=e.title,s=e.description,c=e.children,l=e.buttonText,f=e.onSubmit,d=e.premium,p=e.additionalButtonLink,h=o.useSelector((function(e){return e.config.links.static.host}));return i.default.createElement("div",{className:u().m({isTouch:!1,"without-image":!t})},t&&n?i.default.createElement("img",{src:h+t,srcSet:h+n+" 2x",className:u().e("image")}):null,i.default.createElement("div",{className:u().e("body")},i.default.createElement("div",{className:u().e("titleWrapper")},r&&i.default.createElement("h2",{className:u().e("title")},r),s&&i.default.createElement("div",{className:u().e("description")},s)),c),l&&i.default.createElement(a.Button,{onClick:f,className:u().e("button"),view:d?"premium":"brand",size:"xxl",width:"max"},l),p&&i.default.createElement(a.Button,{className:u().e(["button","additionalButton"]),onClick:p.onClick,view:"clear",size:"xl",width:"max",type:"link",url:p.url,target:"_blank"},p.text))}}),(function(e,t,n){"use strict";n.r(t);n(1319);var r=n(378);n.d(t,"textinputRegistry",(function(){return r.textinputRegistry}));var i=n(659);for(var o in i)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return i[e]}))})(o);var a=n(660);for(var o in a)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return a[e]}))})(o);var s=n(661);for(var o in s)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return s[e]}))})(o);var u=n(663);for(var o in u)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return u[e]}))})(o);var c=n(664);for(var o in c)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return c[e]}))})(o);var l=n(665);for(var o in l)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return l[e]}))})(o);var f=n(666);for(var o in f)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return f[e]}))})(o);var d=n(667);for(var o in d)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return d[e]}))})(o);var p=n(668);for(var o in p)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return p[e]}))})(o);var h=n(669);for(var o in h)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return h[e]}))})(o);var m=n(670);for(var o in m)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return m[e]}))})(o);var v=n(671);for(var o in v)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return v[e]}))})(o);var g=n(407);n.d(t,"withSizeL",(function(){return g.a}));var y=n(672);for(var o in y)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return y[e]}))})(o);var b=n(673);for(var o in b)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return b[e]}))})(o);var _=n(674);for(var o in _)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return _[e]}))})(o);var O=n(675);for(var o in O)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(o);var w=n(676);for(var o in w)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(o);var E=n(678);for(var o in E)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(o);var S=n(799);n.d(t,"withViewFilled",(function(){return S.a}))}),(function(e,t,n){var r=n(509),i=n(1418),o=n(1419);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a}),(function(e,t){e.exports=function(e,t){return e.has(t)}}),(function(e,t,n){n(463);var r=n(9);ns.Model.define("inviteeFolder",e.exports={params:{id:null,idFolder:null},methods:{_init:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ns.Model.prototype._init.apply(this,n),r.bindAll(this,"onChangedSource"),this.state=ns.Model.get("stateInviteeFolder",this.params),this.on("ns-model-destroyed",(function(){ns.Model.destroy(e.state),e.state=null,e.source=null}))},setData:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.super_.setData.apply(this,t);return this.state||this.setState(),r},setState:function(){this.state=ns.Model.get("stateInviteeFolder",this.params),this.state.setDataDefault()},syncWith:function(e){if(e&&e!==this.source){this.source&&this.source.off("ns-model-changed",this.onChangedSource),this.source=e;var t=this.source.getData();this.source.isValid()&&"contact"===e.id&&(t.status="contact",t.idFolder=this.params.idFolder),this.setData(t),this.source.on("ns-model-changed",this.onChangedSource)}},onChangedSource:function(){this.setData(r.extend({},this.getData(),this.source.getData()))},resetState:function(){this.state.reset()}}})}),(function(e,t,n){n(844);var r=n(9);ns.Model.define("stateInviteeFolder",{params:{id:null,idFolder:null},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ns.Model.prototype._init.apply(this,t),this.stateAccessFolder=ns.Model.get("stateAccessFolder",{idFolder:this.params.idFolder}),r.bindAll(this,"onOperationStatusChanged","onOperationDestroyed"),this.on("ns-model-destroyed",this.unbindOperation)},getData:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ns.Model.prototype.getData.apply(this,t),i=$.extend(!0,{},r);return this.operation&&(i.operation=this.operation.getData(),i.operation.type=this.operation.getType()),i},bindOperation:function(e){this.operation&&this.unbindOperation(),this.operation=e,this.trigger("ns-model-changed"),this.operation.on("ns-model-changed.status",this.onOperationStatusChanged),this.operation.on("ns-model-destroyed",this.onOperationDestroyed),this.stateAccessFolder.reset()},unbindOperation:function(){this.operation&&(this.operation.off("ns-model-changed.status",this.onOperationStatusChanged),this.operation.off("ns-model-destroyed",this.onOperationDestroyed),this.operation=null,this.trigger("ns-model-changed"),this.stateAccessFolder.reset())},onOperationStatusChanged:function(){"failed"===this.operation.get(".status")?this.stateAccessFolder.set(".operationFailed",this.operation.getData()):"done"===this.operation.get(".status")&&this.reset(),this.trigger("ns-model-changed")},onOperationDestroyed:function(){this.unbindOperation()},reset:function(){this.unbindOperation(),this.setDataDefault()}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(218),a=n(13),s=n(415),u=n(89);n(526),ns.Model.define("usersFolder",{split:{items:".users",model_id:"userFolder",params:{userid:".id",idFolder:".idFolder"}},params:function(e){return{gidFolder:e.gidFolder,idFolder:e.idFolder,b2bNames:Object(u.isPDDSuggestEnabled)(Object(a.default)().getState())?"1":"0"}},defaults:function(){if(!this.params.gidFolder)return{users:[],index:[]}},events:{"ns-model-changed":"onchange","ns-model-destroyed":"ondestroy"},methods:{onchange:function(){this.params.gidFolder&&Object(a.default)().dispatch(Object(s.b)(this.params.gidFolder,this.getData().users))},_init:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ns.ModelCollection.prototype._init.apply(this,n),i.a.bindAll(this,"destroyAll"),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.idFolder,{"meta.group.gid":function(t,n){t&&!n&&setTimeout((function(){e.setDataDefault()}),0)}},(function(){e.destroyAll()}))},ondestroy:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},destroyAll:function(){i.a.each(this.models.slice(),ns.Model.destroy),ns.Model.destroy(this)},preprocessData:function(e){var t=this,n=[],r=[],a=[],s=[];return i.a.chain(e.users).filter((function(e){return"email"===e.service||"ya_directory"===e.service||!e.service})).each((function(e){e.originid=e.userid||e.groupid,e.idFolder=t.params.idFolder,e.service=e.service||"email",e.is_ya_directory="ya_directory"===e.service,e.id=Object(o.normalize)(e.userid),e.name=e.name||e.id,"proposed"===e.status?(n.push(e),a.push(e.id)):"approved"===e.status&&(r.push(e),s.push(e.id))})).value(),{users:n.slice().concat(r),index:a.slice().concat(s)}},getByEmail:function(e){var t=Object(o.normalize)(e);return i.a.find(this.models,(function(e){return e.get(".id")===t}))},removeItem:function(e){this.remove(ns.Model.get("userFolder",{idFolder:this.params.idFolder,userid:e})),this.set(".index",i.a.without(this.get(".index"),e),{silent:!0})},insertItem:function(e){this.insert(e,0);var t=this.get(".index");t.splice(0,0,e.get(".id")),this.set(".index",t,{silent:!0}),this.trigger("ufo-model-insert",e)}}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M7.787 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm7.787-5.617L14 8.617C12.088 6.176 10.03 5 7.787 5c-2.242 0-4.3 1.176-6.213 3.617L0 7.383C2.266 4.491 4.875 3 7.787 3s5.521 1.49 7.787 4.383z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(88),i=n.n(r),o=n(67),a=n(13),s=n(17),u=n(15),c=n(78),l=n(9),f=n(22);o.a.define("operationUpload",{methods:{onStatusDone:function(){this.get(".idDst")&&this.result&&this.result.resource&&this.updateDst(this.result.resource),Object(a.default)().dispatch(Object(c.a)()),this.notify(),this.hasCreatedInEditorDoc()&&this.selectDst()},onStatusCompleted:function(){this.set(".file",null),this.get(".idDst")&&this.fetchResource(this.get(".idDst"),!1,{insertOnlyIfPortionLoaded:!0})},updateDst:function(e){var t=this.get(".idDst"),n=Object(a.default)().dispatch(Object(u.replaceResource)(t,e));n.id!==t&&this.set(t,n.id)},handleSyncResource:function(){this.setStatus("done")},notify:function(){this.showNotification({operation:"upload",nameDst:f.basename(this.get(".idDst")),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},isFinalized:function(){var e=this.get(".status");return l.includes(["done","failed","canceled"],e)},hasCreatedInEditorDoc:function(){var e=Object(s.getResourceData)(Object(a.default)().getState(),this.get(".idDst"),"name"),t=f.extname(e),n=ns.Model.get("config").get(".data.locale");return!(!this.DEFAULT_DOC_NAMES[t]||!this.DEFAULT_DOC_NAMES[t][n])&&new RegExp("^"+this.DEFAULT_DOC_NAMES[t][n]+"( \\(\\d+\\))?\\."+t+"$").test(e)},DEFAULT_DOC_NAMES:{docx:{ru:"Документ",en:"Document",tr:"Belgesi",uk:"Документ"},xlsx:{ru:"Таблица",en:"Spreadsheet",tr:"Tablosu",uk:"Таблиця"},pptx:{ru:"Презентация",en:"Presentation",tr:"Sunumu",uk:"Презентація"}},selectDst:function(){var e=this.get(".idDst"),t=f.dirname(e);ns.page.current.params.idContext===t&&ns.page.go(f.getResourceSelectedUrl(e))}}}),ns.Model.define("operationRemoteResource",{params:{id:null},methods:{toLocal:function(){return this.get(".type")?(this.set(".isRemote",!0),i.a.initialize(this.get(".type"),this.getData())):null}}});var d=n(9),p=n.n(d),h=n(115),m=n(22),v=n(88);ns.Model.define("operationRemoteShare",{params:{id:null},methods:{preprocessData:function(e){var t={isRemote:!0,role:e.root.parameters.for},n={};switch(p.a.each(["folder","user","owner"],(function(t){var r=no.jpath('/.values["'+t+'" == .tag]',e);r&&(n[t]=r[0].parameters)})),e.root.parameters.type){case"invite_new":t.type="inviteFolder",t.idSrc=m.normalize(n.folder.path);break;case"folder_unshared":t.type="unshare",t.nameFolder=n.folder.name,t.idSrc=m.normalize(n.folder.path);break;case"invite_removed":t.invite=!0;case"user_was_banned":t.type="accessFolder",t.nameFolder=m.basename(m.normalize(n.folder.path)),t.idSrc=m.normalize(n.folder.path);break;case"invite_rejected":Object(a.default)().dispatch(Object(h.g)(n,t.role));break;case"invite_approved":Object(a.default)().dispatch(Object(h.f)(n,t.role));break;case"user_has_left":t.type="leaveFolder",t.idSrc=m.normalize(n.folder.path),t.nameFolder=n.folder.name||m.basename(n.folder.path),n.user&&(t.nameUser=n.user.name);break;case"rights_changed":t.type="accessFolder",t.rights=n.folder.rights,t.nameFolder=m.basename(m.normalize(n.folder.path)),t.idSrc=m.normalize(n.folder.path)}return t},toLocal:function(){return this.get(".type")?v.initialize(this.get(".type"),this.getData()):null}}});var g=n(314),y=n(25),b=n(33),_=n(22),O=function(e){return e.startsWith("/disk/")||e.startsWith("/photounlim/")||e.startsWith("/attach/")},w={getOperationData:function(e){var t,n={isRemote:!0,committer:p.a.get(e,"root.parameters.committer_login")},r=(function(e){var t=e.values.filter((function(e){return"op"===e.tag})).map((function(e){var t=e.parameters;return{type:t.type,idSrc:_.normalize(t.key),nameSrc:t.name||_.basename(t.key),typeSrc:t.resource_type,fileIdSrc:t.fid,idParent:_.normalize(t.folder)}}));return p.a.values(p.a.groupBy(t,"type")).map((function(e){return p.a.minBy(e,(function(e){return e.idSrc.length}))}))})(e),i=p.a.find(r,{type:"new"}),o=p.a.find(r,{type:"deleted"});i&&o?(n.idSrc=o.idSrc,n.idDst=i.idSrc,n.typeSrc=o.typeSrc,n.fileIdSrc=o.fileIdSrc,i.idParent===o.idParent&&O(n.idDst)?n.type="rename":b.default.isTrash(o.idParent)&&O(n.idDst)?n.type="restore":b.default.isTrash(i.idParent)&&O(n.idSrc)?n.type="delete":O(n.idDst)&&(n.type="move")):"new"===(t=1===r.length?r[0]:i||o).type&&O(t.idSrc)?("dir"===t.typeSrc?n.type="createFolder":"file"===t.typeSrc&&(n.type="upload"),n.idDst=t.idSrc):"deleted"===t.type&&(function(e){return e.startsWith("/trash/")||Object(y.isInVirtualDiskTrash)(e)})(t.idSrc)?(n.type="delete",n.idSrc=t.idSrc):"published"!==t.type&&"unpublished"!==t.type||!O(t.idSrc)?"clean"===t.type?Object(a.default)().dispatch(Object(g.onSuccessCleanTrash)()):"changed"===t.type&&"file"===t.typeSrc&&O(t.idSrc)?(n.type="changed",n.idSrc=t.idSrc):"office_access_state_changed"===t.type&&"file"===t.typeSrc&&O(t.idSrc)&&(n.type="office_access_state_changed",n.idSrc=t.idSrc):(n.type="publish",n.reverse="unpublished"===t.type,n.idSrc=t.idSrc);return n}},E=n(90),S=n(60),x=n.n(S),C=n(108),T=n(120),k=n(54),j=n(425),P=n(266);n.d(t,"resubscribe",(function(){return U})),n.d(t,"getXivaBaseUrl",(function(){return z})),n.d(t,"subscribe",(function(){return V})),n.d(t,"addEventListener",(function(){return H}));var R=n(307).isDebugMode,A="disk-json",I=null,D=null,M=null,N=null,L=!1,F=[],B=!1,U=function(e){clearTimeout(D),I&&(["onopen","onclose","onmessage"].forEach((function(e){I[e]=void 0})),I.close(1e3),I=null),N||(clearTimeout(M),M=setTimeout((function(){N=Object(T.waitNavigatorOnline)().then((function(){N=null,V()}))}),e))};function z(){return"wss://".concat(x.a.getHost(E.urlsBase.xiva),"/v2/subscribe/websocket")}function V(){return B=R("xiva"),new Promise(function(e){if(I)return e();var t=x.a.addParams(z(),{client:"ufo",uid:Object(a.default)().getState().user.uid,session:E.idClient,service:A});I=new WebSocket(t),D=setTimeout((function(){U(0)}),5e3),I.onopen=function(){e()},I.onmessage=function(e){var t=e.data;L=!0;var n=t=JSON.parse(t),r=n.message,o=n.session_key,s=n.operation;if(r&&o!==E.idClient)try{!(function(e){B&&console.log("xiva",e,JSON.stringify(e));var t,n,r=no.jpath(".root.tag",e),o=e;switch(r){case"diff":"office_access_state_changed"===(o=w.getOperationData(e)).type?Object(a.default)().dispatch(Object(u.fetchSingleResource)(o.idSrc)):o.type&&(n=i.a.initializeRemote("resource"));break;case"quota":Object(a.default)().dispatch(Object(c.c)());break;case"invite":t=["invitees"];break;case"share":n=i.a.initializeRemote("share");break;case"album":Object(a.default)().dispatch(Object(k.remoteUpdateAlbum)(e));break;case"quota_overdraft":Object(a.default)().dispatch(Object(j.b)(e))}n&&i.a.completeRemote(n,o);t&&t.forEach((function(e){ns.Model.getValid(e)&&ns.Model.get("queueRequest").pushPriority({id:e})}));F.forEach((function(t){t(e,r)}))})(JSON.parse(r))}catch(e){Object(C.log)({type:"xiva-push",uid:Object(a.default)().getState().user.uid,message:e})}"ping"===s&&(clearTimeout(D),D=setTimeout((function(){U(0)}),1e3*(t["server-interval-sec"]+2)))},I.onclose=function(e){4401!==e.code?U(1e3):L&&Object(P.safeReload)()}})}function H(e){if(!(e instanceof Function))throw"listener must be a function";F.push(e)}}),,,,(function(e,t,n){"use strict";var r=n(583),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}}),(function(e,t,n){"use strict";var r=n(905),i=n(585);e.exports=function(e){return r(i(e))}}),(function(e,t,n){"use strict";var r=n(144),i=n(473),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o}),(function(e,t,n){"use strict";var r=n(144),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}}),(function(e,t,n){"use strict";var r=n(215),i=n(595),o=n(919),a=n(597),s=n(587),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}}),(function(e,t,n){"use strict";var r=n(991),i=n(992);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(993);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=a.exec(b);if(O){var w=(O=O[0]).toLowerCase();this.protocol=w,b=b.substr(O.length)}if(n||O||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||O&&v[O]||(b=b.substr(2),this.slashes=!0)}if(!v[O]&&(E||O&&!g[O])){for(var S,x,C=-1,T=0;T<d.length;T++){-1!==(k=b.indexOf(d[T]))&&(-1===C||k<C)&&(C=k)}-1!==(x=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(S)),C=-1;for(T=0;T<f.length;T++){var k;-1!==(k=b.indexOf(f[T]))&&(-1===C||k<C)&&(C=k)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var P=this.hostname.split(/\./),R=(T=0,P.length);T<R;T++){var A=P[T];if(A&&!A.match(p)){for(var I="",D=0,M=A.length;D<M;D++)A.charCodeAt(D)>127?I+="x":I+=A[D];if(!I.match(p)){var N=P.slice(0,T),L=P.slice(T+1),F=A.match(h);F&&(N.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(T=0,R=l.length;T<R;T++){var z=l[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=_||b||n.host&&e.pathname,w=O,E=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),O=O&&(""===h[0]||""===E[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=E.shift(),(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=E.slice(-1)[0],C=(n.host||e.host||E.length>1)&&("."===x||".."===x)||""===x,T=0,k=E.length;k>=0;k--)"."===(x=E[k])?E.splice(k,1):".."===x?(E.splice(k,1),T++):T&&(E.splice(k,1),T--);if(!O&&!w)for(;T--;T)E.unshift("..");!O||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),C&&"/"!==E.join("/").substr(-1)&&E.push("");var j,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=P?"":E.length?E.shift():"",(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift()));return(O=O||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cnButton=void 0;var r=n(34);t.cnButton=r.cn("Button2")}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeAction=void 0;var r=n(5),i=n(58);n(1053),t.withThemeAction=r.withBemMod(i.cnButton(),{theme:"action"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeClear=void 0;var r=n(5),i=n(58);n(1055),t.withThemeClear=r.withBemMod(i.cnButton(),{theme:"clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(5),i=n(58);n(1058),t.withThemeNormal=r.withBemMod(i.cnButton(),{theme:"normal"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemePseudo=void 0;var r=n(5),i=n(58);n(1060),t.withThemePseudo=r.withBemMod(i.cnButton(),{theme:"pseudo"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeRaised=void 0;var r=n(5),i=n(58);n(1062),t.withThemeRaised=r.withBemMod(i.cnButton(),{theme:"raised"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeWebSearch=void 0;var r=n(5),i=n(58);n(1064),t.withThemeWebSearch=r.withBemMod(i.cnButton(),{theme:"websearch"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewAction=void 0;var r=n(5),i=n(58);n(1066),t.withViewAction=r.withBemMod(i.cnButton(),{view:"action"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewClear=void 0;var r=n(5),i=n(58);n(1068),t.withViewClear=r.withBemMod(i.cnButton(),{view:"clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewLink=void 0;var r=n(5),i=n(58);n(1070),t.withViewLink=r.withBemMod(i.cnButton(),{view:"link"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewPseudo=void 0;var r=n(5),i=n(58);n(1072),t.withViewPseudo=r.withBemMod(i.cnButton(),{view:"pseudo"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewRaised=void 0;var r=n(5),i=n(58);n(1074),t.withViewRaised=r.withBemMod(i.cnButton(),{view:"raised"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(5),i=n(58);n(1077),t.withViewDefault=r.withBemMod(i.cnButton(),{view:"default"})}),(function(e,t,n){"use strict";var r=n(556);n.d(t,"a",(function(){return r.a}))}),(function(e,t,n){var r=n(220)(n(152),"Map");e.exports=r}),(function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}}),(function(e,t,n){var r=n(1132),i=n(248),o=n(493),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s}),(function(e,t,n){(function(e){var r=n(627),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=(function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}})();e.exports=s}).call(this,n(178)(e))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withControl=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(495);t.withControl=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:e.props.focused,pressed:e.props.pressed,disabled:e.props.disabled},e.onMouseDown=function(t){3!==t.nativeEvent.which&&(e.setState({pressed:!0}),e.docOnMouseDown(),void 0!==e.props.onMouseDown&&e.props.onMouseDown(t))},e.onMouseUp=function(t){e.setState({pressed:!1}),void 0!==e.props.onMouseUp&&e.props.onMouseUp(t)},e.docOnMouseDown=function(){document.addEventListener("mouseup",e.docOnMouseUp),document.addEventListener("dragend",e.docOnMouseUp)},e.docOnMouseUp=function(){e.setState({pressed:!1}),document.removeEventListener("mouseup",e.docOnMouseUp),document.removeEventListener("dragend",e.docOnMouseUp)},e.onFocus=function(t){e.setState({focused:!0}),void 0!==e.props.onFocus&&e.props.onFocus(t)},e.onBlur=function(t){e.setState({focused:!1}),void 0!==e.props.onBlur&&e.props.onBlur(t)},e}return r.__extends(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},n.prototype.render=function(){var t=this.state,n=t.disabled,o=t.focused,a=t.pressed,s=e;return i.default.createElement(s,r.__assign({},this.props,{focused:n?void 0:o,pressed:n?void 0:a,onMouseDown:n?void 0:this.onMouseDown,onMouseUp:n?void 0:this.onMouseUp,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur}))},n.displayName="WithControl("+o.getDisplayName(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayName=void 0,t.getDisplayName=function(e){return e.displayName||e.name||"Component"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.SupportedLangs||(t.SupportedLangs={})),t.getComponentI18n=function(e,t,n,r,i,o){var a;if(void 0===o&&(o="yandex_disk_web"),!e[n])throw"Unsupported lang "+n;var s=null===(a=e[n])||void 0===a?void 0:a[o][t][r];if(!s)throw"Unknown key "+r;return s(i)||""}}),(function(e,t,n){"use strict";e.exports=n(1183)}),(function(e,t,n){"use strict";n.r(t);var r=n(432);n.d(t,"Portal",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popupRegistry=void 0;var r=n(32),i=n(180),o=n(1203);t.popupRegistry=new r.Registry({id:i.cnPopup()}),t.popupRegistry.set("Tail",o.PopupTail)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(5),i=n(180);n(1205),t.withViewDefault=r.withBemMod(i.cnPopup(),{view:"default"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTargetAnchor=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(5),a=n(169),s=n(375),u=n(1206),c={top:-9999,left:-9999,position:"fixed"};t.withTargetAnchor=o.withBemMod(u.cnPopup(),{target:"anchor"},(function(e){return function(t){var n=t.anchor,o=t.direction,l=void 0===o?u.directions:o,f=t.hasTail,d=t.mainOffset,p=void 0===d?f?0:4:d,h=t.modifiers,m=t.motionless,v=t.secondaryOffset,g=t.style,y=t.tailOffset,b=(t.target,t.viewportOffset),_=t.visible,O=void 0!==_&&_,w=t.innerRef,E=t.tailRef,S=t.boundary,x=r.__rest(t,["anchor","direction","hasTail","mainOffset","modifiers","motionless","secondaryOffset","style","tailOffset","target","viewportOffset","visible","innerRef","tailRef","boundary"]),C=a.usePopper({anchorRef:n,children:x.children,placement:l,motionless:m,enabled:O,marginThreshold:b,modifiers:h,offset:[v,p],unsafe_tailOffset:y,boundary:S}),T=C.setPopupRef,k=C.setArrowRef;return i.default.createElement(e,r.__assign({},x,{hasTail:f,innerRef:s.useForkRef(T,w),style:r.__assign(r.__assign({},c),g),tailRef:s.useForkRef(k,E),unstable_essentialRefs:[n],visible:O}))}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(795),o=r.compose(i.withSizeM,i.withViewDefault)(i.Tumbler);t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(154)),a=n(34).cn("ToggleWarning");n(1248);t.default=function(e){return e.hasFeature?null:i.default.createElement("div",{className:a("SmallIconContainer")},i.default.createElement(o.default,{name:"warningSmall",className:a("SmallIcon")}))}}),(function(e,t,n){"use strict";n.r(t);var r=n(654);n.d(t,"useToggle",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);n(1380);var r=n(9),i=n.n(r),o=n(265),a=n.n(o);n(233).a.define("queueNotifications",{limit:4,methods:{add:function(e){if(e.gid){var t=i.a.find(i.a.union(this.items,this.itemsProcessing),(function(t){return e.gid===t.item.get(".gid")&&e.status===t.item.get(".status")}));if(t)return e.src.type!==t.item.get(".typeResources")&&t.item.set(".typeResources","mix"),t.item.set(".count",(t.item.get(".count")||1)+1),t.promise}e.typeResources=e.src&&e.src.type;var n=ns.Model.get("notification",{notification:a()()}).setData(e);return this.push(n)},getPortion:function(){var e=Math.max(this.limit-this.itemsProcessing.length,0);return this.items.splice(0,e)},doIteration:function(){var e=this,t=this.getPortion();t.length&&(this.itemsProcessing=this.itemsProcessing.concat(t),i.a.each(t,(function(t){t.promise.always((function(){var n=e.itemsProcessing.indexOf(t);-1!==n&&(e.itemsProcessing.splice(n,1),e.trigger("processed",t)),e.doIteration()}))})),this.handlePortion(t))},handlePortion:function(e){var t=this;i.a.each(e,(function(e){t.trigger("processing",e)}))}}}),ns.Model.get("queueNotifications").setDataDefault()}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),o=n(217),a=n(47),s=n(158),u=n(74),c=n(203),l=n(43),f=n(160),d=n(25);t.getJournals=i.default.property("journals"),t.shouldFetchJournal=a.createSelector(l.getIdContext,(function(e){return d.isVirtualDiskJournal(e)||s.isPersonalJournalIdContext(e)})),t.isPersonalJournal=a.createSelector(l.getIdContext,s.isPersonalJournalIdContext),t.getJournalId=a.createSelector(t.isPersonalJournal,u.getVirtualDiskHash,(function(e,t){return e?c.personalJournalId:t})),t.getDiskPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(function(e,t){return e?"/disk":d.getCurrentVirtualDisk(t)})),t.getRootPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(function(e,t){return e?"":d.getCurrentVirtualDiskRoot(t)})),t.getTrashPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(function(e,t){return e?"/trash":d.getCurrentVirtualDiskTrash(t)})),t.getJournal=a.createSelector(t.getJournals,t.getJournalId,(function(e,t){return i.default.get(e,t)})),t.getJournalState=a.createSelector(t.getJournal,(function(e){return i.default.get(e,"state",o.JournalState.initial)})),t.getJournalUpdatedAt=a.createSelector(t.getJournal,(function(e){return i.default.get(e,"updatedAt",0)})),t.getJournalFilters=a.createSelector(t.getJournal,(function(e){return i.default.get(e,"filters",{})})),t.getJournalFilterUntilDate=a.createSelector(t.getJournalFilters,(function(e){return s.getEndOfToday(i.default.get(e,"untilDateTimestamp",Date.now())).getTime()})),t.getJournalFilterText=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"text","")})),t.getJournalFilterEventType=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"eventType",[])})),t.getJournalFilterFolder=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"folder")})),t.getJournalFilterPlatform=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"platform")})),t.areJournalFiltersResettable=a.createSelector(t.getJournalFilterUntilDate,t.getJournalFilterEventType,t.getJournalFilterFolder,t.getJournalFilterPlatform,t.getJournalFilterText,(function(e,t,n,r,i){return Boolean(null===t||void 0===t?void 0:t.length)||!f.isSameDate(new Date(e),new Date)||Boolean(i.trim().length)||Boolean(n)||Boolean(r)})),t.getJournalFilterEventTypes=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"eventTypes",[])})),t.getJournalFilterPlatforms=a.createSelector(t.getJournalFilters,(function(e){return i.default.get(e,"platforms",[])})),t.getJournalClusters=a.createSelector(t.getJournal,(function(e){return i.default.get(e,["journal","clusters"],[])})),t.getJournalUsers=a.createSelector(t.getJournal,(function(e){return i.default.get(e,["journal","users"],[])})),t.getJournalTotalEventsCount=a.createSelector(t.getJournal,(function(e){return i.default.get(e,["journal","total_count"],0)})),t.getJournalLoadedEventsCount=a.createSelector(t.getJournal,(function(e){return i.default.get(e,["journal","loaded_count"],0)})),t.hasJournalMoreEventToLoad=a.createSelector(t.getJournalTotalEventsCount,t.getJournalLoadedEventsCount,(function(e,t){return t<e})),t.getMetrikaRoot=a.createSelector(t.isPersonalJournal,(function(e){return e?["interface elements","journal"]:["interface elements","vd journal"]})),t.getUrlFilters=a.createSelector(t.getJournalUpdatedAt,t.getJournalFilterUntilDate,t.getJournalFilterText,t.getJournalFilterEventType,t.getJournalFilterFolder,t.getJournalFilterPlatform,(function(e,t,n,r,o,a){return{platform:i.default.isEmpty(null===a||void 0===a?void 0:a.trim())?void 0:a,eventType:r.length?r.join(","):void 0,parentFolder:i.default.isEmpty(null===o||void 0===o?void 0:o.trim())?void 0:o,querySearch:i.default.isEmpty(null===n||void 0===n?void 0:n.trim())?void 0:n,startEventTimestamp:s.getEndOfToday(e).getTime()!==t?t.toString():void 0}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareFilter=t.isEmptyPaidFeatureFilter=t.compareNumberFilter=t.compareTernary=t.isNumberFilter=t.isRecord=t.isTernary=void 0;const r=n(379);function i(e){return"string"==typeof e&&r.TernaryValues.includes(e)}function o(e){return"object"==typeof e&&null!==e&&void 0!==e}function a(e){return o(e)&&"value"in e&&"condition"in e&&"number"==typeof e.value&&"string"==typeof e.condition&&r.ConditionValues.includes(e.condition)}function s(e,t){return e===r.Ternary.irrelevant||(e===r.Ternary.on?!0===t:!t)}function u(e,t){switch(e.condition){case r.Condition.equal:return e.value===t;case r.Condition.greater:return t>e.value;case r.Condition.less:return t<e.value;case r.Condition.greaterOrEqual:return t>=e.value;case r.Condition.lessOrEqual:return t<=e.value}return!1}function c(e){return e.available===r.Ternary.irrelevant&&e.enabled===r.Ternary.irrelevant}t.isTernary=i,t.isRecord=o,t.isNumberFilter=a,t.compareTernary=s,t.compareNumberFilter=u,t.isEmptyPaidFeatureFilter=c,t.compareFilter=function(e,t){if(i(e))return s(e,t);if(a(e))return u(e,t||0);if(!t)return c(e);const n=t;return s(e.enabled,n.enabled)&&s(e.available,n.available)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrequencyInMilliseconds=t.getPromosWithFormat=void 0;t.getPromosWithFormat=(e=>{return Object.entries(e.promos).reduce((e,[t,n])=>(n.forEach(n=>e[n.name]={promo:n,format:t}),e),{})});t.getFrequencyInMilliseconds=(e=>24*e.frequencyInDays*60*60*1e3)}),(function(e,t,n){var r=n(1401),i=n(1413),o=n(1415),a=n(1416),s=n(1417);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(385),i=n(684),o=n(685);e.exports=function(e,t){return o(i(e,t,r),e+"")}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializer=t.JsonEnum=t.JsonNullable=t.JsonDate=t.JsonMappers=void 0;var o=n(1437);Object.defineProperty(t,"JsonMappers",{enumerable:!0,get:function(){return o.JsonMappers}}),i(n(691),t);t.JsonDate=function(e){return new o.DateMapper(e)};t.JsonNullable=function(e){return new o.NullableMapper(e)};t.JsonEnum=function(e,t){return new o.EnumMapper(e,t)};t.JsonSerializer=function(e,t){return void 0===t&&(t=o.JsonMappers),{stringify:function(n){var r=t.toJson(n,e);return JSON.stringify(r)},parse:function(n){var r=n?JSON.parse(n):void 0;return t.fromJson(r,e)}}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1451);t.Api=r.Api;var i=n(1454);t.ModelsApi=i.ModelsApi;var o=n(694);t.ResponseError=o.ResponseError}),(function(e,t,n){var r=n(514),i=n(1457);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}}),(function(e,t,n){var r=n(145),i=n(301),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}}),(function(e,t,n){var r=n(695),i=n(383),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(1475),a=n(547);t.getDsClient=function(e,t){return r||(r=new o.RestDatasyncClient(new o.RestDatasyncTransportAdapter(e,t)))},t.getLogger=function(){return i||(i=new a.Logger("promozavr"))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const r=n(5),i=n(573);t.Button=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXL,i.withSizeXXL),r.composeU(i.withViewAction,i.withViewBrand,i.withViewClear,i.withViewDefault,i.withViewPremium,i.withViewPseudo,i.withViewRaised,i.withViewDefault),r.composeU(i.withPinCircleCircle),r.composeU(i.withTypeLink),i.withWidthMax)(i.Button)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var r=n(2184);Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return r.Image}})}),(function(e,t,n){var r=n(381),i=n(1541),o=n(1542),a=n(1543),s=n(1544),u=n(1545);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c}),(function(e,t,n){var r=n(1546),i=n(179);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}}),(function(e,t,n){var r=n(1551),i=n(710),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s}),(function(e,t,n){var r=n(711),i=n(1573),o=n(221);e.exports=function(e){return o(e)?r(e,!0):i(e)}}),(function(e,t,n){var r=n(625)(Object.getPrototypeOf,Object);e.exports=r}),(function(e,t,n){var r=n(707);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}),(function(e,t){ns.Model.define("userFolder",e.exports={params:{userid:null,idFolder:null},methods:{isApproved:function(){return"approved"===this.get(".status")},isProposed:function(){return"proposed"===this.get(".status")},toContact:function(){var e=ns.Model.get("contact",{userid:this.get(".id")}),t=this.getData();return delete t.rights,delete t.idFolder,e.setData(t),e}}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(34),a=n(1684);n(1686),t.headerServiceClass=o.cn("PSHeaderService"),t.HeaderService=function(e){var n=e.i18n,r=e.link,o=e.active,s=e.theme,u=e.onClick,c=e.forwardedRef,l=e.className,f=e.icon,d=e.target;return i.default.createElement("a",{className:t.headerServiceClass({theme:s,active:o},[l]),href:r,rel:"noopener noreferrer",onClick:u,ref:c,target:d,tabIndex:r?void 0:0,role:r?void 0:"button"},i.default.createElement("div",{className:t.headerServiceClass("Icon")},f||i.default.createElement(a.ServiceStub,{title:n})),i.default.createElement("span",{className:t.headerServiceClass("Text")},n))}}),(function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1699)),r(n(1705))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);n(1703);var i=r.cn("PSHeaderLogo360");t.classes={root:i,yaLink:i("Ya"),logoText:i("360"),customLogo:i("CustomLogo")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=t.cnTooltip=void 0;var r=n(2).__importDefault(n(0)),i=n(34),o=n(32),a=n(1768);n(1770),t.cnTooltip=i.cn("Tooltip");t.Tooltip=function(e){var n=e.anchor,i=e.boundary,s=e.children,u=e.className,c=e.direction,l=e.hasTail,f=e.id,d=e.innerRef,p=e.keepMounted,h=e.mainOffset,m=e.modifiers,v=e.disableOverlay,g=e.onClick,y=e.onClose,b=e.scope,_=e.secondaryOffset,O=e.state,w=e.tailOffset,E=e.viewportOffset,S=e.visible,x=e.zIndex,C=l?0:4,T=o.useComponentRegistry(t.cnTooltip()).Popup;return r.default.createElement(T,{anchor:n,boundary:i,className:t.cnTooltip({visible:S,state:O},[u]),direction:c,disableOverlay:v,hasTail:l,innerRef:d,keepMounted:p,mainOffset:h||C,modifiers:m,onClick:g,onClose:y,scope:b,secondaryOffset:_,tailOffset:w,target:"anchor",unstable_onRenderTail:function(e){return r.default.createElement(a.TooltipBackdrop,null,l&&e)},view:"default",viewportOffset:E,visible:S,zIndex:x},r.default.createElement("div",{role:"tooltip",id:f,className:t.cnTooltip("Content")},s))},t.Tooltip.displayName="Tooltip"}),(function(e,t,n){"use strict";var r=n(76);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var i=n(204);n.d(t,"d",(function(){return i.a}));var o=n(171);n.d(t,"e",(function(){return o.a}));var a=n(249);n.d(t,"f",(function(){return a.a}));var s=n(250);n.d(t,"g",(function(){return s.a}));var u=n(170);n.d(t,"h",(function(){return u.a}));var c=n(169);n.d(t,"c",(function(){return c.directions}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openVersionsDialog",(function(){return p})),n.d(t,"closeVersionsDialog",(function(){return h})),n.d(t,"fetchResourceVersions",(function(){return v})),n.d(t,"reloadVersionsDialog",(function(){return g})),n.d(t,"restoreVersion",(function(){return y})),n.d(t,"openVersion",(function(){return b})),n.d(t,"saveVersionAsCopy",(function(){return _})),n.d(t,"toggleSubversionsInfo",(function(){return O}));var r=n(38),i=n(234),o=n(332),a=n(17),s=n(40),u=n(16),c=n(23),l=n(15),f=n(36),d=n(82),p=function(e){return function(t){t(Object(c.openDialog)("versions",{resourcePath:e}))}},h=function(){return function(e){e(Object(c.closeDialog)("versions")),e({type:u.CLEAN_VERSIONS})}},m=function(e){var t=e.date_created;return"string"==typeof t&&19===t.length&&(t+=".000+03:00"),Object.assign({timestamp_created:Math.floor(new Date(t).getTime()/1e3)},e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentId,n=e.clean;return function(e,i){var a=Object(o.a)(i()),s=a.resourceId,c=a.subversions,l=a.iterationKey;e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!0,error:!1}});var f={resource_id:s,iteration_key:t?c[t].iterationKey:l,folded:Boolean(t)};return Object(r.a)("versions",f).then((function(r){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,clean:n,data:(function(e){return{versions:(e.versions||[]).map(m),iteration_key:e.iteration_key}})(r),loading:!1,error:!1}}),r})).catch((function(){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!1,error:!0}})}))}},g=function(){return function(e){e(v({clean:!0}))}},y=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,p=u.resourcePath;return Object(r.a)("do-version-restore",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){var r=n();Object(f.isDocsPage)(r)&&t(Object(d.addDocFromDisk)({id:e.id})),t(Object(s.notify)({operation:"restore",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,p)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),p),o={operation:"restore",status:"failed",dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,f=c.path,d=c.uid;o.reason=Object(i.a)({lockType:l,myUid:u,lockInitiatorUid:d,lockedResourcePath:f,targetResourcePath:p,onlyReason:!0})}t(Object(s.notify)(o))}))}},b=function(e){var t=e.id,n=e.timestamp_created;return function(e,r){var i=Object(o.a)(r()).resourcePath;e(Object(l.openResourceById)(i,t,n))}},_=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,p=u.resourcePath;return Object(r.a)("do-version-save",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){Object(f.isDocsPage)(n())&&t(Object(d.addDocFromDisk)({id:e.id}));var r=n();t(Object(s.notify)({operation:"copy",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,p)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),p),o={operation:"copy",status:"failed",dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,f=c.path,d=c.uid;o.reason=Object(i.a)({lockType:l,myUid:u,lockInitiatorUid:d,lockedResourcePath:f,targetResourcePath:p,onlyReason:!0})}t(Object(s.notify)(o))}))}},O=function(e){return function(t,n){var r=n().versions.subversions[e];t({type:u.TOGGLE_SUBVERSIONS,payload:{parentId:e}}),0===r.versions.length&&t(v({parentId:e}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(399),o=n(1877),a=n(399);t.Radio=a.Radio,t.RadioProps=a.RadioProps,t.Radiobox=r.compose(r.composeU(i.withSizeS,i.withSizeM),r.composeU(i.withViewDefault,i.withViewOutline,o.withViewListTileRadio))(i.Radiobox)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(34),u=n(2183),c=n(399);n(1880),t.cnListTileRadio=s.cn("ListTileRadio"),t.ListTileRadio=function(e){var n=e.icon,o=e.value,s=e.onClick,l=e.children,f=e.className,d=e.size,p=void 0===d?"m":d,h=e.leadingRadio,m=i(e,["icon","value","onClick","children","className","size","leadingRadio"]),v=a.default.createElement(c.Radio,{className:t.cnListTileRadio("Radio"),value:o});return a.default.createElement(u.ListTile,r({alignItems:"center",className:t.cnListTileRadio({size:p},[f]),onClick:s},h?{leading:v}:{leading:n,trailing:v},m),l)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=r(n(0)),s=i(n(128)),u=n(27),c=n(23),l=n(82),f=n(36),d=i(n(452)),p=n(26),h=n(1955),m=n(226),v=i(n(14));n(1956);var g=i(n(11)),y=function(){return g.default()("Open-From-Disk")},b={update:c.updateDialog,addDocFromDisk:l.addDocFromDisk,maybeBlockAction:u.maybeBlockAction},_=o.connect((function(e){return{type:f.currentDocsType(e),resourcesByIds:e.resources}}),b);t.default=_((function(e){var t=a.useState(!1),n=t[0],r=t[1],i=a.useState("/disk"),o=i[0],u=i[1],c=a.useState(null),l=c[0],f=c[1],g=e.addDocFromDisk,b=e.resourcesByIds,_=e.transparentAbsolute,O=e.maybeBlockAction,w=a.useCallback((function(){O()||r(!n)}),[r,n,O]),E=a.useCallback((function(){r(!1),f(null)}),[r]),S=a.useCallback((function(e){g({id:e,openOnLoad:!0}),v.default.countDocs("open doc","from disk"),E()}),[g,E]),x=a.useCallback((function(){l&&S(l)}),[l,S]),C=a.useCallback((function(e){e&&S(e)}),[S]),T=a.useCallback((function(e){"dir"===b[e].type?(u(e),f(null)):f(e)}),[f,b]),k=a.useRef(null),j=a.useCallback((function(e){var t=e.type,n=e.id,r=e.state,i=e.ext,o=!1,a=m.getAllAcceptedExts().some((function(e){return e===i}));return!Boolean(r&&r.disabled)&&a||(o=!0),"dir"===t&&"/trash"!==n&&(o=!1),o}),[]),P=a.useCallback((function(){return a.default.createElement(d.default,{cls:y().e("Listing"),folderId:o,onSelectResource:T,onResourceOpen:C,isResourceDisabled:j,allowSelectDocument:!0,selectedResources:[l]})}),[o,T,j,l,C]);return a.default.createElement("div",null,a.default.createElement(p.Button,{className:y().e("Button").m({"Transparent-Absolute":_}),view:"raised",size:"m",iconLeft:h.diskIconProvider,onClick:w,innerRef:k},"Открыть из Диска"),a.default.createElement(s.default,{cls:y().e("Confirm-Dialog").m({touch:!1}),onSubmit:x,onClose:E,onCancel:E,visible:n,isIosSafari:!1,closeButtonAriaLabel:"Закрыть",title:a.default.createElement("div",{className:y().e("Title")},"Открыть из Диска"),submitButtonText:"Выбрать",submitDisabled:!l,cancelButtonText:"Отменить"},P()))}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1962));t.default=i.default}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(5),o=n(270),a=n(170),s=n(171),u=n(204),c=n(2),l=n(0),f=n.n(l),d=n(34),p=(n(1190),function(e){var t=e.closeText,n=void 0===t?"Закрыть":t,r=e.onClick;return f.a.createElement("button",{className:b("Close"),onClick:r,type:"button","aria-label":n},f.a.createElement("svg",{viewBox:"0 0 16 16"},f.a.createElement("path",{fill:"currentColor",d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"})))}),h=(n(1191),function(e){var t=e.children;return f.a.createElement("div",{className:b("Buttons")},t)}),m=(n(1189),function(e){var t=e.innerRef,n=e.tailType;return f.a.createElement("div",{ref:t,className:b("Tail")},"default"===n?f.a.createElement("svg",{viewBox:"0 0 20 20"},f.a.createElement("path",{fill:"currentColor",d:"M20 20H0c5 0 7.949-3.872 10-9 2.051 5.128 5 9 10 9z"})):f.a.createElement("svg",{viewBox:"0 0 24 24"},f.a.createElement("path",{fill:"currentColor",d:"M12 16c3 0 6 8 12 8H0c6 0 9-8 12-8z"})))}),v=(n(1186),n(1187),{"bottom-left":function(e,t){return{left:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"bottom-right":function(e,t){return{right:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"top-left":function(e,t){return{left:-Math.floor(e/3),top:-Math.floor(t/3)}},"top-right":function(e,t){return{right:-Math.floor(e/3),top:-Math.floor(t/3)}}}),g=function(e){var t=e.children,n=e.side,r=e.width,i=e.height;i||(i=r);var o=Object(c.__assign)({width:r,height:i},v[n](r,i));return f.a.createElement("span",{className:b("Corner"),style:o},t)},y=(n(1188),function(e){var t=e.className,n=e.align,r=void 0===n?"left":n,i=e.children,o=e.leading,a=e.trailing;return f.a.createElement("div",{className:b("TextWrap",{align:r},[t])},o&&f.a.createElement("div",{className:b("TextLeft")},o),i&&f.a.createElement("div",{className:b("Text")},i),a&&f.a.createElement("div",{className:b("TextRight")},a))}),b=Object(d.cn)("MessageBox"),_=function(e){var t=e.actions,n=e.background,r=e.children,i=e.className,o=e.corner,a=e.hasTail,s=e.innerRef,u=e.layout,l=void 0===u?"plain":u,d=e.onClose,v=e.hasClose,g=void 0===v?Boolean(d):v,y=e.opaque,_=e.tailRef,O=e.tailType,w=void 0===O?"default":O,E=Object(c.__rest)(e,["actions","background","children","className","corner","hasTail","innerRef","layout","onClose","hasClose","opaque","tailRef","tailType"]);return f.a.createElement("div",Object(c.__assign)({className:b({opaque:y,layout:l,hasClose:d&&g},[i]),ref:s},E),f.a.createElement("div",{className:b("Backdrop")},a&&f.a.createElement(m,{innerRef:_,tailType:w}),n&&f.a.createElement("div",{className:b("Background")},n)),f.a.createElement("div",{className:b("Content")},r,d&&g&&f.a.createElement(p,{onClick:d})),t&&f.a.createElement(h,null,t),o)};_.displayName="MessageBox";var O=Object(i.compose)(a.a,s.a,u.a)(o.a),w=new r.Registry({id:b()});w.set("Popup",O);var E=Object(r.withRegistry)(w)((function(e){var t=e.anchor,n=e.boundary,i=e.direction,o=e.mainOffset,a=e.modifiers,s=e.motionless,u=e.onClick,l=e.onClose,d=e.scope,p=e.secondaryOffset,h=e.tailOffset,m=e.viewportOffset,v=e.visible,g=e.zIndex,y=Object(c.__rest)(e,["anchor","boundary","direction","mainOffset","modifiers","motionless","onClick","onClose","scope","secondaryOffset","tailOffset","viewportOffset","visible","zIndex"]),O=Object(r.useComponentRegistry)(b()).Popup;return f.a.createElement(O,{anchor:t,boundary:n,direction:i,mainOffset:o,modifiers:a,motionless:s,nonvisual:!0,onClick:u,onClose:l,scope:d,secondaryOffset:p,tailOffset:h,target:"anchor",view:"default",viewportOffset:m,visible:v,zIndex:g},(function(e){var t=e.tailRef;return f.a.createElement(_,Object(c.__assign)({},y,{tailRef:t,onClose:l}))}))})),S=(n(1196),Object(i.withBemMod)(b(),{size:"l"})),x=(n(1197),Object(i.withBemMod)(b(),{size:"m"})),C=(n(1198),Object(i.withBemMod)(b(),{size:"s"})),T=(n(1199),Object(i.withBemMod)(b(),{view:"default"})),k=(n(1200),Object(i.withBemMod)(b(),{view:"inverse"})),j=(n(1201),Object(i.withBemMod)(b(),{view:"promo"})),P=n(637);n.d(t,"MessageBoxPopup",(function(){return E})),n.d(t,"withSizeL",(function(){return S})),n.d(t,"withSizeM",(function(){return x})),n.d(t,"withSizeS",(function(){return C})),n.d(t,"withViewDefault",(function(){return T})),n.d(t,"withViewInverse",(function(){return k})),n.d(t,"withViewPromo",(function(){return j})),n.d(t,"Corner",(function(){return g})),n.d(t,"Wrapper",(function(){return y})),n.d(t,"cnMessageBox",(function(){return b})),n.d(t,"MessageBox",(function(){return _})),n.d(t,"messageBoxRegistry",(function(){return P.registry}))}),(function(e,t,n){"use strict";n.r(t);var r=n(85),i=(function(){function e(){var e=this;this.onKeyDown=function(){window.clearTimeout(e.timeoutId),e.isPointer=!1},this.onPointerCall=function(){e.isPointer=!0,window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout((function(){e.isPointer=!1}),600)},this.onFocus=function(){var t=window.document.body.classList;e.isPointer?(t.add("pointerfocus"),t.remove("utilityfocus")):(t.add("utilityfocus"),t.remove("pointerfocus"))},this.onBlur=function(){window.addEventListener("focus",e.setIsPointerOnTabFocus,!0)},this.setIsPointerOnTabFocus=function(){window.removeEventListener("focus",e.setIsPointerOnTabFocus,!0),window.document.body&&window.document.body.classList.contains("pointerfocus")&&(e.isPointer=!0,window.setTimeout((function(){e.isPointer=!1})))},this.timeoutId=0,this.isPointer=!1,window.addEventListener("blur",this.onBlur,!1);var t=window.document;t.addEventListener("keydown",this.onKeyDown,!0),t.addEventListener("mousedown",this.onPointerCall,!0),t.addEventListener("mouseup",this.onPointerCall,!0),t.addEventListener("focusin",this.onFocus,!0),t.addEventListener("pointerdown",this.onPointerCall,!0),t.addEventListener("pointerup",this.onPointerCall,!0),t.body.classList.contains("pointerfocus")||t.documentElement.classList.contains("pointerfocus")||t.body.classList.add("utilityfocus")}return e.create=function(){return new e},e.prototype.dispose=function(){window.removeEventListener("blur",this.onBlur,!1);var e=window.document;e.removeEventListener("keydown",this.onKeyDown,!0),e.removeEventListener("mousedown",this.onPointerCall,!0),e.removeEventListener("mouseup",this.onPointerCall,!0),e.removeEventListener("focusin",this.onFocus,!0),e.removeEventListener("pointerdown",this.onPointerCall,!0),e.removeEventListener("pointerup",this.onPointerCall,!0),e.body.classList.remove("pointerfocus","utilityfocus")},e})(),o=null,a=!1;function s(){a||o||(o=i.create())}Object(r.a)()&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):window.setTimeout(s))}),(function(e,t,n){"use strict";n.r(t);var r=n(259),i=n(377);n(1227);n.d(t,"cnModal",(function(){return r.b})),n.d(t,"Modal",(function(){return r.a})),n.d(t,"withThemeNormal",(function(){return i.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(70),s=n(174),u=n(91),c=n(85),l="pointerdown",f="pointerup";Object(c.a)()&&(window.PointerEvent||(l="mousedown",f="mouseup",window.MouseEvent||(f="click")));var d={ignoreRefs:[]},p=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetRef=Object(i.createRef)(),e.pointerDownEventSource=null,e.onPointerDown=function(t){e.pointerDownEventSource=t.target},e.onPointerUp=function(t){var n=Object(r.__spread)(e.props.ignoreRefs,[e.targetRef]);void 0!==e.props.onOutsideClick&&n.every((function(n){return null!==n.current&&!n.current.contains(e.pointerDownEventSource)&&!n.current.contains(t.target)}))&&e.props.onOutsideClick(t),e.pointerDownEventSource=null},e.onKeyDown=function(t){void 0!==e.props.onEscapeKeyDown&&Object(a.b)(t.keyCode,[a.a.ESC])&&e.props.onEscapeKeyDown(t)},e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.visible&&this.subscribeToEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.componentDidUpdate=function(e){!e.visible&&this.props.visible?this.subscribeToEvents():e.visible&&!this.props.visible&&this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.ignoreRefs,Object(r.__rest)(t,["ignoreRefs"]));return o.a.createElement(e,Object(r.__assign)({},n,{targetRef:Object(u.a)(this.targetRef,this.props.targetRef)}))},n.prototype.subscribeToEvents=function(){document.addEventListener(l,this.onPointerDown),document.addEventListener(f,this.onPointerUp),document.addEventListener("keydown",this.onKeyDown)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener(l,this.onPointerDown),document.removeEventListener(f,this.onPointerUp),document.removeEventListener("keydown",this.onKeyDown)},n.displayName="withOutsideClick("+Object(s.a)(e)+")",n.defaultProps=d,n})(i.PureComponent)};n.d(t,"withOutsideClick",(function(){return p}))}),(function(e,t,n){var r={};!(function(){r.log=function(){};var e={},t=/&/g,n=/</g,i=/>/g,o=/"/g,a=/&amp;/g,s=/&lt;/g,u=/&gt;/g;function c(e){return e.replace(/&/g,"&amp;")}r.text2xml=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2text=function(e){return null==e?"":(""+e).replace(s,"<").replace(u,">").replace(a,"&")},r.text2attr=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2attr=function(e){return null==e?"":(""+e).replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.register=function(t,n){if(r.isRegistered(t))throw Error('Module "'+t+'" already exists');for(var i=n.imports||[],o=[n],a=0,s=i.length;a<s;a++){var u=e[i[a]];if(!u)throw Error('Module "'+i[a]+"\" doesn't exist");o=o.concat(u.imports)}n.imports=o,e[t]=n},r.isRegistered=function(t){return!!e[t]},r.run=function(t,n,r){r=r||"";var i=e[t];if(!i)throw'Module "'+t+'" is undefined';var o=new f(n);return i.a(i,0,[o.root],r,{a:{}})},r.join=function(e,t){return e.concat(t)},r.nodeValue=function(e){var t=e.data;return"object"==typeof t?"":t},r.nodeName=function(e){var t=e[0];return t?t.name:""},r.simpleScalar=function(e,t){var n=t.data;if(!n)return"";if("*"===e){for(var i in n)return r.simpleScalar(i,t);return""}var o=n[e];return"object"==typeof o?"":void 0===o?"":o},r.simpleBoolean=function(e,t){var n=t.data;if(!n)return!1;if("*"===e){for(var i in n){var o;if(o=r.simpleBoolean(i,t))return!0}return!1}return!!(o=n[e])&&(!Array.isArray(o)||o.length)},r.nodeset2scalar=function(e){if(!e.length)return"";var t=e[0].data;return"object"==typeof t?"":t},r.nodeset2boolean=function(e){return!!(e&&e.length>0)&&!!e[0].data},r.nodeset2xml=function(e){return r.scalar2xml(r.nodeset2scalar(e))},r.nodeset2attrvalue=function(e){return r.scalar2attrvalue(r.nodeset2scalar(e))},r.scalar2xml=r.text2xml,r.xml2scalar=r.xml2text,r.xml2attrvalue=r.xml2attr,r.scalar2attrvalue=r.text2attr,r.object2nodeset=function(e){return[new f(e).root]},r.array2nodeset=function(e){return[new f({item:e}).root]},r.cmpSN=function(e,t){for(var n=0,i=t.length;n<i;n++)if(e==r.nodeValue(t[n]))return!0;return!1},r.cmpNN=function(e,t){var n=t.length;if(0===n)return!1;if(1===n)return r.cmpSN(r.nodeValue(t[0]),e);for(var i=[],o=r.nodeValue(t[0]),a=0,s=e.length;a<s;a++){var u=r.nodeValue(e[a]);if(u==o)return!0;i[a]=u}for(var c=1;c<n;c++){o=r.nodeValue(t[c]);for(a=0,s=e.length;a<s;a++)if(i[a]==o)return!0}return!1},r.shortTags={br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,wbr:!0},r.closeAttrs=function(e){var t=e.s;if(t){var n="",i=e.a;for(var o in i)n+=" "+o+'="'+i[o].quote()+'"';return n+=r.shortTags[t]?"/>":">",e.s=null,n}return""},r.copyAttrs=function(e,t){for(var n in t)e[n]=t[n]},r.scalarAttr=function(e){this.s=null==e?"":""+e},r.scalarAttr.prototype.quote=function(){return r.text2attr(this.s)},r.scalarAttr.prototype.addxml=function(e){return new r.xmlAttr(c(this.s)+e)},r.scalarAttr.prototype.addscalar=function(e){return new r.scalarAttr(this.s+e)},r.xmlAttr=function(e){this.s=null==e?"":""+e},r.xmlAttr.prototype.quote=function(){return r.xml2attr(this.s)},r.xmlAttr.prototype.addscalar=function(e){return new r.xmlAttr(this.s+c(e))},r.slice=function(e,t,n){return e=""+e,n?e.slice(t,n):e.slice(t)},r.exists=function(e){return e.length>0},r.grep=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,i)&&n.push(o)}return n},r.byIndex=function(e,t){return e.slice(t,t+1)},r.sort=function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i,o);r.push({node:a,value:s})}var u=n?-1:1,c=n?1:-1,l=r.sort((function(e,t){var n=e.value,r=t.value;return n<r?c:n>r?u:0})),f=[];for(i=0,o=l.length;i<o;i++)f.push(l[i].node);return f},r.nodeset2data=function(e){var t=e.length;if(0===t)return"";if(1===t)return e[0].data;for(var n=[],r=0;r<t;r++)n.push(e[r].data);return n},r.externals={};var l=function(){};function f(e){Array.isArray(e)&&(e={item:e}),this.root={data:e,parent:null,name:"",doc:this},this._vars={},this._keys={}}l.prototype.a=function(e,t,n,r,i){var o,a="";arguments.length>5&&(o=Array.prototype.slice.call(arguments,5));for(var s=e.imports,u=0,c=n.length;u<c;u++){for(var l,f,d=n[u],p=!1,h=t,m=s.length;!p&&h<m;){var v=(l=s[h++]).matcher[r];if(v){var g=v[d.name]||v["*"];if(g)for(var y=0,b=g.length;!p&&y<b;){var _=g[y++],O=(f=l[_]).j;if(O)l.matched(O,f.a,d,u,c)&&(p=_);else for(var w=f.s,E=f.a,S=0,x=w.length;S<x;S++)if(l.matched(w[S],E[S],d,u,c)){p=_;break}}}}p&&(a+=o?f.apply(e,[e,d,u,c,i].concat(o)):f(e,d,u,c,i))}return a},l.prototype.matched=function(e,t,n,r,i){if(1===e)return!n.parent;for(var o=e.length-2;o>=0;){if(!n)return!1;switch(e[o]){case 0:var a=e[o+1];if("*"!==a&&a!==n.name)return!1;n=n.parent;break;case 2:case 4:if(!(0,e[o+1])(this,n,r,i))return!1}o-=2}return!t||!n.parent},l.prototype.s=function(e,t){return this.n(e,[t])},l.prototype.n=function(e,t){for(var n,i=t,o=i.length,a=0,s=e.length;a<s;a+=2){n=[];var u=e[a],c=e[a+1];switch(u){case 0:for(var l=0;l<o;l++)r.selectNametest(c,i[l],n);break;case 1:for(l=0;l<o;l++){for(var f=0,d=i[l];f<c&&d;)d=d.parent,f++;d&&n.push(d)}break;case 2:for(l=0;l<o;l++){c(this,d=i[l],l,o)&&n.push(d)}break;case 3:n=(d=i[c])?[d]:[];break;case 4:if(o>0)c(this,(d=i[0]).doc.root,0,1)&&(n=n.concat(i))}if(!(o=(i=n).length))return[]}return n},r.selectNametest=function(e,t,n){var i=t.data;if(!i||"object"!=typeof i)return n;if("*"===e){if(Array.isArray(i))for(var o=0,a=i.length;o<a;o++)r.selectNametest(o,t,n);else for(e in i)r.selectNametest(e,t,n);return n}if(void 0===(i=i[e]))return n;var s=t.doc;if(Array.isArray(i))for(o=0,a=i.length;o<a;o++)n.push({data:i[o],parent:t,name:e,doc:s});else n.push({data:i,parent:t,name:e,doc:s});return n},r.document=function(e){return[(e.length?new f(e[0].data):new f({})).root]},r.subnode=function(e,t,n){var r=n.doc;if(Array.isArray(t)){for(var i=[],o=0,a=t.length;o<a;o++)i.push({data:t[o],name:e,parent:n,doc:r});return i}return[{data:t,name:e,parent:n,doc:r}]},l.prototype.v=function(e,t){var n=t.doc._vars,r=n[e];if(void 0===r){var i=this.findSymbol(e);r="function"==typeof i?i(this,t,0,1):i,n[e]=r}return r},l.prototype.f=function(e,t,n,r,i){var o=this.findSymbol(e);if(arguments.length>5){var a=Array.prototype.slice.call(arguments);return a[0]=this,o.apply(this,a)}return void 0!==i?o(this,t,n,r,i):o(this,t,n,r)},l.prototype.k=function(e,t,n,i){var o=n.doc._keys,a=this.findSymbol(e),s=o[e];s||(s=this._initKey(a,e,t,n));var u=s.values,c=s.nodes,l=this;if(i){var f;if(s.xml){f="";for(var d=0,p=t.length;d<p;d++){n=t[d];f+=m(r.nodeValue(n))}}else{f=[];for(d=0,p=t.length;d<p;d++){n=t[d];f=f.concat(m(r.nodeValue(n)))}}return f}var h=u[t];return void 0===h&&(h=m(t)),h;function m(e){var t,n=c[e];if(s.xml){if(t="",n)for(var r=0,i=n.length;r<i;r++){var o=n[r];t+=a.b(l,o.c,o.i,o.l,{})}}else if(t=[],n)for(r=0,i=n.length;r<i;r++){o=n[r];t=t.concat(a.b(l,o.c,o.i,o.l))}return u[e]=t,t}},l.prototype._initKey=function(e,t,n,i){var o=i.doc._keys[t]={};o.xml="xml"===e.bt;var a=e.n(this,i),s=o.nodes={};if("nodeset"===e.ut)for(var u=0,c=a.length;u<c;u++)for(var l=a[u],f=0,d=(p=e.u(this,l,u,c)).length;f<d;f++)h(r.nodeValue(p[f]),{c:l,i:u,l:c});else for(u=0,c=a.length;u<c;u++){var p;l=a[u];h(p=e.u(this,l,u,c),{c:l,i:u,l:c})}return o.values={},o;function h(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)}},l.prototype.findSymbol=function(e){for(var t=this.imports,n=0,r=t.length;n<r;n++){var i=t[n][e];if(void 0!==i)return i}},r.Module=l})(),e.exports=r,e.exports=r}),(function(e,t){var n=function(e){return(e||"").split("/").filter(Boolean)},r=function(e){return n(e).pop()||""},i=function(e,t){return e?e.split("/").map(t).join("/"):""};e.exports={split:n,basename:r,extname:function(e,t){var n=r(e).split(".");return 1===n.length||""===n[n.length-1]?"":(t?".":"")+n[n.length-1]},normalize:function(e){return"/"+n(e).join("/")},escape:function(e){return i(e,encodeURIComponent)},unescape:function(e){return i(e,decodeURIComponent)},dirname:function(e){var t=n(e);return t.pop(),"/".concat(t.join("/"))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n(2199),a=n(430);function s(e){var t=Object(i.useContext)(a.a),n=Object(r.__read)(Object(i.useState)((function(){return"xuniq-"+t.id+"-"+ ++t.value})),1)[0];return console.assert(o.a||t!==a.c,"When using ssr in a project, you must wrap the application in <SSRProvider> for id synchronization between the server and the client."),e||n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(2200);function o(e,t){var n=e.autoFocus,o=e.disabled,a=e.tabIndex;return Object(r.useEffect)((function(){n&&Object(i.a)(t.current)}),[n,t]),{focusableProps:{tabIndex:o?-1:a}}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"watchFamilyFolder",(function(){return g})),n.d(t,"createFamilyFolder",(function(){return y})),n.d(t,"getFamilyAlbum",(function(){return b}));var r=n(809),i=n.n(r),o=n(111),a=n.n(o),s=n(9),u=n.n(s),c=n(112),l=n(120),f=n(31),d=n(15),p=n(331),h=n(16);function m(e){if(u.a.isString(u.a.get(e,"gid")))return e;throw{error:{type:"no_gid"}}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;return Object(c.api)("mpfs/create-family-folder",{path:e}).then(m).catch((function(r){if(t&&(function(e){return!!u.a.isNil(e)||(e instanceof Response?e.status>=500:"mpfs"===u.a.get(e,"error.type")&&502===u.a.get(e,"error.statusCode"))})(r))return Object(l.defer)(n).then((function(){return v(e,t-1,n)}));throw r}))}var g=function(e){return (function(){var t=i()(a.a.mark((function t(n,r){var i,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(f.resourcesSelector)(r()),"family"===u.a.get(i,[e,"meta","group","group_type"])){t.next=17;break}o=0;case 4:if(!(o<5)){t.next=16;break}return t.next=7,n(Object(d.fetchSingleResource)(e));case 7:if(s=t.sent,"family"!==u.a.get(s,["meta","group","group_type"])){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,Object(l.defer)(2e3);case 13:o++,t.next=4;break;case 16:throw{error:{type:"polling"}};case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}})()},y=function(e){return function(t){return v(e).then((function(){return t(g(e))})).then((function(){return Object(p.c)()})).catch((function(e){return Object(p.a)(e),Promise.reject(e)}))}},b=function(){return function(e,t){var n=t().personalAlbums;return n.familyAlbumId?Promise.resolve(n.familyAlbumId):Object(c.api)("mpfs/get-family-album",{}).then((function(t){return t?(e({type:h.FETCH_ALBUM_SUCCESS,payload:{album:t}}),t.id):Promise.reject(null)}))}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i={currentPromo:void 0,translations:void 0,fetchCompleted:!1},o=n(100).createSlice({name:"promozavr",initialState:i,reducers:{setCurrentPromo:function(e,t){e.currentPromo=t.payload},setTranslations:function(e,t){e.translations=t.payload},setFetchCompleted:function(e){e.fetchCompleted=!0}}});t.setCurrentPromo=(r=o.actions).setCurrentPromo,t.setTranslations=r.setTranslations,t.setFetchCompleted=r.setFetchCompleted,t.default=o.reducer}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(307);t.getDebugSearchParams=function(){var e=location.search.match(/[&?]debug=([^&]+)/);return e&&e[1]?"?debug="+e[1]:""};var o=(function(){function e(e){this.enabled=!1,this.source="",this.enabled=i.isDebugMode("promo"),this.source=e}return e.prototype.log=function(e,t){this.enabled&&console[e].apply(console,r(["["+this.source+"]: "],t))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log("info",e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log("warn",e)},e.prototype.error=function(e){this.log("error",[e]),Ya&&Ya.Rum&&Ya.Rum.enabled&&Ya.Rum.logError&&Ya.Rum.logError({message:e.message,source:this.source,level:Ya.Rum.ERROR_LEVEL.ERROR},e)},e})();t.Logger=o}),(function(e,t,n){"use strict";e.exports=n(1605)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(90),i=n.n(r),o=n(445);function a(e){var t=e.url,n=e.color,r=e.mono;return t||(n&&r?Object(o.a)({fill:n,initials:r}):i.a.links.avatarDefault)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close4IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd",d:"M8 9.414l5.293 5.293a1 1 0 1 0 1.415-1.415L9.415 8l5.293-5.293a1 1 0 0 0-1.414-1.414L8 6.586 2.707 1.293a1 1 0 0 0-1.414 1.414L6.586 8l-5.293 5.292a1 1 0 1 0 1.415 1.415z"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"m1 0v16l14-8"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("g",{clipPath:"url(#a)"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.656c1.556 0 2.723-1.66 2.723-3.593S6.219 2 4.5 2C2.781 2 1.777 3.13 1.777 5.063c0 1.934 1.167 3.593 2.723 3.593zM4.5 14c-2.317 0-3.764-.677-4.34-1.144a.474.474 0 0 1-.16-.392C0 10.989 1.775 10 4.498 10s4.502.99 4.502 2.463a.474.474 0 0 1-.158.394C8.264 13.322 6.817 14 4.5 14zm6.246-.713c2.11.142 4.146-.18 5.11-.791a.306.306 0 0 0 .141-.283c0-.93-1.427-2.09-3.997-2.09-.905 0-1.913.084-2.51.257.772.567 1.256 1.58 1.256 2.906zM12 8.761c-1.306 0-2.236-1.437-2.236-3.111 0-1.674.793-2.653 2.236-2.653 1.442 0 2.234.979 2.234 2.653S13.307 8.76 12 8.76z"})),h.a.createElement("defs",null,h.a.createElement("clipPath",{id:"a"},h.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"addExternalDropTarget",(function(){return N})),n.d(t,"removeExternalDropTarget",(function(){return L}));var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(127),_=n.n(b),O=n(577),w=n(94),E=n(281),S=n(393),x=n(230),C=n(147),T=n(42),k=n(141),j=n(11),P=n.n(j);n(1903);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var A=function(){return P()()("listing")},I=P()()("listing-item").e("icon-wrapper").toString(),D=A().e("drop-target"),M=[],N=function(e){M.push(e)},L=function(e){var t=M.findIndex((function(t){return t.reactElement===e}));M.splice(t,1)};t.default=function(e){return (function(t){d()(r,t);var n=R(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).state={isDragging:!1},t._onDocumentPointerBeforeStart=t._onDocumentPointerBeforeStart.bind(l()(t)),t._onDocumentPointerStart=t._onDocumentPointerStart.bind(l()(t)),t._onDocumentPointerMove=t._onDocumentPointerMove.bind(l()(t)),t._onDocumentPointerEnd=t._onDocumentPointerEnd.bind(l()(t)),t._onWindowKeyUp=t._onWindowKeyUp.bind(l()(t)),t._setListingContainerRef=t._setListingContainerRef.bind(l()(t)),t._onTargetContainerScroll=t._onTargetContainerScroll.bind(l()(t)),t._setDraggingElementRef=t._setDraggingElementRef.bind(l()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this;this._documentPointerListener=Object(S.a)({scope:this._listingContainerRef,scroll:!0,scrollBorder:{width:30,height:30},startThreshold:10,startFilter:function(t){return!t.target.closest("."+("row"===e.props.theme?T.LISTING_ITEM_CLASS:I))||t.target.closest("."+T.LISTING_PREVENT_DRAG_CLASS)},onBeforeStart:this._onDocumentPointerBeforeStart,onStart:this._onDocumentPointerStart,onMove:this._onDocumentPointerMove,onEnd:this._onDocumentPointerEnd}),window.addEventListener("keyup",this._onWindowKeyUp)}},{key:"componentDidUpdate",value:function(e){this.state.isDragging&&(Object(C.isResourcesEqual)(this.props.resources,e.resources)||this._recalculateTargetsRects(),this._toggleHighLightDropTargets(!0),0===this.props.selectedResources.length&&e.selectedResources.length>0&&this._documentPointerListener&&this._documentPointerListener.cancel())}},{key:"componentWillUnmount",value:function(){this._documentPointerListener&&this._documentPointerListener.clearListeners(),window.removeEventListener("keyup",this._onWindowKeyUp)}},{key:"_onWindowKeyUp",value:function(e){e.keyCode&&27===e.keyCode&&this.state.isDragging&&this._documentPointerListener&&this._documentPointerListener.cancel()}},{key:"_recalculateTargetsRects",value:function(){var e=this,t=this._getDraggingItemsIds(),n=t.map((function(t){return e.props.resourcesByIds[t]})).filter(Boolean);this._dropTargets=this.props.resources.filter((function(r){return!t.includes(r.id)&&e.props.filterDropTarget(r,n)})).map((function(t){var n=t.id;return{id:n,element:(e._listing.getItemInfo(n)||{}).ref,highlightClass:D,activeHighlightClass:"listing__drop-target_active"}})).concat(M.map((function(e){return Object.assign({element:e.reactElement.getDomElement()},e)})).filter((function(t){return e.props.filterDropTarget(t,n)}))).map((function(e){return e.rect=Object(x.b)(e.element),e}))}},{key:"_onDocumentPointerBeforeStart",value:function(e,t){var n=this,r=t.target.closest("."+T.LISTING_ITEM_CLASS);this._listing.getItemsInfo().forEach((function(e,t){e.ref===r&&(n._dragStartResourceId=t)}))}},{key:"_onDocumentPointerStart",value:function(){document.body.classList.add("is-dragging"),this._recalculateTargetsRects(),this.setState({isDragging:!0}),this._toggleHighLightDropTargets(!0),this._toggleExternalDropTargetsScrollListeners(!0),this.props.onDragStart&&this.props.onDragStart()}},{key:"_checkIfDropIsAllowed",value:function(e){if(!this.props.dropDeniedSelector)return!0;var t=document.elementFromPoint(e.clientX,e.clientY);return null===(t?t.closest(this.props.dropDeniedSelector):null)}},{key:"_onDocumentPointerMove",value:function(e,t,n){if(this._draggingElement){"scroll"===n.type&&this._dropTargets.forEach((function(e){e.isFixed&&(e.rect=Object(x.b)(e.element))}));var r=this._checkIfDropIsAllowed(t);this._draggingElement.style.top=t.y-30+"px",this._draggingElement.style.left=t.x-30+"px";var i,o={top:t.y-30,left:t.x-30,bottom:t.y+30,right:t.x+30},a=0;r&&this._dropTargets.forEach((function(e){var t=Object(x.a)(e.rect,o);t>a&&(a=t,i=e)})),this._intersectDropTarget!==i&&(this._intersectDropTarget&&this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),i&&r&&this._toggleActiveHighLightDropTarget(i,!0)),this._intersectDropTarget=i}}},{key:"_onDocumentPointerEnd",value:function(e,t){var n=this;if(document.body.classList.remove("is-dragging"),this._toggleHighLightDropTargets(!1),this._toggleExternalDropTargetsScrollListeners(!1),this._dropTargets.forEach((function(e){n._toggleActiveHighLightDropTarget(e,!1)})),this.setState({isDragging:!1}),document.documentElement.classList.add(T.LISTING_PREVENT_DESELECT_CLASS),setTimeout((function(){document.documentElement.classList.remove(T.LISTING_PREVENT_DESELECT_CLASS)}),0),this._intersectDropTarget&&!t&&(this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),this.props.onDrop)){var r=this._intersectDropTarget.type||"subfolder";this.props.onDrop(this._getDraggingItemsIds(),this._intersectDropTarget.id,r)}}},{key:"_getDraggingItemsIds",value:function(){return this.props.selectedResources.length>1?this.props.selectedResources:[this._dragStartResourceId]}},{key:"_onTargetContainerScroll",value:function(e){this._dropTargets.forEach((function(t){t.scrollContainerSelector&&document.querySelector(t.scrollContainerSelector)===e.target&&(t.rect=Object(x.b)(t.element))}))}},{key:"_toggleExternalDropTargetsScrollListeners",value:function(e){var t=this;this._dropTargets.forEach((function(n){var r=n.scrollContainerSelector;if(r){var i=document.querySelector(r);e?i.addEventListener("scroll",t._onTargetContainerScroll):i.removeEventListener("scroll",t._onTargetContainerScroll)}}))}},{key:"_toggleActiveHighLightDropTarget",value:function(e,t){e.reactElement?e.reactElement.toggleActive(t):e.element.classList.toggle(e.activeHighlightClass,Boolean(t))}},{key:"_toggleHighLightDropTargets",value:function(e){this._dropTargets.forEach((function(t){var n=t.element,r=t.reactElement,i=t.highlightClass;r?r.toggleHighlight(e):n.classList.toggle(i,Boolean(e))}))}},{key:"_setDraggingElementRef",value:function(e){this._draggingElement=e}},{key:"_getDraggingElement",value:function(){var e,t=this;if(this.props.selectedResources.length>1){var n=this.props.selectedResources.length>=1e3?"thousands":this.props.selectedResources.length>=100?"hundreds":"";e=[y.a.createElement(w.default,{key:"1",size:"s",cls:A().e("dragging-element-icon")}),y.a.createElement(w.default,{key:"2",size:"s",cls:A().e("dragging-element-icon")}),y.a.createElement(w.default,{key:"3",size:"s",cls:A().e("dragging-element-icon")}),y.a.createElement("div",{key:"4",className:A().e("dragging-element-count").m({rank:n})},this.props.selectedResources.length)]}else{var r=this.props.resources.find((function(e){var n=e.id;return t._dragStartResourceId===n}));r&&(e=y.a.createElement(E.a,{resource:r,cls:A().e("dragging-element-icon"),size:"s"}))}return this.state.isDragging&&e?_.a.createPortal(y.a.createElement("div",{className:A().e("dragging-element").m({active:!0}),ref:this._setDraggingElementRef},y.a.createElement("div",{className:A().e("dragging-element-inner").m({multi:this.props.selectedResources.length>1})},e)),document.body):null}},{key:"_setListingContainerRef",value:function(e){this._listingContainerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"render",value:function(){var t=this;return this._mods=Object(k.a)(this.props.mods,{"with-drag-and-drop":!0},this._mods),y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({},this.props,{mods:this._mods,containerRef:this._setListingContainerRef,ref:function(e){t._listing=e}})),this._getDraggingElement())}}]),r})(O.a)}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(19),c=a(n(776)),l=n(103),f=n(777),d=n(80),p=n(81),h=n(35),m=n(130).I18N,v=a(n(2011)),g=u.connect((function(e,t){var n=e.config.links,i=n.static.host,o=n.help.b2bFree,a=n.b2bAdminProducts,s=e.environment.agent.isSmartphone,u=e.user,c=u.b2b_restriction_status,f=u.isConnectAdmin;return r({isMobile:s,isB2bFreeDialogOpened:l.isDialogOpened(e,"overdraft"),staticHost:i,helpLink:o,b2bAdminProducts:a,isDark:d.isContentDark(p.getThemeName(e)),b2b_restriction_status:c,isPddAdmin:f},t)}));t.default=g((function(e){var t=e.helpLink,n=e.staticHost,r=e.b2bAdminProducts,o=e.isMobile,a=e.onClose,u=e.isDark,l=e.isB2bFreeDialogOpened,d=e.b2b_restriction_status,p=e.isPddAdmin,g=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";n=l?p?"screen-admin":"screen-user":p?"popup-admin":"popup-user",f.countB2bFree.apply(void 0,i([d,n],e))}),[l,d,p]);s.useEffect((function(){g("show")}),[g]);var y=s.useCallback((function(){g("close"),a()}),[g,a]),b=s.useCallback((function(){g("сlick_button_help")}),[g]),_=s.useCallback((function(){g("click_go_to_files"),a()}),[g,a]),O=s.useCallback((function(){d===h.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?g("сlick_button_help"):g("click_go_to_files"),a()}),[g,a,d]),w=s.useMemo((function(){return p?s.default.createElement(m,{loc:"Для вашей организации сервисы Яндекс 360 переведены в режим просмотра."},o?null:s.default.createElement("br",null)):s.default.createElement(m,{loc:"Для вашей организации сервисы переведены в режим просмотра."},s.default.createElement("br",null))}),[o,p]),E=s.useMemo((function(){return d===h.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?p?["Для сервисов вашей организации скоро включится режим просмотра.","Выберите и оплатите тариф, чтобы сотрудники организации пользовались всеми возможностями Диска."]:["Для сервисов вашей организации скоро включится режим просмотра.","Сервисы организации, к которой подключён ваш аккаунт, перешли в режим просмотра. Чтобы восстановить все возможности, свяжитесь с администратором вашей организации."]:d===h.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION||d===h.B2B_RESTRICTION_STATUSES.RESTRICT?p?[w,"Выберите платный тариф, чтобы сотрудники могли использовать возможности Диска как раньше."]:[w,"Для вашей организации сервисы переведены в режим просмотра. Свяжитесь с администратором, чтобы восстановить вcе возможности."]:["",""]}),[d,p,w]),S=E[0],x=E[1],C=s.useMemo((function(){return p?d===h.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?{buttonAddSpaceText:"Выбрать тариф",buyButtonUrl:r,buyButtonAction:function(){return g("сlick_button_buy")},buttonCleanText:"Перейти к файлам",buttonCleanAction:_}:{buttonAddSpaceText:"Выбрать тариф",buyButtonUrl:r,buyButtonAction:function(){return g("сlick_button_buy")}}:o?{buttonAddSpaceText:"Перейти к файлам",buyButtonAction:O}:{buttonCleanText:"Перейти к файлам",buttonCleanAction:O}}),[p,o,r,g,O,d,_]),T=C.buttonAddSpaceText,k=C.buyButtonUrl,j=C.buyButtonAction,P=C.buttonCleanText,R=C.buttonCleanAction,A=s.useMemo((function(){return d===h.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?v.default.waitMobile:o?v.default.restrictMobile:v.default.restrictDesktop}),[d,o]);return s.default.createElement(c.default,{isMobile:o,title:S,text:x,aboutText:"Подробнее об ограничениях",buttonAddSpaceText:T,buttonCleanText:P,overdraftType:"lite",helpLink:t,staticHost:n,imageUrl:A,buyButtonUrl:k,onClose:y,onClean:R,onAddSpace:j,onAbout:b,isDark:u})}))}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(188),a=n.n(o);var s=n(2230),u=n(192),c=n(276),l=n(93),f=n(86);var d=n(114),p=n(275),h=n(104),m=n(277);function v(e,t,n){void 0===n&&(n=!1);var r=Object(h.a)(t),i=Object(u.a)(e),o=Object(f.b)(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&(("body"!==Object(d.a)(t)||Object(m.a)(r))&&(a=(function(e){return e!==Object(l.a)(e)&&Object(f.b)(e)?(function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}})(e):Object(c.a)(e)})(t)),Object(f.b)(t)?((s=Object(u.a)(t)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=Object(p.a)(r))),{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function g(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}var y=n(284),b=n(175),_=n(39);function O(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||(function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)})(e)})),r}var w={placement:"bottom",modifiers:[],strategy:"absolute"};function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function S(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?w:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},w),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){c(),i.options=Object.assign(Object.assign(Object.assign({},o),i.options),n),i.scrollParents={reference:Object(f.a)(e)?Object(y.a)(e):e.contextElement?Object(y.a)(e.contextElement):[],popper:Object(y.a)(t)};var s=(function(e){var t=O(e);return _.g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])})(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:u,options:r});a.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(E(t,n)){i.rects={reference:v(t,Object(b.a)(n),"fixed"===i.options.strategy),popper:g(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,f=o.name;"function"==typeof a&&(i=a({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:(function(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then((function(){t=void 0,n(e())}))})),t}})((function(){return new Promise(function(e){u.forceUpdate(),e(i)})})),destroy:function(){c(),s=!0}};if(!E(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var x=n(113),C=n(434),T=n(274);function k(e,t,n){return Math.max(e,Math.min(t,n))}var j=n(435),P=n(437);var R={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Object(x.a)(n.placement),s=Object(T.a)(a),u=[_.f,_.k].indexOf(a)>=0?"height":"width";if(i&&o){var c=n.modifiersData[r+"#persistent"].padding,l=g(i),f="y"===s?_.m:_.f,d="y"===s?_.c:_.k,p=n.rects.reference[u]+n.rects.reference[s]-o[s]-n.rects.popper[u],h=o[s]-n.rects.reference[s],m=Object(b.a)(i),v=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=p/2-h/2,O=c[f],w=v-l[u]-c[d],E=v/2-l[u]/2+y,S=k(O,E,w),C=s;n.modifiersData[r]=((t={})[C]=S,t.centerOffset=S-E,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Object(C.a)(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:Object(j.a)("number"!=typeof s?s:Object(P.a)(s,_.b))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},A={top:"auto",right:"auto",bottom:"auto",left:"auto"};function I(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,u=e.adaptive,c=(function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}})(o),f=c.x,d=c.y,p=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),v=_.f,g=_.m,y=window;if(u){var O=Object(b.a)(n);O===Object(l.a)(n)&&(O=Object(h.a)(n)),i===_.m&&(g=_.c,d-=O.clientHeight-r.height,d*=s?1:-1),i===_.f&&(v=_.k,f-=O.clientWidth-r.width,f*=s?1:-1)}var w,E=Object.assign({position:a},u&&A);return s?Object.assign(Object.assign({},E),{},((w={})[g]=m?"0":"",w[v]=p?"0":"",w.transform=(y.devicePixelRatio||1)<2?"translate("+f+"px, "+d+"px)":"translate3d("+f+"px, "+d+"px, 0)",w)):Object.assign(Object.assign({},E),{},((t={})[g]=m?d+"px":"",t[v]=p?f+"px":"",t.transform="",t))}var D={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s={placement:Object(x.a)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),I(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),I(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},M={passive:!0};var N={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=Object(l.a)(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,M)})),s&&u.addEventListener("resize",n.update,M),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,M)})),s&&u.removeEventListener("resize",n.update,M)}},data:{}},L={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,(function(e){return L[e]}))}var B={start:"end",end:"start"};function U(e){return e.replace(/start|end/g,(function(e){return B[e]}))}var z=n(190),V=n(191);var H={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,g=Object(x.a)(v),y=u||(g!==v&&h?(function(e){if(Object(x.a)(e)===_.a)return[];var t=F(e);return[U(e),t,U(t)]})(v):[F(v)]),b=[v].concat(y).reduce((function(e,n){return e.concat(Object(x.a)(n)===_.a?(function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?_.h:u,l=Object(V.a)(r),f=l?s?_.n:_.n.filter((function(e){return Object(V.a)(e)===l})):_.b,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var p=d.reduce((function(t,n){return t[n]=Object(z.a)(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Object(x.a)(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))})(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),O=t.rects.reference,w=t.rects.popper,E=new Map,S=!0,C=b[0],T=0;T<b.length;T++){var k=b[T],j=Object(x.a)(k),P=Object(V.a)(k)===_.l,R=[_.m,_.c].indexOf(j)>=0,A=R?"width":"height",I=Object(z.a)(t,{placement:k,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),D=R?P?_.k:_.f:P?_.c:_.m;O[A]>w[A]&&(D=F(D));var M=F(D),N=[];if(o&&N.push(I[j]<=0),s&&N.push(I[D]<=0,I[M]<=0),N.every((function(e){return e}))){C=k,S=!1;break}E.set(k,N)}if(S)for(var L=function(e){var t=b.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},B=h?3:1;B>0&&"break"!==L(B);B--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},W=n(438);var G={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Object(W.a)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var $=n(436);var q={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,h=n.tetherOffset,m=void 0===h?0:h,v=Object(z.a)(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=Object(x.a)(t.placement),O=Object(V.a)(t.placement),w=!O,E=Object(T.a)(y),S=(function(e){return"x"===e?"y":"x"})(E),C=t.modifiersData.popperOffsets,j=t.rects.reference,P=t.rects.popper,R="function"==typeof m?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m,A={x:0,y:0};if(C){if(o){var I="y"===E?_.m:_.f,D="y"===E?_.c:_.k,M="y"===E?"height":"width",N=C[E],L=C[E]+v[I],F=C[E]-v[D],B=p?-P[M]/2:0,U=O===_.l?j[M]:P[M],H=O===_.l?-P[M]:-j[M],W=t.elements.arrow,G=p&&W?g(W):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Object($.a)(),Y=q[I],K=q[D],J=k(0,j[M],G[M]),X=w?j[M]/2-B-J-Y-R:U-J-Y-R,Z=w?-j[M]/2+B+J+K+R:H+J+K+R,Q=t.elements.arrow&&Object(b.a)(t.elements.arrow),ee=Q?"y"===E?Q.clientTop||0:Q.clientLeft||0:0,te=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,ne=C[E]+X-te-ee,re=C[E]+Z-te,ie=k(p?Math.min(L,ne):L,N,p?Math.max(F,re):F);C[E]=ie,A[E]=ie-N}if(s){var oe="x"===E?_.m:_.f,ae="x"===E?_.c:_.k,se=C[S],ue=k(se+v[oe],se,se-v[ae]);C[S]=ue,A[S]=ue-se}t.modifiersData[r]=A}},requiresIfExists:["offset"]},Y={name:"applyStyles",enabled:!0,fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];i instanceof HTMLElement&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={position:t.options.strategy,left:0,top:0,right:"auto",bottom:"auto",margin:0};Object.assign(t.elements.popper.style,n)},phase:"write",requires:["computeStyles"]};var K=n(316),J="top",X="left",Z="right",Q="bottom";function ee(e,t){var n=(function(e){return e.split("-")[0]})(e),r=[X,J].indexOf(n)>=0?-1:1,i=t[0]||0,o=(t[1]||0)*r;return[X,Z].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}function te(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ne(e){return[J,Z,Q,X].some((function(t){return e[t]>=0}))}var re=S({defaultModifiers:[Y,R,D,N,H,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=e.options.boundary,o=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,u=Object(z.a)(t,{elementContext:"reference",boundary:i}),c=Object(z.a)(t,{altBoundary:!0,boundary:i}),l=te(u,o),f=te(c,a,s),d=ne(l),p=ne(f);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object(r.__assign)(Object(r.__assign)({},t.attributes.popper),{"data-popper-reference-hidden":d,"data-popper-escaped":p})}},{name:"offset",enabled:!0,fn:function(e){var t=e.state,n=e.options,r=n.offset,i=void 0===r?[0,0]:r,o=n.tailOffset;t.modifiersData.arrow&&o&&(t.modifiersData.arrow.x&&(t.modifiersData.arrow.x+=o),t.modifiersData.arrow.y&&(t.modifiersData.arrow.y+=o));if(t.modifiersData.popperOffsets&&t.elements.arrow){var a=(function(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}})(t.elements.arrow).width,s=ee(t.placement,[0,a/2]),u=s.x,c=s.y;t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c}var l=K.a.reduce((function(e,t){return e[t]=ee(t,i),e}),{}),f=l[t.placement],d=f.x,p=f.y;t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x=Math.round(t.modifiersData.popperOffsets.x+d),t.modifiersData.popperOffsets.y=Math.round(t.modifiersData.popperOffsets.y+p));t.modifiersData.offset=l},phase:"main",requires:["popperOffsets"]},{name:"patchScaleFactor",enabled:!0,fn:function(e){var t,n=e.state,i=e.instance;i.__patchCounter=null!==(t=i.__patchCounter)&&void 0!==t?t:0;var o=n.elements.reference,a=i.__patchCounter;if(a>2)return;if(!(o instanceof HTMLElement))return;var s=Object(r.__read)(function(e){var t=window.getComputedStyle(e),n=t.transform||t.webkitTransform,r=n.indexOf("3d")>=0?"3d":"2d",i=n.match(/matrix.*\((.+)\)/);if("2d"===r&&null!==i){var o=i[1].split(", ");return[Number(o[0]),Number(o[3])]}return[1,1]}(o),2),u=s[0],c=s[1];if(1===a&&(1!==u||1!==c)){var l=n.rects.reference,f=l.width,d=l.height,p=Number((f/u).toFixed(2)),h=Number((d/c).toFixed(2)),m=(p-f)/2,v=(h-d)/2;n.rects.reference={x:Math.round(n.rects.reference.x-m),y:Math.round(n.rects.reference.y-v),width:p,height:h}}i.__patchCounter++},phase:"beforeRead",requires:["popperOffsets"]},G,q]});function ie(e){var t=e.anchorRef,n=e.arrowMarginThreshold,o=void 0===n?4:n,u=e.placement,c=void 0===u?"bottom":u,l=e.enabled,f=void 0===l||l,d=e.marginThreshold,p=void 0===d?16:d,h=e.modifiers,m=void 0===h?[]:h,v=e.motionless,g=e.offset,y=e.unsafe_tailOffset,b=e.children,_=e.boundary,O=Array.isArray(c)?c:[c],w=Object(i.useRef)(null),E=Object(i.useRef)(null),S=Object(r.__read)(Object(i.useState)(null),2),x=S[0],C=S[1],T=Object(r.__read)(Object(i.useState)(null),2),k=T[0],j=T[1],P=Object(i.useMemo)((function(){var e=Object(r.__read)(O),t=e[0],n=e.slice(1),i=(function(e){var t=(Array.isArray(e)?e:[e]).reduce((function(e,t){return t&&t.current&&e.push(t.current),e}),[]);return t.length?t:void 0})(_),s={children:b,placement:t,modifiers:Object(r.__spread)([{name:"eventListeners",enabled:!v},{name:"offset",options:{offset:g,tailOffset:y}},{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"preventOverflow",options:{altBoundary:!0,boundary:i}},{name:"arrow",enabled:Boolean(k),options:{element:k,padding:o}},{name:"flip",options:{padding:p,fallbackPlacements:n,altBoundary:!0,boundary:i}},{name:"hide",options:{boundary:i}}],m)};return (function e(t,n){if(t===n)return!0;if(t&&n&&"object"===a()(t)&&"object"===a()(n)){if(t.constructor!==n.constructor)return!1;var r,i,o=void 0;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(o=r;0!=o--;)if(("_owner"!==i[o]&&"__v"!==i[o]&&"__o"!==i[o]||!t.$$typeof)&&!e(t[i[o]],n[i[o]]))return!1;return!0}return t!=t&&n!=n})(E.current,s)?E.current||s:E.current=s}),[O,g,k,o,v,p,y,m,b,_]);return Object(s.a)((function(){null!==w.current&&w.current.setOptions(P)}),[P]),Object(s.a)((function(){return t.current&&x&&f&&(w.current=re(t.current,x,P),w.current.forceUpdate()),function(){null!==w.current&&(w.current.destroy(),w.current=null)}}),[t,x,f]),{popper:w.current,setArrowRef:j,setPopupRef:C}}n.d(t,"a",(function(){return ie}))}),(function(e,t,n){"use strict";var r=n(0);function i(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)}var o=["input","select","textarea","button","a[href]","area[href]","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),a=null;function s(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function u(e){return"INPUT"===e.tagName}function c(e){return u(e)&&"radio"===e.type}function l(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:i(e.form||e.ownerDocument,(function(t){var n=t;return c(n)&&n.name===e.name&&n.checked&&n.form===e.form})).nextNode()})(e);return!t||t===e}function f(e){return!(!(function(e,t){return!!a&&a.call(e,t)})(e,o)||c(e)&&!l(e)||(function(e){return u(e)&&"hidden"===e.type})(e))&&(s(e)>=0&&!e.disabled&&!(function(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1})(e))}function d(e,t){for(var n=i(e,(function(e){var n=f(e);return t?n&&t(e):n})),r=[],o=[],a=0;n.nextNode();){var u=n.currentNode;0===s(u)?o.push(u):r.push({index:a++,tabIndex:s(u),node:u})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(o)}"undefined"!=typeof Element&&(a=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var p,h=n(2),m="focusTrapGuard",v=null;function g(){return document.activeElement}function y(e,t){return e.contains(t)}function b(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[m]="true",t}function _(e){return Boolean(e.dataset[m])}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e){if(function(){if(null===v){v=!1;try{document.createElement("div").focus({get preventScroll(){return v=!0,!0}})}catch(e){}}return v}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var r=Object(h.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.element,s=o.scrollTop,u=o.scrollLeft;a.scrollTop=s,a.scrollLeft=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})(t)}}function E(e,t){if(e)try{t?w(e):e.focus()}catch(e){}}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(p||(p={}));var S=(function(){function e(){this.instances=[],this.direction=p.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,r=g();!n||r&&y(t,r)||(!(function(e){E(Object(h.__read)(d(e,(function(e){return!_(e)})),1)[0])})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=g();t&&y(e,t)||E(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,i=g();if(this.lastActiveElement=i,this.direction=p.None,i&&g()!==document.body&&!y(t,i)){var o=d(t,(function(e){return!_(e)})),a=o.indexOf(i);if(0===o.length)this.focusScope(t);else if(-1===a){E(o[(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?o.indexOf(r):-1,o.length,n)])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?p.Backward:p.Forward)},e.prototype.onMouseDown=function(){this.direction=p.None},e})(),x=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(h.__assign)(Object(h.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=b(1),t=b(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){O(e),O(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();var C=n(2230),T=n(85);function k(e){var t=e.scopeRef,n=e.enabled,i=e.restoreFocusRef,o=e.restoreFocus,a=void 0===o||o,s=e.autoFocus,u=void 0===s||s,c=Object(r.useRef)(null),l=Object(r.useRef)(null),f=Object(r.useMemo)((function(){return{autoFocus:u}}),[u]);Object(r.useEffect)((function(){c.current&&c.current.setOptions(f)}),[f]),Object(C.a)((function(){l.current!==t.current&&(l.current=t.current,c.current&&(c.current.deactivate(),c.current=null),l.current&&(c.current=(function(e,t){void 0===t&&(t={});var n=S.getInstance();return new x(n,e,t)})(l.current,f),n&&c.current.activate()))})),Object(C.a)((function(){if(n&&c.current)return c.current.activate(),function(){c.current&&c.current.deactivate()}}),[n]),(function(e){var t=e.enabled,n=e.restoreFocusRef,i=Object(r.useRef)(null),o=Object(r.useRef)(null);t&&!i.current&&(i.current=Object(T.a)()?document.activeElement:null),Object(r.useEffect)((function(){o.current=n?n.current:null})),Object(r.useEffect)((function(){if(t)return function(){var e=o.current||i.current;i.current=null,o.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])})({enabled:n&&a,restoreFocusRef:i})}n.d(t,"a",(function(){return k}))}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(2200);function a(e,t,n){return{source:n,target:e.target,currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey}}function s(e,t){if(!e)return!1;if(document.elementFromPoint){var n=document.elementFromPoint(t.clientX,t.clientY);return e.contains(n)}var r=e.getBoundingClientRect(),i=(function(e){var t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}})(t);return!(r.left>i.right||i.left>r.right)&&!(r.top>i.bottom||i.top>r.bottom)}function u(e){var t=e.getAttribute("type");return"INPUT"===e.tagName&&("checkbox"===t||"radio"===t)}function c(e){var t=e.key,n=e.target,r=n.getAttribute("role"),i="A"===n.tagName&&n.hasAttribute("href"),o=n.getAttribute("contenteditable");return!((u(n)||"Enter"!==t)&&" "!==t&&"Spacebar"!==t||"true"===o||i&&("button"!==r||"Enter"===t)||"link"===r&&"Enter"!==t)}var l="idle",f="";function d(){return document.documentElement.style.userSelect||document.documentElement.style.webkitUserSelect}function p(e){document.documentElement.style.userSelect=e,document.documentElement.style.webkitUserSelect=e}function h(){"disabled"===l&&(l="restoring",setTimeout((function(){requestAnimationFrame((function(){"restoring"===l&&("none"===d()&&p(f),f="",l="idle")}))}),300))}function m(e,t){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];if(i.identifier===t)return i}return null}function v(e){var t=e.preventFocusOnPress,n=(function(){var e=Object(i.useRef)(new Map),t=Object(i.useCallback)((function(t,n,r,i){e.current.set(r,{type:n,eventTarget:t,options:i}),t.addEventListener(n,r,i)}),[]),n=Object(i.useCallback)((function(t,n,r,i){t.removeEventListener(n,r,i),e.current.delete(r)}),[]),r=Object(i.useCallback)((function(){e.current.forEach((function(e,t){n(e.eventTarget,e.type,t,e.options)}))}),[n]);return Object(i.useEffect)((function(){return r}),[r]),{addListener:t,removeListener:n,removeAllListeners:r}})(),v=n.addListener,g=n.removeAllListeners,y=Object(r.__read)(Object(i.useState)(!1),2),b=y[0],_=y[1],O=Object(i.useRef)({currentPointerId:null,currentPointerTarget:null,isPressed:!1,isPressStarted:!1}),w=Object(i.useRef)({});w.current={disabled:e.disabled,onPressStart:e.onPressStart,onPressUp:e.onPressUp,onPressEnd:e.onPressEnd,onPress:e.onPress};var E=Object(i.useMemo)((function(){var e=O.current,n={onKeyDown:function(t){c(t.nativeEvent)&&(u(t.target)||t.preventDefault(),t.stopPropagation(),e.isPressed||t.repeat||i(a(t,t.currentTarget,"keyboard")))},onKeyUp:function(e){c(e.nativeEvent)&&!e.repeat&&(y(a(e,e.currentTarget,"keyboard")),b(a(e,e.currentTarget,"keyboard")))}},i=function(t){var n=w.current,i=n.disabled,o=n.onPressStart;i||e.isPressStarted||(_(!0),e.isPressStarted=!0,null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressstart"})))},y=function(e){var t=w.current,n=t.disabled,i=t.onPressUp;n||null===i||void 0===i||i(Object(r.__assign)(Object(r.__assign)({},e),{type:"pressup"}))},b=function(t,n){void 0===n&&(n=!0);var i=w.current,o=i.onPress,a=i.onPressEnd;e.isPressStarted&&(_(!1),e.isPressStarted=!1,null===a||void 0===a||a(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressend"})),n&&(null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"press"}))))},E=function(t,n){e.currentPointerTarget=t,e.currentPointerId=n,e.isPressed=!0,"idle"===l&&(f=d(),p("none")),l="disabled",_(!0)},S=function(){e.isPressed&&(e.isPressed=!1,h(),_(!1),g())};if("undefined"!=typeof PointerEvent){var x=function(t){var n=t.pointerType;s(e.currentPointerTarget,t)?i(a(t,e.currentPointerTarget,n)):b(a(t,e.currentPointerTarget,n),!1)},C=function(t){if(t.pointerId===e.currentPointerId&&(S(),s(e.currentPointerTarget,t))){var n=t.pointerType;y(a(t,e.currentPointerTarget,n)),b(a(t,e.currentPointerTarget,n))}},T=function(t){if(e.isPressed){var n=t.pointerType;b(a(t,e.currentPointerTarget,n),!1)}S()};n.onPointerDown=function(n){var r=w.current.disabled;0===n.button&&(n.preventDefault(),n.stopPropagation(),e.isPressed||r||(t||Object(o.b)(n.currentTarget),E(n.currentTarget,n.pointerId),i(a(n,n.currentTarget,n.pointerType)),v(document,"pointermove",x,!1),v(document,"pointerup",C,!1),v(document,"pointercancel",T,!1)))}}else{var k=function(t){var n=m(t,e.currentPointerId);n&&(s(e.currentPointerTarget,n)?i(a(t,e.currentPointerTarget,"touch")):b(a(t,e.currentPointerTarget,"touch"),!1))},j=function(t){var n=m(t,e.currentPointerId);(null===n||void 0===n?void 0:n.identifier)===e.currentPointerId&&(S(),s(e.currentPointerTarget,n)&&(y(a(t,e.currentPointerTarget,"touch")),b(a(t,e.currentPointerTarget,"touch"))))},P=function(t){e.isPressed&&b(a(t,e.currentPointerTarget,"touch"),!1),S()};n.onTouchStart=function(n){var r=w.current.disabled;n.preventDefault(),n.stopPropagation();var s=(function(e){var t=e.targetTouches;return t.length>0?t[0]:null})(n.nativeEvent);!s||e.isPressed||r||(t||Object(o.b)(n.currentTarget),E(n.currentTarget,s.identifier),i(a(n,n.currentTarget,"touch")),v(document,"touchmove",k,!1),v(document,"touchend",j,!1),v(document,"touchcancel",P,!1))}}return n}),[v,t,g]);return Object(i.useEffect)((function(){return h}),[]),{isPressed:b,pressProps:E}}n.d(t,"a",(function(){return v}))}),(function(e,t,n){"use strict";var r,i=n(0),o=n(2230),a=n(85);function s(){return"undefined"!=typeof window&&window.navigator&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)}function u(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.style[r]);for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return n}function c(e){var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function l(e){return e===document.body||e===document.documentElement}var f="__scrollLockState$"+Math.random().toString(36).slice(2);function d(e){return e[f]}function p(e){var t=l(e)&&window.innerWidth-document.documentElement.clientWidth>0,n=e.scrollHeight>e.clientHeight;return t||n||(function(e){var t=getComputedStyle(e).overflowY;return/scroll/.test(t)})(e)?(function(){if("undefined"==typeof document)return 0;if(void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t),r=n-i}return r})():0}function h(e){var t=d(e);if(t)t.count++;else{var n=p(e);!(function(e,t){e[f]=t})(e,{initialStyle:u(e,{paddingRight:parseInt(getComputedStyle(e).getPropertyValue("padding-right"),10)+n+"px",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),count:1})}}function m(e){var t=d(e);t&&(t.count--,0===t.count&&(u(e,t.initialStyle),(function(e){delete e[f]})(e)))}var v=(function(){var e=!1;if(!Object(a.a)())return!1;try{var t=function(){return null},n={get passive(){e=!0}};window.addEventListener("testPassive",t,n),window.removeEventListener("testPassive",t)}catch(e){}return e})()?{passive:!1}:void 0,g={count:0,lastX:0,lastY:0,scrollable:null,scrollX:0,scrollY:0};function y(e){if(1===e.changedTouches.length){if(g.scrollable=(function(e){for(;e&&!c(e);)e=e.parentElement;return e||document.documentElement})(e.target),l(g.scrollable))return;g.lastX=e.changedTouches[0].pageX,g.lastY=e.changedTouches[0].pageY}}function b(e){var t=g.scrollable,n=g.lastX,r=g.lastY;if(!(e.changedTouches.length>1))if(t&&!l(t)){var i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY,a=Math.abs(r-o)>Math.abs(n-i),s=t.scrollTop,u=t.scrollHeight-t.clientHeight,c=t.scrollLeft,f=t.scrollWidth-t.clientWidth;(a&&(s<=0&&o>r||s>=u&&o<r)||!a&&(c<=0&&i>n||c>=f&&i<n))&&e.preventDefault(),g.lastX=i,g.lastY=o}else e.preventDefault()}function _(){g.scrollable&&(g.scrollable=null)}function O(e){return e||document.body}function w(e){if(Object(a.a)()){var t=O(e);h(t),s()&&(function(e){l(e)&&(g.count++,1===g.count&&(g.scrollX=window.pageXOffset,g.scrollY=window.pageYOffset,document.addEventListener("touchstart",y,v),document.addEventListener("touchmove",b,v),document.addEventListener("touchend",_,v)))})(t)}}function E(e){if(Object(a.a)()){var t=O(e);m(t),s()&&(function(e){l(e)&&0!==g.count&&(g.count--,0===g.count&&(document.removeEventListener("touchstart",y),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_),window.scrollTo(g.scrollX,g.scrollY)))})(t)}}function S(e){var t=e.enabled,n=e.containerRef,r=Object(i.useRef)(null),a=Object(i.useRef)(!1);Object(o.a)((function(){var e=n?n.current:null;r.current!==e&&(t&&a.current&&(E(r.current),w(e)),r.current=e)})),Object(o.a)((function(){if(t)return a.current=!0,w(r.current),function(){a.current=!1,E(r.current)}}),[t])}n.d(t,"a",(function(){return S}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(19),h=n(0),m=n.n(h),v=n(36),g=n(8),y=n.n(g),b=n(72),_=n(57),O=n(59),w=n(30),E=n.n(w),S=n(12);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var C=(function(e){u()(n,e);var t=x(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getViewBox",value:function(){switch(this.props.type){case"be":case"ka":case"az":case"uz":case"hy":case"ro":case"kk":return"0 0 640 480";default:return null}}},{key:"getContentSVG",value:function(){switch(this.props.type){case"en":return m.a.createElement("g",null,m.a.createElement("path",{d:"M0 2h16v12H0z",fill:"#003671"}),m.a.createElement("path",{fill:"#FFF",d:"M15.982 2.01h-1.945l-3.995 2.985V2H5.959v3.01l-4.01-2.998H.02v1.456l3.372 2.536H.02V10h3.372L.02 12.535v1.457h1.929l4.01-2.998v3.01h4.083v-2.995l3.995 2.985h1.945v-1.457l-3.388-2.535h3.388V6.006h-3.388l3.388-2.536z"}),m.a.createElement("g",{fill:"#DC2F34"},m.a.createElement("path",{d:"M15.418 13.99l-5.314-3.992h1.845l4.03 3.04v.952zM.582 13.99l5.314-3.992H4.051l-4.03 3.04v.952zM5.896 6L.557 2.005H.018v.954L4.07 6zM10.1 5.995L15.438 2h.54v.954l-4.052 3.041z"}),m.a.createElement("path",{d:"M15.982 6.958h-6.94V2.001H6.917v4.957H.018v2.126h6.899V14h2.125V9.084h6.94z"})));case"ru":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#FFF",d:"M0 2h16v4H0z"}),m.a.createElement("path",{fill:"#E03A3E",d:"M0 10h16v4H0z"}),m.a.createElement("path",{fill:"#00539F",d:"M0 6h16v4H0z"}));case"tr":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#E62126",d:"M0 2h16v12H0z"}),m.a.createElement("g",{fill:"#FFF"},m.a.createElement("path",{d:"M7.856 9.565a2.968 2.968 0 0 1-2.518 1.389 2.96 2.96 0 0 1-2.966-2.953 2.96 2.96 0 0 1 2.966-2.954 2.97 2.97 0 0 1 2.518 1.389 2.266 2.266 0 0 0-1.634-.693 2.263 2.263 0 0 0-2.268 2.258 2.263 2.263 0 0 0 2.268 2.258 2.262 2.262 0 0 0 1.634-.693"}),m.a.createElement("path",{d:"M7.583 7.92l1.353-1.353 1.352 1.352-1.353 1.353z"})));case"uk":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#FFF200",d:"M0 8h16v6H0z"}),m.a.createElement("path",{fill:"#007CC3",d:"M0 2h16v6H0z"}));case"tt":return m.a.createElement("g",null,m.a.createElement("rect",{fill:"#008000",width:"16",height:"6",y:"1"}),m.a.createElement("rect",{fill:"#FFF",width:"16",height:"2",y:"7"}),m.a.createElement("rect",{fill:"#F00",width:"16",y:"9",height:"6"}));case"be":return m.a.createElement("g",null,m.a.createElement("defs",null,m.a.createElement("clipPath",{id:"by-flag"},m.a.createElement("path",{fillOpacity:".7",d:"M0 0h682.6v512H0z"}))),m.a.createElement("g",{fillRule:"evenodd",clipPath:"url(#by-flag)",transform:"scale(.9376 .9375)"},m.a.createElement("path",{fill:"#b20000",d:"M0 0h1024v340.1H0z"}),m.a.createElement("path",{fill:"#429f00",d:"M0 340.1h1024V512H0z"}),m.a.createElement("path",{fill:"#fff",d:"M0 0h113.4v512H0z"}),m.a.createElement("g",{fill:"#b20000",strokeWidth:"1pt"},m.a.createElement("path",{d:"M5.4 8.7h5.4v8.7H5.4zm16.2 0h16.2v8.7H21.6zM27 0h5.4v8.7H27zm27 0h5.4v8.7H54zm21.6 8.7h16.2v8.7H75.6zM81 0h5.4v8.7H81zM16.2 17.4H27V26H16.2zm16.2 0h10.8V26H32.4zm37.8 0H81V26H70.2zm16.2 0h10.8V26H86.4zM10.8 26h10.8v8.7H10.8zm27 0h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm27 0h10.8v8.7H91.8zm10.8-17.3h5.4v8.7h-5.4zm-97.2 26h10.8v8.7H5.4zm37.8 0H54v8.7H43.2zm54 0H108v8.7H97.2zm-86.4 26h10.8v8.7H10.8zm5.4 8.7H27v8.7H16.2zm21.6-8.6h10.8v8.6H37.8zm-5.4 8.6h10.8v8.7H32.4zm-10.8 8.7h16.2v8.7H21.6z"}),m.a.createElement("path",{d:"M27 86.8h5.4v8.7H27zm37.8-26h10.8v8.6H64.8zm5.4 8.6H81v8.7H70.2zm21.6-8.6h10.8v8.6H91.8zm-5.4 8.6h10.8v8.7H86.4zm-10.8 8.7h16.2v8.7H75.6zm5.4 8.7h5.4v8.7H81zM54 78h5.4v8.7H54zM0 78h5.4v8.7H0zm108 0h5.4v8.7H108zm-81 43.4h5.4v8.7H27zm-5.4 8.8h16.2v8.6H21.6zm-5.4 8.6h27v8.7h-27zM81 121.5h5.4v8.7H81zm-5.4 8.7h16.2v8.6H75.6zm-5.4 8.6h27v8.7h-27zm5.4 43.4h27v8.7h-27zm-10.8-34.7h37.8v8.7H64.8zm-54 0h37.8v8.7H10.8zm5.4 43.4h16.2v8.7H16.2zm-5.4-8.7h27v8.7h-27zM86.4 165h27v8.7h-27zM81 191h16.2v8.7H81z"}),m.a.createElement("path",{d:"M21.6 199.6H27v8.7h-5.4zm64.8 0h5.4v8.7h-5.4zM0 164.9h27v8.7H0zm48.6 17.3h16.2v8.7H48.6zM54 191h5.4v8.7H54zm-16.2-26h37.8v8.7H37.8zM59.4 34.7h10.8v8.7H59.4zm-10.8 8.7h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zM0 43.4h10.8v8.7H0zm5.4 8.7h10.8v8.6H5.4zm97.2-8.7h10.8V52h-10.8zM97.2 52H108v8.6H97.2zM0 130h5.4v8.7H0zm108 0h5.4v8.7H108zm-59.4 69.5h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zm-21.6 8.6h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm-32.4 8.7h10.8v8.7H32.4zm37.8 0H81v8.7H70.2zM27 234.3h10.8v8.7H27zm48.6 0h10.8v8.7H75.6zM16.2 243h16.2v8.7H16.2zm64.8 0h16.2v8.7H81zm10.8-8.7h10.8v8.7H91.8zm5.4-8.7H108v8.7H97.2zm5.4-8.7h10.8v8.7h-10.8zm-91.8 17.4h10.8v8.7H10.8zm-5.4-8.7h10.8v8.7H5.4zM0 217h10.8v8.7H0zm21.6 34.8H27v8.6h-5.4zm64.8 0h5.4v8.6h-5.4zm-32.4-26h5.4v8.6H54zm-16.2 26h5.4v8.6h-5.4zm32.4 0h5.4v8.6h-5.4zm-16.2 0h5.4v8.6H54zm-54 0h5.4v8.6H0zm108 0h5.4v8.6H108zM54 130.2h5.4v8.6H54zM27 43.4h5.4v8.7H27zm54 0h5.4v8.7H81zm-32.4 60.7h16.2v8.7H48.6zm-10.8 8.7H54v8.7H37.8zm5.4 8.7h5.4v8.7h-5.4zm-10.8-17.4h10.8v8.7H32.4zm5.4-8.6H54v8.6H37.8zm5.4-8.7h5.4v8.7h-5.4zm16.2 8.7h16.2v8.6H59.4zm5.4-8.7h5.4v8.7h-5.4zm5.4 17.3H81v8.7H70.2zm-10.8 8.7h16.2v8.7H59.4zm5.4 8.7h5.4v8.7h-5.4zm21.6-17.4h10.8v8.7H86.4zm5.4-8.6H108v8.6H91.8zm10.8 8.6h10.8v8.7h-10.8zm-10.8 8.7H108v8.7H91.8zm5.4 8.7h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zM0 104h10.8v8.7H0zm5.4-8.6h16.2v8.6H5.4zm10.8 8.6H27v8.7H16.2zm-10.8 8.7h16.2v8.7H5.4z"}),m.a.createElement("path",{d:"M10.8 121.5h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zm-5.4 69.4H27v8.7H5.4zm27 0H54v8.7H32.4zm27 0H81v8.7H59.4zm27 0H108v8.7H86.4zm-43.2 17.4h27v8.6h-27zm-37.8 0h27v8.6h-27zm75.6 0h27v8.6H81zm27 34.7h5.4v8.6H108zm-108 0h5.4v8.6H0zm5.4 295h5.4v-8.6H5.4zm16.2 0h16.2v-8.6H21.6zM27 512h5.4v-8.7H27zm27 0h5.4v-8.7H54zm21.6-8.7h16.2v-8.7H75.6zM81 512h5.4v-8.7H81zm-64.8-17.4H27V486H16.2zm16.2 0h10.8V486H32.4zm37.8 0H81V486H70.2zm16.2 0h10.8V486H86.4zM37.8 486h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm27 0h10.8v-8.7H91.8zm10.8 17.3h5.4v-8.7h-5.4zm-97.2-26h10.8v-8.7H5.4zm37.8 0H54v-8.7H43.2zm54 0H108v-8.7H97.2zm-86.4-26h10.8v-8.7H10.8zm5.4-8.7H27v-8.7H16.2zm21.6 8.7h10.8v-8.7H37.8zm-5.4-8.7h10.8v-8.7H32.4zm-10.8-8.7h16.2v-8.7H21.6zm5.4-8.7h5.4v-8.6H27zm37.8 26h10.8v-8.6H64.8zm5.4-8.6H81v-8.7H70.2zm21.6 8.7h10.8v-8.7H91.8zm-5.4-8.7h10.8v-8.7H86.4zm-10.8-8.7h16.2v-8.7H75.6zm5.4-8.7h5.4v-8.6H81zM54 434h5.4v-8.7H54zm-54 0h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-81-43.4h5.4v-8.7H27zm-5.4-8.8h16.2v-8.6H21.6zm-5.4-8.6h27v-8.7h-27zM81 390.5h5.4v-8.7H81z"}),m.a.createElement("path",{d:"M75.6 381.8h16.2v-8.6H75.6zm-5.4-8.6h27v-8.7h-27zm5.4-43.4h27V321h-27zm-10.8 34.7h37.8v-8.7H64.8zm-54 0h37.8v-8.7H10.8zm5.4-43.4h16.2v-8.7H16.2zm-5.4 8.7h27V321h-27zM86.4 347h27v-8.7h-27zM81 321h16.2v-8.7H81zM0 347h27v-8.7H0zm48.6-17.3h16.2V321H48.6zM54 321h5.4v-8.7H54zm-16.2 26h37.8v-8.7H37.8zm21.6 130.2h10.8v-8.7H59.4zm-10.8-8.7h16.2V460H48.6zm-5.4-8.7H54v-8.7H43.2zm16.2 0h10.8v-8.7H59.4zM0 468.6h10.8V460H0zm5.4-8.7h10.8v-8.6H5.4zm97.2 8.7h10.8V460h-10.8zm-5.4-8.7H108v-8.6H97.2zM0 382h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-64.8-78.2H54v-8.6H43.2zm16.2 0h10.8v-8.6H59.4zm-21.6-8.6h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm-32.4-8.7h10.8v-8.7H32.4zm37.8 0H81v-8.7H70.2zM27 277.7h10.8V269H27zm48.6 0h10.8V269H75.6zM16.2 269h16.2v-8.7H16.2zm64.8 0h16.2v-8.7H81zm10.8 8.7h10.8V269H91.8zm5.4 8.7H108v-8.7H97.2zm5.4 8.7h10.8v-8.7h-10.8zm-91.8-17.4h10.8V269H10.8zm-5.4 8.7h10.8v-8.7H5.4zM0 295h10.8v-8.7H0zm21.6-34.8H27v-8.6h-5.4zm32.4 26h5.4v-8.6H54zm0 95.5h5.4v-8.6H54zm-27 86.8h5.4V460H27zm54 0h5.4V460H81zM48.6 408h16.2v-8.7H48.6zm-10.8-8.7H54v-8.7H37.8zm5.4-8.7h5.4v-8.7h-5.4zM32.4 408h10.8v-8.7H32.4zm5.4 8.5H54V408H37.8zm5.4 8.7h5.4v-8.6h-5.4zm16.2-8.7h16.2V408H59.4zm5.4 8.7h5.4v-8.6h-5.4zm5.4-17.3H81v-8.7H70.2zm-10.8-8.7h16.2v-8.7H59.4zm5.4-8.7h5.4v-8.7h-5.4zM86.4 408h10.8v-8.7H86.4zm5.4 8.5H108V408H91.8zm10.8-8.6h10.8v-8.7h-10.8zm-10.8-8.7H108v-8.7H91.8zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zM0 408h10.8v-8.7H0zm5.4 8.5h16.2V408H5.4z"}),m.a.createElement("path",{d:"M16.2 407.9H27v-8.7H16.2zm-10.8-8.7h16.2v-8.7H5.4zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zm-5.4-69.4H27v-8.7H5.4zm27 0H54v-8.7H32.4zm27 0H81v-8.7H59.4zm27 0H108v-8.7H86.4zm-43.2-17.4h27v-8.6h-27zm-37.8 0h27v-8.6h-27zm75.6 0h27v-8.6H81zm27-34.6h5.4V295H108zm-108 0h5.4V295H0zm48.6-43.5H54v8.7h-5.4zm10.8 0h5.4v8.7h-5.4zm0-17.3h5.4v8.7h-5.4zm-10.8 0H54v8.7h-5.4zM10.8 477.3h10.8v8.7H10.8zm75.6-164.9h5.4v-8.7h-5.4zm-64.8 0H27v-8.7h-5.4zm27-8.7h16.2v8.7H48.6z"}))));case"ka":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#fff",d:"M0 0h640v480H0z"}),m.a.createElement("path",{fill:"red",d:"M272 0h96v480h-96z"}),m.a.createElement("path",{fill:"red",d:"M0 192h640v96H0z"}),m.a.createElement("path",{fill:"red",fillRule:"evenodd",d:"M146.8 373.1c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368-288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.1c-16.9-1-31.2-3.9-31.2-3.9s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.1c16.9 1 31.2 4 31.2 4s-1-10-1-14.9 1-14.8 1-14.8-14.3 3-31.2 4zm-368 0c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368 288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.2 4z"}));case"az":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#3f9c35",d:"M.1 0h640v480H.1z"}),m.a.createElement("path",{fill:"#ed2939",d:"M.1 0h640v320H.1z"}),m.a.createElement("path",{fill:"#00b9e4",d:"M.1 0h640v160H.1z"}),m.a.createElement("circle",{cx:"304",cy:"240",r:"72",fill:"#fff"}),m.a.createElement("circle",{cx:"320",cy:"240",r:"60",fill:"#ed2939"}),m.a.createElement("path",{fill:"#fff",d:"M384 200l7.7 21.5 20.6-9.8-9.8 20.7L424 240l-21.5 7.7 9.8 20.6-20.6-9.8L384 280l-7.7-21.5-20.6 9.8 9.8-20.6L344 240l21.5-7.7-9.8-20.6 20.6 9.8L384 200z"}));case"uz":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#1eb53a",d:"M0 320h640v160H0z"}),m.a.createElement("path",{fill:"#0099b5",d:"M0 0h640v160H0z"}),m.a.createElement("path",{fill:"#ce1126",d:"M0 153.6h640v172.8H0z"}),m.a.createElement("path",{fill:"#fff",d:"M0 163.2h640v153.6H0z"}),m.a.createElement("circle",{cx:"134.4",cy:"76.8",r:"57.6",fill:"#fff"}),m.a.createElement("circle",{cx:"153.6",cy:"76.8",r:"57.6",fill:"#0099b5"}),m.a.createElement("g",{fill:"#fff",transform:"matrix(1.92 0 0 1.92 261.1 122.9)"},m.a.createElement("g",{id:"uz-e"},m.a.createElement("g",{id:"uz-d"},m.a.createElement("g",{id:"uz-c"},m.a.createElement("g",{id:"uz-b"},m.a.createElement("path",{id:"uz-a",d:"M0-6L-1.9-.3 1 .7"}),m.a.createElement("use",{width:"100%",height:"100%",transform:"scale(-1 1)",xlinkHref:"#uz-a"})),m.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(72)",xlinkHref:"#uz-b"})),m.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(-72)",xlinkHref:"#uz-b"}),m.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(144)",xlinkHref:"#uz-c"})),m.a.createElement("use",{width:"100%",height:"100%",y:"-24",xlinkHref:"#uz-d"}),m.a.createElement("use",{width:"100%",height:"100%",y:"-48",xlinkHref:"#uz-d"})),m.a.createElement("use",{width:"100%",height:"100%",x:"24",xlinkHref:"#uz-e"}),m.a.createElement("use",{width:"100%",height:"100%",x:"48",xlinkHref:"#uz-e"}),m.a.createElement("use",{width:"100%",height:"100%",x:"-48",xlinkHref:"#uz-d"}),m.a.createElement("use",{width:"100%",height:"100%",x:"-24",xlinkHref:"#uz-d"}),m.a.createElement("use",{width:"100%",height:"100%",x:"-24",y:"-24",xlinkHref:"#uz-d"})));case"hy":return m.a.createElement("g",null,m.a.createElement("path",{fill:"red",d:"M0 0h640v160H0z"}),m.a.createElement("path",{fill:"#00f",d:"M0 160h640v160H0z"}),m.a.createElement("path",{fill:"orange",d:"M0 320h640v160H0z"}));case"ro":return m.a.createElement("g",{fillRule:"evenodd",strokeWidth:"1pt"},m.a.createElement("path",{fill:"#00319c",d:"M0 0h213.3v480H0z"}),m.a.createElement("path",{fill:"#ffde00",d:"M213.3 0h213.4v480H213.3z"}),m.a.createElement("path",{fill:"#de2110",d:"M426.7 0H640v480H426.7z"}));case"kk":return m.a.createElement("g",{fillRule:"evenodd"},m.a.createElement("path",{fill:"#6fdcff",d:"M0 0h640v480H0z"}),m.a.createElement("g",{fill:"#ffe400"},m.a.createElement("path",{d:"M60.2 467c3.3 3.2 2.2 8.5 11.3 7.8 13.8 0 14.2-8.4 14.2-14.3S65 446.4 64 437.7c-1-8.7 4.8-11 9.6-11 4.7 0 8 2.7 8 5.1S79.4 435 76 435s1.5-1.7-1.4-3-4.8 2-4.8 4c0 2.2 7.2 2.8 12 1.3 1 4.7 1.4 5-5.3 13 4.8-3.1 5.2-3.8 10.5-2-5.3-4.6-1.3-13.8-1.2-16.1s-1-5.1-3-6.5c-3.9-3.5-12.2-3.7-17.2-1.4-7.3 3.2-7.7 12.8-5.8 16L80 460.7c1.4 2.4 2 9.2-6.6 9.5-9 .7-12.2-11.6-13.8-15.7-2.1 4.5-4.5 16.8-13.6 16.1-8.6-.3-10.2-7-8.8-9.5l20.7-21c2-3.2 1.6-12.8-5.7-16-5-2.3-13.3-2-17.1 1.4-2.2 1.4-3.4 4.1-3.2 6.5s4.1 11.5-1.1 16c5.2-1.7 5.7-1 10.5 2-6.7-7.9-6.2-8.2-5.3-13 4.8 1.6 12 1 12-1.1s-2-5.6-4.9-4.2c-2.8 1.4 2 3.1-1.4 3.1-3.3 0-5.7-.7-5.7-3s3.3-5.3 8.1-5.3 10.5 2.4 9.5 11.1-22 18.1-22 24c0 6 1.4 13.1 15.2 13.1 9 .7 10.1-4.6 13.4-7.8z"}),m.a.createElement("path",{d:"M59.1 343.3c3.3-3.2 6-12.6 15-12 13.8 0 19 7.7 19 13.6 0 5.9-28 54-29 62.7-1 8.7 4.8 11.1 9.5 11.1 4.8 0 8.1-2.7 8.1-5.2s-2.4-3-5.7-3 1.4 1.7-1.4 3-4.8-2-4.8-4.1c0-2.1 7.2-2.8 12-1.2.9-4.7 1.3-5-5.3-13 4.8 3 5.2 3.8 10.5 2-5.3 4.6-1.4 13.7-1.2 16s-1 5.2-3.1 6.6c-3.8 3.5-12.2 3.6-17.2 1.4-7.2-3.3-7.6-12.8-5.7-16L87 346.6c1.5-2.4-2.3-10.4-10.9-10.7-9-.7-12.1 8.8-13.7 12.9l12.3-1s.5 2 0 3.2a110 110 0 0 0-12.3 1.6l-.5 6.2h6l-.4 2.8s-5.1-.4-5.6 0c-.5.3-1 6.2-1 6.2s-1 .4-2 .4-2-.4-2-.4-.4-5.9-.9-6.2c-.5-.4-5.6 0-5.6 0l-.5-2.8H56l-.5-6.2s-6-1.2-12.3-1.6c-.4-1.2 0-3.1 0-3.1l12.3.9c-1.6-4.1-4.7-13.6-13.7-13-8.6.4-12.4 8.4-11 10.8L58 405.2c1.9 3.1 1.5 12.7-5.7 16-5 2.2-13.4 2-17.2-1.4-2.1-1.4-3.3-4.2-3.1-6.5s4-11.6-1.2-16c5.3 1.7 5.8 1 10.5-2.1-6.6 8-6.2 8.3-5.2 13 4.7-1.6 11.9-1 11.9 1.2 0 2-2 5.5-4.8 4.1-2.8-1.4 2-3-1.4-3-3.3 0-5.7.6-5.7 3s3.3 5.2 8 5.2 10.5-2.4 9.6-11c-1-8.7-29-57-29-62.8 0-6 5.2-13.5 19-13.5 9-.7 12.3 8.7 15.5 11.9z"}),m.a.createElement("path",{d:"M59.1 319.4c3.3 3.2 6 12.6 15 12 13.8 0 19-7.7 19-13.6 0-5.9-28-54-29-62.7-1-8.7 4.8-11.1 9.5-11.1 4.8 0 8.1 2.7 8.1 5.2s-2.4 3-5.7 3 1.4-1.6-1.4-3-4.8 2-4.8 4.1c0 2.1 7.2 2.8 12 1.2.9 4.7 1.3 5-5.3 13 4.8-3 5.2-3.8 10.5-2-5.3-4.6-1.4-13.7-1.2-16s-1-5.2-3.1-6.6c-3.8-3.4-12.2-3.6-17.2-1.4-7.2 3.3-7.6 12.8-5.7 16L87 316c1.5 2.4-2.3 10.4-10.9 10.7-9 .7-12.1-8.8-13.7-12.9l12.3 1s.5-2 0-3.2a110 110 0 0 1-12.3-1.6l-.5-6.2h6l-.4-2.8s-5.1.4-5.6 0c-.5-.3-1-6.2-1-6.2s-1-.4-2-.4-2 .4-2 .4-.4 5.9-.9 6.2c-.5.4-5.6 0-5.6 0l-.5 2.8H56l-.5 6.2s-6 1.2-12.3 1.6c-.4 1.2 0 3.1 0 3.1l12.3-.9c-1.6 4.1-4.7 13.6-13.7 13-8.6-.4-12.4-8.4-11-10.8L58 257.5c1.9-3.2 1.5-12.7-5.7-16-5-2.2-13.4-2-17.2 1.4-2.1 1.4-3.3 4.2-3.1 6.5s4 11.5-1.2 16c5.3-1.7 5.8-1 10.5 2.1-6.6-8-6.2-8.3-5.2-13 4.7 1.6 11.9 1 11.9-1.2 0-2-2-5.5-4.8-4.1-2.8 1.4 2 3-1.4 3-3.3 0-5.7-.6-5.7-3s3.3-5.2 8-5.2 10.5 2.4 9.6 11c-1 8.7-29 57-29 62.8 0 6 5.2 13.5 19 13.5 9 .7 12.3-8.7 15.5-11.9z"}),m.a.createElement("path",{d:"M59.1 160.6c3.3-3.2 6-12.6 15-12 13.8 0 19 7.7 19 13.6 0 5.9-28 54-29 62.8-1 8.6 4.8 11 9.5 11 4.8 0 8.1-2.7 8.1-5.1s-2.4-3.2-5.7-3.2 1.4 1.8-1.4 3.2-4.8-2.1-4.8-4.2c0-2 7.2-2.8 12-1.2.9-4.7 1.3-5-5.3-13 4.8 3.1 5.2 3.8 10.5 2-5.3 4.6-1.4 13.8-1.2 16s-1 5.2-3.1 6.6c-3.8 3.5-12.2 3.6-17.2 1.4-7.2-3.3-7.6-12.8-5.7-16L87 164c1.5-2.4-2.3-10.4-10.9-10.7-9-.7-12.1 8.8-13.7 12.9l12.3-1s.5 2 0 3.2c-6.4.4-12.3 1.6-12.3 1.6l-.5 6.2h6l-.4 2.8s-5.1-.3-5.6 0-1 6.3-1 6.3-1 .3-2 .3-2-.3-2-.3-.4-6-.9-6.3c-.5-.3-5.6 0-5.6 0l-.5-2.8H56l-.5-6.2s-6-1.2-12.3-1.6c-.4-1.2 0-3.1 0-3.1l12.3.9c-1.6-4.1-4.7-13.6-13.7-13-8.6.4-12.4 8.4-11 10.8L58 222.5c1.9 3.2 1.5 12.7-5.7 16-5 2.2-13.4 2-17.2-1.4-2.1-1.4-3.3-4.2-3.1-6.5s4-11.5-1.2-16c5.3 1.7 5.8 1 10.5-2.1-6.6 8-6.2 8.3-5.2 13 4.7-1.6 11.9-.9 11.9 1.2 0 2-2 5.5-4.8 4.1-2.8-1.3 2-3-1.4-3-3.3 0-5.7.6-5.7 3s3.3 5.2 8 5.2 10.5-2.4 9.6-11c-1-8.7-29-56.9-29-62.8 0-5.9 5.2-13.5 19-13.5 9-.7 12.3 8.7 15.5 12z"}),m.a.createElement("path",{d:"M59.1 136.7c3.3 3.2 6 12.7 15 12 13.8 0 19-7.7 19-13.6 0-5.9-28-54-29-62.7-1-8.7 4.8-11.1 9.5-11.1 4.8 0 8.1 2.8 8.1 5.2s-2.4 3.1-5.7 3.1 1.4-1.7-1.4-3.1-4.8 2-4.8 4.1c0 2.1 7.2 2.8 12 1.2.9 4.7 1.3 5-5.3 13 4.8-3 5.2-3.8 10.5-2-5.3-4.5-1.4-13.7-1.2-16s-1-5.2-3.1-6.6c-3.8-3.4-12.2-3.6-17.2-1.3-7.2 3.2-7.6 12.8-5.7 15.9L87 133.4c1.5 2.4-2.3 10.4-10.9 10.8-9 .6-12.1-8.8-13.7-13l12.3 1s.5-2 0-3.2a111.5 111.5 0 0 1-12.3-1.5l-.5-6.3h6l-.4-2.8s-5.1.4-5.6 0c-.5-.3-1-6.2-1-6.2s-1-.4-2-.4-2 .4-2 .4-.4 5.9-.9 6.2c-.5.4-5.6 0-5.6 0l-.5 2.8H56l-.5 6.3s-6 1.1-12.3 1.5c-.4 1.3 0 3.2 0 3.2l12.3-1c-1.6 4.2-4.7 13.6-13.7 13-8.6-.4-12.4-8.4-11-10.8L58 74.8c1.9-3.1 1.5-12.7-5.7-16-5-2.2-13.4-2-17.2 1.4-2.1 1.4-3.3 4.2-3.1 6.5s4 11.6-1.2 16c5.3-1.7 5.8-1 10.5 2.1-6.6-8-6.2-8.3-5.2-13 4.8 1.6 11.9 1 11.9-1.2 0-2-2-5.5-4.8-4.1-2.8 1.4 2 3.1-1.4 3.1-3.3 0-5.7-.7-5.7-3.1s3.3-5.2 8-5.2 10.6 2.4 9.6 11c-1 8.7-29 57-29 62.8 0 6 5.2 13.6 19 13.6 9 .7 12.3-8.8 15.5-12z"}),m.a.createElement("path",{d:"M60.2 13c3.3-3.2 2.2-8.5 11.3-7.8 13.8 0 14.2 8.4 14.2 14.3S65 33.6 64 42.3c-1 8.7 4.8 11 9.6 11 4.7 0 8-2.7 8-5.1S79.4 45 76 45s1.5 1.7-1.4 3-4.8-2-4.8-4c0-2.2 7.2-2.9 12-1.3 1-4.7 1.4-5-5.3-13 4.8 3.1 5.2 3.8 10.5 2-5.3 4.6-1.3 13.8-1.2 16.1s-1 5.1-3 6.5c-4 3.7-12.3 3.7-17.3 1.5-7.3-3.2-7.7-12.8-5.8-16L80 19.3c1.4-2.4 2-9.2-6.6-9.5-9-.7-12.2 11.6-13.8 15.7C57.5 21 55.1 8.6 46 9.3c-8.6.3-10.2 7-8.8 9.5l20.7 21c2 3.2 1.6 12.8-5.7 16-5 2.3-13.3 2.1-17.1-1.4-2.2-1.4-3.4-4.1-3.2-6.5s4.1-11.5-1.1-16c5.2 1.7 5.7 1 10.4-2-6.6 7.9-6.1 8.2-5.2 13 4.8-1.6 12-1 12 1.1s-2 5.6-4.9 4.2c-2.8-1.4 2-3.1-1.4-3.1-3.3 0-5.7.7-5.7 3s3.3 5.3 8.1 5.3 10.5-2.4 9.5-11.1-22-18.1-22-24c0-6 1.4-13.1 15.2-13.1 9-.7 10.1 4.6 13.4 7.8z"})),m.a.createElement("g",{fill:"#ffe400",transform:"translate(-194.7 8.3) scale(1.0673)"},m.a.createElement("rect",{width:"170.2",height:"161.3",x:"425.9",y:"104.5",rx:"85.1",ry:"80.7"}),m.a.createElement("path",{d:"M507 56.4c-.8 0-4.6 26.8-6 32.8-1.4 13.5 18 13 14.8-.5L507 56.3zm6.8 259.8c.7 0 6.5-26.5 8.4-32.4 2.3-13.3-17.1-14-15-.4l6.6 32.8zM378.2 184.6c0 .7 27.9 6.3 34.1 8.1 14 2.3 15-16 .6-14l-34.7 6zm271.7 3.2c0-.7-28.2-5.3-34.5-6.9-14.1-1.7-14.2 16.6 0 14.1l34.5-7.2zM406.8 99.6c-.5.5 17.9 21.3 21.6 26.4 9.6 10 22.3-4 9.6-10.8l-31.2-15.5zm211.1 171c.5-.5-19.7-19.7-23.9-24.4-10.5-9.2-21.8 5.7-8.6 11.5l32.5 13zm-169-200c-.6.3 8 26.1 9.4 32.2 4.8 12.7 22.2 4.4 13.2-6.5L449 70.6zM572 303c.7-.3-6-26.6-6.9-32.7-3.9-13-21.8-6-13.7 5.6l20.7 27zm30.3-214.4c-.6-.5-22.8 16.6-28.2 20-10.7 9 3.8 21.2 11.2 9.3l17-29.3zm-183 193.7c.5.5 24-15 29.6-18.1 11.3-8.2-2.2-21.4-10.5-10l-19 28.1zm-35-144.1c-.3.6 24 14.7 29.3 18.4 12.5 6.5 19.8-10.5 5.5-13.2l-34.8-5.2zM638 236.6c.3-.6-23-16.3-28-20.3-12-7.4-20.5 9.1-6.4 12.7l34.4 7.6zM557.4 63.7c-.7-.2-14.6 23.4-18.3 28.5a7.8 7.8 0 0 0 14 4.7l4.3-33.2zM463.5 308c.7.3 16.3-22.4 20.3-27.3 7.3-11.6-10.4-19-13.7-5.6l-6.6 32.9zM386 238.7c.3.6 28-6 34.5-7 13.6-3.8 6-20.6-6-12.8L386 238.7zM638.1 136c-.2-.6-28.3 4.1-34.8 4.7-14 2.9-7.5 20.2 5 13.2l29.8-17.9z"}),m.a.createElement("path",{d:"M534.6 58.1c-.7-.1-10.1 25.4-12.9 31-4.1 13 15 16.2 14.7 2.4L534.7 58zM486.1 314c.7.2 12-24.7 15.2-30.2 5-12.6-13.8-17-14.5-3.3L486 314zm-9.7-253.4c-.7.2 1.9 27.2 1.9 33.4 1.9 13.3 20.6 8.7 14.4-3.7l-16.3-29.7zm68 251.9c.7-.1 0-27.2.5-33.4-.9-13.5-20-10.1-14.6 2.7l14 30.7zM428.2 83c-.6.4 12.7 24.3 15.2 30 7.2 11.7 22.7.7 11.8-8.6l-27-21.4zM593 290.9c.6-.4-11-25.2-13-31-6.3-12.1-22.5-2.1-12.4 7.8l25.4 23.2zM393 116.6c-.4.6 21.1 18.4 25.6 23 11.1 8.4 21.4-7.2 7.8-12.1L393 116.6zm234.2 139.7c.4-.6-19.7-19.8-23.9-24.6-10.4-9.1-21.8 5.8-8.6 11.6l32.5 13zm-249.6-97.8c-.2.7 26.3 10.8 32.1 13.7 13.4 4.5 17.7-13.4 3.1-13.8l-35.2.1zM645 216.3c.3-.6-25.4-12.4-31-15.7-13-5.4-18.7 12.2-4.2 13.6l35.2 2.1zM376.7 210c.1.6 28.7.2 35.2.7 14.2-.7 10.8-18.8-2.8-13.9L376.7 210zm270.2-45c0-.7-28.6-2.2-35-3.1-14.3-.2-12.2 18.1 1.7 14l33.3-11zm-245.7 98.4c.4.6 26-11.6 32-13.9 12.4-6.5 1-21.4-8.9-11.3l-23.1 25.2zm222.3-152.3c-.4-.6-26.7 9.9-33 11.8-12.9 5.7-2.6 21.3 8 11.9l25-23.7zM442.8 298.8c.6.3 18.9-20.5 23.5-24.9 8.7-10.7-8-20-12.9-7l-10.6 31.9zM582.5 75c-.5-.4-20.3 19.1-25.2 23.2-9.4 10.1 6.6 20.5 12.4 7.9L582.4 75z"}),m.a.createElement("g",{transform:"matrix(2.1824 0 0 2.0629 -405 -272.6)"},m.a.createElement("path",{d:"M360.1 247.9c.7 2.5.8 16.5 14.9 30 14 13.4 38 16.4 38 16.4s.1 1.9-1.6 2c-1.7.2-9.9-1.5-14-2.8-4-1.2-7.6-3.4-8-3.3-.5.2-1.3 1.6-2.5 1.4s-7-6.2-9.6-7.8a80.6 80.6 0 0 1-13.7-15.3c-2.8-4.5-3.5-7.5-4.4-7.5s-4.2 2.2-4.2 2.2-3-4.5-5.6-11.7c-2.7-7.2-2.4-11.4-1.8-11.7.7-.3.7 5.3 2.7 10.4 2 5.2 4.8 6.8 4.8 6.8s-1.8-2.7-3.2-9.4-2-13.2-1-15.2 1.9-2.6 2-2.5c.2.2-1.7 3.1-.4 10.8s4.8 14.2 5.6 13.9c.8-.3-.5-1.9-1-6.4s.5-7.3 1.6-7.7c.5-.4 1.3 5 1.4 7.4zm-9.8 12.8c-2.7-2.5-6.9-11.2-7.8-10.8-1 .5 6.8 13 7 14 .2 1.2 1.9 4.6.6 4.1s-10.6-10.3-9.5-8.4 8.1 10.5 7.7 11-5.8-4.8-6-4.1c-.1.6 5.3 5.8 5.2 6.4s-3.5-3.3-3.5-2.5 3.5 4.7 3.5 5.3-3-2.8-2-1c.9 2 3.5 3.7 3.4 4.3s-2.2-.8-2.2-.5c0 .3 3.9 1.7 4.8 2.8 1 1.1 7.4 8.5 12.2 12.2s18.6 10.2 19.6 10.2c.9 0 2.3-2 2-2.8-.3-.8-13.8-5.4-17.5-8.8-3.8-3.4-13-11.6-13.8-12-.7-.5-2.8-.3-2.8-.8s2.7.3 2.5 0c-.1-.3-3.7-1.9-3.6-2.2.2-.3 2.5.6 2.5.3s-4.2-2.6-4-3.1c.1-.5 3.1 1.4 3.1 1 0-.2-4-3-3.9-3.5.1-.5 3.1 2.2 3 1.6s-2.4-4-2.4-4.4c0-.5 3.6 3.4 4 2.6.2-.7-1.3-7.2-1.2-7.3s2.7 1.4 3.1.5c.5-1-1.8-2.3-4-4.1zm46.1 49.2c-1.9.3-2.8-.4-1.7-2 1.5 0 5.5-1.3 6.9-1.9s2.9-1.4 4.1-2.5c1.2-1.3 2 .7 1.3 1.8-.5.7-2.8 2-4.5 2.7-2.5.8-4.7 2-6.1 1.9zm12.5-5.1c-1.3-1.4-.2-2.4 1.7-3.5 2.8-1.5 2-3.6 5.6-5.3 1.6-1 24-10 31.3-14.8s27.8-20.3 33.3-31c5.4-10.6 2.8-11.4 3.6-11.8.7-.5 1.5 1.5 1.4 3.9-.2 2.3-2 9.3-1.4 10s8.2-5.5 11.4-13 5.6-15.3 7.1-15.3c1.6 0-2.6 12.8-5.3 17.8-2.6 5-5.7 7.5-5 8.6.8 1 8.6-5.5 11.3-10.3 2.6-4.9 5.1-9.2 5.6-8.3a34 34 0 0 1-6.7 16.1c-4.2 4.8-9.2 8.3-8.4 9 .7.8 6.4 1.6 12.3-2.4 6-4.1 6.6-10 7.3-9.7.8.3-.7 8.4-6.4 13.4s-13.2 5.5-13 6.6c.4 1 16.3-4.6 16-3.3-.3 1.2-20.6 9.2-20.8 10 0 .6 3.5.8 9-.5 5.4-1.2 10.6-5.5 11.3-4.5.2 1.4-3.9 4.8-10.1 6.4-6.3 1.6-9.4 3.7-9.6 4.2-.1.5 11.2-1.4 11.2-.8s-14.8 3.5-14.9 4.3c-.2.7 14-2.9 13.8-2-.4.7-19.3 6.3-19.1 6.6.1.4 15.8-3.4 15.5-2.8-.4.7-26.4 8-26.6 8.5-.2.4 23-5.2 22.8-4.7s-12 3.4-12 3.7c0 .3 9.5-1.5 9.3-1-.1.4-24 6.5-24.5 7.4-.5 1 12.4-2.5 12.2-.7s-27.7 11-27.8 9.3c-.2-1.7 16.7-6 16.6-6.5-.2-.5-9.7 1-9.9.1-.1-1 6.3-3 5.8-3.4-.5-.5-5.3 1.4-4.9.3.5-1.1 9.6-5.3 9.4-5.6-.1-.3-3.3 1-3 0 .4-1.1 19.7-6.7 19.4-7.4-.3-.6-8.9 1.4-9.7 1.6-.3-.6 12-5.2 11.8-6-.4-.7-6.6 2.7-7 1.8-.2-1 10.9-5.3 10.2-6s-5.7 1.8-6.4 1.1 10.5-8.4 8.8-8.6c-1.7-.1-3.8 2.4-4 .8.2-2 8.7-5.3 6.8-6.9-3-.9-13.1.7-17.3 3.2s-18.2 16.4-21.6 18.6c-3.4 2.1-15 7-17.2 8-3.4 1.2-4 3-7.5 4.8-6.3 1.7-6.2 3.6-9.2 4.7-1.1.3-12.4 5.7-12.5 5.3zm-15.8 7c-1.9 1-3.6 3.4-2.5 4.4.6 1.2 2.5-2.7 4-2.5l8 .4c4.3.3 6.4-.9 8.8-.7s7.7-1.3 10.2-1.3 3 .3 3.2-.8c.3-1-7.8-.3-11.4-.4-3.6-.2-8.1.7-10.8.7-2.5-.1-6.8-.9-9.5.2z"}),m.a.createElement("rect",{width:"3.4",height:"3",x:"401.7",y:"309.1",rx:"1.7",ry:"1.5"}),m.a.createElement("path",{d:"M445 307.7c1.7-.3 6.3 1.3 9.5 2 5.8 2.3 16.6 1.2 16.6 2.3s-.7 2.4-3.2 2.6-8.8-1-8.6-1 5 2.3 3.6 2.9-5.5-1.3-6.2-.8 3.8 1.4 3 1.7c-.6.3-3.7-.4-4.7-.3-1 .2.8 1.3-.4 1.7-1.2.5-3.2-.6-4-.3-.9.3 1.8 2 .6 2.2-1.2.2-4-.8-5.6-1-1.6 0 1.5 1.6.5 1.8-1 .1-3.8-1.3-4.5-1.3s0 2-1 2-2.2-1.7-2.8-1.7 0 2-1 2-1.4-2.1-2.2-2c-1 .2 0 2.7-1.4 2.5-1.3-.1-1.5-2.6-2.6-2.5-1 .2.2 2.5-.8 2.5s-1.2-2.3-2.2-2.5c-1-.1-.6 2.2-1.2 2.2s-1.2-2.2-1.6-2.2c-.3 0 0 2.2-1.2 2s-1.2-2.4-1.5-2.3c-.4.2-.4 1.8-1.2 1.8s-.9-1.6-1.2-1.4c-.4.1-1.6 2.1-2.4 1.8-.9-.3.2-1.9-.2-1.9s-1.4 1.1-2 1 0-1.4-.2-1.4-1.7.8-2.4.8-2.6 1-3.1.1c-.5-1 1.3-1 1.7-1.9.3-.9-1-3.6.4-4.5 1.3-1 5.6 1.3 12-.3 11.6-3.1 20.6-6.7 21.5-6.6z"}))));default:return null}}}]),n})(S.default);C.propTypes=Object.assign({type:E.a.oneOf(["en","ru","tr","uk","be","ka","az","uz","hy","ro","kk","tt"])},S.default.propTypes);var T=C,k=n(11),j=n.n(k);n(1826);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var R=function(){return j()()("lang-select")},A=(function(e){u()(n,e);var t=P(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={popupVisible:!1},r._togglePopup=r._togglePopup.bind(y()(r)),r._closePopup=r._closePopup.bind(y()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(y()(r)),r._toggler=m.a.createRef(),r}return a()(n,[{key:"_togglePopup",value:function(){this.state.popupVisible||this.props.onOpen(),this.setState({popupVisible:!this.state.popupVisible})}},{key:"_closePopup",value:function(){this.setState({popupVisible:!1})}},{key:"_getTuneLink",value:function(e){var t=this.props,n=t.yandexLink,r=t.sk,i=t.retpath;return"".concat(n,"/portal/set/lang/?intl=").concat(e,"&sk=").concat(r,"&retpath=").concat(encodeURIComponent(i))}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;this.props.onLangClick&&this.props.onLangClick.bind(t)}},{key:"_getItems",value:function(){var e=this;return this.props.langs.filter((function(t){return e.props.current!==t})).map((function(t){return m.a.createElement(_.Item,{key:t,value:t,url:e._getTuneLink(t),icon:function(e){return m.a.createElement(T,{type:t,cls:e})}},t.toUpperCase())}))}},{key:"render",value:function(){var e=this,t=this._getItems();return m.a.createElement("span",{className:R().mix(this.props.cls)},m.a.createElement(O.Link,{disabled:!t.length||this.props.disabled,innerRef:this._toggler,onClick:this._togglePopup,pseudo:!0,theme:"ghost",role:"button",tabIndex:0,iconLeft:function(t){return m.a.createElement(T,{cls:t,type:e.props.current})}},m.a.createElement("span",{className:R().e("text")},this.props.current.toUpperCase())),m.a.createElement(b.Popup,{anchor:this._toggler,direction:["top","top-start"],onClose:this._closePopup,target:"anchor",view:"default",visible:this.state.popupVisible},m.a.createElement(_.Menu,{className:R().e("menu"),size:"s",view:"default",wide:!0,onChange:this._onMenuItemClick,type:"navigation"},t)))}}]),n})(h.Component);A.defaultProps={onOpen:function(){}};var I=A,D=(n(1827),function(){return j()()("footer")}),M=function(e){return m.a.createElement("footer",{className:D().mix(e.cls)},m.a.createElement("div",{className:D().e("left")},e.links.map((function(e,t){return m.a.createElement(O.Link,{key:t,className:D().e("link").mix(e.clsMix),href:e.url,target:"_blank",theme:"ghost",onClick:e.onClick},e.text)}))),m.a.createElement("div",{className:D().e("right")},m.a.createElement("span",{className:D().e("copyright")},e.copyright),e.noLangSelect?null:m.a.createElement(I,{cls:D().e("language-switcher"),langs:e.langs,current:e.currentLang,sk:e.sk,yandexLink:e.yandexLink,retpath:e.retpath,onOpen:e.onLangSelectOpen,onLangClick:e.onLangClick,disabled:e.languageSwitcherDisabled})))};function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var L=(new Date).getFullYear(),F=(function(e){u()(n,e);var t=N(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getHelpLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.isYandexStaff,i=n.help.disk,o=[{text:"Справка и поддержка",url:t&&!r?n.help.connect:i}];return r&&o.push({text:"Обратная связь",url:n.feedback.disk4Yandex}),o}},{key:"_getLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.tld,i=e.countryTld,o=this._getHelpLinks();return"ru"===r&&o.push({text:"Блог",url:n.blog}),o.push({text:"Разработчикам",url:n.api}),"ru"!==i||t||o.push({text:"Вакансии",url:n.vacancies}),o.push({text:"Условия использования",url:t?n.connectTermsOfUse:n.termsOfUse}),"ru"===r&&o.push({text:"Правила рекомендаций",url:n.recommendationRules}),"ru"!==r||t||o.push({text:"Участие в исследованиях",url:n.usabilityReseach}),o}},{key:"_getDocsLinks",value:function(){var e=this.props.links;return[{text:"Справка и поддержка",url:e.docs.help},{text:"Условия использования",url:e.docs.termsOfUse},{text:"Участие в исследованиях",url:e.usabilityReseach}]}},{key:"_getCopyright",value:function(){return m.a.createElement("span",null,"© 2012—",L,"  «",m.a.createElement(O.Link,{target:"_blank",theme:"ghost",className:"footer__link",href:this.props.urlsBase.morda},"Яндекс"),"»")}},{key:"render",value:function(){return m.a.createElement(M,{cls:this.props.className,links:this.props.isDocsPage?this._getDocsLinks():this._getLinks(),copyright:this._getCopyright(),langs:this.props.langs,currentLang:this.props.locale,sk:this.props.skExternal,yandexLink:this.props.urlsBase.www,retpath:this.props.currentUrl})}}]),n})(h.Component);t.default=Object(p.connect)((function(e){var t=e.page.currentUrl,n=e.user,r=n.isWS,i=n.isYandexStaff,o=e.config,a=o.links,s=o.langs,u=o.urlsBase,c=o.skExternal,l=e.environment.session,f=l.tld,d=l.locale,p=l.region.country_tld;return{currentUrl:t,isWS:r,isYandexStaff:i,links:a,urlsBase:u,tld:f,locale:d,langs:s,skExternal:c,isDocsPage:Object(v.isDocsPage)(e),countryTld:p}}))(F)}),(function(e,t,n){"use strict";var r=n(2);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;"function"==typeof u&&u.apply(void 0,Object(r.__spreadArray)([],Object(r.__read)(i)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}function o(e){return"function"==typeof e}function a(){for(var e,t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s={};try{for(var u=Object(r.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;for(var f in s)if(/^on[A-Z]/.test(f)&&o(l[f])&&o(s[f]))s[f]=i(s[f],l[f]);else if("aria-labelledby"===f&&l[f]&&s[f]){var d=s[f].split(" ");d.includes(l[f])||d.push(l[f]),s[f]=d.join(" ")}else s[f]=void 0!==l[f]?l[f]:s[f];for(var f in l)void 0===s[f]&&(s[f]=l[f])}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return s}n.d(t,"a",(function(){return a}))}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(2230);function a(e,t){var n=Object(i.useRef)(function(e){var t={state:e,setState:function(e){t.state=e,t.setters.forEach((function(e){return e(t.state)}))},setters:[]};return function(){var e=Object(r.__read)(Object(i.useState)(t.state),2),n=e[0],a=e[1];return Object(i.useEffect)((function(){return function(){t.setters=t.setters.filter((function(e){return e!==a}))}}),[]),Object(o.a)((function(){-1===t.setters.indexOf(a)&&t.setters.push(a)})),[n,t.setState]}}([e,t])).current,a=Object(r.__read)(n(),2)[1],s=Object(i.useRef)((function(e){var t=Object(r.__read)(n(),1)[0],o=Object(r.__read)(t||[],2),a=o[0],s=o[1];return void 0===t||void 0===s?Object(i.createElement)(a,e):s(e,a)})).current;return Object(i.useEffect)((function(){a([e,t])}),[a,e,t]),s}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var s=function(e){return(0,e.children)(a(e.component,e.render))};s.displayName="RenderOverrideProvider";var u=function(e){var t=e.children,n=e.components.map((function(e){var t=Object(r.__read)(e,2);return a(t[0],t[1])}));return t.apply(void 0,Object(r.__spread)(n))};u.displayName="MultiRenderOverrideProvider"}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=function(e,t){var n=Object(i.useRef)(!0),r=Object(i.useRef)(e);r.current=e,Object(i.useEffect)((function(){if(!n.current)return r.current();n.current=!1}),t)};function a(e){var t=e.hint,n=Object(r.__read)(Object(i.useState)(t),2),a=n[0],s=n[1],u=Object(r.__read)(Object(i.useState)(!1),2),c=u[0],l=u[1],f=Object(i.useRef)(t);return o((function(){t&&s(t),l(Boolean(f.current&&!t)),f.current=t}),[t]),{hint:a,hintProps:{leave:c,onAnimationEnd:Object(i.useCallback)((function(){t||(s(""),l(!1))}),[t])}}}n.d(t,"a",(function(){return a}))}),(function(e,t,n){"use strict";(function(e,r){var i,o=n(804);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(131),n(985)(e))}),(function(e,t,n){var r=n(60),i=e.exports={parseUrl:function(e){e=r.mergeSlashes(e);var t,i,o,a,s=n(475).parse(e,!0),u=(s.pathname||"").split("/").filter(Boolean).map((function(e){try{e=decodeURIComponent(e)}catch(e){}return e})),c=u.shift();if(-1!==["d","i"].indexOf(c||"")){if(t=u.shift(),u.length)i="/"+u.join("/");else{var l=/^(.+)_(x{0,3}[sl]|m)\.(?:jpg|jpeg|png|gif)$/i.exec(t||"");l&&(t=l[1],a=l[2].toUpperCase())}if(/[^0-9A-Za-z_-]/.test(t||""))return}else if(-1!==["public","mail"].indexOf(c||"")){u.length&&(c=[c].concat(u).join("/"));var f=s.query.hash.split(":");o=f.shift(),(u=f.join(":").split("/").filter(Boolean)).length&&(i="/"+u.join("/"))}return"a"!==c&&"client"!==c||("albums"===u[0]&&(c+="/"+u.shift()),u.length>1?(i=u.pop(),t=u.pop()):t=u.pop()),{prefix:c,hashShort:t,hashLong:o,pathResource:i,sizeImage:a}},parseId:function(e){var t=e.indexOf(":"),n=(/^\/(\w+)\//.exec(e)||[""])[0].length,r={};return r.hashLong=e.slice(n),t>-1&&(r.hashLong=e.slice(n,t),r.pathResource=e.slice(t+1)),r.hashLong=i.decodeHash(r.hashLong),r},formatIdRoot:function(e){return"/"+o(e.prefix)+"/"+i.encodeHash(e.hashLong)},formatIdContext:function(e){return i.formatIdRoot(e)+(e.pathResource?":"+e.pathResource:"")},formatIdResource:function(e){return i.formatIdRoot(e)+":"+e.pathResource},formatPrivateHash:function(e){var t=i.parseId(e);return t.hashLong+(t.pathResource?":"+t.pathResource:"")},formatUrl:function(e){var t=!e.hashShort,n=e.hashShort||e.hashLong,r=o(e.prefix);return"public"===r&&(e.pathResource&&(t&&(n+=":"),n+=e.pathResource),n=t?"?hash="+encodeURIComponent(n):n.split("/").map(encodeURIComponent).join("/")),"album"===r&&e.pathResource&&(n+="/"+e.pathResource),"/"+e.prefix+"/"+n},encodeHash:function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")},decodeHash:function(e){return e.replace(/_/g,"/").replace(/-/g,"+")}};function o(e){return-1!==["d","i","public","public/nda","mail"].indexOf(e)?"public":"a"===e||"client/albums"===e?"album":void 0}}),(function(e,t,n){"use strict";var r=n(1607),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=d(n,g);try{c(t,g,y)}catch(e){}}}}return t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT=53687091200;t.canDownloadFolder=function(e){var n=e.ua,r=n.BrowserName,i=n.OSFamily,o=e.resourceStats,a=o.size,s=o.filesCount,u=e.forceDefaults,c=void 0!==u&&u||"Firefox"===r||!["Windows","MacOS"].includes(i);return a>=(c?t.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT:5368709120)||s>=(c?1e4:500)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(11)),s=i(n(846)),u=n(69),c=n(320);n(1847);var l=function(){return a.default()("selection-info")};t.default=function(e){var t=e.onCheckboxChange,n=e.withSpin,r=void 0!==n&&n,i=e.text,a=o.useContext(c.ResourcesActionBarContext),f=a.visible,d=a.onClose,p=o.useCallback((function(){t?t():f&&d()}),[f,d,t]);return o.default.createElement("div",{className:l()},r?o.default.createElement(u.Spin,{view:"default",className:l().e("spin"),size:"xs",progress:!0}):o.default.createElement(s.default,{cls:l().e("checkbox"),checked:f,onChange:p}),o.default.createElement("div",{className:l().e("text")},i))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2137);t.FamilyFolderCreationDialog=r.default;var i=n(2144);t.FamilyAlbumAccessDialog=i.default}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(19),w=n(97),E=n(231),S=n(14);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(function(n){h()(o,n);var r=x(o);function o(e,t){var n;return u()(this,o),(n=r.call(this,e,t)).state={position:null},n._onContextMenu=n._onContextMenu.bind(d()(n)),n._closeContextMenu=n._closeContextMenu.bind(d()(n)),n._onClose=n._onClose.bind(d()(n)),n}return l()(o,[{key:"componentDidMount",value:function(){t.closeOnScrollElementSelector&&(this._scrollingElement=document.querySelector(t.closeOnScrollElementSelector),this._scrollingElement&&this._scrollingElement.addEventListener("scroll",this._closeContextMenu)),t.closeOnWindowResize&&window.addEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.addEventListener("scroll",this._closeContextMenu)}},{key:"componentWillUnmount",value:function(){this._scrollingElement&&this._scrollingElement.removeEventListener("scroll",this._closeContextMenu),t.closeOnWindowResize&&window.removeEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.removeEventListener("scroll",this._closeContextMenu)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.resources&&this._contextMenuIds&&this.props.resources.length!==e.resources.length){var t=e.resources.reduce((function(e,t){return e[t.id]=1,e}),{});this._contextMenuIds.some((function(e){return!t[e]}))&&this._onClose()}}},{key:"_onContextMenu",value:function(e,t,n){t&&t.target&&t.target.dispatchEvent(new Event("click",{bubbles:!1})),this._contextMenuIds=e;var r={x:t.pageX,y:t.pageY};n&&(this.props.setSelection([]),this.props.setHighlighted(n)),this.setState({position:r}),S.default.count.apply(S.default,a()(this._getContextMenuMetrikaPath(e)).concat(["show"],a()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({position:null}),this.props.setHighlighted([])}},{key:"_closeContextMenu",value:function(){this.state.position&&(this._onClose(),this.props.closeContextMenu&&this.props.closeContextMenu())}},{key:"_getContextMenuMetrikaPath",value:function(e){var t=["context menu"];if(e&&1===e.length){var n=this.props.resourcesByIds[e[0]];t.push("dir"===(n||{}).type?"folder":"file")}else e&&e.length>1&&t.push("group");return t}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props,n=t.selected,r=t.highlighted,i=r&&r.length?r:n;return i&&i.map((function(t){return e.props.resourcesByIds[t]})).filter(w.isSelectableResource)}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,_.a.createElement(e,i()({},this.props,{onContextMenu:this._onContextMenu,closeContextMenu:this._closeContextMenu})),_.a.createElement(E.default,{visible:Boolean(this.state.position),position:this.state.position,onClose:this._onClose,metrikaPath:this._getContextMenuMetrikaPath(),metrikaTail:this.props.metrikaTail,isAndroid:!1,resources:this._getSelectedResources(),direction:t.direction}))}}]),o})(b.PureComponent);return Object(O.connect)((function(e){return{resourcesByIds:e.resources}}))(n)}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1889)),s={tile:"Крупная плитка",icons:"Плитка",list:"Список",wow:"Умная плитка"};t.default=function(e){return o.default.createElement(a.default,r({typesNames:s,title:"Вид"},e))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g}));var r,i=[],o=!1,a=0,s=0,u=0,c=Date.now(),l=0,f=function(e){s=o?u:window.pageYOffset,o&&window.scrollTo(0,u);var t=Date.now();a=(s-l)/(t-c),l=s,c=t,i.forEach((function(t){t(Object.assign({scrollTop:s,scrollSpeed:a,isManual:o},e))})),o=!1},d=function(e){f(e),r=requestAnimationFrame((function(){f(Object.assign({isLast:!0},e))}))},p=function(e){cancelAnimationFrame(r),e.throttle?r=requestAnimationFrame((function(){d(e)})):d(e)},h=function(){o||p({throttle:!0})},m=function(e){i.length||window.addEventListener("scroll",h),i.includes(e)||i.push(e)},v=function(e){(i=i.filter((function(t){return t!==e}))).length||window.removeEventListener("scroll",h)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=!0,u=e,p(t)}}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(10),v=n.n(m),g=n(19),y=n(0),b=n.n(y),_=n(157),O=n(26),w=n(42),E=n(57),S=n(29),x=n.n(S),C=n(72),T=n(126),k=(n(1876),n(11)),j=n.n(k);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var R=function(){return j()()("popup-with-transitions")},A=function(e){return b.a.createElement("div",{className:R().e("pane").m({active:e.active}),ref:e.setRef},e.children)},I=(function(e){l()(n,e);var t=P(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={wrapperSize:{width:"auto",height:"auto"}},r._panesRefs={},r._setPaneRef=r._setPaneRef.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&e.activePane!==this.props.activePane&&this._changeActivePane(this.props.activePane,e.activePane),!this.props.visible&&e.visible&&(this._hideTimeout=setTimeout((function(){t.props.onChangeActivePane(t._firstPaneId),t.setState({wrapperSize:{width:"auto",height:"auto"}})}),200))}},{key:"componentWillUnmount",value:function(){this._hideTimeout&&clearTimeout(this._hideTimeout)}},{key:"updateSize",value:function(){this._changeActivePane(this.props.activePane,this.props.activePane)}},{key:"_setPaneRef",value:function(e,t){this._panesRefs[e]=t}},{key:"_changeActivePane",value:function(e,t){var n=this,r=this._panesRefs[t].getBoundingClientRect(),i=r.width,o=r.height;this.setState({wrapperSize:{width:i+"px",height:o+"px"}},(function(){var t,r=n._panesRefs[e].getBoundingClientRect();t=n.props.isMobile?"auto":n.props.keepWidth?i+"px":r.width+"px";var o=r.height+"px";n.setState({wrapperSize:{width:t,height:o}})}))}},{key:"render",value:function(){var e=this,t=this.props.isMobile?T.Drawer:C.Popup;return b.a.createElement(t,this.props.popupProps,b.a.createElement("div",{className:R().e("wrapper"),style:this.state.wrapperSize},b.a.Children.map(this.props.children,(function(t,n){return t&&"function"==typeof t.type&&t.type===A?(0===n&&(e._firstPaneId=t.props.id),b.a.createElement(A,x()({active:t.props.id===e.props.activePane,setRef:e._setPaneRef.bind(e,t.props.id)},t.props))):null}))))}}]),n})(y.Component),D=n(185),M=n(186),N=n(394),L=n(420),F=n(12);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var U,z,V,H=(function(e){l()(n,e);var t=B(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return b.a.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 1h-11A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 13.5 1zM5.224 9.867L3 12.833V3h10v7.214l-2.569-2.752a.5.5 0 0 0-.781.064l-1.88 2.82a.5.5 0 0 1-.682.147l-1.199-.75a.5.5 0 0 0-.665.124zM7.5 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z",fill:"currentColor"}))}}]),n})(F.default),W=Object(F.iconProvider)(H),G=n(196),$=n(150),q=n(187),Y=(n(533),n(534),n(37)),K=n(552),J=n(28),X=n(103),Z=n(184),Q=(n(1881),n(31)),ee=n(69),te=n(54),ne=n(51),re=n(43),ie=n(38),oe=n(40),ae=n(45),se=n(16),ue=n(27),ce=n(61),le=function(e){return function(t){t(Object(ae.f)(ae.a.REMOVE,ae.b.MERGE_ALBUMS)),t(Object(ce.updateAlbum)({id:e,hidden:!1})),t(Object(oe.notify)({operation:"mergeAlbums",status:"failed"}))}},fe=function(e,t,n){return function(r){return Object(ae.d)(e).then((function(){r(function(e,t){return function(n,r){var i=r();n(Object(ae.f)(ae.a.REMOVE,ae.b.MERGE_ALBUMS)),n(Object(oe.notify)({operation:"mergeAlbums",status:"done"})),n({type:se.REMOVE_ALBUM,payload:{id:e,albumType:"faces"}}),n(Object(te.cleanAlbum)(t));var o=Object(J.getAlbumById)(r(),e),a=!Object(J.getAlbumById)(r(),t).title&&o.title;a&&n(Object(ce.updateAlbum)({id:t,title:a})),"album"===Object(re.getPage)(i)&&n(Object(ue.goToUrl)("/client/albums/".concat(t),"replace"))}}(t,n))})).catch((function(){r(le(t))}))}},de=n(13),pe=n(55),he=function(e){return[null,"personal"].includes(e)},me=function(e){return"faces"===e},ve=function(e){return"family"===e},ge=(U={},v()(U,"add-items",(function(e){return ve(e.album_type)?Object(pe.hasFamilyAlbumFeature)(Object(de.default)().getState()):"geo"!==e.album_type&&!me(e.album_type)})),v()(U,"access-album",(function(e){return ve(e.album_type)})),v()(U,"merge-album",(function(e){return Object(J.getAlbumsListing)(Object(de.default)().getState(),"faces").length>1&&me(e.album_type)})),v()(U,"publish-album",(function(e){return he(e.album_type)||ve(e.album_type)})),v()(U,"unpublish-album",(function(e){return e.is_public})),v()(U,"set-view",(function(e){return e.clusters&&0!==e.clusters.length})),v()(U,"rename-album",(function(e){return!ve(e.album_type)&&(he(e.album_type)||me(e.album_type))})),v()(U,"delete-album",(function(e){return!ve(e.album_type)&&(he(e.album_type)||me(e.album_type))})),v()(U,"download-album",(function(e){return"geo"!==e.album_type})),U),ye=(z={},v()(z,"merge-album","Объединить с альбомом"),v()(z,"add-items","Добавить фото"),v()(z,"publish-album","Поделиться"),v()(z,"unpublish-album","Удалить ссылку"),v()(z,"set-view","Изменить вид"),v()(z,"rename-album",(function(e){return e.title?"Переименовать":"Указать имя"})),v()(z,"delete-album","Удалить"),v()(z,"download-album","Скачать"),v()(z,"access-album","Доступ к альбому"),z),be=function(e,t){return ge[e](t)},_e=n(412),Oe=n(14),we=n(123);function Ee(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Se=function(){return j()()("album-actions-dropdown")},xe=[{id:"merge-album",icon:function(){return W}},{id:"add-items",icon:function(){return D.a}},{id:"access-album",icon:function(){return function(e){return b.a.createElement(K.default,{cls:e})}}},{id:"publish-album",icon:function(e){var t=e.isAndroid;return function(e){return b.a.createElement(M.default,{cls:e,isAndroid:t})}}},{id:"set-view",icon:function(){return L.displayWowIconProvider}},{id:"rename-album",icon:function(){return G.a}},{id:"download-album",icon:function(){return q.b}},{id:"delete-album",icon:function(){return $.b}}],Ce={ACTIONS:"actions",VIEW:"view"},Te=(V={},v()(V,"add-items","addToCurrentAlbum"),v()(V,"publish-album","publishAlbum"),v()(V,"rename-album","renameAlbum"),v()(V,"download-album","downloadAlbum"),v()(V,"delete-album","deleteAlbum"),v()(V,"merge-album","mergeAlbums"),v()(V,"access-album","showFamilyAlbumAccessDialog"),V),ke=(function(e){l()(n,e);var t=Ee(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={popupVisible:!1,activePane:Ce.ACTIONS,isShareDialogVisible:!1,isPublic:void 0},r._onChangePhotoView=r._onChangePhotoView.bind(u()(r)),r._onMorePopupClose=r._onMorePopupClose.bind(u()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(u()(r)),r._onChangeActivePane=r._onChangeActivePane.bind(u()(r)),r._closeShareDialog=r._closeShareDialog.bind(u()(r)),r._onAlbumActionClick=r._onAlbumActionClick.bind(u()(r)),r._moreButtonRef=b.a.createRef(),r._popupRef=b.a.createRef(),r}return a()(n,[{key:"componentDidUpdate",value:function(e,t){this.state.activePane===Ce.ACTIONS&&!e.isPublic&&this.props.isPublic&&t.popupVisible&&this.setState({isShareDialogVisible:!0}),this.props.isOverdraftDialogOpened&&!e.isOverdraftDialogOpened&&this._togglePopupVisible(!1)}},{key:"_closeShareDialog",value:function(){this.setState({isShareDialogVisible:!1})}},{key:"_countMetrika",value:function(){for(var e=Object(we.d)(this.props.album),t=this.props.isPageAlbum?Object(we.d)(this.props.album):"faces"===e?"faces meta-album":e+" albums listing",n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Oe.default.count.apply(Oe.default,["album",t,"actions dropdown"].concat(r))}},{key:"_onChangePhotoView",value:function(e){var t="string"==typeof e?e:e.target.value;this.props.setAlbumPhotoView(this.props.album.id,t),this._togglePopupVisible(!1),this._countMetrika("set-view",t)}},{key:"_onMorePopupClose",value:function(){this._togglePopupVisible(!1)}},{key:"_onMoreButtonClick",value:function(){this._togglePopupVisible()}},{key:"_togglePopupVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.popupVisible;this.setState({popupVisible:e}),e&&this._countMetrika("show")}},{key:"_onAlbumActionClick",value:function(e){var t=e.target.value;"set-view"===t?this.setState({activePane:Ce.VIEW}):"publish-album"===t&&this.props.isPublic?(this.setState({isShareDialogVisible:!0}),this._togglePopupVisible(!1)):(this.props[Te[t]](this.props.album.id),"publish-album"!==t&&this._togglePopupVisible(!1));var n=t;"rename-album"!==t||"faces"!==this.props.album.album_type||this.props.album.title||(n="set-name-album"),this._countMetrika(n)}},{key:"_onChangeActivePane",value:function(e){this.setState({activePane:e})}},{key:"render",value:function(){var e=this,t={className:Se().e().mix(w.LISTING_PREVENT_DESELECT_CLASS),view:"default",visible:this.state.popupVisible,onClose:this._onMorePopupClose};Object.assign(t,{anchor:this._moreButtonRef,target:"anchor",direction:["bottom-end"]});var n=this.props.moreButtonView||"clear";return b.a.createElement(b.a.Fragment,null,b.a.createElement(O.Button,{size:"s",view:n,className:Se().e("more-button"),"aria-label":"Ещё",onClick:this._onMoreButtonClick,innerRef:this._moreButtonRef,icon:_.moreIconProvider}),b.a.createElement(I,{ref:this._popupRef,activePane:this.state.activePane,keepWidth:!0,isMobile:this.props.isMobile,visible:this.state.popupVisible,onChangeActivePane:this._onChangeActivePane,popupProps:t},b.a.createElement(A,{id:Ce.ACTIONS},b.a.createElement(E.Menu,{view:"default",size:"m",wide:!0,onChange:this._onAlbumActionClick},xe.filter((function(t){return be(t.id,e.props.album)&&!(!e.props.isPageAlbum&&"set-view"===t.id)})).map((function(t){var n=(function(e,t){return"function"==typeof ye[e]?ye[e](t):ye[e]})(t.id,e.props.album);if("publish-album"===t.id){var r=e.props.isPublishing&&"publish-album"===t.id&&!e.props.isPublishingReverse;n=b.a.createElement("span",{className:Se().e("spin-wrapper")},n,b.a.createElement(ee.Spin,{view:"default",className:Se().e("spin"),size:"xxs",progress:r}))}var i=Object.assign({},e.props);return b.a.createElement(E.Item,{key:t.id,className:Se().e("action").m({type:t.id}),value:t.id,icon:t.icon(i)},n)})))),this.props.isPageAlbum?b.a.createElement(A,{id:Ce.VIEW},b.a.createElement(E.Menu,{size:"m",view:"default",className:Se().e("radiobox"),rightGlyph:!0,wide:!0,value:Object(_e.a)(this.props.album.layout),onChange:this._onChangePhotoView},b.a.createElement(E.Item,{value:Y.PHOTO_GRID_TYPES.TILE,icon:N.displayTilesIconProvider},"Обычный"),b.a.createElement(E.Item,{value:Y.PHOTO_GRID_TYPES.WOW,icon:L.displayWowIconProvider},"Умная плитка"))):null),be("publish-album",this.props.album)?b.a.createElement(Z.default,{visible:this.state.isShareDialogVisible,objectIds:[this.props.album.id],onClose:this._closeShareDialog,metrikaPath:this.props.metrikaPath.concat("publish-album"),metrikaTail:["album"]}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isPublic!==t.isPublic?{popupVisible:!1,isPublic:e.isPublic}:null}}]),n})(y.Component),je={publishAlbum:te.publishAlbum,unpublishAlbum:te.unpublishAlbum,setAlbumPhotoView:te.setAlbumPhotoView,addToCurrentAlbum:te.addToCurrentAlbum,deleteAlbum:te.deleteAlbum,downloadAlbum:te.downloadAlbum,renameAlbum:te.renameAlbum,mergeAlbums:function(e){return function(t,n){t(Object(ue.maybeBlockAction)())||t(Object(ne.add)("select-album",{dialogParams:{albumType:"faces",excludeAlbumsIds:[e],action:"merge"},onSubmit:function(r){var i=r.albumId;return t(Object(ae.f)(ae.a.ADD,ae.b.MERGE_ALBUMS,{srcContextId:n().page.idContext})),t(Object(ce.updateAlbum)({id:e,hidden:!0})),Object(ie.a)("do-merge-albums",{srcAlbumId:e,dstAlbumId:i}).then((function(n){return t(fe(n.oid,e,i))})).catch((function(){t(le(e))}))},onReject:function(){}}))}},showFamilyAlbumAccessDialog:ue.showFamilyAlbumAccessDialog};t.a=Object(g.connect)((function(e,t){var n=t.album,r=e.environment.agent,i=r.OSFamily,o=r.isMobile;return Object.assign({isPageAlbum:Object(J.isPageAlbum)(e),isMobile:o,isAndroid:"Android"===i,isOverdraftDialogOpened:Object(X.isDialogOpened)(e,"overdraft")},Object(Q.getPublishObjectData)(e,[n.id]))}),je)(ke)}),(function(e,t,n){"use strict";n.r(t);var r=n(58);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i);var o=n(343);for(var i in o)"default"!==i&&(function(e){n.d(t,e,(function(){return o[e]}))})(i);var a=n(344);for(var i in a)"default"!==i&&(function(e){n.d(t,e,(function(){return a[e]}))})(i);var s=n(345);for(var i in s)"default"!==i&&(function(e){n.d(t,e,(function(){return s[e]}))})(i);var u=n(346);for(var i in u)"default"!==i&&(function(e){n.d(t,e,(function(){return u[e]}))})(i);var c=n(347);for(var i in c)"default"!==i&&(function(e){n.d(t,e,(function(){return c[e]}))})(i);var l=n(348);for(var i in l)"default"!==i&&(function(e){n.d(t,e,(function(){return l[e]}))})(i);var f=n(349);for(var i in f)"default"!==i&&(function(e){n.d(t,e,(function(){return f[e]}))})(i);var d=n(350);for(var i in d)"default"!==i&&(function(e){n.d(t,e,(function(){return d[e]}))})(i);var p=n(351);for(var i in p)"default"!==i&&(function(e){n.d(t,e,(function(){return p[e]}))})(i);var h=n(352);for(var i in h)"default"!==i&&(function(e){n.d(t,e,(function(){return h[e]}))})(i);var m=n(353);for(var i in m)"default"!==i&&(function(e){n.d(t,e,(function(){return m[e]}))})(i);var v=n(354);for(var i in v)"default"!==i&&(function(e){n.d(t,e,(function(){return v[e]}))})(i);var g=n(355);for(var i in g)"default"!==i&&(function(e){n.d(t,e,(function(){return g[e]}))})(i);var y=n(356);for(var i in y)"default"!==i&&(function(e){n.d(t,e,(function(){return y[e]}))})(i);var b=n(401);n.d(t,"withSizeXXL",(function(){return b.a}));var _=n(402);n.d(t,"withSizeXL",(function(){return _.a}));var O=n(357);for(var i in O)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(i);var w=n(358);for(var i in w)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(i);var E=n(359);for(var i in E)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(i);var S=n(477);for(var i in S)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return S[e]}))})(i);var x=n(478);for(var i in x)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return x[e]}))})(i);var C=n(360);for(var i in C)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return C[e]}))})(i);var T=n(479);for(var i in T)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return T[e]}))})(i);var k=n(480);for(var i in k)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return k[e]}))})(i);var j=n(481);for(var i in j)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return j[e]}))})(i);var P=n(482);for(var i in P)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return P[e]}))})(i);var R=n(361);for(var i in R)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return R[e]}))})(i);var A=n(362);for(var i in A)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return A[e]}))})(i);var I=n(483);for(var i in I)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return I[e]}))})(i);var D=n(484);for(var i in D)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return D[e]}))})(i);var M=n(485);for(var i in M)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return M[e]}))})(i);var N=n(486);for(var i in N)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return N[e]}))})(i);var L=n(487);for(var i in L)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return L[e]}))})(i);var F=n(702);for(var i in F)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return F[e]}))})(i);var B=n(403);n.d(t,"withViewBrand",(function(){return B.a}));var U=n(404);n.d(t,"withViewPremium",(function(){return U.a}));var z=n(405);n.d(t,"withViewDanger",(function(){return z.a}));var V=n(363);for(var i in V)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return V[e]}))})(i);var H=n(364);for(var i in H)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return H[e]}))})(i)}),(function(e,t,n){var r=n(1420);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}}),(function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(42),_=n(68);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var w=function(){};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(function(n){d()(o,n);var r=O(o);function o(e){var n;return a()(this,o),(n=r.call(this,e))._ignoreClicksSelector=[t,n.props.ignoreClicksSelector].filter(Boolean).join(","),n._wrappedComponentRef=null,n._setWrappedComponentRef=n._setWrappedComponentRef.bind(l()(n)),n._handleLongTouch=n._handleLongTouch.bind(l()(n)),n._onContextMenu=n._onContextMenu.bind(l()(n)),n._onDoubleClick=n._onDoubleClick.bind(l()(n)),n._onTouchStart=n._onTouchStart.bind(l()(n)),n._onTouchMove=n._onTouchMove.bind(l()(n)),n._onTouchEnd=n._onTouchEnd.bind(l()(n)),n._onClick=n._onClick.bind(l()(n)),n._onKeyDown=n._onKeyDown.bind(l()(n)),n}return u()(o,[{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e}},{key:"_getId",value:function(){return this._wrappedComponentRef&&this._wrappedComponentRef.getSelectionId?this._wrappedComponentRef.getSelectionId():this.props.id}},{key:"_handleLongTouch",value:function(e){e.cancelable&&e.preventDefault(),e.stopPropagation(),this.props.onContextMenu&&this.props.touchContextMenu?this.props.onContextMenu(this._getId(),e):this.props.onSelect(this._getId(),this.props.selectOnClick,e)}},{key:"_onTouchStart",value:function(e){var t=this;document.body.classList.add("no-user-select"),e.persist();var n=e.touches[0],r=n.pageX,i=n.pageY;this._touchStartPosition={pageX:r,pageY:i},this._touchStartTime=Date.now(),this._touchTimer=setTimeout((function(){t._handleLongTouch(e)}),300)}},{key:"_onTouchMove",value:function(e){if(this._touchStartPosition){var t=e.touches[0],n=t.pageX,r=t.pageY,i=n-this._touchStartPosition.pageX,o=r-this._touchStartPosition.pageY;Math.sqrt(i*i+o*o)>8&&(this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!0)}}},{key:"_onTouchEnd",value:function(e){document.body.classList.remove("no-user-select");var t=this._isSwipe;this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!1,this._ignoreClicksSelector&&e.target.closest(this._ignoreClicksSelector)||(e.preventDefault(),this._touchStartTime&&Date.now()-this._touchStartTime<300&&!t&&(this.props.selectOnClick?this.props.onSelect(this._getId(),!0,e):this.props.onOpen(this._getId(),e)))}},{key:"_onClick",value:function(e){if(!(this._ignoreClicksSelector&&e.target&&e.target.closest(this._ignoreClicksSelector)||2===e.button||e.ctrlKey&&this.props.isMacSafari)){var t=e.detail<2;this.props.openOnSingleClick?this.props.onOpen(this._getId(),e):!t&&this.props.supportDoubleClick||this.props.onSelect(this._getId(),this.props.selectOnClick,e)}}},{key:"_onDoubleClick",value:function(e){e.target.closest(".".concat(b.LISTING_PREVENT_DOUBLE_CLICK))||2!==e.button&&this.props.onOpen(this._getId(),e)}},{key:"_onContextMenu",value:function(e){var t;this.props.onContextMenu&&(t=this.props.onContextMenu(this._getId(),e)),t&&t.noPreventDefault&&!this.props.touchContextMenu||e.preventDefault()}},{key:"_onKeyDown",value:function(e){e.target===e.currentTarget&&(e.keyCode===_.Keys.ENTER?(e.preventDefault(),this.props.onOpen(this._getId(),e)):e.keyCode===_.Keys.SPACE&&(e.preventDefault(),this.props.onSelect(this._getId(),!0,{ctrlKey:!0}))),this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){return y.a.createElement(e,i()({},this.props,{ref:this._setWrappedComponentRef,onClick:this._onClick,onDoubleClick:this.props.supportDoubleClick?this._onDoubleClick:void 0,onTouchEnd:this._onTouchEnd,onTouchMove:this._onTouchMove,onTouchStart:this._onTouchStart,onContextMenu:this._onContextMenu,onKeyDown:this._onKeyDown,tabIndex:this.props.tabIndex||0}))}}]),o})(g.Component);return n.defaultProps={selectOnClick:!1,onOpen:w,onSelect:w,onContextMenu:w,openOnSingleClick:!1,supportDoubleClick:!0},n}}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0);function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=(function(e){u()(n,e);var t=h(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._listing=null,r}return a()(n,[{key:"getItemInfo",value:function(e){return this._listing.getItemInfo(e)}},{key:"getItemsInfo",value:function(){return this._listing.getItemsInfo()}},{key:"updateItemsInfo",value:function(){this._listing.updateItemsInfo()}}]),n})(p.Component);t.a=m}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(34),s=n(85),u=(n(1479),Object(a.cn)("Text")),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textElement=null,t}return Object(r.__extends)(t,e),t.getLineHeight=function(e){return parseFloat(getComputedStyle(e).lineHeight)},t.isFade=function(e){return"fade"===e||"fade-horizontal"===e},t.isEllipsis=function(e){return"ellipsis"===e},t.prototype.componentDidMount=function(){this.updateText()},t.prototype.componentWillUnmount=function(){this.textElement=null},t.prototype.componentDidUpdate=function(e){e.typography!==this.props.typography&&this.updateText()},t.prototype.updateText=function(){var e=this.textElement,n=this.props.overflow;e&&n&&t.isFade(n)&&Object(s.a)()&&this.forceUpdate()},t.prototype.getLineHeight=function(){if(this.textElement){var e=t.getLineHeight(this.textElement);if(!isNaN(e))return e}},t.prototype.setTextElement=function(e){this.textElement=e},t.prototype.render=function(){var e=this.props,n=e.as,i=void 0===n?"span":n,a=e.className,s=e.align,c=e.overflow,l=e.maxLines,f=void 0===l?1:l,d=e.style,p=void 0===d?{}:d,h=e.color,m=(e.typography,Object(r.__rest)(e,["as","className","align","overflow","maxLines","style","color","typography"]));if(c)if(t.isEllipsis(c))p.WebkitLineClamp=f;else if(t.isFade(c)&&(p.whiteSpace=1===f?"nowrap":void 0,f>1)){var v=this.getLineHeight();"number"==typeof v&&(p.maxHeight=f*v+"px")}return o.a.createElement(i,Object(r.__assign)({ref:this.setTextElement.bind(this),style:p,className:u({color:h,align:s,overflow:c},[a])},m))},t.displayName=u(),t})(i.PureComponent),l=(n(1480),n(5)),f=Object(l.withBemMod)(u(),{typography:"body-long-l"}),d=(n(1481),Object(l.withBemMod)(u(),{typography:"body-long-m"})),p=(n(1482),Object(l.withBemMod)(u(),{typography:"body-long-s"})),h=(n(1483),Object(l.withBemMod)(u(),{typography:"body-long-xl"})),m=(n(1484),Object(l.withBemMod)(u(),{typography:"body-short-l"})),v=(n(1485),Object(l.withBemMod)(u(),{typography:"body-short-m"})),g=(n(1486),Object(l.withBemMod)(u(),{typography:"body-short-s"})),y=(n(1487),Object(l.withBemMod)(u(),{typography:"body-short-xl"})),b=(n(1488),Object(l.withBemMod)(u(),{typography:"caption-l"})),_=(n(1489),Object(l.withBemMod)(u(),{typography:"caption-m"})),O=(n(1490),Object(l.withBemMod)(u(),{typography:"caption-xl"})),w=(n(1491),Object(l.withBemMod)(u(),{typography:"control-l"})),E=(n(1492),Object(l.withBemMod)(u(),{typography:"control-m"})),S=(n(1493),Object(l.withBemMod)(u(),{typography:"control-s"})),x=(n(1494),Object(l.withBemMod)(u(),{typography:"control-xl"})),C=(n(1495),Object(l.withBemMod)(u(),{typography:"control-xs"})),T=(n(1496),Object(l.withBemMod)(u(),{typography:"control-xxl"})),k=(n(1497),Object(l.withBemMod)(u(),{typography:"control-xxs"})),j=(n(1498),Object(l.withBemMod)(u(),{typography:"display-l"})),P=(n(1499),Object(l.withBemMod)(u(),{typography:"display-m"})),R=(n(1500),Object(l.withBemMod)(u(),{typography:"display-s"})),A=(n(1501),Object(l.withBemMod)(u(),{typography:"display-xl"})),I=(n(1502),Object(l.withBemMod)(u(),{typography:"headline-l"})),D=(n(1503),Object(l.withBemMod)(u(),{typography:"headline-m"})),M=(n(1504),Object(l.withBemMod)(u(),{typography:"headline-s"})),N=(n(1505),Object(l.withBemMod)(u(),{typography:"headline-xl"})),L=(n(1506),Object(l.withBemMod)(u(),{typography:"headline-xs"})),F=(n(1507),Object(l.withBemMod)(u(),{typography:"overline-l"})),B=(n(1508),Object(l.withBemMod)(u(),{typography:"overline-m"})),U=(n(1509),Object(l.withBemMod)(u(),{typography:"overline-s"})),z=(n(1510),Object(l.withBemMod)(u(),{typography:"subheader-l"})),V=(n(1511),Object(l.withBemMod)(u(),{typography:"subheader-m"})),H=(n(1512),Object(l.withBemMod)(u(),{typography:"subheader-s"})),W=(n(1513),Object(l.withBemMod)(u(),{typography:"subheader-xl"})),G=(n(1514),Object(l.withBemMod)(u(),{weight:"bold"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),$=(n(1515),Object(l.withBemMod)(u(),{weight:"light"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),q=(n(1516),Object(l.withBemMod)(u(),{weight:"medium"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),Y=(n(1517),Object(l.withBemMod)(u(),{weight:"regular"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}})));n.d(t,"cnText",(function(){return u})),n.d(t,"Text",(function(){return c})),n.d(t,"withTypographyBodyLongL",(function(){return f})),n.d(t,"withTypographyBodyLongM",(function(){return d})),n.d(t,"withTypographyBodyLongS",(function(){return p})),n.d(t,"withTypographyBodyLongXL",(function(){return h})),n.d(t,"withTypographyBodyShortL",(function(){return m})),n.d(t,"withTypographyBodyShortM",(function(){return v})),n.d(t,"withTypographyBodyShortS",(function(){return g})),n.d(t,"withTypographyBodyShortXL",(function(){return y})),n.d(t,"withTypographyCaptionL",(function(){return b})),n.d(t,"withTypographyCaptionM",(function(){return _})),n.d(t,"withTypographyCaptionXL",(function(){return O})),n.d(t,"withTypographyControlL",(function(){return w})),n.d(t,"withTypographyControlM",(function(){return E})),n.d(t,"withTypographyControlS",(function(){return S})),n.d(t,"withTypographyControlXL",(function(){return x})),n.d(t,"withTypographyControlXS",(function(){return C})),n.d(t,"withTypographyControlXXL",(function(){return T})),n.d(t,"withTypographyControlXXS",(function(){return k})),n.d(t,"withTypographyDisplayL",(function(){return j})),n.d(t,"withTypographyDisplayM",(function(){return P})),n.d(t,"withTypographyDisplayS",(function(){return R})),n.d(t,"withTypographyDisplayXL",(function(){return A})),n.d(t,"withTypographyHeadlineL",(function(){return I})),n.d(t,"withTypographyHeadlineM",(function(){return D})),n.d(t,"withTypographyHeadlineS",(function(){return M})),n.d(t,"withTypographyHeadlineXL",(function(){return N})),n.d(t,"withTypographyHeadlineXS",(function(){return L})),n.d(t,"withTypographyOverlineL",(function(){return F})),n.d(t,"withTypographyOverlineM",(function(){return B})),n.d(t,"withTypographyOverlineS",(function(){return U})),n.d(t,"withTypographySubheaderL",(function(){return z})),n.d(t,"withTypographySubheaderM",(function(){return V})),n.d(t,"withTypographySubheaderS",(function(){return H})),n.d(t,"withTypographySubheaderXL",(function(){return W})),n.d(t,"withWeightBold",(function(){return G})),n.d(t,"withWeightLight",(function(){return $})),n.d(t,"withWeightMedium",(function(){return q})),n.d(t,"withWeightRegular",(function(){return Y}))}),,,,(function(e,t,n){"use strict";var r=n(215),i=n(470),o=n(904),a=n(584),s=n(471),u=n(587),c=n(216),l=n(595),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}}),(function(e,t,n){"use strict";var r=n(201);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))}),(function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),(function(e,t,n){"use strict";var r=n(586),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}}),(function(e,t,n){"use strict";e.exports=function(e){return null===e||void 0===e}}),(function(e,t,n){"use strict";var r=n(907),i=n(589);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}}),(function(e,t,n){"use strict";var r="object"==typeof document&&document.all,i=void 0===r&&void 0!==r;e.exports={all:r,IS_HTMLDDA:i}}),(function(e,t,n){"use strict";var r=n(590),i=n(166),o=n(908),a=n(591),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}}),(function(e,t,n){"use strict";var r=n(144),i=n(166);e.exports=function(e,t){return arguments.length<2?(function(e){return i(e)?e:void 0})(r[e]):r[e]&&r[e][t]}}),(function(e,t,n){"use strict";var r=n(592);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}),(function(e,t,n){"use strict";var r=n(909),i=n(201),o=n(144).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))}),(function(e,t,n){"use strict";var r=n(916),i=n(472);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),(function(e,t,n){"use strict";var r=n(177),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}}),(function(e,t,n){"use strict";var r=n(215),i=n(201),o=n(918);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))}),(function(e,t,n){"use strict";var r=n(215),i=n(474),o=n(584);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}}),(function(e,t,n){"use strict";var r=n(288),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}}),(function(e,t,n){"use strict";e.exports={}}),(function(e,t,n){"use strict";var r=n(933);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}}),(function(e,t,n){var r=r||n(408);r.Parser=function(e,t){this._rules=e,this._tokens=t||{}},r.Parser.prototype.start=function(e,t){this.input=e,this.p=0,this.s=e;var n=this.parse(t);return this.s&&this.error("End of string expected"),n},r.Parser.prototype.parse=function(e,t){var n=this._rules[e],r=this.p,i=n.call(this,t);return i._start=r,i._end=this.p,i._input=this.input,i},r.Parser.prototype.test=function(e){var t=this._tokens[e];if(t){var n=t.exec(this.s);return n&&n[0]}if(this.la(e.length)===e)return e},r.Parser.prototype.match=function(e){var t=this.test(e);return t||this.error("Token "+e+" expected"),this.move(t.length),t},r.Parser.prototype.la=function(e){return this.s.substr(0,e||1)},r.Parser.prototype.move=function(e){e||(e=1),this.s=this.s.substr(e),this.p+=e},r.Parser.prototype.skip=function(){var e=/^\s+/.exec(this.s);e&&this.move(e[0].length)},r.Parser.prototype.error=function(e){throw Error(e+" at "+this.p+": "+this.s)}}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(601);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={defaultDomain:"ru",defaultAvailableLangs:["ru","en","uk","tr"],defaultMarketCode:"RU",domains:{am:{domain:"com.am"},az:{domain:"az"},by:{domain:"by"},ee:{domain:"ee"},com:{domain:"com",availableLangs:["en","ru","uk","tr"],marketCode:"COM"},fr:{domain:"fr",availableLangs:["en","ru","uk","tr"],marketCode:"COM"},ge:{domain:"com.ge"},il:{domain:"co.il",availableLangs:["en","tr"],marketCode:"COM"},kg:{domain:"kg"},kz:{domain:"kz"},lt:{domain:"lt"},lv:{domain:"lv"},md:{domain:"md"},ru:{domain:"ru"},tj:{domain:"tj"},tm:{domain:"tm"},tr:{domain:"com.tr",availableLangs:["tr","en"],marketCode:"TR"},ua:{domain:"ua",availableLangs:["uk","ru","en","tr"],marketCode:"UK"},uz:{domain:"uz"}}}}),(function(e,t,n){"use strict";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=1073741824,o=[1,1024,1048576,i,1099511627776],a={};a.getSpaceObject=function(e,t,n,a){if(!t.length||t.length<o.length)throw new Error("helpers/space::units must be an array with minimum "+o.length+" items");a=a||{},"string"==typeof e&&(e=parseInt(e,10)),(e<0||e>r||isNaN(e))&&(e=0);var s=(function(e){for(var t=o.length;t>=0;t--)if(e>=o[t])return t;return 0})(e),u=o[s],c=(e/u).toString().split("."),l=c[0],f=c[1],d=a.precision;a.length&&(d=a.length>l.length?a.length-l.length:0),d||0===d||(d=1048576===u?1:u>=i?2:0);var p=l;return d>0&&f&&(f.length>d&&(f=f.substr(0,d)),(f=f.replace(/0+$/,""))&&(p+=n+f)),{number:p,unit:t[s]}},a.getSpaceString=function(e,t,n,r){var i=this.getSpaceObject(e,t,n,r);return i.number+" "+i.unit},e.exports=a}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(90),u=n.n(s),c=n(22),l=n.n(c),f=n(60),d=n.n(f),p=n(564),h=n.n(p),m=n(46),v=n.n(m),g=n(137),y=n(13),b=n(17),_=["idContext","scopeSearch"];ns.log.error=function(e,t){(ns.DEBUG||no.de)&&console.error("ns.log.error",e,t)},ns.log.exception=function(e,t){(ns.DEBUG||no.de||"development"===u.a.environment)&&console.error("ns.log.exception",e,no.de?t.stack:t)},ns.todo=function(e,t){if((ns.DEBUG||no.de||"development"===u.a.environment)&&!t)throw new Error(e||"Unimplemented")},ns.View.prototype.hasErrorFatalModels=function(e){Array.isArray(e)||(e=[e]);var t=!1;return e.forEach((function(e){var n=e.getData().error;if(n&&n.id&&0===n.id.indexOf("HTTP_50"))return t=!0,!0})),t},ns.View.prototype.getViewChild=function(e){if(this.views)return a.a.find(this.views,{params:e})},ns.View.prototype.updateView=function(){this.invalidate(),this.isVisible()&&v.a.update()},ns.View.prototype.subscribeUpdateResource=function(e,t){var n=this,r=Object(y.default)(),o={};for(var a in t)o=Object.assign({},o,i()({},a,Object(b.getResourceData)(r.getState(),e,a)));return r.subscribe((function(){if(n.isValid())for(var a in t){var s=Object(b.getResourceData)(r.getState(),e,a);o[a]!==s&&(t[a](o[a],s),o=Object.assign({},o,i()({},a,s)))}}))},ns.Model.prototype.retryOffline=function(){return!1},ns.Model.prototype.shouldRetryFails=function(){return!this.isDo()},ns.Model.prototype.fetch=function(){return n(1005),ns.Model.get("queueSync").push(this)},ns.Model.prototype.updateData=function(e){this.setData(a.a.merge({},this.getData(),e||{}))},ns.Model.prototype.setDataDefault=function(){var e=this.info.defaults;return e="function"==typeof e?e.call(this):e,this.setData(a.a.merge({},e||{}))},ns.Model.prototype.subscribeUpdateResource=function(e,t,n){var r=this,o=Object(y.default)(),a={};for(var s in t)a=Object.assign({},a,i()({},s,Object(b.getResourceData)(o.getState(),e,s)));return o.subscribe((function(){if(r.isValid()){var s=o.getState();if(Object(b.isExistsResource)(s,e))for(var u in t){var c=Object(b.getResourceData)(o.getState(),e,u);a[u]!==c&&(t[u](a[u],c),a=Object.assign({},a,i()({},u,c)))}else n()}}))},ns.page.getCurrentUrl=function(){return d.a.mergeSlashes(window.location.pathname)+window.location.search};var O=ns.router.generateUrl;if(ns.router.generateUrl=function(e,t){var n=t.idContext?l.a.getIdApp(t.idContext):"client",r=h.a.parseUrl(ns.page.currentUrl);return-1!==["album","public"].indexOf(n)?h.a.formatUrl(a.a.extend({prefix:r&&r.prefix},t)):O.call(this,e,t)},ns.Update.prototype.perf=function(e){g.a.collectNSTimings(e)},ns.router.encodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.escape(e):encodeURIComponent(e)},ns.router.decodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.unescape(e):decodeURIComponent(e)},ns.history){var w=ns.history._onAnchorClick;ns.history._onAnchorClick=function(e){return!!e.isDefaultPrevented()||(!!e.target.dataset.external||w.call(this,e))}}ns.page.go=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.DEFAULT_HISTORY_ACTION;!0===n&&(n="replace"),"function"==typeof(null===(t=window.HOST_API)||void 0===t?void 0:t.onChangeUrl)&&e&&window.HOST_API.onChangeUrl(location.origin+e),e=e||ns.page.getCurrentUrl();var r=ns.router(e);return ns.R.NOT_FOUND===r.page?ns.page.redirect("/client/disk"):"notes"===r.page?Vow.fulfill():(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.events.trigger("ns-page-after-load",r.params,e),Vow.fulfill()))},ns.Update.prototype.applyTemplate=function(e){return ns.renderString(e,null,"common")},n(1006).extendRouterRegs(ns)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);n(538),n(1027),r.__exportStar(n(58),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(477),t),n(1054)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(478),t),n(1056)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(479),t),n(1059)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(480),t),n(1061)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(481),t),n(1063)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(482),t),n(1065)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(483),t),n(1067)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(484),t),n(1069)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(485),t),n(1071)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(486),t),n(1073)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(487),t),n(1075)}),(function(e,t,n){"use strict";n.r(t);n(620);var r=n(621);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";n(1076)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(488),t),n(1078)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(120),a=i(n(623)),s={retryOffline:!0,retryCodes:[502],maxRetries:3,pingUrl:"/ping"};t.default=function e(t){var n=t.modelsRoute,i=t.apiMethod,u=t.requestParams,c=t.sk,l=t.onSkUpdate,f=t.uid,d=t.onAuthChanged,p=t.connectionId,h=t.options,m=void 0===h?{}:h,v=r(r({},s),m),g=function(e){return fetch(n+"?m="+i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(r(r({sk:e},p?{connection_id:p}:null),{apiMethod:i,requestParams:u}))})},y=function(e){return e.json()},b=function(){return e(r(r({},t),{options:r(r({},v),{maxRetries:v.maxRetries-1})}))};return g(c).then((function(e){return e.ok?y(e):Promise.reject(e)})).catch((function(e){return e instanceof Error?v.retryOffline&&v.maxRetries>0?o.waitOnline(v.pingUrl).then(b):Promise.reject(e):v.retryCodes.includes(e.status)&&v.maxRetries>0?b():401===e.status&&f&&d?(d(),Promise.reject(e)):e.json().then((function(t){if(t.error&&"CKEY"===t.error.code)if(f&&f!==t.error.uid&&d)d(t.error.uid);else if(t.error.ckey)return l(t.error.ckey),g(t.error.ckey).then(y);return a.default(t)?Promise.reject({message:"Empty error response ("+e.status+")",status:e.status}):Promise.reject(t)}))}))}}),(function(e,t,n){var r=n(624),i=n(290),o=n(367),a=n(145),s=n(221),u=n(368),c=n(366),l=n(492),f="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if(t==f||t==d)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}}),(function(e,t,n){var r=n(366),i=n(1120),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}}),(function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}}),(function(e,t,n){var r=n(246),i=n(153),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==u}}),(function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(131))}),(function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radioboxRegistry=void 0;var r=n(32),i=n(291),o=n(1151);t.radioboxRegistry=new r.Registry({id:i.cnRadiobox()}),t.radioboxRegistry.set("Radio",o.RadioboxRadio)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRadioGroup=t.RadioGroupProvider=void 0;var r=n(0),i=r.createContext({});i.displayName="RadioGroup",t.RadioGroupProvider=i.Provider;t.useRadioGroup=function(){return r.useContext(i)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxRadio=void 0;var r=n(2).__importDefault(n(0)),i=n(494),o=n(200),a=n(632),s=n(1152),u=n(1154),c=n(291),l=n(630);n(1156),t.RadioboxRadio=i.withControl((function(e){var t=e.autoFocus,n=e.checked,i=e.children,f=e.className,d=e.controlRef,p=e.disabled,h=e.focused,m=e.innerRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onClick,_=e.onFocus,O=e.onMouseEnter,w=e.onMouseLeave,E=e.pressed,S=e.value,x=l.useRadioGroup(),C=x.value?x.value===S:n,T=x.disabled||p,k="label-"+(a.IS_TESTING?"0":o.useUniqId("radio"));return r.default.createElement("label",{className:c.cnRadiobox("Radio",{checked:C,disabled:T,focused:h,pressed:E},[f]),onBlur:g,onClick:b,onFocus:_,onMouseEnter:O,onMouseLeave:w,ref:m},r.default.createElement(s.RadioboxBox,null,r.default.createElement(u.RadioboxControl,{autoFocus:t,checked:C,controlRef:d,disabled:T,labelledBy:k,name:x.name||v,onChange:x.onChange||y,value:S})),r.default.createElement("span",{"aria-hidden":"true",className:c.cnRadiobox("Text"),id:k},i))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_PRODUCTION=t.IS_TESTING=void 0,t.IS_TESTING=!1,t.IS_PRODUCTION=!0}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withControl=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(495);t.withControl=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return r.__extends(n,t),n.prototype.render=function(){var t=this.props.disabled,n=!t&&Boolean(this.state.hovered||this.props.hovered),o=e;return i.default.createElement(o,r.__assign({},this.props,{hovered:t?void 0:n,onMouseEnter:t?void 0:this.onMouseEnter,onMouseLeave:t?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+o.getDisplayName(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=o(n(0)),u=o(n(167)),c=o(n(154)),l=n(34),f=n(497),d=l.cn("ShareDialogAccessType");n(1184),(function(e){e.Overdraft="overdraft",e.SecurityWithPassword="security-with-password",e.ReadOnlyRights="read-only-rights",e.VicariousDoc="vicarious-doc"})(a=t.AccessStubType||(t.AccessStubType={}));var p={disabled:{titleKey:"access-type-title_view",subtitleKey:"access-type-subtitle_view",iconName:"eye"},all:{titleKey:"access-type-title_edit",subtitleKey:"access-type-subtitle_edit",iconName:"pen"}},h={disabled:i(i({},p.disabled),{subtitleKey:"access-type-org-subtitle_view"}),all:i(i({},p.all),{subtitleKey:"access-type-org-subtitle_edit"})},m=((r={})[a.Overdraft]={file:{titleKey:"access-type-title-file_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},folder:{titleKey:"access-type-title-folder_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},album:{titleKey:"access-type-title-album_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"}},r[a.SecurityWithPassword]={titleKey:"security-title",subtitleKey:"security-desc-with-password",iconName:"shield"},r[a.ReadOnlyRights]={titleKey:"access-type-title_no-edit-rights",subtitleKey:"access-type-subtitle_no-edit-rights",iconName:"warningGrey"},r[a.VicariousDoc]={titleKey:"access-type-title-vicarious-doc",subtitleKey:"access-type-subtitle-vicarious-doc",iconName:"warningGrey"},r);t.default=function(e){var t,n=e.lang,r=e.value,i=e.className,o=e.addonAfter,a=e.stubType,l=e.onClick,v=e.resourceType,g=e.isB2bSharingOn?h:p;if(a){var y=m[a];t=y[v]||y}else t=g[r];var b=t.titleKey,_=t.subtitleKey,O=t.iconName;return s.default.createElement("div",{className:f.classnames(d(),i),onClick:l},s.default.createElement("div",{className:d("TypeIcon")},s.default.createElement(c.default,{name:O,className:d("Icon")})),s.default.createElement("div",{className:d("Text")},s.default.createElement("span",{className:d("Title")},u.default(n,b)),s.default.createElement("span",{className:d("Subtitle")},u.default(n,_))),o&&s.default.createElement("div",{className:d("AddonAfter")},o))}}),(function(e,t){e.exports='<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.666.919a.4.4 0 0 1 .566 0l.848.848a.4.4 0 0 1 0 .566L8.413 7l4.667 4.667a.4.4 0 0 1 0 .566l-.765.765a.4.4 0 0 1-.566 0L7.082 8.331l-4.75 4.75a.4.4 0 0 1-.566 0l-.848-.848a.4.4 0 0 1 0-.566l4.75-4.75L1.001 2.25a.4.4 0 0 1 0-.566L1.766.92a.4.4 0 0 1 .566 0L7 5.586 11.666.919z" fill="currentColor"></path></svg>'}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(537),o=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeM))(i.MessageBoxPopup);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r=n(32),i=n(5),o=n(638),a=n(500),s=n(501),u=n(641),c=n(222),l=i.compose(a.withViewDefault,s.withTargetAnchor,u.withNonvisual)(o.Popup);t.registry=new r.Registry({id:c.cnMessageBox()}),t.registry.set("Popup",l)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var r=n(2),i=n(32),o=n(180),a=n(499);r.__exportStar(n(180),t),t.Popup=i.withRegistry(a.popupRegistry)(o.Popup)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={name:"applyMinWidth",enabled:!0,fn:function(e){var t=e.state;t.styles.popper.minWidth=t.rects.reference.width+"px"},effect:function(e){var t=e.state;t.elements.reference instanceof HTMLElement&&(t.elements.popper.style.minWidth=t.elements.reference.offsetWidth+"px")},phase:"beforeWrite",requires:["computeStyles"]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(190),o={name:"applyMaxHeight",enabled:!0,fn:function(e){var t=e.state,n=e.options,o=n.maxHeight,a=n.padding,s=void 0===a?16:a,u=Object(i.a)(t,{padding:s}),c=(t.modifiersData.preventOverflow||{y:0}).y,l=t.rects.popper.height,f=Object(r.__read)(t.placement.split("-"),1)[0],d=l-u["top"===f?"top":"bottom"]-c,p=o?Math.min(d-c,o):d;t.styles.popper=Object(r.__assign)(Object(r.__assign)({},t.styles.popper),{maxHeight:p+"px"})},phase:"main",requires:["computeStyles"]}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withNonvisual=void 0;var r=n(5),i=n(180);n(1207),t.withNonvisual=r.withBemMod(i.cnPopup(),{nonvisual:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1224);t.default=r.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerRegistry=void 0;var r=n(32),i=n(644),o=n(116);t.DrawerRegistry=new r.Registry({id:o.cnDrawer()}),t.DrawerRegistry.set("Popup",i.Popup)}),(function(e,t,n){"use strict";n.r(t);var r=n(800);n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"Popup",(function(){return r.a}));var i=n(204);n.d(t,"withNonvisual",(function(){return i.a}));var o=n(171);n.d(t,"withTargetAnchor",(function(){return o.a}));var a=n(249);n.d(t,"withThemeClear",(function(){return a.a}));var s=n(250);n.d(t,"withThemeNormal",(function(){return s.a}));var u=n(170);n.d(t,"withViewDefault",(function(){return u.a}));var c=n(169);n.d(t,"directions",(function(){return c.directions}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(636)),s=i(n(132)),u=i(n(167)),c=n(34).cn("NoFeatureStub");n(1245);t.default=function(e){var t=e.lang,n=e.isB2b,r=e.visible,i=e.anchor,l=e.containerRef,f=e.chooseTariffLink,d=e.onGoToTariffs,p=e.onClose,h=o.useCallback((function(e){var t;null!==(t=null===l||void 0===l?void 0:l.current)&&void 0!==t&&t.contains(e.target)||p()}),[l,p]),m=o.useCallback((function(){d(),p()}),[p,d]);return o.default.createElement(a.default,{className:c("Tooltip"),onClose:h,view:"default",visible:r,anchor:i,direction:"right",size:"m",hasTail:!0,opaque:!0},o.default.createElement("div",{className:c("TooltipInner")},o.default.createElement("span",null,u.default(t,n?"security-b2b-tooltip":"security-b2c-tooltip")),o.default.createElement("div",null,o.default.createElement(s.default,{size:"s",view:n?"link":"premium",type:"link",target:"_blank",url:f,onClick:m,className:c("TooltipButton",{b2c:!n})},u.default(t,"choose-tariff")))))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(642)),u=o(n(132)),c=o(n(154)),l=n(34).cn("Banner");n(1246);t.default=function(e){var t=e.visible,n=e.titleText,i=e.mainText,o=e.buttonText,f=e.onClose,d=e.onSubmtiClick,p=e.isB2b,h=void 0===p||p,m=e.zIndexGroupLevel,v=void 0===m?1:m,g=e.buttonProps,y=void 0===g?{}:g,b=e.className,_=a.useCallback((function(){d(),f()}),[d,f]);return a.default.createElement(s.default,{theme:"normal",visible:t,zIndexGroupLevel:v,onClose:f,className:l("",{B2b:h},[b])},a.default.createElement("div",{className:l("Wrapper",{isB2b:h},[])},a.default.createElement("div",{className:l("Background")}),a.default.createElement("div",{className:l("Close")},a.default.createElement(u.default,{view:"clear",size:"s",onClick:f},a.default.createElement(c.default,{name:"cross"}))),a.default.createElement("div",{className:l("ImageWrapper")},a.default.createElement("div",{className:l("Image")})),a.default.createElement("div",{className:l("Content")},a.default.createElement("h2",{className:l("ContentTitleText")},n),a.default.createElement("div",{className:l("ContentMainText")},i),a.default.createElement(u.default,r({type:"link",target:"_blank",size:"xxl",view:h?"brand":"premium",className:l("ContentButton",[y.className]),onClick:_},y),o))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuRegistry=void 0;var r=n(32),i=n(251),o=n(1271),a=n(1272),s=n(1274),u=n(1275),c=n(252),l=n(1277);t.menuRegistry=new r.Registry({id:i.cnMenu()}),t.menuRegistry.set("Group",o.MenuGroup).set("Item",a.MenuItem).set("Text",s.MenuText).set("Title",u.MenuTitle).set("Icon",l.withGlyphTypeCheck(c.Icon))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;t.flatMap=function(e,t){return t.reduce((function(t,n){return t.concat(e(n))}),[])}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(441),a=function(e){var t=e.locale,n=e.children;return i.a.createElement(o.a.Provider,{value:t},n)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(271),o=new Map;function a(e){var t=Object(i.a)().locale,n=Object(r.useMemo)((function(){return (function(e,t){var n="";void 0!==t&&(n=Object.keys(t).map((function(e){return[e,t[e]]})).sort((function(e,t){return e[0]<t[0]?-1:1})).join());return e+n})(t,e)}),[t,e]),a=o.get(n);if(a)return a;var s=new Intl.DateTimeFormat(t,e);return o.set(n,s),s}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(271),i={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AT:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function o(){var e=Object(r.a)().region;return i[e]||0}}),(function(e,t,n){"use strict";n.r(t);var r=n(430);n.d(t,"initialContextValue",(function(){return r.c})),n.d(t,"SSRContext",(function(){return r.a})),n.d(t,"SSRProvider",(function(){return r.b}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(544),o=n(557),a=n(560),s=n(278);function u(e,t){var n=e.onChange,u=e.readOnly,c=e.state,l=Object(r.__rest)(e,["onChange","readOnly","state"]),f=Object(i.a)(e,t).focusableProps,d=Object(o.a)(e);return{isPressed:d.isPressed,rootProps:d.pressProps,inputProps:Object(a.a)(l,f,{"aria-checked":e.checked,"aria-invalid":"invalid"===c||void 0,"aria-readonly":u||void 0,autoComplete:Object(s.a)()?"off":void 0,onChange:u?void 0:n,type:"checkbox"})}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=400,o=70;function a(e){var t=e.value,n=void 0===t?NaN:t,a=e.min,s=void 0===a?NaN:a,u=e.max,c=void 0===u?NaN:u,l=e.textValue,f=void 0===l?Number.isFinite(n)?n.toString():"":l,d=e.disabled,p=e.readOnly,h=e.required,m=e.onIncrement,v=e.onExtraIncrement,g=e.onDecrement,y=e.onExtraDecrement,b=e.onDecrementToMin,_=e.onIncrementToMax,O=!(p||d),w=Object(r.useRef)(),E=Object(r.useCallback)((function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var t={ArrowUp:m,PageUp:null!==v&&void 0!==v?v:m,ArrowDown:g,PageDown:null!==y&&void 0!==y?y:g,End:_,Home:b}[e.key];t&&(e.preventDefault(),t())}}),[m,v,_,g,y,b]),S=Object(r.useCallback)((function(){return clearTimeout(w.current)}),[]),x=Object(r.useCallback)((function(e){!(function t(n){null===e||void 0===e||e(),w.current=window.setTimeout(t,n,o)})(i)}),[]),C=Object(r.useCallback)((function(){x(m)}),[x,m]),T=Object(r.useCallback)((function(){x(g)}),[x,g]);Object(r.useEffect)((function(){return S}),[S]);var k={role:"spinbutton","aria-valuenow":Number.isFinite(n)?n:void 0,"aria-valuetext":""===f?"Empty":f,"aria-valuemin":Number.isFinite(s)?s:void 0,"aria-valuemax":Number.isFinite(c)?c:void 0,"aria-disabled":d||void 0,"aria-readonly":p||void 0,"aria-required":h||void 0};return O&&(k.onKeyDown=E),{spinButtonProps:k,incrementButtonProps:{disabled:!O,onPressStart:C,onPressEnd:S},decrementButtonProps:{disabled:!O,onPressStart:T,onPressEnd:S}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(655);n.d(t,"useSpinButton",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(339),o=r.compose(i.withViewDefault,i.withTargetAnchor)(i.Popup);t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(562);n.d(t,"useTextFieldHint",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textinput=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(5),a=n(32),s=n(633),u=n(1332),c=n(79),l=n(378);r.__exportStar(n(79),t),t.Textinput=o.compose(a.withRegistry(l.textinputRegistry),s.withControl,u.withAutoFocus)((function(e){var t=e.className,n=e.hovered,o=r.__rest(e,["className","hovered"]);return i.default.createElement(c.Textinput,r.__assign({},o,{className:c.cnTextinput({hovered:n},[t])}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseline=void 0;var r=n(5),i=n(79);n(1333),t.withBaseline=r.createClassNameModifier(i.cnTextinput(),{baseline:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withHasClear=void 0;var r=n(2),i=n(5),o=n(32),a=n(1334),s=n(662);r.__exportStar(n(662),t),t.withHasClear=i.compose(o.withRegistry(a.textinputRegistry),s.withHasClear)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withHasClear=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(5),a=n(32),s=n(219),u=n(79);t.withHasClear=o.withBemMod(u.cnTextinput(),{hasClear:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=i.createRef(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,o=n.addonBefore,c=(n.onClearClick,n.hasClear,n.controlRef),l=(n.clearIcon,r.__rest(n,["addonBefore","onClearClick","hasClear","controlRef","clearIcon"]));return i.default.createElement(a.ComponentRegistryConsumer,{id:u.cnTextinput()},(function(n){var a=n.Clear;return i.default.createElement(e,r.__assign({},l,{controlRef:s.mergeAllRefs(t.controlRef,c),addonBefore:i.default.createElement(i.default.Fragment,null,i.default.createElement(a,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,icon:t.props.clearIcon,visible:Boolean(t.props.value)}),o)}))}))},n})(i.PureComponent)}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickBrick=void 0;var r=n(5),i=n(79);n(1343),t.withPinBrickBrick=r.withBemMod(i.cnTextinput(),{pin:"brick-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickClear=void 0;var r=n(5),i=n(79);n(1344),t.withPinBrickClear=r.withBemMod(i.cnTextinput(),{pin:"brick-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickRound=void 0;var r=n(5),i=n(79);n(1345),t.withPinBrickRound=r.withBemMod(i.cnTextinput(),{pin:"brick-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearBrick=void 0;var r=n(5),i=n(79);n(1346),t.withPinClearBrick=r.withBemMod(i.cnTextinput(),{pin:"clear-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearClear=void 0;var r=n(5),i=n(79);n(1347),t.withPinClearClear=r.withBemMod(i.cnTextinput(),{pin:"clear-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearRound=void 0;var r=n(5),i=n(79);n(1348),t.withPinClearRound=r.withBemMod(i.cnTextinput(),{pin:"clear-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundBrick=void 0;var r=n(5),i=n(79);n(1349),t.withPinRoundBrick=r.withBemMod(i.cnTextinput(),{pin:"round-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundClear=void 0;var r=n(5),i=n(79);n(1350),t.withPinRoundClear=r.withBemMod(i.cnTextinput(),{pin:"round-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundRound=void 0;var r=n(5),i=n(79);t.withPinRoundRound=r.withBemMod(i.cnTextinput(),{pin:"round-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeM=void 0;var r=n(5),i=n(79);n(1353),t.withSizeM=r.withBemMod(i.cnTextinput(),{size:"m"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeS=void 0;var r=n(5),i=n(79);n(1354),t.withSizeS=r.withBemMod(i.cnTextinput(),{size:"s"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(1355),t),n(1357)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(1358),t),n(1360)}),(function(e,t,n){"use strict";n.r(t);n(1361);var r=n(677);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).__exportStar(n(1363),t),n(1365)}),(function(e,t,n){"use strict";n.r(t);n(1366);var r=n(679);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);n(1368),r.__exportStar(n(1369),t)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={geo:"Места и поездки",beautiful:"Красивые",unbeautiful:"Разобрать",screenshots:"Скриншоты",camera:"Камера",videos:"Видео"}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoSelector=void 0;const i=n(1385),o=n(1432),a=n(688),s=n(1440),u=n(1473),c=n(508);t.PromoSelector=class{constructor(e){this.params=e,this.getNow=e.getNow,this.plugins=(e.plugins||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),this.uid=e.uid,this.apiUrl=e.apiUrl,this.hasWebpSupport=u.hasWebpSupport(),this.logger=new s.SelectorLogger({logger:this.params.logger,uid:this.uid,apiUrl:this.apiUrl}),this.promos=c.getPromosWithFormat(e.config)}loadData(e=!0){return r(this,void 0,void 0,(function*(){const[t]=yield Promise.all([a.getService(this.params.dsClient,e)]);return{settingsService:t}}))}getSelectPromoArgs(e,t,n){return r(this,void 0,void 0,(function*(){const{settingsService:r}=yield this.loadData(t.cacheService);return{commonConfig:this.params.config.common,queue:n||[],settingsService:r,project:this.params.project,now:this.getNow(),lang:this.params.lang,hasWebpSupport:this.hasWebpSupport,userInfo:e,plugins:this.plugins,onLegacyCheck:this.params.onLegacyCheck,legacyPromoNames:this.params.legacyPromoNames,stage:t.stage,logger:this.logger,promos:this.promos,getBillingData:this.params.getBillingData,customQuery:this.params.customQuery}}))}selectPromo(e,t={}){return r(this,void 0,void 0,(function*(){const n=yield this.getSelectPromoArgs(e,t,this.params.config.queues[this.params.project]);return yield i.selectPromo(n)}))}selectAllActivePromos(e,t={}){return r(this,void 0,void 0,(function*(){const n=yield this.getSelectPromoArgs(e,t,this.params.config.persistentQueues[this.params.project]);return yield o.selectAllActivePromos(n)}))}}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKERS=void 0;const a=n(1386),s=n(1387),u=n(1388),c=n(1389),l=n(1390),f=n(1391),d=n(1392),p=n(1393),h=n(1394),m=n(1395),v=n(1396),g=n(1397),y=o(n(1398)),b=o(n(1429)),_=n(1431);t.CHECKERS=[y.auth,y.stage,y.promoEnabled,v.showFrequency,g.showPeriod,y.segment,y.langs,y.subscription,y.familyAdmin,y.userFamily,c.isYandexStaff,y.tld,y.testids,a.anchor,u.alreadyShownPromos,m.relatedPromos,h.projectSettings,s.billingPromoKey,_.webpSupport,d.productFamily,p.promoCodeActivation,l.legacy,f.plugin,b.showSegments,b.hideSegments]}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisiblePromoAnchorElement=void 0;const r=["serviceMailButton","serviceDiskButton","serviceTelemostButton","serviceDocumentsButton","serviceCalendarButton"];t.getVisiblePromoAnchorElement=(e=>{let t=`.promozavr-anchor-${e}`;-1!==r.indexOf(e)&&(t=".PSHeader-Center "+t);const n=document.querySelector(t);return n&&(function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})(n)?n:null})}),(function(e,t,n){var r=n(1424),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}}),(function(e,t,n){var r=n(1425),i=n(1427)(r);e.exports=i}),(function(e,t,n){var r=n(220),i=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}})();e.exports=i}),(function(e,t,n){var r=n(221),i=n(179);e.exports=function(e){return i(e)&&r(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getService=void 0;const r=n(1433);let i=null;t.getService=((e,t)=>{if(e)return i&&t||(i=e.getAll(r.schema).then(t=>new r.PsPromoDatasyncService(e,t))),i})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSnapshotTypes=t.mapTypes=void 0;t.mapTypes=function(e,t){return e.reduce((function(e,n){if(t[n.id]){var r=n.id;e[r]=t[r].decode(n.value)}return e}),{})};t.mapSnapshotTypes=function(e,n){return(0,t.mapTypes)(e.map((function(e){return{id:e.record_id,value:e.fields[0].value.string}})),n)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEnum=t.FieldNullable=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldNumber=t.FieldString=t.FieldJson=void 0;t.FieldJson=function(e){return{encode:function(t){return e.stringify(t)},decode:function(t){return e.parse(t)}}};t.FieldString=function(){return{encode:function(e){return e},decode:function(e){return e}}};t.FieldNumber=function(){return{encode:function(e){return String(e)},decode:function(e){return Number(e)}}};t.FieldBoolean=function(){return{encode:function(e){return e?"true":""},decode:function(e){return["on","true","1","yes","enabled"].includes(e)}}};t.FieldDate=function(){return{encode:function(e){return"".concat(e.getTime())},decode:function(e){return new Date(/^\d+$/.test(e)?Number(e):e)}}};t.FieldArray=function(e,t){return void 0===t&&(t=","),{encode:function(n){return n.map((function(t){return e.encode(t)})).join(t)},decode:function(n){return n?n.split(t).map((function(t){return e.decode(t)})):[]}}};t.FieldTuple=function(e,t){return void 0===t&&(t=","),{encode:function(n){return e.map((function(e,t){return e.encode(n[t])})).join(t)},decode:function(n){var r=n?n.split(t):[];return e.map((function(e,t){return e.decode(r[t]||"")}))}}};t.FieldNullable=function(e){return{encode:function(t){return null===t?"":e.encode(t)},decode:function(t){return t?e.decode(t):null}}};t.FieldEnum=function(e,t,n){return{encode:function(n){if(!t.includes(n))throw Error("Expected one of [".concat(t.join(", "),"], received ").concat(n));return e.encode(n)},decode:function(r){if(!r)return n;var i=e.decode(r);return t.includes(i)?i:n}}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.realType=t.JsonType=void 0,(function(e){e.Null="null",e.String="string",e.Boolean="boolean",e.Number="number",e.Array="array",e.Object="object",e.Unsupported="never"})(r=t.JsonType||(t.JsonType={})),t.realType=function(e){return null===e?r.Null:Array.isArray(e)?r.Array:"boolean"==typeof e?r.Boolean:"number"==typeof e?r.Number:"string"==typeof e?r.String:"object"==typeof e&&e.constructor&&e.constructor===Object?r.Object:r.Unsupported}}),(function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCkey=t.getCkey=void 0;t.getCkey=(()=>r);t.setCkey=(e=>r=e)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createWebApiClient=t.makeRetryOnCkeyUpdateInterceptor=void 0;const i=n(1441),o=n(1442),a=n(1450);t.makeRetryOnCkeyUpdateInterceptor=(e=>i.makeRetryInterceptor((e,t)=>!!t.isModelRejected(e.result)&&"ckey"===e.result.error,{},t=>r(void 0,void 0,void 0,(function*(){t.ckey&&e(t.ckey)})))),t.createWebApiClient=function({apiUrl:e,uid:n,getCkey:i,setCkey:s,additional:u,skipCkey:c}){return r(this,void 0,void 0,(function*(){const l=[t.makeRetryOnCkeyUpdateInterceptor(s),o.passportAuthRedirectInterceptor,o.logModelsErrorInterceptor],f=(null===u||void 0===u?void 0:u.getBodyFields)||(()=>({_ckey:i()})),d=(null===u||void 0===u?void 0:u.getHeaders)||(()=>({})),p=a.createApiClient({apiUrl:e,uid:n,getAdditionalHeaders:d,getAdditionalBodyFields:f,interceptors:l});return c||(yield (function(e,t,n){return r(this,void 0,void 0,(function*(){if(t())return;const r=yield e.request([{name:"get-ckey/v1",params:{}}]);if(e.isModelResolved(r[0])&&n(r[0].data.ckey),e.isModelRejected(r[0])){const e=r[0];"renewCkey"in e&&e.renewCkey&&n(e.renewCkey)}}))})(p,i,s)),p}))}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t.statusText)||this;return n.name="ResponseError",n.status=t.status,n}return r(t,e),t})(Error);t.ResponseError=i}),(function(e,t,n){var r=n(686);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}),(function(e,t,n){var r=n(1467),i=n(1468);e.exports=function(e,t){return null!=e&&i(e,t,r)}}),(function(e,t,n){var r=n(1469),i=n(684),o=n(685);e.exports=function(e){return o(i(e,void 0,r),e+"")}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromozavrConfig=void 0;const o=i(n(623)),a=n(693),s=n(692);t.PromozavrConfig=class{constructor(e,t,n){const i="string"==typeof e?e:e.apiUrl,u="string"==typeof e?t:e.uid,c="string"==typeof e?n:e.logger;this.dataPromise=a.createWebApiClient({apiUrl:i,uid:u,getCkey:s.getCkey,setCkey:s.setCkey}).then(e=>r(this,void 0,void 0,(function*(){const t=yield e.request([{name:"promozavr-config",params:{}},{name:"promozavr-user-config",params:{uid:u}}]),n=t[0];if(e.isModelRejected(n)||o.default(n.data)||o.default(n.data.config)||o.default(n.data.translations)){const e=new Error("Cannot load promozavr config from bunker");if(!c)throw e;return void c.error(e)}const r=n.data,i=t[1];if(e.isModelRejected(i)){const e=new Error('model "promozavr-user-config" was rejected');c&&c.error(e)}else r.userConfig=i.data;return r})))}fetchData(){return r(this,void 0,void 0,(function*(){return yield this.dataPromise}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;const r=n(5),i=n(801),o=n(701);t.Modal=r.compose(o.withZIndex,i.withThemeNormal)(i.Modal)}),(function(e,t,n){"use strict";n(1478)}),(function(e,t,n){"use strict";n.r(t);var r=n(406);n.d(t,"withZIndex",(function(){return r.withZIndex}))}),(function(e,t,n){"use strict";n.r(t);n(620);var r=n(488);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsContext=t.MetricsLogger=void 0;const i=r(n(0)),o=r(n(122)),a=n(379);var s;!(function(e){e.Promozavr="Promozavr",e.Show="Show",e.Click="Click",e.Free="Free",e.Paid="Paid",e.ActionButton="Action button",e.CancelButton="Cancel button",e.SecondaryButton="Secondary button",e.CloseButton="Close button",e.OtherClose="Outside click or ESC keypress",e.Close="Close"})(s||(s={}));class u{constructor(e,t,n,r){this.sendMetric=((...i)=>{this.ifExists(null===r||void 0===r?void 0:r.hasSubscription,e=>i.push(e?s.Paid:s.Free)),e(s.Promozavr,t,n,...i)})}ifExists(e,t){if(null!==e&&void 0!==e)return t(e)}logPromoShow(){this.sendMetric(s.Show)}logPromoActionButtonClick(){this.sendMetric(s.ActionButton,s.Click)}logPromoCancelButtonClick(){this.sendMetric(s.CancelButton,s.Click)}logPromoSecondarylButtonClick(){this.sendMetric(s.SecondaryButton,s.Click)}logPromoCloseButtonClick(){this.sendMetric(s.CloseButton,s.Click)}logPromoOtherCloseEvent(){this.sendMetric(s.OtherClose)}logPromoCloseEvent(){this.sendMetric(s.Close)}logPromoClickEvent(){this.sendMetric(s.Click)}}t.MetricsLogger=u,t.MetricsContext=i.default.createContext(new u(o.default,a.PromoFormat.popup,"")),t.MetricsContext.displayName="MetricsContext"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginContext=void 0;const i=r(n(0));t.PluginContext=i.default.createContext(void 0)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallbacks=t.getPromoTranslations=t.getPromoTranslationKeys=t.getTranslation=void 0;const r=n(181);t.getTranslation=((e,t,n)=>{var r,i;return(null===(i=null===(r=null===e||void 0===e?void 0:e[n])||void 0===r?void 0:r.translations[t])||void 0===i?void 0:i.form)||""});t.getPromoTranslationKeys=((e,t)=>{var n,r,i;return null===(i=(null===(n=e.keysets)||void 0===n?void 0:n[t])||(null===(r=e.keysets)||void 0===r?void 0:r[`promo_${t}`]))||void 0===i?void 0:i.keys});t.getPromoTranslations=((e,n,r)=>{const i=t.getPromoTranslationKeys(e,r);return{titleText:t.getTranslation(i,n,"Title"),descriptionText:t.getTranslation(i,n,"Description"),actionButtonText:t.getTranslation(i,n,"ActionButton"),cancelButtonText:t.getTranslation(i,n,"CancelButton")}}),t.fallbacks={[r.Lang.ru]:null,[r.Lang.en]:r.Lang.ru,[r.Lang.az]:r.Lang.ru,[r.Lang.be]:r.Lang.ru,[r.Lang.hy]:r.Lang.ru,[r.Lang.ka]:r.Lang.ru,[r.Lang.kk]:r.Lang.ru,[r.Lang.ro]:r.Lang.en,[r.Lang.tr]:r.Lang.en,[r.Lang.tt]:r.Lang.ru,[r.Lang.uk]:r.Lang.ru,[r.Lang.uz]:r.Lang.ru}}),(function(e,t,n){var r=n(460),i=n(1547),o=n(461),a=1,s=2;e.exports=function(e,t,n,u,c,l){var f=n&a,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=l.get(e),m=l.get(t);if(h&&m)return h==t&&m==e;var v=-1,g=!0,y=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++v<d;){var b=e[v],_=t[v];if(u)var O=f?u(_,b,v,t,e,l):u(b,_,v,e,t,l);if(void 0!==O){if(O)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||c(b,e,n,u,l)))return y.push(t)}))){g=!1;break}}else if(b!==_&&!c(b,_,n,u,l)){g=!1;break}}return l.delete(e),l.delete(t),g}}),(function(e,t,n){var r=n(152).Uint8Array;e.exports=r}),(function(e,t,n){var r=n(709),i=n(522),o=n(303);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){var r=n(514),i=n(145);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}}),(function(e,t){e.exports=function(){return[]}}),(function(e,t,n){var r=n(1552),i=n(367),o=n(145),a=n(368),s=n(386),u=n(492),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}}),(function(e,t,n){var r=n(153);e.exports=function(e){return e==e&&!r(e)}}),(function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}}),(function(e,t,n){var r=n(514),i=n(524),o=n(522),a=n(710),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s}),(function(e,t,n){var r=n(709),i=n(714),o=n(523);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){"use strict";var r=n(475),i=n(1627),o=n(60);function a(e){return"docs.yandex.ru"===e||/^docs(\d?)\.ds[pt]\.yandex\.ru$/.test(e)||/^(?:pr|rc)-\d+\.docs\.regtests\.dsp\.yandex\.ru$/.test(e)||/\.docs-dev\.dsd\.yandex\.ru$/.test(e)}e.exports={prepare:function(e){var t=e.data,n=e.urlsBase,s=t.tld,u=n.www,c=n.disk,l=c+"/download/",f=n.support+"/disk/troubleshooting.html",d=n.support+"/disk/",p=n.support+"/docs/",h=n.support+"/disk-mobile/",m=n.passport,v=n.pass,g="https://"+t.host+t.path,y=x(g,{uid:null,login:null});t.tld!==t.tldOrigin&&(y=c+"/auth/retpath"+t.pathOrigin,e.tldFinal=t.tld);var b="&retpath="+encodeURIComponent(y),_=b;t.source&&!/[&?]source=\w/.test(y)&&(_="&retpath="+encodeURIComponent(y+(y.indexOf("?")>-1?"&":"?")+"source="+encodeURIComponent(t.source)));var O=t.locale||"ru",w="&origin="+(a(t.host)?"docs_web":i.getParamOrigin(t.source,O)),E=x(g,{force_show:1});"/auth-stub"===t.path&&(E=E.replace("/auth-stub",""));var S={current:g,diskQR:o.replaceTld(c,"net")+"/qr/",statbox:"//clck.yandex.ru/click",disk:c,diskRoot:c+"/client/disk",download:l+"?from=webinterface",langSwitch:u+"/portal/set/lang/",blog:"https://yandex.ru/blog/disk",twitterDisk:"https://twitter.com/yandexdisk",feedback:{disk:f,blocked:d+"blocked.html",abuse:n.support+"/abuse/troubleshooting/disk/list.html",disk4Yandex:"ru"===s?d+"zout_yandex.html":f,newDisk:"ru"===O?d:f},usabilityReseach:"https://yandex.ru/jobs/usability",termsOfUse:n.legal+"/disk_termsofuse/",connectTermsOfUse:n.legal+"/connect_software_agreement/",promoCodesTermsOfUse:n.legal+"/disk_promocode/",recommendationRules:"https://yandex.ru/legal/recommendations/#index__disk",tariffs:c+"/pay/tariffs/",drweb:"http://www.drweb.com",photo:c+"/photo/?from=main",downloadMailApp:"https://redirect.appmetrica.yandex.com/serve/964096712639555893",downloadApp:{win:l+"YandexDiskSetup.exe?referer=webinterface",mac:l+"Yandex.Disk.Mac.dmg?referer=webinterface",linux:l+"?referer=webinterface",ios:"https://appmetrica.yandex.ru/serve/17589353581187627129?action=click&app_id=ru.yandex.disk",android:"https://appmetrica.yandex.ru/serve/8634663676703474913?action=click&app_id=ru.yandex.disk",winphone:"https://appmetrica.yandex.ru/serve/12056877220594364778",promo:u+"/set/lp/disk2/"},deepLink:"https://redirect.appmetrica.yandex.com/serve/96639634120940843",downloadMobileApp:{welcomeScreen:{ios:"https://redirect.appmetrica.yandex.com/serve/9563509207267024590",android:"https://redirect.appmetrica.yandex.com/serve/932489569810911545"},promo:l+"#mobile"},agreement:n.legal+"/desktop_software_agreement/",blocked:n.legal+"/ugc_takedown/",passport:{origin:m,home:m,resign:m+"/auth/update/?"+b.slice(1),init:v+"/?"+b.slice(1)+w,nocookiesupport:m+"?mode=error&error=nocki",register:m+"/passport?mode=register&from=cloud"+_+w,qrcode:m+"/auth?mode=qr&from=cloud"+b,auth:m+"/auth?from=cloud"+w+b,addUser:m+"/auth?mode=add-user&origin=disk.desktop"+b,login:m+"/auth?from=cloud"+w,restore:m+"/passport?mode=restore&from=cloud"+b+w,userapprove:m+"/passport?mode=userapprove&from=cloud"+b,postregistration:m+"/passport?mode=postregistration&from=cloud&create_login=1&create_password=1"+_,light2full:m+"/profile/upgrade?"+(_+w).slice(1)},help:{disk:d,diskMobile:h,correctionSearch:n.support+"/search/how-to-search/request-correction.html#misspell",yateamnda:n.yateamWiki+"/disk/nda/",versionControl:d+"version-control.html",diskPro:d+"enlarge/buy-space.html",overdraft:d+"enlarge/disk-space.html",b2bFree:n.support+"/business/payment/disable-free-version.html",connect:o.replaceTldByLang(n.support+"/connect-disk/",t.locale,["ru","com"]),uploader:d+"uploading.html#cant-upload-folder"},videoPlayerIframeApi:t.videoPlayerVersion?n.externalStatic+"/yandex-video-player-iframe-api/js/player-api-loader.js":"https://frontend.vh.yandex.ru/stable/player_version_lts/player.js",updateBrowser:{firefox:u+"/firefox?from=link_disk___|",opera:u+"/opera?from=link_disk___|",forceShow:E},static:{host:n.static,hostExternal:n.externalStatic},extChrome:"https://chrome.google.com/webstore/detail/cbhneibcbgciicaihkefieefieeldnil",mail:n.mail,api:n.tech,downloadBrowser:n.browser,b2bDiskAdminPage:"https://business.yandex.ru/disk/promo?utm_campaign=tunning_page&utm_medium=teaser&utm_source=disk",telemost:n.telemost,b2bAdminProducts:n.admin+"/products/plans",docs:{help:p,mobileHelp:n.support+"/docs-mobile/",termsOfUse:"https://yandex.ru/legal/docs_termsofuse/"},tuningDiskLanding:n.yandex360+"/disk/",vacancies:n.yandex360+"/jobs?from=disk_footer"};return S.updateBrowser.yandex=n.browser+"/?from=link_disk___|&banerid=0468000000","com"===s?(delete S.updateBrowser.firefox,delete S.updateBrowser.opera):"com.tr"===s&&delete S.updateBrowser.firefox,S.avatarDefault=e.urlAvatar+"0/0-0/islands-middle",e.links=S,e.tld=s,e.yandexuid=t.yandexuid,e.isDocsHost=a(t.host),e.isDocsView=e.isDocsHost&&t.path.startsWith("/docs/view?"),e.videoPlayerVersion=t.videoPlayerVersion,e.sourcesDownloadApp={saveTime:"Yandex.Greeting.SaveTime",welcome:"Yandex.Greeting.Welcome",upload:"Yandex.UploadDialog"},e;function x(e,t){var n;try{n=r.parse(e,!0)}catch(t){return e}for(var i in t)t.hasOwnProperty(i)&&(null===t[i]?delete n.query[i]:n.query[i]=t[i]);return n.search="",r.format(n)}},getLanguagesSupported:function(e){return(e.domains[e.tld]||e.domains.ru).langs}}}),(function(e,t,n){var r={mail:"Почта",vkontakte:"ВКонтакте",twitter:"Twitter",facebook:"Facebook",odnoklassniki:"Одноклассники",gplus:"Google+",moimir:"Мой мир",google:"Google",qr:"QR код",instagram:"Instagram"},i={"login-empty":"Заполните это поле","account-not-found":"Учётной записи с таким логином не существует","password-empty":"Заполните это поле","password-invalid":"Неправильная пара логин-пароль",keyboard_warning:"Неправильная раскладка клавиатуры"};e.exports={getTitleSocial:function(e){return r[e]},getMessageError:function(e){return i[e]}}}),(function(e,t){ns.Model.define("do-resource-create-folder",{params:{id:null,force:0}})}),(function(e,t){ns.Model.define("do-resource-leave",{params:{gid:null}})}),(function(e,t){ns.Model.define("do-resource-move",{params:{src:null,dst:null,force:0}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(796),a=n(549);ns.Model.define("contact",{params:{userid:null},methods:{formatSuggest:function(e){return e?this._getSuggestItemWorkspace():this._getSuggestItemDefault()},_getSuggestItemDefault:function(){var e=this.get(".name"),t=this.get(".userid"),n=Object(a.a)({url:this.get(".avatarUrl"),color:this.get(".color"),mono:this.get(".mono")});return{email:t,label:[e,t].filter(Boolean).join(" "),service:"email",userid:t,username:e||t,userpic:n,value:t}},_getSuggestItemWorkspace:function(){var e=i.a.extend({},this.getData());return e.name=e.displayName||e.name||e.email||e.userid,e.is_ya_directory?e.avatar=Object(o.a)({url:e.avatar||e.avatarUrl,type:e.type,name:e.name}):e.avatar=Object(a.a)({url:e.avatarUrl,color:e.color,mono:e.mono}),e.isCurrentUserWs=!0,e.label=e.name,e.value="user"===e.type?e.id:e.name,e}}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={"полный доступ":660,"только просмотр":640,"нет доступа":0}}),(function(e,t,n){
/*! For license information please see index.js.LICENSE.txt */
e.exports=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//yastatic.net/s3/psf/general-themes/",n(n.s=108)})([(function(e,t,n){const r=n(21),i=n(24),o=n(27),a=n(30),s=n(33),u=n(36),c=n(39);e.exports=Object.assign({},r,i,o,a,s,u,c)}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializer=t.JsonEnum=t.JsonNullable=t.JsonDate=t.JsonMappers=void 0;var o=n(54);Object.defineProperty(t,"JsonMappers",{enumerable:!0,get:function(){return o.JsonMappers}}),i(n(19),t),t.JsonDate=function(e){return new o.DateMapper(e)},t.JsonNullable=function(e){return new o.NullableMapper(e)},t.JsonEnum=function(e,t){return new o.EnumMapper(e,t)},t.JsonSerializer=function(e,t){return void 0===t&&(t=o.JsonMappers),{stringify:function(n){var r=t.toJson(n,e);return JSON.stringify(r)},parse:function(n){var r=n?JSON.parse(n):void 0;return t.fromJson(r,e)}}}}),(function(e,t,n){var r=n(45),i=n(46),o=n(15),a=n(47);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=t.mapSnapshotTypes=t.FieldEnum=t.FieldNullable=t.FieldJson=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldString=t.FieldNumber=t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(52);Object.defineProperty(t,"DatasyncClient",{enumerable:!0,get:function(){return o.DatasyncClient}}),Object.defineProperty(t,"NoopDatasyncClient",{enumerable:!0,get:function(){return o.NoopDatasyncClient}});var a=n(9);Object.defineProperty(t,"FieldNumber",{enumerable:!0,get:function(){return a.FieldNumber}}),Object.defineProperty(t,"FieldString",{enumerable:!0,get:function(){return a.FieldString}}),Object.defineProperty(t,"FieldBoolean",{enumerable:!0,get:function(){return a.FieldBoolean}}),Object.defineProperty(t,"FieldDate",{enumerable:!0,get:function(){return a.FieldDate}}),Object.defineProperty(t,"FieldArray",{enumerable:!0,get:function(){return a.FieldArray}}),Object.defineProperty(t,"FieldTuple",{enumerable:!0,get:function(){return a.FieldTuple}}),Object.defineProperty(t,"FieldJson",{enumerable:!0,get:function(){return a.FieldJson}}),Object.defineProperty(t,"FieldNullable",{enumerable:!0,get:function(){return a.FieldNullable}}),Object.defineProperty(t,"FieldEnum",{enumerable:!0,get:function(){return a.FieldEnum}});var s=n(18);Object.defineProperty(t,"mapSnapshotTypes",{enumerable:!0,get:function(){return s.mapSnapshotTypes}});var u=n(53);Object.defineProperty(t,"DatasyncService",{enumerable:!0,get:function(){return u.DatasyncService}}),i(n(2),t)}),(function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(51)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEnum=t.FieldNullable=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldNumber=t.FieldString=t.FieldJson=void 0,t.FieldJson=function(e){return{encode:function(t){return e.stringify(t)},decode:function(t){return e.parse(t)}}},t.FieldString=function(){return{encode:function(e){return e},decode:function(e){return e}}},t.FieldNumber=function(){return{encode:function(e){return String(e)},decode:function(e){return Number(e)}}},t.FieldBoolean=function(){return{encode:function(e){return e?"true":""},decode:function(e){return["on","true","1","yes","enabled"].includes(e)}}},t.FieldDate=function(){return{encode:function(e){return"".concat(e.getTime())},decode:function(e){return new Date(/^\d+$/.test(e)?Number(e):e)}}},t.FieldArray=function(e,t){return void 0===t&&(t=","),{encode:function(n){return n.map((function(t){return e.encode(t)})).join(t)},decode:function(n){return n?n.split(t).map((function(t){return e.decode(t)})):[]}}},t.FieldTuple=function(e,t){return void 0===t&&(t=","),{encode:function(n){return e.map((function(e,t){return e.encode(n[t])})).join(t)},decode:function(n){var r=n?n.split(t):[];return e.map((function(e,t){return e.decode(r[t]||"")}))}}},t.FieldNullable=function(e){return{encode:function(t){return null===t?"":e.encode(t)},decode:function(t){return t?e.decode(t):null}}},t.FieldEnum=function(e,t,n){return{encode:function(n){if(!t.includes(n))throw Error("Expected one of [".concat(t.join(", "),"], received ").concat(n));return e.encode(n)},decode:function(r){if(!r)return n;var i=e.decode(r);return t.includes(i)?i:n}}}}),(function(e,t,n){var r=n(49);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(17).default,i=n(50);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(42),i=n(43),o=n(15),a=n(44);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(14);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(109),t)}),(function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSnapshotTypes=t.mapTypes=void 0,t.mapTypes=function(e,t){return e.reduce((function(e,n){if(t[n.id]){var r=n.id;e[r]=t[r].decode(n.value)}return e}),{})},t.mapSnapshotTypes=function(e,n){return(0,t.mapTypes)(e.map((function(e){return{id:e.record_id,value:e.fields[0].value.string}})),n)}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.realType=t.JsonType=void 0,(function(e){e.Null="null",e.String="string",e.Boolean="boolean",e.Number="number",e.Array="array",e.Object="object",e.Unsupported="never"})(r=t.JsonType||(t.JsonType={})),t.realType=function(e){return null===e?r.Null:Array.isArray(e)?r.Array:"boolean"==typeof e?r.Boolean:"number"==typeof e?r.Number:"string"==typeof e?r.String:"object"==typeof e&&e.constructor&&e.constructor===Object?r.Object:r.Unsupported}}),(function(e,t,n){"use strict";e.exports=n(48)}),(function(e,t,n){n(22),n(23),t.MG_DARK={root:"mg-dark",color:"mg-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(25),n(26),t.MG_LIGHT={root:"mg-light",color:"mg-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(28),n(29),t.PS_DARK={root:"ps-dark",color:"ps-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(31),n(32),t.PS_LIGHT={root:"ps-light",color:"ps-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(34),n(35),t.PS_DARK_TRANSPARENT={root:"ps-dark-transparent",color:"ps-dark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(37),n(38),t.PS_SUPERDARK_TRANSPARENT={root:"ps-superdark-transparent",color:"ps-superdark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(40),n(41),t.PS_LIGHT_TRANSPARENT={root:"ps-light-transparent",color:"ps-light-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){var r=n(14);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var f=o[l];!0===f?u+=c+l:f&&(u+=c+l+r+f)}}if(void 0!==a)for(var d=0,p=a.length;d<p;d++){var h=a[d];if(h&&"string"==typeof h.valueOf())for(var m=h.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(17).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=(function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p={};function h(){}function m(){}function v(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==n&&o.call(b,s)&&(g=b);var _=v.prototype=h.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=v,l(_,"constructor",v),l(v,"constructor",m),m.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},O(w.prototype),l(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(18),a=(function(){function e(e){this.api=e.api,this.db=e.db,this.collection=e.collection,this.uid=String(e.uid),this.errorHandler=e.errorHandler}return e.prototype.logError=function(e){this.errorHandler&&this.errorHandler(e)},Object.defineProperty(e.prototype,"dbUrl",{get:function(){return"/".concat("web_interfaces_360","/v1/personality/profile/").concat(this.db,"/").concat(this.collection)},enumerable:!1,configurable:!0}),e.prototype.getKeyUrl=function(e){return"".concat(this.dbUrl,"/").concat(e)},e.prototype.isNotFoundError=function(e){return 404===e.status},e.prototype.getRequestOptions=function(e){return void 0===e&&(e={}),Object.assign({headers:{"X-Uid":this.uid}},e)},e.prototype.getValue=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.get(this.getKeyUrl(e),this.getRequestOptions())];case 1:return[2,n.sent().value];case 2:if(t=n.sent(),!this.isNotFoundError(t))throw this.logError(t),t;return[3,3];case 3:return[2]}}))}))},e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.put(this.getKeyUrl(e),{value:t},this.getRequestOptions({maxAttempts:1}))];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e.prototype.deleteKey=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.delete(this.getKeyUrl(e),this.getRequestOptions())];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),this.isNotFoundError(t))return[2,!1];throw this.logError(t),t;case 3:return[2]}}))}))},e.prototype.getAll=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.get(this.dbUrl,this.getRequestOptions())];case 1:return t=r.sent().items,[2,(0,o.mapTypes)(t,e)];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e})();t.DatasyncClient=a;var s=(function(){function e(){}return e.prototype.getValue=function(){return Promise.resolve(void 0)},e.prototype.setValue=function(){return Promise.resolve()},e.prototype.deleteKey=function(){return Promise.resolve(!1)},e.prototype.getAll=function(){return Promise.resolve({})},e})();t.NoopDatasyncClient=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=void 0;var o=(function(){function e(e,t){void 0===t&&(t={}),this.client=e,this.data=t}return e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data[e]=t,[2,this.client.setValue(String(e),this.schema[e].encode(t))]}))}))},e.prototype.getValue=function(e){return this.data[e]},e})();t.DatasyncService=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DateMapper=t.NullableMapper=t.JsonMappers=t.UnsupportedMapper=t.ObjectMapper=t.EnumMapper=t.SimpleMapper=void 0;var i=n(55),o=n(19);function a(e){switch((0,o.realType)(e)){case o.JsonType.Array:return e.map(a);case o.JsonType.Object:return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=a(r),e}),{});default:return e}}var s=(function(){function e(e){this.schema=e,this.schemaType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n=(0,o.realType)(e);if(this.schemaType!==n)throw new i.JsonSerializerTypeMismatchError(this.schemaType,n,t);return e},e.prototype.fromJson=function(e){var t=(0,o.realType)(e);return this.schemaType===t?e:a(this.schema)},e})();t.SimpleMapper=s;var u=(function(){function e(e,t){this.values=e,this.fallback=t}return e.prototype.isValid=function(e){return this.values.includes(e)},e.prototype.toJson=function(e,t){if(!this.isValid(e))throw new i.JsonSerializerTypeMismatchError("one of [".concat(this.values.join(", "),"]"),'"'.concat(e,'"'),t);return e},e.prototype.fromJson=function(e){return this.isValid(e)?e:this.fallback},e})();t.EnumMapper=u;var c=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){var a=this,s=(0,o.realType)(e);if(s!==o.JsonType.Object)throw new i.JsonSerializerTypeMismatchError(o.JsonType.Object,s,n);for(var u=Object.keys(this.schema),c=new Set(Object.keys(e)),l=0,f=u;l<f.length;l++){var d=f[l];if(!(d in e))throw new i.JsonSerializerMissingKeyError(r(r([],n,!0),[d],!1));c.delete(d)}return c.size>0&&c.forEach((function(e){throw new i.JsonSerializerExtraKeyError(r(r([],n,!0),[e],!1))})),u.reduce((function(i,o){var s=t.JsonMappers.toJson(e[o],a.schema[o],r(r([],n,!0),[String(o)],!1));return i[o]=s,i}),{})},e.prototype.fromJson=function(e){var n=this,r=new Set(Object.keys(this.schema)),i=Object.keys(e||{}).filter((function(e){return r.has(e)})).reduce((function(r,i){return r[i]=t.JsonMappers.fromJson(e[i],n.schema[i]),r}),{});return r.forEach((function(e){if(!(e in i)){var r=t.JsonMappers.selectMapperBySchema(n.schema[e]);i[e]=r.fromJson(void 0)}})),i},e})();t.ObjectMapper=c;var l=(function(){function e(e){this.schema=e,this.expectedType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n="constructor"in e?"class ".concat(e.constructor.name):"unknown";throw new i.JsonSerializerTypeMismatchError(this.expectedType,n,t)},e.prototype.fromJson=function(e){return t.JsonMappers.selectMapperBySchema(this.schema).fromJson(e)},e})();t.UnsupportedMapper=l,t.JsonMappers={isJsonMapper:function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJson&&"function"==typeof e.fromJson},selectMapper:function(e,n){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(n)===o.JsonType.Unsupported?new l(e):t.JsonMappers.selectMapperBySchema(e)},selectMapperBySchema:function(e){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(e)===o.JsonType.Object?new c(e):new s(e)},toJson:function(e,n,r){return void 0===r&&(r=["$"]),t.JsonMappers.selectMapper(n,e).toJson(e,r)},fromJson:function(e,n){return t.JsonMappers.selectMapper(n,e).fromJson(e)}};var f=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){return null===e?null:t.JsonMappers.selectMapper(this.schema,e).toJson(e,n)},e.prototype.fromJson=function(e){return null==e?null:t.JsonMappers.selectMapper(this.schema,e).fromJson(e)},e})();t.NullableMapper=f;var d=(function(){function e(e){this.defaultValue=e}return e.prototype.toJson=function(e,t){if(!(e instanceof Date))throw new i.JsonSerializerTypeMismatchError("Date",(0,o.realType)(e),t);return e.getTime()},e.prototype.fromJson=function(e){return(0,o.realType)(e)!==o.JsonType.Number?new Date(this.defaultValue):new Date(e)},e})();t.DateMapper=d}),(function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializerExtraKeyError=t.JsonSerializerMissingKeyError=t.JsonSerializerTypeMismatchError=t.JsonSerializerError=void 0;var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="JsonSerializerError",t}return i(t,e),t})(Error);t.JsonSerializerError=o;var a=(function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="Expected ".concat(t,", received ").concat(n," at path ").concat(r.join(".")),i.name="JsonSerializerTypeMismatchError",i}return i(t,e),t})(o);t.JsonSerializerTypeMismatchError=a;var s=(function(e){function t(t){var n=e.call(this)||this;return n.message="Missing key at path ".concat(t.join(".")),n.name="JsonSerializerMissingKeyError",n}return i(t,e),t})(o);t.JsonSerializerMissingKeyError=s;var u=(function(e){function t(t){var n=e.call(this)||this;return n.message="Extra key at path ".concat(t.join(".")),n.name="JsonSerializerExtraKeyError",n}return i(t,e),t})(o);t.JsonSerializerExtraKeyError=u}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-5bf31af49e2596b6259f6c8c3b427f7c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-7c50847f9b8a87388d9bd216f3866b5b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-6ef92d2aa2aa617a49dba4a4161ae13f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-91efb29b9ee664458488609ce99e8e60.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-4d1053e030ee283191fa9ca5061116da.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-e81a6738e2823fe74f2c4c3046dcc626.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-36ea1a41d20c41a621e5f2bf465dd19c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-f7d1513ca14f1011b0abdbd5d772afc2.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-f2ab67e02f956a3f62698460eb415320.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-72b396dc4228cc7f545b53528bf8a782.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-b24dc3a13753ca710c43ce2136374322.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-fe58fa3952f0059fe76c5e1de224449e.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-1de055a9cb12139b05a324a44b6e2e1d.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-37b20ed81445d714b4c08b0c2a1fc98e.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-1fae096424944bf3c77725a2b80e885f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-89b26c499e0efdec3b9fe1f308d52d6b.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-298a65108def6635b8d281fc8006c122.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-393cc54a15fca9907e4862c4cc7385c9.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-1963479095ad31fd24638219aa57a28c.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-13313e296bc69f9ed3463ba6f2d16b85.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-17dc57a31f107d5018a9aca5043c6c52.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-b967224ce83c5c67cc807106a8dc49d0.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-47e2228ce64f4efb7b012be157537031.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-0bd162d378138720c676dd3d8b49c1ad.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-f3ba1463a9de7c595abb7a196132e3a5.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-1931f6bfb11daa6dca074ddc3af1f5e5.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-6febec7af946ccc394bc36f76737860d.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-bb71ec217ddbd739a42cd7131d3f2860.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-thumb-4be49d8ff52cad05d7a391af9953d18e.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-thumb-7b4b8b933e5b8f967ffb08d8ece1c7a8.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1920-7d5623bb42514c0f14e16bec90161c8f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1920-ed6e57ec7856edf00fe1cd7fccad584d.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1536-a7e53ebfd64a82a126773db166d30c1b.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1536-1590a35762d9d9aa526dad74577e9a8b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1366-36d62b2138e2c4f9bf3054bc4d11a8cd.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1366-b82fff2b2be835286ac7653c2af35195.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1280-27193bdda6055363859fd6614b87fe4c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1280-d606f37db4a9559c9fe85d84038b6e7f.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-85498c55c1c952fe96c54f5e8be6f1ca.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1c98f1b6485fe79a311cc8d101318d46.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-thumb-157f96b6abfb0de1e1a41f65783a6fc4.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-thumb-ce729fa9f071a9029f4da1d026b9e875.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1920-d3a31441ac67fc889f050f6d57fed225.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1920-a164a241b10de39ef7c7ca1890399eac.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1536-e19ade9535e8531bf95bd09fca387008.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1536-40ac9c5a86dd632dc40c13382c8144f4.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1366-4c1600a537350ddad7e10e93a6071cfd.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1366-11a746f4e4570d5c2c81939135b4dbc4.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1280-4310ce492249038e7236247031060def.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1280-da4abf3c8c2943efdd56fb7e58c41ac0.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1920-98cba0c047c2f7467b5d02ffd9eec622.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"new-year-2023-1920-1396826a57a724dd298668510b2ff188.webm"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDarkTheme",(function(){return q})),n.d(t,"themes",(function(){return Y}));var r,i=n(1),o=n.n(i);!(function(e){e.GeneralDefault="general-default",e.GeneralDarkDefault="general-dark-default",e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.GeneralDarkflow="general-darkflow",e.GeneralNewYear2023="general-new-year-2023",e.Void=""})(r||(r={}));var a=n(0),s=n(12),u=n.n(s),c=n(3),l=n.n(c),f=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([.0-9]+)\s*)?\)$/,d=/^hsla?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+)\s*)?\)$/,p=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,h=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/;function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return String(isNaN(Number(e))?t[n]:e)}}function v(e){var t=l()(e,3),n=t[0],r=t[1],i=t[2],o=(1-Math.abs(2*i-1))*r,a=n/60,s=o*(1-Math.abs(a%2-1)),u=[0,0,0];isNaN(n)?u=[0,0,0]:a<=1?u=[o,s,0]:a<=2?u=[s,o,0]:a<=3?u=[0,o,s]:a<=4?u=[0,s,o]:a<=5?u=[s,0,o]:a<=6&&(u=[o,0,s]);var c=i-.5*o;return[Math.round(255*(u[0]+c)%256),Math.round(255*(u[1]+c)%256),Math.round(255*(u[2]+c)%256)]}function g(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];1===(n=(e=[]).concat.apply(e,u()(n))).length&&(n=g.parse(n[0]));var i=n,o=l()(i,4),a=o[0],s=o[1],c=o[2],f=o[3];return"rgba(".concat(a,",").concat(s,",").concat(c,",").concat(void 0===f?1:f,")")}function y(e){return g.parse(e).slice(0,3).join(", ")}function b(e,t,n){return Object.keys(n).reduce((function(r,i){return n[i].reduce((function(n,r){return Object.assign(n,o()({},"".concat(e,"-darken").concat(r),y(function(e,t){var n=g.parse(e),r=l()(n,4),i=r[0],o=r[1],a=r[2],s=r[3],c=(function(e){var t=l()(e,3),n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o=Math.max(n,r,i),a=Math.min(n,r,i),s=o-a,u=0;0===s?u=0:o===n?u=(r-i)/s%6:o===r?u=(i-n)/s+2:o===i&&(u=(n-r)/s+4);var c=(a+o)/2;return[60*u,0===s?0:s/(1-Math.abs(2*c-1)),c]})([i,o,a]),f=l()(c,3),d=f[0],p=f[1],h=f[2];return h*=1-t/100,g.apply(void 0,u()(v([d,p,h])).concat([s]))}(t,r))))}),r)}),o()({},e,y(t)))}g.parse=function(e){e=(function(e){switch(!0){case/^#/.test(e):return (function(e){var t=function(t){return t.exec(e).slice(1).map((function(e){return(String(e)+e).slice(0,2)})).map((function(e){return parseInt(e,16)})).map(m(255,255,255,1)).join(",")};switch(e.length){case 4:case 5:return"rgba(".concat(t(h),")");case 7:case 9:return"rgba(".concat(t(p),")");default:throw new TypeError("Unexpected hex color format in ".concat(e))}})(e);case/^hsla?\(/.test(e):return (function(e){var t=d.exec(e).slice(1).map(Number),n=l()(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=v([r,i,o]),u=l()(s,3),c=u[0],f=u[1],p=u[2];return"rgba(".concat([c,f,p,a].map(m(255,255,255,1)).join(","),")")})(e);case/^rgba?\(/.test(e):return e;default:throw new TypeError("Unexpected color format in ".concat(e))}})(e);var t=f.exec(e).slice(1).map(Number),n=l()(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return[r,i,o,void 0===a?1:a]},n(16);var _=n(13),O=(n.n(_),n(4)),w=(n.n(O),n(5)),E=(n.n(w),n(10)),S=(n.n(E),n(11)),x=(n.n(S),n(7)),C=(n.n(x),n(8)),T=(n.n(C),n(6)),k=n(9),j=(new Date("2022-08-01T00:00:00.000Z"),n(2)),P={fullScreenShownDate:Object(j.JsonNullable)(Object(j.JsonDate)(0)),tooltipShownDate:Object(j.JsonNullable)(Object(j.JsonDate)(0))};o()({},"generalThemesPromo",Object(T.FieldJson)(Object(j.JsonSerializer)(P))),T.DatasyncService;var R={theme:Object(j.JsonNullable)(Object(j.JsonEnum)(Object.values(r),r.GeneralFlow)),settings:{isVideoEnabled:!0,isNewYear2023ThemeEnabled:!1}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o()({},"generalThemes",Object(k.FieldJson)(Object(j.JsonSerializer)(R)));var D,M={customEnable:function(e){return I(I({},e),{},{isNewYear2023ThemeEnabled:!0})},customDisable:function(e){return I(I({},e),{},{isNewYear2023ThemeEnabled:!1})},isEnabled:function(e){return e.isNewYear2023ThemeEnabled},isAvailable:function(e){var t=e||new Date,n=new Date("12/19/2022"),r=new Date("01/31/2023");return t>n&&t<r}};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r.GeneralNewYear2023,o()({},r.GeneralNewYear2023,M),Object.values(r),T.DatasyncService,(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(D||(D={}));var F={name:r.GeneralFlow,thumbnail:{jpeg:n(56).default,webp:n(57).default},page:{base:a.PS_LIGHT_TRANSPARENT,override:L(L({},b("--accent-color","#ffd04d",{darken:[10,20]})),{},{"--bg-color":y("#ffd0b0"),"--main-text-color":y("#000"),"--sub-text-color":y("#000"),"--accent-text-color":y("#000")})},aside:{base:a.PS_LIGHT_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(58).default,webp:n(59).default},1536:{jpeg:n(60).default,webp:n(61).default},1366:{jpeg:n(62).default,webp:n(63).default},1280:{jpeg:n(64).default,webp:n(65).default}},videoUrl:{mpeg:n(66).default,webm:n(67).default}}}},B={name:r.GeneralGrass,thumbnail:{jpeg:n(68).default,webp:n(69).default},page:{base:a.PS_DARK_TRANSPARENT,override:{"--bg-color":y("#758c00")}},aside:{base:a.PS_DARK_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(70).default,png:n(71).default,webp:n(72).default},1536:{jpeg:n(73).default,png:n(74).default,webp:n(75).default},1366:{jpeg:n(76).default,png:n(77).default,webp:n(78).default},1280:{jpeg:n(79).default,png:n(80).default,webp:n(81).default}},videoUrl:{mpeg:n(82).default,webm:n(83).default}}}},U={name:r.GeneralDarkflow,thumbnail:{jpeg:n(84).default,webp:n(85).default},page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK,override:{"--bg-color":y("#1E1E21")}},layers:{cover:{imageUrl:{1920:{jpeg:n(86).default,webp:n(87).default},1536:{jpeg:n(88).default,webp:n(89).default},1366:{jpeg:n(90).default,webp:n(91).default},1280:{jpeg:n(92).default,webp:n(93).default}},videoUrl:{mpeg:n(94).default,webm:n(95).default}}}},z={name:r.GeneralDarkDefault,page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK}},V={name:r.GeneralNewYear2023,thumbnail:{jpeg:n(96).default,webp:n(97).default},page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK,override:{"--bg-color":y("#1E1E21")}},layers:{cover:{imageUrl:{1920:{jpeg:n(98).default,webp:n(99).default},1536:{jpeg:n(100).default,webp:n(101).default},1366:{jpeg:n(102).default,webp:n(103).default},1280:{jpeg:n(104).default,webp:n(105).default}},videoUrl:{mpeg:n(106).default,webm:n(107).default}}}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G,$={name:r.GeneralDefault,page:{base:a.PS_LIGHT_TRANSPARENT,override:W(W({},b("--accent-color","#ffd04d",{darken:[10,20]})),{},{"--bg-color":y("#EBF0FF"),"--main-text-color":y("#000"),"--sub-text-color":y("#000"),"--accent-text-color":y("#000")})},aside:{base:a.PS_LIGHT_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}}};function q(e){return[a.MG_DARK.color,a.PS_DARK.color,a.PS_DARK_TRANSPARENT.color,a.PS_SUPERDARK_TRANSPARENT.color].includes(e.color)}var Y=(G={},o()(G,r.GeneralDefault,$),o()(G,r.GeneralDarkDefault,z),o()(G,r.GeneralNewYear2023,V),o()(G,r.GeneralGrass,B),o()(G,r.GeneralFlow,F),o()(G,r.GeneralDarkflow,U),G)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}));var r=n(20),i=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement},o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?i()?document.body:null:n;if(i()){if(!r)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}}})])}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1659),n(1660);var r={color:"ps-dark",root:"ps-dark"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTheme=t.isThemeCustom=t.isThemeEnabled=t.isThemeAvailable=t.isValidThemeName=void 0;var r=n(183),i=n(726),o=Object.values(r.ThemeName);t.isValidThemeName=function(e){return o.some((function(t){return e===t}))},t.isThemeAvailable=function(e,t){var n=i.THEMES_CUSTOMIZATIONS[e];return!n||!n.isAvailable||n.isAvailable(t)},t.isThemeEnabled=function(e,t){var n=i.THEMES_CUSTOMIZATIONS[e];return!n||!n.isEnabled||n.isEnabled(t)},t.isThemeCustom=function(e){return null!=i.THEMES_CUSTOMIZATIONS[e]},t.getCurrentTheme=function(e,t){return (function(e,t){for(var n,r=0,o=i.CUSTOM_THEMES_ORDER;r<o.length;r++){var a=o[r],s=i.THEMES_CUSTOMIZATIONS[a];if(null===(n=null===s||void 0===s?void 0:s.isEnabled)||void 0===n?void 0:n.call(s,e.settings))return s.isAvailable?s.isAvailable(t)?a:null:a}return null})(e,t)||e.theme||r.ThemeName.Void}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES_CUSTOMIZATIONS=t.CUSTOM_THEMES_ORDER=void 0;var i=n(183),o=n(1670);t.CUSTOM_THEMES_ORDER=[i.ThemeName.GeneralNewYear2023],t.THEMES_CUSTOMIZATIONS=((r={})[i.ThemeName.GeneralNewYear2023]=o.NewYear2023ThemeCustomization,r)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.SupportedLangs||(t.SupportedLangs={}));var r={};r.ru=n(1689),t.default=function(e,t){var n,i;if(!r[e])throw"Unsupported lang "+e;if(!(null===(n=r[e])||void 0===n?void 0:n["mail-liza"]["ps-header"][t]))throw"Unknown key "+t;return(null===(i=r[e])||void 0===i?void 0:i["mail-liza"]["ps-header"][t]())||""}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(34),u=n(155),c=n(1691),l=n(1693),f=n(1694),d=n(1695),p=s.cn("PSHeader-ServiceList");n(1698),t.MAIN_SERVICES_COUNT=5;var h=function(e){return e>-1&&"n"+String(e+1)};t.ServiceList=function(e){var n=a.useRef(null),o=a.useState(!1),s=o[0],m=o[1],v=a.useContext(u.HeaderContext).countMetrika,g=e.currentService,y=e.onMorePopupChangeVisibility,b=e.services,_=e.popupTheme,O=a.useCallback((function(e){m(e),y&&y(e)}),[y,m]),w=a.useCallback((function(){return O(!1)}),[O]),E=a.useMemo((function(){return b.map((function(e){return"Contact"===e.id&&"Mail"===g?r(r({},e),{onClick:function(t){e.onClick&&e.onClick(t),w()}}):e}))}),[b,g,w]),S=a.useMemo((function(){var e=E.slice(0,t.MAIN_SERVICES_COUNT),n=E.find((function(e){return e.id===g}));return n?e.includes(n)?e:e.slice(0,e.length-1).concat(n):e}),[g,E]),x=a.useMemo((function(){return S.filter((function(e){return e.id!==g})).slice(-3)}),[g,S]),C=a.useMemo((function(){if(x.length>0){var e=E.filter((function(e){return!S.includes(e)}));return i(x,e)}return[]}),[x,S,E]),T=a.useCallback((function(){v("more","open"),O(!0)}),[v,O]);return a.default.createElement(a.default.Fragment,null,S.map((function(t){var n=x.findIndex((function(e){return e.id===t.id}));return a.default.createElement(l.MainServiceView,{className:p("MainService",{collapsible:h(n)}),hidePopup:w,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick,forwardedRef:t.forwardedRef})})),!e.hideMore&&a.default.createElement(d.MoreServicesButton,{className:p("More"),forwardedRef:n,onClick:s?w:T}),a.default.createElement(c.MoreServicesPopup,{visible:s,onOutsideClick:w,allServicesLink:e.allServicesLink,anchor:n,popupTheme:_},C.map((function(t){var n=x.findIndex((function(e){return e.id===t.id}));return a.default.createElement(f.PopupServiceView,{className:p("PopupService",{collapsible:h(n)}),hidePopup:w,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick,popupTheme:_})}))))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(155),s=n(527);t.ServiceView=function(e){var t=o.useContext(a.HeaderContext),n=e.description,i=e.popupTheme,u=t.lang,c=t.timeZone,l=t.theme,f={theme:i||l,timeZone:c,lang:u,i18n:n.title,className:"promozavr-anchor-service"+n.id+"Button "+e.className,active:e.isCurrentService,link:n.href,target:n.target,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:t.calendarDay,icon:n.icon};return o.default.createElement(s.HeaderService,r({},f))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(34),s=n(1696);n(1697);var u,c=a.cn("PSHeaderIcon");t.BoundHeaderIcon=function(e){return o.default.createElement(p,r({},e))};var l=function(e,t){u&&window.clearTimeout(u);var n=s.getDateInTZ(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),i=Number(r)-Number(n);u=window.setTimeout((function(){e(),l(e,t)}),i)},f=function(e){var t=e.timeZone,n=e.calendarDay,r=n||s.getDayOfMonth(t),i=o.useState(r),a=i[0],f=i[1],d=n||a;o.useEffect((function(){if(!n){var e=function(){f(s.getDayOfMonth(t))};l(e,t);var r=function(){e(),l(e,t)};return window.addEventListener("focus",r),function(){window.clearTimeout(u),window.removeEventListener("focus",r)}}}),[f,t,n]);var p=d>=10&&d<=19&&11!==d;return o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:c("CalendarDay",{shiftLeft:p})},d),o.default.createElement("div",{className:c("CalendarGradient")}))},d=function(e){var t,n=e.name,r=e.timeZone,i=e.calendarDay,a=e.theme,s=e.lang;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:c("Image",(t={},t[n]=!0,t.theme=a,t.lang=s,t))}),"Calendar"===n&&o.default.createElement(f,{timeZone:r,calendarDay:i}))},p=function(e){var t,n;return o.default.createElement("div",{className:c((t={},t[e.name]=!0,t.theme=e.theme,t),[e.className])},null!==(n=e.children)&&void 0!==n?n:o.default.createElement(d,r({},e)))};t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1700));function o(e,t){var n=i.default(e,!0);return Object.entries(t).forEach((function(e){var t=e[0],r=e[1];n.query[t]=r})),n.toString()}t.addQueryParams=o,t.addFromToLink=function(e,t){return o(e,{from:t})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(155);t.useLogoMetrika=function(){var e=r.useContext(i.HeaderContext).countMetrika,t=r.useCallback((function(){return e("yandex")}),[e]),n=r.useCallback((function(){return e("360")}),[e]);return r.useMemo((function(){return{onYaClick:t,on360Click:n}}),[t,n])}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(529),a=n(732);t.LogoLink=function(e){var t=e.logoLink,n=e.title,r=e.target,s=e.children,u=e.onClick,c=a.useLogoMetrika().onYaClick,l=i.useCallback((function(e){"function"==typeof u&&u(e),c()}),[u,c]);return i.default.createElement("a",{href:t,className:o.classes.yaLink,title:n,rel:"noopener noreferrer",onClick:l,target:r},s)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(155),a=n(529);t.LogoContainer=function(e){var t=i.useContext(o.HeaderContext).theme;return i.default.createElement("div",{className:a.classes.root({theme:t})},e.children)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));t.SvgYa=function(e){var t=e.logoLang;return i.default.createElement("svg",{width:"36",height:"36"},i.default.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#FC3F1D"}),"En"===t?i.default.createElement("path",{d:"M18.441 20.058c1.052 2.304 1.403 3.106 1.403 5.873V29.6h-3.757v-6.186L9 8h3.92l5.521 12.058zM23.074 8L18.48 18.443h3.82L26.905 8h-3.832z",fill:"#fff"}):i.default.createElement("path",{d:"M20.67 10.103h-1.822c-3.123 0-4.684 1.561-4.684 3.903 0 2.603 1.04 3.904 3.383 5.465l1.822 1.302-5.205 8.067H10l4.945-7.287c-2.863-2.082-4.425-3.903-4.425-7.287 0-4.163 2.863-7.026 8.328-7.026h5.465v21.6H20.67V10.103z",fill:"#fff"}))},t.SvgYaMonochrome=function(e){var t=e.logoLang;return i.default.createElement("svg",{width:"36",height:"36"},"En"===t?i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm1.844-10.069c0-2.767-.35-3.569-1.403-5.873L12.92 8H9l7.087 15.414V29.6h3.757v-3.669zm-1.365-7.488L23.074 8h3.832l-4.608 10.443H18.48z",fillRule:"evenodd",fill:"currentColor"}):i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm.848-25.897h1.822V28.84h3.643V7.24h-5.465c-5.465 0-8.327 2.863-8.327 7.027 0 3.383 1.56 5.204 4.424 7.286L10 28.84h4.164l5.205-8.067-1.822-1.302c-2.342-1.561-3.383-2.862-3.383-5.465 0-2.342 1.561-3.903 4.684-3.903z",fillRule:"evenodd",fill:"currentColor"}))},t.Svg360=function(){return i.default.createElement("svg",{width:"76",height:"36"},i.default.createElement("path",{transform:"translate(-36)",d:"M86.802 21.278c0-4.082-4.082-6.15-10.34-6.15-3.674 0-6.697 1.065-8.139 2.743.273-4.96 2.816-7.669 8.792-7.669 3.129 0 5.85.464 8.516 1.905V9.85C83.426 8.79 80.84 8 77.087 8c-7.972 0-11.348 4.79-11.348 11.184 0 5.85 2.666 8.816 10.532 8.816 5.933 0 10.531-2.477 10.531-6.722zm-10.585 4.518c-4.934 0-7.427-1.66-7.427-4.273 0-2.694 2.868-4.19 7.591-4.19 4.354 0 7.564 1.468 7.564 4.162 0 2.831-3.074 4.3-7.727 4.3zm-28.516-8.68v-.003h.004l11.3-6.392H44.79V8.544H63.18v2.041l-9.821 5.508c.572-.093 1.18-.149 1.797-.149 4.734 0 8.815 1.852 8.815 5.742 0 3.946-4.381 6.314-10.748 6.31-4.517 0-7.536-1.006-9.224-1.85V23.89c2.013.98 4.815 1.904 9.196 1.904 5.279 0 7.92-1.522 7.92-4.162 0-2.498-2.722-3.646-7.32-3.646-3.32 0-5.198.897-5.198.897l-.895-1.765-.002-.001zm43.754.844c0 5.784 3.674 7.835 8.544 7.835 4.87 0 8.544-2.051 8.544-7.755 0-5.805-3.674-7.835-8.544-7.835-4.87 0-8.544 2.03-8.544 7.755zm-2.885.027C88.57 10.853 93.66 8 100 8s11.428 2.853 11.428 10.013c0 7.134-5.089 9.987-11.428 9.987-6.34 0-11.429-2.853-11.429-10.013z",fill:"currentColor"}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Единая тема для Почты, \nДиска и Телемоста",t.toggleVideoBgLabel="Проигрывать видеофоны",t.toggleVideoBgTooltip="Если отключить, вместо видеофонов \nбудут статичные изображения"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1760);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGeneralThemesDatasync=void 0;var r=n(1763);Object.defineProperty(t,"useGeneralThemesDatasync",{enumerable:!0,get:function(){return r.useGeneralThemesDatasync}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipStateful=void 0;var r=n(1765);Object.defineProperty(t,"TooltipStateful",{enumerable:!0,get:function(){return r.TooltipStateful}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipStateful=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(219),a=n(1767),s=n(200),u=n(530),c=n(1771);t.TooltipStateful=function(e){var t,n=e.children,l=e.content,f=e.defaultVisible,d=void 0!==f&&f,p=e.id,h=e.trigger,m=void 0===h?"hover":h,v=e.openDelay,g=e.closeDelay,y=r.__rest(e,["children","content","defaultVisible","id","trigger","openDelay","closeDelay"]),b=s.useUniqId("tooltip"),_=p||b,O=c.useTooltipState({openDelay:v,closeDelay:g,defaultVisible:d}),w=O.visible,E=O.open,S=O.close,x=O.toggle,C=i.useRef(null),T=i.Children.only(n),k=(Array.isArray(m)?m:[m]).reduce((function(e,t){switch(t){case"click":e.onClick=a.forkFn(T.props.onClick,(function(){return x()}));break;case"focus":e.onFocus=a.forkFn(T.props.onFocus,(function(){return E()})),e.onBlur=a.forkFn(T.props.onBlur,(function(){return S()}));break;case"hover":e.onMouseEnter=a.forkFn(T.props.onMouseEnter,(function(){return E()})),e.onMouseLeave=a.forkFn(T.props.onMouseLeave,(function(){return S()}))}return e}),{}),j="string"==typeof T.type?"ref":"innerRef",P=void 0===T.props[j]?C:o.mergeRefs(T.props[j],C);return i.default.createElement(i.default.Fragment,null,i.cloneElement(T,r.__assign(r.__assign({},k),((t={})[j]=P,t["aria-describedby"]=_,t))),i.default.createElement(u.Tooltip,r.__assign({},y,{id:_,visible:w,anchor:C,onClose:S}),l))}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaultDelay=void 0;var a=o(n(0));t.withDefaultDelay=function(e){return function(t){return (function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return r(o,n),o.prototype.render=function(){var n=i({openDelay:e},this.props);return a.default.createElement(t,i({},n))},o})(a.default.PureComponent)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"enableTheme",(function(){return u})),n.d(t,"enableVideoBg",(function(){return c})),n.d(t,"disableVideoBg",(function(){return l}));var r=n(10),i=n.n(r),o=n(53);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return function(t,n){var r=n().settings,i=s(s({},r),{},{generalThemes:s(s({},r.generalThemes),{},{theme:e.theme,settings:e.settings})});t(Object(o.updateSettings)(i))}},c=function(){return function(e,t){var n=t().settings,r=s(s({},n),{},{generalThemes:s(s({},n.generalThemes),{},{settings:s(s({},n.generalThemes.settings),{},{isVideoEnabled:!0})})});e(Object(o.updateSettings)(r))}},l=function(){return function(e,t){var n=t().settings,r=s(s({},n),{},{generalThemes:s(s({},n.generalThemes),{},{settings:s(s({},n.generalThemes.settings),{},{isVideoEnabled:!1})})});e(Object(o.updateSettings)(r))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1780),i=n(512),o=n(255),a=n(108),s=n(47);t.getDatasyncService=s.createSelector((function(e){var t=e.environment.session.serverTime,n=e.user.uid,s=e.settings.generalThemes,u=e.config.urlsBase,c=o.mapTypes([{id:"generalThemes",value:JSON.stringify(s)}],r.GeneralThemesSettingsDatasyncSchema),l=new o.TransportAdapter({transport:new i.Api(u["cloud-api"]),uid:n,db:"ps",collection:"settings"}),f=new o.DatasyncClient({transport:l,errorHandler:function(e){a.log({error:null===e||void 0===e?void 0:e.message},"datasync_client_init_error")}});return new r.GeneralThemesSettingsDatasyncService(f,c,{getNow:function(){return new Date(t)}})}),(function(e){return e}))}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=void 0;var i=n(690),o=n(511),a=n(183),s={theme:(0,o.JsonNullable)((0,o.JsonEnum)(Object.values(a.ThemeName),a.ThemeName.GeneralFlow)),settings:{isVideoEnabled:!0,isNewYear2023ThemeEnabled:!1}};t.GeneralThemesSettingsDatasyncSchema=((r={})[a.DATASYNC_KEY_NAME]=(0,i.FieldJson)((0,o.JsonSerializer)(s)),r)}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncSchema=t.GENERAL_THEMES_PROMO_KEY=void 0;var i=n(255),o=n(511);t.GENERAL_THEMES_PROMO_KEY="generalThemesPromo";var a={fullScreenShownDate:(0,o.JsonNullable)((0,o.JsonDate)(0)),tooltipShownDate:(0,o.JsonNullable)((0,o.JsonDate)(0))};t.GeneralThemesPromoDatasyncSchema=((r={})[t.GENERAL_THEMES_PROMO_KEY]=(0,i.FieldJson)((0,o.JsonSerializer)(a)),r)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1789);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r=n(32),i=n(5),o=n(638),a=n(500),s=n(501),u=n(530),c=i.compose(a.withViewDefault,s.withTargetAnchor)(o.Popup);t.registry=new r.Registry({id:u.cnTooltip()}),t.registry.set("Popup",c)}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(35),y=n.n(g),b=n(96),_=n.n(b),O=n(567),w=n.n(O),E=n(140),S=n(207),x=(n(1849),n(11)),C=n.n(x);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var k=(function(e){l()(n,e);var t=T(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={tooltipClosed:!1},r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){(this.props.selectedCount<=y.a.MAX_ACTIONABLE_SELECTION&&e.selectedCount>y.a.MAX_ACTIONABLE_SELECTION||this.props.visible&&!e.visible)&&(this._tooltipWasShown=!1,this.state.tooltipClosed&&this.setState({tooltipClosed:!1}))}},{key:"_onTooltipClose",value:function(){this.setState({tooltipClosed:!0})}},{key:"_getTooltip",value:function(){return v.a.createElement(E.MessageBoxPopup,{className:C()()("selection-info").e("tooltip"),view:"default",size:"m",anchor:this.props.actionBarRef,scope:this.props.actionBarRef,direction:"bottom-start",visible:!0,onClose:this._onTooltipClose,secondaryOffset:0},v.a.createElement(E.Wrapper,{align:"left",leading:v.a.createElement(S.a,null)},"Выбрано слишком много фото.\n Действия доступны только для 500 фото"))}},{key:"render",value:function(){var e,t=this.props,n=t.isPhotoslice,r=t.isPageAlbum,i=t.missingSelectedCount,o=t.selectedCount,a=t.isSelectingPhotos;e=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION?"Слишком много фото":_.a.capitalize(__i18n__.i18n.convert(["1 файл",yr.externals.entityify(o)+" файл",yr.externals.entityify(o)+" файла",yr.externals.entityify(o)+" файлов"],yr.externals.entityify(o)));var s=n&&i>0&&o<y.a.PHOTOSLICE_MAX_FETCHING_SELECTION,u=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION;return s||a||u?(s||a||(this._tooltipWasShown=!0),v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{key:"info",text:s||a?"":e,withSpin:s||a,onCheckboxChange:this.props.onCheckboxChange}),!this.props.visible||this.state.tooltipClosed||(s||a)&&!this._tooltipWasShown?null:this._getTooltip())):v.a.createElement(w.a,{text:e,onCheckboxChange:this.props.onCheckboxChange})}}]),n})(m.Component);t.a=k}),(function(e,t,n){"use strict";n(751);var r=n(0),i=n.n(r),o=n(281),a=n(455),s=n(141),u=n(11),c=n.n(u),l={row:40,m:80,l:145,default:40},f={row:"m",tile:"m"};t.a=function(e){var t=e.id,n=e.defaultPreview,r=e.iconType,u=e.onImageLoadError,d=e.onImageLoadSuccess,p=e.previewLoadFailed,h=e.theme,m=e.useRealDevicePixelRatio,v=e.previewRumId,g=e.size||f[h],y=Boolean(n&&!r),b={theme:h,size:g,img:y},_=c()()("resource-icon-preview").m(b).mix(e.cls);return y&&!p?i.a.createElement(a.a,{id:t,cls:_,onError:u,onLoad:d,src:(function(e,t,n,r){var i=r&&window.devicePixelRatio||1,o=l[n]||l[t]||l.default;o=Math.floor(o*i);var a="".concat(e,"&size=").concat(o,"x").concat(o);return Object(s.b)(n)&&(a+="&crop=1"),a})(n,g,h,m),rumId:v}):i.a.createElement(o.a,{cls:_,size:g,resource:e})}}),(function(e,t,n){}),(function(e,t,n){var r=n(521);e.exports=function(e,t){return r(e,t)}}),(function(e,t,n){var r=n(855),i=n(153),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(11)),s=r(n(755)),u=n(55),c=r(n(60)),l=n(130).I18N;t.default=o.connect((function(e){return{idContext:e.page.idContext,yandex360:e.config.urlsBase.yandex360,isUserFamilyAdmin:u.isFamilyAdmin(e),familyAdmin:u.getFamilyAdmin(e)}}))((function(e){var t=e.familyAdmin,n=e.idContext,r=e.isUserFamilyAdmin,o=e.yandex360,u=c.default.addParams(o+"/premium-plans/family/",{from:"inactive_album_family"}),f=i.default.createElement(i.default.Fragment,null,n.startsWith("/family")?"Вы больше не используете семейный тариф. Функции временно недоступны.":"Нельзя добавлять в альбом новые фото, потому что закончился Семейный Премиум.",!r&&t&&i.default.createElement(i.default.Fragment,null,i.default.createElement(i.default.Fragment,null," "),i.default.createElement(l,{loc:"Сообщите "+yr.externals.entityify(l.$1)+"."},i.default.createElement("span",{className:a.default()("family-plan-expired-block").e("admin-name")},(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)))));return i.default.createElement(s.default,{title:f,mainButtonProps:{url:u,text:"Подключить тариф"}})}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11)),a=n(26);n(1874);var s=function(){return o.default()("notifier")};t.default=function(e){var t=e.className,n=e.type,r=void 0===n?"default":n,o=e.title,u=e.mainButtonProps,c=e.secondaryButtonProps;return i.default.createElement("div",{className:s().m({type:r}).mix(t)},i.default.createElement("div",{className:s().e("icon-exclamation")}),i.default.createElement("div",{className:s().e("content")},i.default.createElement("span",{className:s().e("title")},o),i.default.createElement("div",{className:s().e("actions")},u&&i.default.createElement(a.Button,{type:"link",target:"_blank",size:"s","data-test-id":"notifier-main-button",view:"default"===r?"default":"raised",url:null===u||void 0===u?void 0:u.url,onClick:null===u||void 0===u?void 0:u.onClick},u.text),c&&i.default.createElement(a.Button,{type:"link",target:"_blank",size:"s",view:"clear","data-test-id":"notifier-secondary-button",url:null===c||void 0===c?void 0:c.url,onClick:null===c||void 0===c?void 0:c.onClick},c.text))))}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=(n(1885),n(0)),v=n.n(m),g=n(59),y=n(11),b=n.n(y);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(){return b()()("tabs")},w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onTabClick=r._onTabClick.bind(u()(r)),r}return a()(n,[{key:"_onTabClick",value:function(e){this.props.onChange(e)}},{key:"_renderTab",value:function(e){var t=e.title,n=e.link,r=e.id,i=r===this.props.current;return v.a.createElement(g.Link,{key:r,className:O().e("item").m({current:i}),href:n,title:t,theme:"primary",onClick:this.props.onChange&&this._onTabClick.bind(this,r),role:"tab","aria-selected":i},t)}},{key:"render",value:function(){return v.a.createElement("div",{role:"tablist",className:O().m({empty:0===this.props.items.length}).mix(this.props.className)},this.props.items.map(this._renderTab,this))}}]),n})(m.Component);t.default=w}),(function(e,t,n){"use strict";var r,i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(8),c=n.n(u),l=n(6),f=n.n(l),d=n(7),p=n.n(d),h=n(1),m=n.n(h),v=n(10),g=n.n(v),y=(n(1886),n(19)),b=n(0),_=n.n(b),O=n(26),w=n(231),E=n(157),S=n(20),x=n(25),C=n(42),T=n(11),k=n.n(T);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var P=n(22),R=function(){return k()()("listing-heading")},A=(r={"/shared":"Общий доступ"},g()(r,x.VIRTUAL_DISKS_ROOT,"Общий доступ"),g()(r,"/published","Общий доступ"),g()(r,"/attach","Архив"),g()(r,"/narod","Архив"),g()(r,"/attach/yaruarchive","Архив"),g()(r,"/attach/YaFotki","Архив"),g()(r,"/family/album","Семья"),r),I=R().e("button"),D=(function(e){f()(n,e);var t=j(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={popupVisible:!1},r._onClick=r._onClick.bind(c()(r)),r._onPopupClose=r._onPopupClose.bind(c()(r)),r._actionsPopupAnchor=_.a.createRef(),r}return s()(n,[{key:"componentDidUpdate",value:function(e){this.props.resource.id!==e.resource.id&&this.state.popupVisible&&this.setState({popupVisible:!1})}},{key:"_onClick",value:function(){this.setState({popupVisible:!this.state.popupVisible})}},{key:"_onPopupClose",value:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.classList.contains(String(I))||this.setState({popupVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.hasActionsButton,r=e.title;return _.a.createElement("div",{className:R().mix(C.LISTING_PREVENT_MOUSE_SELECTION_CLASS)},_.a.createElement("h1",{className:R().e("title").m({interactive:n}),title:r,ref:this._actionsPopupAnchor},_.a.createElement("div",{className:R().e("title-inner"),onClick:n?this._onClick:void 0,"aria-hidden":!0},r)),n?_.a.createElement(_.a.Fragment,null,_.a.createElement(O.Button,{view:"clear","aria-label":"Действия",className:I,onClick:this._onClick,size:"s",icon:E.moreIconProvider}),_.a.createElement(w.default,{visible:this.state.popupVisible,target:"anchor",anchor:this._actionsPopupAnchor,resources:[t],onClose:this._onPopupClose,metrikaPath:["context menu","current folder"],isAndroid:this.props.isAndroid})):null)}}]),n})(b.PureComponent);t.a=Object(y.connect)((function(e,t){var n=t.hideActionsButton,r=e.resources,i=e.page.idContext,o=e.environment.agent.OSFamily,a=r[i]||{};if(i.startsWith("/search/")||Object(x.isVirtualDiskSearchPath)(i))return{hasActionsButton:!1,title:"Результаты поиска",resource:a};var s=!1;if(a.id&&!n){var u=Object(S.getAvailableActions)([a],e);s="/trash"!==i&&!Object(x.isRootOfVirtualDisk)(i)&&!Object(x.isVirtualDiskTrash)(i)&&w.ACTIONS.some((function(e){return u.includes(e.id)}))}return{isAndroid:"Android"===o,hasActionsButton:s,title:A[i]||a.name||P.basename(i),resource:a}}))(D)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(159)),s=(i(n(759)),i(n(1887)));n(1888);var u=i(n(11)),c=function(){return u.default()("ReadonlyFolderNotification")};t.default=function(e){var t=e.className,n=e.withoutBackground,r=o.useMemo((function(){return o.default.createElement("div",{className:c().m({withoutBackground:n})},o.default.createElement(s.default,{className:c().e("Icon")}),o.default.createElement("div",{className:c().e("Text")},"Только просмотр"))}),[n]);return o.default.createElement("div",{className:t},o.default.createElement(a.default,{tooltipCls:c().e("Tooltip"),text:"Можно просматривать файлы и папки, копировать их на доступные Диски или скачивать.",direction:["bottom"],showDelay:0},r))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(318);t.default=function(e){var t=e.tooltipText,n=e.tooltipClassName,r=e.children,a=e.ancorClassName,s=i.useRef(null),u=i.useState(!1),c=u[0],l=u[1],f=i.useRef(null),d=i.useCallback((function(){l(!0),f.current=setTimeout((function(){l(!1)}),3e3)}),[]);return i.useEffect((function(){return function(){f.current&&clearTimeout(f.current)}}),[]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:s,onClick:d,className:a},r),i.default.createElement(o.Tooltip,{anchor:s,view:"default",state:"warning",hasTail:!0,className:n,direction:["bottom"],visible:c},t))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayListIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M5 1h11v2H5V1zm0 6h11v2H5V7zm0 6h11v2H5v-2zM0 1h3v2H0V1zm0 6h3v2H0V7zm0 6h3v2H0v-2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayIconsIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 0h4v4H0V0zm0 6h4v4H0V6zm0 6h4v4H0v-4zM6 0h4v4H6V0zm0 6h4v4H6V6zm0 6h4v4H6v-4zm6-12h4v4h-4V0zm0 6h4v4h-4V6zm0 6h4v4h-4v-4z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRegistry=void 0;var r=n(32),i=n(1895);t.selectRegistry=new r.Registry({id:i.cnSelect()}),t.selectRegistry.set("Trigger",(function(){throw new Error('Для работы "Select" требуется установить компонент "Trigger" в реестр "'+i.cnSelect()+'".')})).set("Icon",(function(){throw new Error('Для работы "Select" требуется установить компонент "Icon" в реестр "'+i.cnSelect()+'".')})).set("Popup",(function(){throw new Error('Для работы "Select" требуется установить компонент "Popup" в реестр "'+i.cnSelect()+'".')})).set("Menu",(function(){throw new Error('Для работы "Select" требуется установить компонент "Menu" в реестр "'+i.cnSelect()+'".')}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(127),v=n.n(m),g=n(205),y=n.n(g),b=n(553),_=n(11),O=n.n(_);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(){return O()()("drop-target")};t.default=function(e){return (function(t){u()(r,t);var n=w(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).state={highlighted:!1,active:!1},t._elementRef=h.a.createRef(),t}return a()(r,[{key:"componentDidMount",value:function(){this._addSelf()}},{key:"componentWillUnmount",value:function(){this._removeSelf()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&(this._removeSelf(),this._addSelf())}},{key:"_addSelf",value:function(){Object(b.addExternalDropTarget)({id:this.props.id,type:this.props.type,isFixed:this.props.isFixed,scrollContainerSelector:this.props.scrollContainerSelector,reactElement:this})}},{key:"_removeSelf",value:function(){Object(b.removeExternalDropTarget)(this)}},{key:"getDomElement",value:function(){return this._elementRef.current||v.a.findDOMNode(this._ref)}},{key:"toggleHighlight",value:function(e){this.setState({highlighted:e})}},{key:"toggleActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){var t=this,n=y()(this.props,["scrollContainerSelector","isFixed","type"]);return this.props.cls?(n.cls=E().m(this.state).mix(this.props.cls),n.ref=function(e){t._ref=e}):(n.innerRef=this._elementRef,n.className=E().m(this.state).mix(this.props.className)),h.a.createElement(e,n)}}]),r})(p.Component)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(11));n(1913);var s=function(){return a.default()("family-members-list")};t.FamilyMembersList=function(e){var t=e.members,n=e.urlAvatar;return o.default.createElement("div",{className:s()},t.map((function(e){return o.default.createElement(o.Fragment,{key:e.uid},o.default.createElement("div",{className:s().e("member")},o.default.createElement("img",{src:""+n+e.avatar+"/islands-middle",className:s().e("image")}),o.default.createElement("div",{className:s().e("name")},o.default.createElement("span",null,e.name),o.default.createElement("span",null,e.login))),o.default.createElement("div",{className:s().e("separator")}))})))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(134),s=r(n(1943)),u=r(n(1982)),c=o.connect((function(e){return{isScansPage:a.isScansPage(e)}}));t.default=c((function(e){return e.isScansPage?i.default.createElement(u.default,null):i.default.createElement(s.default,null)}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(244)),u=i(n(1944)),c=(i(n(1945)),i(n(769)),i(n(1966))),l=i(n(536)),f=i(n(535)),d=i(n(768)),p=i(n(1968)),h=n(1969),m=n(1970),v=n(1971),g=n(36),y=n(134),b=n(27),_=n(26),O=i(n(14));n(1972);var w=i(n(11)),E=function(){return w.default()("Docs-Header")},S={openEditor:b.openEditor,maybeBlockAction:b.maybeBlockAction},x=a.connect((function(e){var t=e.user.isOfficeAllowed;return{type:g.currentDocsType(e),isOfficeAllowed:t,isScansPage:y.isScansPage(e)}}),S),C={docx:"Недавние документы",xlsx:"Недавние таблицы",pptx:"Недавние презентации"},T={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},k={docx:h.documentIconProvider,xlsx:v.tableIconProvider,pptx:m.presentationIconProvider};t.default=x((function(e){var t=e.type,n=e.openEditor,r=e.isOfficeAllowed,i=e.isScansPage,a=e.maybeBlockAction,h=o.useRef(),m=o.useState(!1),v=m[0],g=m[1],y=o.useCallback((function(){g(!v)}),[v,g]),b=o.useCallback((function(){g(!1)}),[g]),w=o.useCallback((function(){a()||(n(t,"/disk"),O.default.countDocs("create doc",t,"toolbar"))}),[t,n,a]),S=i?"Сканы":C[t],x=o.default.createElement(p.default,{cls:E().e("Sort-Icon"),size:"m"});return o.default.createElement(s.default,{title:S,titleRef:h,titleRightIcon:x,onTitleClick:y},i?o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,null),o.default.createElement(c.default,{popupVisible:v,titleRef:h,onSortPopupClose:b})):o.default.createElement("div",{className:E().e("Controls-Wrapper")},r&&o.default.createElement(_.Button,{onClick:w,className:E().e("New-Doc"),size:"m",view:"raised",iconLeft:k[t]},T[t]),o.default.createElement(f.default,null),o.default.createElement(c.default,{popupVisible:v,titleRef:h,onSortPopupClose:b}),o.default.createElement(l.default,null),o.default.createElement(u.default,null),o.default.createElement(d.default,null)))}))}),(function(e,t,n){"use strict";var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(19),s=n(36),u=n(82),c=n(245),l=n(15),f=n(134),d=i(n(14)),p=((r={})[c.SortOrder.ASC]="По возрастанию",r[c.SortOrder.DESC]="По убыванию",r),h={setSortingType:u.setSortingType,changeResourcesSort:l.changeResourcesSort},m=a.connect((function(e){return{sortingType:s.sortingType(e),isScansPage:f.isScansPage(e)}}),h),v=function(e,t,n){var r=n;"order"===t&&(r="1"===n?"asc":"desc"),d.default.countDocs("change "+(e?"scans":"docs")+" sort",t,r)};t.default=m((function(e){var t,n=e.setSortingType,r=e.sortingType,i=e.isScansPage,a=e.changeResourcesSort,s=e.render,u=o.useCallback((function(e){i?a({sort:r.sort,order:e}):n({sort:r.sort,order:e}),v(i,"order",e)}),[r.sort,n,i,a]),l=o.useCallback((function(e){i?a({order:r.order,sort:e}):n({order:r.order,sort:e}),v(i,"sort",e)}),[r.order,n,i,a]),f=((t={})[c.SortBy.NAME]="По названию",t[c.SortBy.SIZE]="По размеру",t);return i?f[c.SortBy.MTIME]="По дате изменения":f[c.SortBy.DATE_LAST_VIEW]="По дате просмотра",s({sortMap:f,sortOrderMap:p,sortOrgerList:[c.SortOrder.ASC,c.SortOrder.DESC],setSortOrder:u,setSortBy:l,activeSortingType:r})}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1948));t.FILTER_MAP=i.FILTER_MAP,t.default=i.default}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(26),c=n(72),l=(n(126),n(57)),f=n(228),d=o(n(535)),p=n(1957),h=n(1958),m=n(1959),v=n(1960),g=n(1961),y=o(n(536)),b=n(27),_=o(n(14)),O=n(36),w=n(89);n(1965);var E=o(n(11)),S=n(80),x=n(81),C=function(){return E.default()("Docs-Create-Dropdown")},T={openEditor:b.openEditor,maybeBlockAction:b.maybeBlockAction},k=s.connect((function(e){return{isOfficeAllowed:e.user.isOfficeAllowed,isDocsView:O.isDocsView(e),isUserCanHaveDisk:w.isUserCanHaveDisk(e),getLoginOrUpgradeUrlForRetpath:function(t){return w.getLoginOrUpgradeUrl(e,t)},isDark:S.isContentDark(x.getThemeName(e))}}),T),j={docx:"Документ",xlsx:"Таблицу",pptx:"Презентацию"},P={docx:p.docxIconProvider,xlsx:h.xlsxIconProvider,pptx:m.pptxIconProvider};t.default=k((function(e){var t=e.openEditor,n=e.maybeBlockAction,i=e.isOfficeAllowed,o=e.isDocsView,s=e.isUserCanHaveDisk,p=e.getLoginOrUpgradeUrlForRetpath,h=a.useState(!1),m=h[0],b=h[1],O=a.useCallback((function(){n()||b(!m)}),[m,n]),w=a.useRef(null),E=a.useCallback((function(){b(!1)}),[]),S=function(e){if(e.target.value){var n=e.target.value,r="/docs?type="+n+"&create=1";s?t(n,"/disk"):window.location.assign(p(r)),_.default.countDocs("create doc",n,"sidebar")}b(!1)},x=a.useMemo((function(){return Object.keys(j).map((function(e){var t;return a.default.createElement(l.Item,{key:e,value:e,icon:P[e],className:C().e("Type").m((t={},t[e]=!0,t))},j[e])}))}),[]),T=a.useMemo((function(){return s?[a.default.createElement(l.Item,{key:"open",icon:v.openIconProvider,className:C().e("Type").m({open:!0})},"Открыть",a.default.createElement(d.default,{transparentAbsolute:!0})),a.default.createElement(l.Item,{icon:g.uploadIconProvider,key:"upload",className:C().e("Type").m({upload:!0})},"Загрузить",a.default.createElement(y.default,{transparentAbsolute:!0}))]:[]}),[s]),k=i||!s;return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Button,{className:C().e("Button"),size:"m",view:o?"raised":"action",theme:o?void 0:"raised",width:"max",onClick:O,iconLeft:f.plusIconProvider,innerRef:w},"Создать"),a.default.createElement(c.Popup,{className:C().e("Popup"),view:"default",target:"anchor",anchor:w,visible:m,onClose:E,direction:"bottom",onClick:E},(function(e){return a.default.createElement(l.Menu,{className:C().e("Menu").m({touch:!1}),view:"default",size:"m",onChange:S,wide:!0,paddingless:!0},e?[k?a.default.createElement(l.Group,{key:"create"},x):null,T.length?a.default.createElement(l.Group,{key:"add"},T):null]:r(k?x:[],T))})(!0)))}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(262)),u=o(n(569)).default(function(e){return function(t){var n=t.onContextMenu,i=a.useCallback((function(e,t){n([e],t,[e])}),[n]);return a.default.createElement(e,r({},t,{onResourceContextMenu:i}))}}(s.default));t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(9)),c=o(n(184)),l=n(15),f=o(n(1975)),d=n(129),p=o(n(107)),h=o(n(133)),m=o(n(772)),v=o(n(1977)),g=n(134),y=n(262),b=n(117),_=n(36);n(1981),n(863);var O=o(n(11)),w=[],E={maybePublishResource:l.maybePublishResource,setHighlighted:b.setHighlighted},S=s.connect((function(e){var t=e.statesContext.highlighted,n=e.environment.agent.OSFamily;return{resourcesByIds:e.resources,OSFamily:n,highlighted:t,isScansPage:g.isScansPage(e),listingType:_.listingType(e)}}),E);t.default=function(e,t){var n=[t,"share dialog"];return S((function(i){var o=i.maybePublishResource,s=i.highlighted,l=i.setHighlighted,g=i.listingType,b=i.isScansPage,_=i.OSFamily,E=i.resourcesByIds,S=a.useState(null),x=S[0],C=S[1],T=a.useRef(null),k=a.useCallback((function(){C(null),T.current=null}),[]),j=a.useCallback((function(e,t){if(x)return k();C(e),T.current=t}),[x,k]),P=a.useState(!1),R=P[0],A=P[1],I=a.useState(null),D=I[0],M=I[1],N=a.useState(!1),L=N[0],F=N[1],B=a.useCallback((function(){A(!1),F(!1),setTimeout((function(){M(null)}),200)}),[]),U=a.useCallback((function(e){M(e),o(e).then((function(e){e&&F(!0)})),A(!0)}),[o]),z=a.useMemo((function(){return s.concat(x||[])}),[s,x]),V=a.useCallback((function(e){var t,n=e.id,r=e.meta,i=e.openInEditorTimestamp,o=e.mtime,s=b?o:i;if(s){var u=h.default(1e3*s,"DD.MM.YYYY HH:mm").split(" "),c=u[0],l=u[1],f=c===h.default(Number(new Date),"DD.MM.YYYY HH:mm").split(" ")[0];t={type:f?"time":"date",themes:["row"],content:f?l:c}}return[t||void 0,{type:"size",themes:["row"],content:p.default.formatSpace(r.size)},{type:"actions",position:d.POSITIONS.ALWAYS_RIGHT,content:a.default.createElement(v.default,{resourceId:e.id,onMoreClick:j,onShareClick:U})},{type:"more",themes:["tile"],position:d.POSITIONS.TOP_RIGHT,content:a.default.createElement(m.default,{resourceId:n,onClick:j})}].filter(Boolean)}),[b,j,U]),H={listingProps:r(r({},y.getListingViewProps(g)),{cls:O.default()("Docs").e("Listing").m({Touch:!1}).mix("client-listing"),titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:!1,openOnSingleClick:!0,supportDoubleClick:!1,ignoreClicksSelector:y.ignoreClicksSelectorBase,saveScrollAfterUpdate:!0,touchContextMenu:!1,selectedResources:w,selected:w,setSelection:u.default.noop,metrikaTail:t,highlightedResources:z,highlighted:s,getAdditionalFields:V,OSFamily:_,setHighlighted:l}),resourcesByIds:E};return a.default.createElement(a.default.Fragment,null,a.default.createElement(e,r({},H)),a.default.createElement(f.default,{resourceId:x,anchor:T,onClose:k}),D?a.default.createElement(c.default,{visible:R,objectIds:[D],onClose:B,metrikaPath:n,defaultExpanded:L}):null)}))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(26),s=i(n(157)),u=i(n(11));n(1976);t.default=function(e){var t=e.resourceId,n=e.className,r=e.onClick,i=o.useRef(null),c=o.useCallback((function(){i.current&&r(t,i.current)}),[t,r]),l=o.useCallback((function(e){c(),e.stopPropagation(),e.preventDefault()}),[c]);return o.default.createElement(a.Button,{view:"clear",size:"xxs","aria-label":"Ещё",className:u.default()("ResourceActionsButton").mix(n),onClick:c,onContextMenu:l,icon:function(e){return o.default.createElement(s.default,{cls:e,iconSize:"s"})},innerRef:i})}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(40),s=n(15),u=n(19),c=i(n(60)),l=i(n(14)),f=n(82),d=n(27),p=n(226),h=i(n(1994)),m=n(69),v=i(n(559)),g=i(n(184)),y=i(n(9));n(1996);var b,_=i(n(11)),O=n(36),w=n(81),E=n(80),S=function(){return _.default()("Docs-View")},x=["docs view","share dialog"],C={addDocFromDisk:f.addDocFromDisk,maybeBlockActionOverdraft:d.maybeBlockActionOverdraft,fetchSingleResource:s.fetchSingleResource,notify:a.notify,openDocsCopyConfirmation:s.openDocsCopyConfirmation},T=u.connect((function(e){var t,n,r=e.config,i=r.domain,o=r.environment,a=r.urlsBase.docviewer,s=r.links.passport.auth,u=e.page.currentUrl,c=e.resources,l=e.user,f=O.getViewFileDetails(e),d=f.ext,p=f.protocol,h=f.fileId;return{isUnAuth:!l.uid,domain:i,metaResourceId:null===(n=null===(t=c[h])||void 0===t?void 0:t.meta)||void 0===n?void 0:n.resource_id,isTestingOrDev:["testing","development"].includes(o),docviewer:a,currentUrl:u,ext:d,protocol:p,fileId:h,authUrl:l.uid?void 0:s,isCoverLayerEnabled:w.isCoverLayerEnabled(e),isDark:E.isContentDark(w.getThemeName(e))}}),C);!(function(e){e.bodyClick="body-click",e.documentLoad="document-load",e.documentError="document-error",e.sendDocState="send-doc-state",e.scrollHeaderFixed="scroll-header-fixed",e.scrollNavigationFixed="scroll-navigation-fixed",e.scrollFooterFixed="scroll-footer-fixed",e.savedToDisk="saved-to-disk",e.blockActionOverdraft="block-action-overdraft",e.shareDocument="share-document",e.openDocument="open-document",e.downloadError="download-error",e.fullScreenMode="fullscreen-mode",e.redirect="redirect",e.openDocCopyConfirm="open-doc-Copy-confirm"})(b||(b={}));var k=function(){document.body.dispatchEvent(new Event("mousedown"))},j=function(){var e=new Event("click",{bubbles:!0});document.body.dispatchEvent(e)},P=y.default.once((function(e,t,n){l.default.count("docs view",e,t,n)}));t.default=T((function(e){var t=e.isUnAuth,n=e.domain,r=e.isTestingOrDev,i=e.fetchSingleResource,a=e.docviewer,s=e.currentUrl,u=e.getRootRef,l=e.authUrl,f=e.ext,d=e.protocol,y=e.fileId,_=e.metaResourceId,O=e.maybeBlockActionOverdraft,w=e.notify,E=e.addDocFromDisk,C=e.isCoverLayerEnabled,T=e.isDark,R=e.openDocsCopyConfirmation,A=o.useState(!1),I=A[0],D=A[1],M=o.useState(null),N=M[0],L=M[1],F=o.useState(null),B=F[0],U=F[1],z=o.useState(!1),V=z[0],H=z[1],W=o.useCallback((function(){D(!1)}),[]),G=o.useRef(null),$=o.useMemo((function(){var e=c.default.getSearch(s),t=a+e;return t=c.default.replaceParam(t,"uid",void 0,!0),t=c.default.addParams(t,{embed:"docs",nosw:"1",hideLoaders:"1"}),l&&(t=c.default.addParams(t,{authUrl:l})),C&&(t=c.default.addParams(t,{coverLayer:1})),T&&(t=c.default.addParams(t,{dark:1})),t}),[a,s,l,C,T]);o.useEffect((function(){return document.documentElement.classList.add("no-scroll"),function(){document.documentElement.classList.remove("no-scroll")}}),[]),o.useEffect((function(){return document.documentElement.classList.remove("touch-dv-in-docs"),function(){document.documentElement.classList.remove("touch-dv-in-docs")}}),[]),o.useEffect((function(){return function(){var e;null===(e=u())||void 0===e||e.classList.remove("docs-view-hide-header")}}),[u]),o.useEffect((function(){t||"ya-disk:"!==d||i(y)}),[i,y,t,d]),o.useEffect((function(){_&&[p.DocsExt.docx,p.DocsExt.xlsx,p.DocsExt.pptx].includes(f)&&E({id:y})}),[E,_,f,y]);var q=o.useMemo((function(){return new RegExp("^https://"+(r?".+\\.(?:dst|dv-dev\\.dsd)\\.yandex\\.":"(?:docviewer|.+\\.dsp)\\.yandex\\.")+n.replace(".","\\.")+"$")}),[n,r]),Y=o.useState(null),K=Y[0],J=Y[1],X=o.useState(""),Z=X[0],Q=X[1],ee=o.useState(!0),te=ee[0],ne=ee[1],re=o.useCallback((function(e){var t,n,r,i,o,a;try{if(!q.test(e.origin))return;var s=JSON.parse(e.data),c=s.type,l=s.data;switch(c){case b.scrollHeaderFixed:if(l){null===(t=u())||void 0===t||t.classList.add("docs-view-hide-header"),j();var p=document.querySelector(".PSHeader-MorePopup");(null===p||void 0===p?void 0:p.classList.contains("Popup2_visible"))&&k()}else null===(n=u())||void 0===n||n.classList.remove("docs-view-hide-header");break;case b.scrollNavigationFixed:l?null===(r=u())||void 0===r||r.classList.add("docs-view-hide-mobile-navigation-header"):null===(i=u())||void 0===i||i.classList.remove("docs-view-hide-mobile-navigation-header");break;case b.scrollFooterFixed:H(!l);break;case b.bodyClick:k(),j(),null===(o=G.current)||void 0===o||o.focus();break;case b.savedToDisk:var h=l.status,m=l.folderUrl;J(h),Q(m||"");break;case b.blockActionOverdraft:O({forLite:!0});break;case b.shareDocument:var v=l.url,g=l.error;g?w({operation:"docsError",message:g}):(U(v),L(y),D(!0));break;case b.openDocument:location.assign(l.fileUrl);break;case b.documentLoad:ne(!1),P(f,d,"success");break;case b.documentError:ne(!1),H(!0),P(f,d,"error");break;case b.downloadError:w({operation:"docsError",message:"Не удалось скачать файл. Попробуйте позже."});break;case b.fullScreenMode:null===(a=u())||void 0===a||a.classList.toggle("docs-view-full-screen-mode",l);break;case b.redirect:location.assign(l.url);break;case b.openDocCopyConfirm:var _=l.toExtension;v=l.url,R({toExtension:_,url:v,fromDV:!0})}}catch(e){}}),[q,u,w,y,H,ne,O,f,d,R]);o.useEffect((function(){var e,t;return window.addEventListener("message",re),null===(t=null===(e=G.current)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage(JSON.stringify({type:b.sendDocState}),a),function(){window.removeEventListener("message",re)}}),[re,G,a]);var ie=o.useCallback((function(){J(null)}),[]);return o.default.createElement(o.default.Fragment,null,te?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:S().e("Placeholder")}),o.default.createElement("div",{className:S().e("Loading")},o.default.createElement(m.Spin,{className:S().e("LoadingSpin"),view:"default",progress:!0,size:"l"}))):null,o.default.createElement("iframe",{src:$,className:S().e("Frame").m({TouchLoading:!1}),allowFullScreen:!0,ref:G}),V?null:o.default.createElement(v.default,{className:S().e("Footer")}),o.default.createElement(h.default,{status:K,folderUrl:Z,onClose:ie}),N?o.default.createElement(g.default,{publicShareUrl:_?null:B,visible:I,objectIds:[N],onClose:W,metrikaPath:x,showDeleteLinkProgress:!0}):null)}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2e3),i=n(2001),o=(function(){function e(e){var t=this;void 0===e&&(e={}),this.params=e,this.messageListener=function(e){var n=e.data;"string"==typeof n.type&&n.type.startsWith("uxfb/")&&t.handleIncomingMessage(n)},this.resizeListener=function(){var e=window.innerHeight||document.documentElement.clientHeight;t.sendMessage({type:i.UXFeedbackMessageType.CLIENT_HEIGHT,payload:e})},this.messageQueue=[]}return e.prototype.start=function(e,t){this.iframe=e,this.dispatch=t,window.addEventListener("message",this.messageListener),this.initIframe()},e.prototype.stop=function(){window.removeEventListener("message",this.messageListener),window.removeEventListener("resize",this.resizeListener)},e.prototype.sendEvent=function(e){this.sendMessage({type:i.UXFeedbackMessageType.EVENT,payload:{event:e}})},e.prototype.sendProperties=function(e){this.sendMessage({type:i.UXFeedbackMessageType.PROPERTIES,payload:e})},e.prototype.initIframe=function(){var e=r.getYaIdFromCookies();this.sendMessage({type:i.UXFeedbackMessageType.INFO,payload:{url:document.location.href,yaId:e,devicePixelRatio:window.devicePixelRatio,scrollTop:document.documentElement.scrollTop,scrollHeight:document.documentElement.scrollHeight,cookies:r.objectToCookies(this.params.cookies||{})}}),this.resizeListener(),window.addEventListener("resize",this.resizeListener)},e.prototype.handleIncomingMessage=function(e){switch(e.type){case i.UXFeedbackMessageType.CLASS:return this.onClassMessage(e.payload);case i.UXFeedbackMessageType.STYLE:return this.onStyleMessage(e.payload);case i.UXFeedbackMessageType.POSITION:return this.onPositionMessage(e.payload);case i.UXFeedbackMessageType.OPACITY:return this.onOpacityMessage(e.payload);case i.UXFeedbackMessageType.SIZE:return this.onSizeMessage(e.payload);case i.UXFeedbackMessageType.IMAGE:return this.onImageMessage(e.payload)}},e.prototype.onImageMessage=function(e){this.addStyle({width:e.width,height:e.height}),this.sendMessage({type:i.UXFeedbackMessageType.SHOW_WIDGET_ICON,payload:null}),this.addStyle({opacity:"1"})},e.prototype.onSizeMessage=function(e){this.addStyle({width:e.width,height:e.height})},e.prototype.onOpacityMessage=function(e){this.addStyle({opacity:String(e)})},e.prototype.onPositionMessage=function(e){var t=e.height,n=Number(t),r=window.innerHeight||document.documentElement.clientHeight,i=n>=r?0:(r-n)/2;this.removeStyle(["transform","left","right"]),this.addStyle({top:i+"px"})},e.prototype.onStyleMessage=function(e){for(var t=/([\w-]*)\s*:\s*([^;]*)/g,n={},r=t.exec(e);r;)n[r[1]]=r[2].trim(),r=t.exec(e);this.addStyle(n)},e.prototype.onClassMessage=function(e){this.addClass(e)},e.prototype.addClass=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-class",className:e})},e.prototype.addStyle=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-style",style:e})},e.prototype.removeStyle=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"remove-style",keys:e})},e.prototype.sendMessage=function(e){if(this.iframe&&this.iframe.contentWindow){for(;this.messageQueue.length;)this.iframe.contentWindow.postMessage(this.messageQueue.shift(),"*");this.iframe.contentWindow.postMessage(e,"*")}else this.messageQueue.push(e)},e})();t.UXFeedbackIframeController=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(107)),c=o(n(776)),l=n(43),f=n(48),d=n(103),p=n(35),h=o(n(60)),m=o(n(14)),v=o(n(133)),g=n(80),y=n(81),b=s.connect((function(e,t){var n=e.config.links,r=n.static.host,i=n.help.overdraft;return{isMobile:e.environment.agent.isSmartphone,overdraftType:f.getOverdraftType(e),blockOverdraftDate:f.getBlockOverdraftDate(e),isOverdraftDialogOpened:d.isDialogOpened(e,"overdraft"),overdraftValue:u.default.formatSpace(f.getSpaceOverdraftValue(e)),staticHost:r,helpLink:i+"#end",buyButtonUrl:h.default.addParams(l.getBuyButtonUrl(e),{from:t.from}),onClose:t.onClose,isDark:g.isContentDark(y.getThemeName(e))}}));t.default=b((function(e){var t=e.overdraftType,n=e.blockOverdraftDate,i=e.isOverdraftDialogOpened,o=e.overdraftValue,s=e.helpLink,u=e.staticHost,l=e.buyButtonUrl,f=e.isMobile,d=e.onClose,h=e.isDark,g=a.useCallback((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];m.default.count.apply(m.default,r(["interface elements","overdrafts",t,i?"overdraft_dialog":"overdraft_block"],e))}),[t,i]);a.useEffect((function(){g("show")}),[g]);var y=a.useCallback((function(){g("close"),d()}),[d,g]),b=a.useCallback((function(){g("buy_button")}),[g]),_=a.useCallback((function(){g("more")}),[g]),O=a.useCallback((function(){g("select_and_delete"),d()}),[d,g]),w=n&&v.default(n,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),E=t===p.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(o):"Ваш Диск будет заблокирован "+yr.externals.entityify(w)+", а спустя полгода файлы удалятся навсегда",S=t===p.OVERDRAFT_TYPES.LITE?"Файлы еще доступны, но уже нельзя загружать новые и делиться ссылками. А "+yr.externals.entityify(w)+" Диск заблокируется насовсем.":"Файлы занимают на "+yr.externals.entityify(o)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return f&&(E=t===p.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен":"Ваши файлы будут удалены. Диск будет заблокирован "+yr.externals.entityify(w)+".",S=t===p.OVERDRAFT_TYPES.LITE?"Файлы по-прежнему доступны. Но нельзя загружать новые, делиться ссылками и создавать общие папки.":"Файлы занимают больше места, чем у вас есть."),a.default.createElement(c.default,{isMobile:f,title:E,text:S,aboutText:"Подробнее об ограничениях",buttonAddSpaceText:"Добавить место",buttonCleanText:"Выбрать и удалить лишнее",overdraftType:t,helpLink:s,staticHost:u,buyButtonUrl:l,onClose:y,onClean:O,onAddSpace:b,onAbout:_,isDark:h})}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(26),a=r(n(173)),s=r(n(11)),u=function(){return s.default()("overdraft-content")},c=r(n(2003));n(2007);var l=function(){};t.default=i.default.memo((function(e){var t,n=e.isMobile,r=e.title,s=e.text,f=e.aboutText,d=void 0===f?"":f,p=e.buttonAddSpaceText,h=void 0===p?"":p,m=e.buttonCleanText,v=void 0===m?"":m,g=e.overdraftType,y=e.staticHost,b=e.imageUrl,_=e.helpLink,O=void 0===_?"":_,w=e.buyButtonUrl,E=e.buyButtonTarget,S=void 0===E?"_blank":E,x=e.onClose,C=void 0===x?l:x,T=e.onClean,k=void 0===T?l:T,j=e.onAddSpace,P=void 0===j?l:j,R=e.onAbout,A=void 0===R?l:R,I=e.withoutClose,D=void 0!==I&&I,M=e.isDark,N="hard"===g&&M?c.default.hardDark:c.default[g];return i.default.createElement("div",{className:u().m((t={mobile:n},t[g]=!0,t))},D?null:i.default.createElement(o.Button,{className:u().e("close"),onClick:C,size:n?"xs":"m",view:"clear",icon:function(e){return i.default.createElement(a.default,{cls:e,iconSize:n?"l":"m"})}}),i.default.createElement("div",{className:u().e("content")},i.default.createElement("div",{className:u().e("title")},r),i.default.createElement("div",{className:u().e("text")},s,n?" ":i.default.createElement("br",null),d?i.default.createElement(o.Button,{className:u().e("about"),size:"m",view:"clear",type:"link",url:O,target:"_blank",onClick:A},d):null),i.default.createElement("div",{className:u().e("image-wrapper")},i.default.createElement("img",{className:u().e("image"),src:""+(y||"")+(b||N)})),h||v?i.default.createElement("div",{className:u().e("buttons-wrapper")},h?i.default.createElement(o.Button,{className:u().e("button-add-space"),size:"m",view:"action",onClick:P,type:w?"link":void 0,url:w,target:S},h):null,v?i.default.createElement(o.Button,{className:u().e("button-clean"),size:"m",view:n?"clear":"default",onClick:k},v):null):null))}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"countB2bFreeBase",(function(){return o})),n.d(t,"countB2bFree",(function(){return a}));var r=n(14),i=n(35),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.count.apply(void 0,["interface elements","b2b-free"].concat(t))},a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e===i.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION&&o.apply(void 0,["grace-period"].concat(n)),e===i.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION&&o.apply(void 0,["grace-notify"].concat(n)),e===i.B2B_RESTRICTION_STATUSES.RESTRICT&&o.apply(void 0,["disabling-free"].concat(n))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zip=t.prop=void 0,t.prop=function(e,t,n){var r,i="";switch(Array.isArray(t)&&(t=(r=t)[0],i=r[1]),!0){case void 0!==t:return e+": "+t+i+";";case void 0!==n:return e+": "+n+";";default:return"/* "+e+": "+t+i+"; */"}},t.zip=function(e){return e.replace(/\n+|\t+|\s{2,}/g," ")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHashed=void 0;var r=n(0),i=1;function o(e){return Object.keys(e).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=e[n]+"__"+(function(e){return Math.abs((1e4*e+e+42)*(1e4*e-e-42)).toString(36).slice(0,8)})(i),r))}),{})}t.useHashed=function(e){return r.useState((function(){return o(e)}))[0]}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPromoRenderer=t.PromoRenderer=void 0;const a=n(2027);Object.defineProperty(t,"PromoRenderer",{enumerable:!0,get:function(){return a.PromoRenderer}});const s=o(n(2029));i(n(698),t),i(n(681),t);const u=s.default(a.PromoRenderer,{isActive:!0});t.ServerPromoRenderer=u,t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2036),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CrossIcon=t.CrossIcon24=void 0;const i=n(2037),o=r(n(2040)),a=r(n(2041));t.CrossIcon24=i.withGenericIcon(o.default),t.CrossIcon=i.withGenericIcon(a.default)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxPopup=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(32),a=n(222);t.MessageBoxPopup=function(e){var t=e.anchor,n=e.boundary,s=e.direction,u=e.mainOffset,c=e.modifiers,l=e.motionless,f=e.onClick,d=e.onClose,p=e.scope,h=e.secondaryOffset,m=e.tailOffset,v=e.viewportOffset,g=e.visible,y=e.zIndex,b=r.__rest(e,["anchor","boundary","direction","mainOffset","modifiers","motionless","onClick","onClose","scope","secondaryOffset","tailOffset","viewportOffset","visible","zIndex"]),_=o.useComponentRegistry(a.cnMessageBox()).Popup;return i.default.createElement(_,{anchor:t,boundary:n,direction:s,mainOffset:u,modifiers:c,motionless:l,nonvisual:!0,onClick:f,onClose:d,scope:p,secondaryOffset:h,tailOffset:m,target:"anchor",view:"default",viewportOffset:v,visible:g,zIndex:y},(function(e){var t=e.tailRef;return i.default.createElement(a.MessageBox,r.__assign({},b,{tailRef:t,onClose:d}))}))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM7 3v4H3v2h4v4h2V9h4V7H9V3H7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){e.exports=function(e){var t=!1;return{promise:new Promise(function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))}),cancel:function(){t=!0}}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(132)),a=n(322),s=n(550);n(2138);var u=r(n(11)),c=function(){return u.default()("family-modal")};t.FamilyModal=function(e){return i.default.createElement(a.Modal,{className:c(),visible:e.visible,theme:"normal",onClose:e.onClose},i.default.createElement(o.default,{view:"clear",size:"s",className:c().e("close"),"aria-label":"Закрыть",onClick:e.onClose,icon:s.close4IconProvider}),i.default.createElement("div",{className:c().e("content-wrapper")},e.children))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(2139)),u=o(n(2142));n(2143);var c,l=o(n(11)),f=function(){return l.default()("family-members")};!(function(e){e.DEFAULT="default",e.FULL="full"})(c||(c={}));t.default=function(e){var t=e.members,n=e.initialVisibleMembersCount,i=void 0===n?4:n,o=a.useState(c.DEFAULT),l=o[0],d=o[1],p=a.useMemo((function(){return l===c.DEFAULT?t.slice(0,i):t}),[l,t,i]),h=a.useCallback((function(){return d(c.FULL)}),[d]),m=l===c.DEFAULT&&t.length>i,v=t.length-i;return a.default.createElement("div",{className:f()},p.map((function(e,t){return a.default.createElement("div",{key:t,className:f().e("item")},a.default.createElement(s.default,r({},e)))})),m&&a.default.createElement("div",{className:f().e("item")},a.default.createElement(s.default,{label:"ещё "+v,onClick:h,rightIcon:a.default.createElement(u.default,null)})))}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getContentSVG=function(){return o.default.createElement("path",{fill:"#FFD21F",fillRule:"evenodd",d:"M8 2.91c.303 0 .575.187.681.471l1.455 3.88 2.62-1.36a.727.727 0 0 1 1.033.85l-1.715 5.818a.727.727 0 0 1-.697.522H4.623a.727.727 0 0 1-.697-.522L2.212 6.751a.727.727 0 0 1 1.032-.85l2.62 1.36 1.455-3.88A.727.727 0 0 1 8 2.909Z",clipRule:"evenodd"})},t})(i(n(12)).default);t.default=a}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(538);var r=n(34),i=Object(r.cn)("Calendar"),o=n(2),a=n(0),s=n.n(a),u=n(66),c=n(235),l=n(50),f=n(63),d=n(41),p=n(209);function h(e,t){var n,r,i,o,a,s,u,h;Object(d.a)(1,arguments);var m=Object(p.a)(),v=Object(f.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:m.firstWeekContainsDate)&&void 0!==r?r:null===(u=m.locale)||void 0===u?void 0:null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1),g=(function(e,t){var n,r,i,o,a,s,u,h;Object(d.a)(1,arguments);var m=Object(l.a)(e),v=m.getFullYear(),g=Object(p.a)(),y=Object(f.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:g.firstWeekContainsDate)&&void 0!==r?r:null===(u=g.locale)||void 0===u?void 0:null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setFullYear(v+1,0,y),b.setHours(0,0,0,0);var _=Object(c.a)(b,t),O=new Date(0);O.setFullYear(v,0,y),O.setHours(0,0,0,0);var w=Object(c.a)(O,t);return m.getTime()>=_.getTime()?v+1:m.getTime()>=w.getTime()?v:v-1})(e,t),y=new Date(0);return y.setFullYear(g,0,v),y.setHours(0,0,0,0),Object(c.a)(y,t)}var m=6048e5;var v=n(561),g=(n(1290),function(e){var t=e.innerRef,n=(e.state,e.className),r=e.children,a=(e.value,e.viewDate,e.today),u=e.weekend,c=e.outside,l=e.focused,f=e.disabled,d=e.hidden,p=e.selected,h=e.rangeSelected,m=e.rangePreview,v=e.rangePreviewStart,g=e.rangePreviewEnd,y=e.selectionStart,b=e.selectionEnd,_=Object(o.__rest)(e,["innerRef","state","className","children","value","viewDate","today","weekend","outside","focused","disabled","hidden","selected","rangeSelected","rangePreview","rangePreviewStart","rangePreviewEnd","selectionStart","selectionEnd"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("DateButton",{today:a,weekend:u,outside:c,focused:l,disabled:f,hidden:d,selected:p,rangeSelected:h,rangePreview:m,rangePreviewStart:v,rangePreviewEnd:g,selectionStart:y,selectionEnd:b},[n])},_),r)}),y=(n(1289),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("GridCell",null,[n])},a),r)}))),b={day:{day:"numeric"},month:{month:"short"},year:{year:"numeric"}},_=function(e){var t=e.showOutsideDays,n=e.state,r=e.value,i=e.viewDate,c=e.renderCell,l=n.activeView,f=Object(a.useRef)(null),d=Object(u.useDateFormatter)(b[l]),p=Object(v.c)(g,c),h=Object(u.useCalendarCell)(e,n,f),m=h.cellState,_=h.cellProps,O=h.buttonProps,w=m.isFocused,E=m.isSelected,S=m.isToday,x=m.isWeekend,C=m.isSameView,T=m.isDisabled,k=m.isRangeSelected,j=m.isRangePreview,P=m.isSelectionStart,R=m.isSelectionEnd,A=m.isRangePreviewStart,I=m.isRangePreviewEnd,D=d.format(r);return s.a.createElement(y,Object(o.__assign)({className:"Calendar-DateCell"},_),s.a.createElement(p,Object(o.__assign)({innerRef:f},O,{state:n,value:r,viewDate:i,today:S&&"day"===n.activeView,weekend:x,outside:!C,focused:n.isCalendarFocused&&w,disabled:T,hidden:!t&&!C,selected:E,rangeSelected:k,rangePreview:j,rangePreviewStart:A,rangePreviewEnd:I,selectionStart:P,selectionEnd:R}),s.a.createElement("span",{className:"Calendar-Date"},D)))},O=n(2234),w=(n(1286),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("Grid",null,[n])},a),r)}))),E=(n(1287),Object(a.forwardRef)((function(e,t){var n=e.type,r=e.className,a=e.children,u=Object(o.__rest)(e,["type","className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridSection",{type:n},[r])},u),a)}))),S=(n(1288),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridRow",null,[n])},a),r)}))),x={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"},C=function(e){var t=e.showWeekNumbers,n=e.daysOfWeek,r=Object(u.useDateFormatter)({weekday:"short"}),o=Object(u.useDateFormatter)({weekday:"long"});return s.a.createElement(w,{className:i("DaysOfWeek")},t&&s.a.createElement(E,{type:"aside"},s.a.createElement(S,null,s.a.createElement(y,null))),s.a.createElement(E,{type:"body"},s.a.createElement(S,null,n.map((function(e,t){return s.a.createElement(y,{key:t},s.a.createElement("span",{style:x},o.format(e)),s.a.createElement("span",{className:i("DayOfWeek",{weekend:Object(O.a)(e)}),"aria-hidden":!0},r.format(e)))})))))},T=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.407 13.058a1.495 1.495 0 0 1 0-2.116L8.04 5.3c.39-.39 1.03-.39 1.42 0 .39.39.39 1.02 0 1.41L6.744 9.427a9.992 9.992 0 0 1-1.768 1.406l-.342.214.208.207A10 10 0 0 1 7.082 11h13.92a1 1 0 1 1 0 2H7.083a10 10 0 0 1-2.24-.254l-.208.207.342.214c.641.4 1.233.872 1.768 1.406L9.46 17.29c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42 0l-5.633-5.642z",fill:"currentColor"}))})),k=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.596 13.058a1.495 1.495 0 0 0 0-2.116A39833.83 39833.83 0 0 0 15.963 5.3c-.39-.39-1.03-.39-1.42 0a.996.996 0 0 0 0 1.41l2.716 2.717a9.994 9.994 0 0 0 1.768 1.406l.342.214-.208.207a10 10 0 0 0-2.24-.254H3a1 1 0 1 0 0 2h13.922a10 10 0 0 0 2.24-.254l.207.207-.342.214c-.641.4-1.233.872-1.768 1.406l-2.716 2.717a.996.996 0 0 0 0 1.41c.39.39 1.03.39 1.42 0l5.633-5.642z",fill:"currentColor"}))})),j=(n(1285),function(e){var t,n=e.state,r=e.viewRange,o=e.prevHidden,c=e.nextHidden,l=n.activeView,f=n.baseDate,d=n.moveView,p=n.setView,h=n.moveDate,m=n.canNavigateTo,v=n.navigateTo,g=(function(e){return e[0].toUpperCase()+e.slice(1)})(Object(u.useDateFormatter)({month:"long"}).format(r.start)),y=r.start.getFullYear(),b=r.end.getFullYear(),_=h(f,u.CalendarNavigationAction.PrevView),O=h(f,u.CalendarNavigationAction.NextView),w=!m(_),E=!m(O),S=Object(a.useCallback)((function(){w||v(_)}),[_,v,w]),x=Object(a.useCallback)((function(){E||v(O)}),[O,v,E]),C=d(l,1),j=C===l,P=Object(a.useCallback)((function(){p(C)}),[C,p]);t="day"===l?g+" "+y:"month"===l?y:y+" – "+b;var R=n.views.length>1?1:0;return s.a.createElement("div",{className:i("Navigation")},s.a.createElement("button",{className:i("NavigationAction",{disabled:w,hidden:o}),tabIndex:R,onClick:S,disabled:w},s.a.createElement(T,null)),s.a.createElement("div",{className:i("NavigationTitle")},s.a.createElement("button",{className:i("NavigationTitleButton",{disabled:j}),tabIndex:R,onClick:P,disabled:j},t)),s.a.createElement("button",{className:i("NavigationAction",{disabled:E,hidden:c}),tabIndex:R,onClick:x,disabled:E},s.a.createElement(k,null)))});n(1284);var P=function(e){var t=e.showDaysOfWeek,n=void 0===t||t,r=e.showOutsideDays,f=e.showWeekNumbers,p=e.showQuarters,v=e.viewDate,g=e.viewRange,b=e.data,O=e.state,x=e.index,T=e.viewsCount,k=void 0===T?1:T,P=e.renderCell,A=O.activeView,I=Object(u.useCalendar)(e,O).gridProps,D=Object(u.useFirstDayOfWeek)(),M=void 0!==e.firstDayOfWeek?e.firstDayOfWeek:D,N=Object(a.useMemo)((function(){return (function(e,t,n){if("month"===e)return R;if("day"===e)return t.map((function(e){return (function(e,t){Object(d.a)(1,arguments);var n=Object(l.a)(e),r=Object(c.a)(n,t).getTime()-h(n,t).getTime();return Math.round(r/m)+1})(e[0],{weekStartsOn:n})}));return[]})(A,b,M)}),[A,b,M]),L="day"===A&&f||"month"===A&&p;return s.a.createElement("div",{className:i("View",{type:A})},s.a.createElement("div",{className:i("Header")},s.a.createElement(j,{state:O,viewRange:g,prevHidden:x>0,nextHidden:x<k-1}),n&&"day"===A&&s.a.createElement(C,{showWeekNumbers:f,daysOfWeek:b[0]})),s.a.createElement("div",{className:i("Body")},s.a.createElement(w,Object(o.__assign)({},I),L&&s.a.createElement(E,{type:"aside"},N.map((function(e,t){return s.a.createElement(S,{key:t},s.a.createElement(y,null,e))}))),s.a.createElement(E,{type:"body"},b.map((function(e,t){return s.a.createElement(S,{key:t,role:"row"},e.map((function(e,n){return s.a.createElement(_,{key:t+"-"+n,state:O,value:e,viewDate:v,showOutsideDays:r,renderCell:P})})))}))))))};var R=["Q1","Q2","Q3","Q4"];n(1283);var A=function(e){var t=e.state,n=e.className,r=Object(o.__rest)(e,["state","className"]),a=t.views;return s.a.createElement("div",{className:i(null,[n])},a.map((function(e,n){return s.a.createElement(P,Object(o.__assign)({key:n},e,r,{index:n,state:t}))})))},I=function(e){var t=Object(u.useSingleCalendarState)(e);return s.a.createElement(A,Object(o.__assign)({},e,{state:t}))},D=function(e){var t=Object(u.useMultipleCalendarState)(e);return s.a.createElement(A,Object(o.__assign)({},e,{state:t}))},M=function(e){var t=Object(u.useRangeCalendarState)(e);return s.a.createElement(A,Object(o.__assign)({},e,{state:t}))},N=n(5),L=(n(1291),Object(N.createClassNameModifier)("Calendar",{size:"s"})),F=(n(1292),Object(N.createClassNameModifier)("Calendar",{size:"m"})),B=(n(1293),Object(N.createClassNameModifier)("Calendar",{size:"l"})),U=(n(1294),Object(N.createClassNameModifier)("Calendar",{view:"default"})),z=(n(1295),Object(N.createClassNameModifier)("Calendar",{view:"brand"}));n.d(t,"cnCalendar",(function(){return i})),n.d(t,"Calendar",(function(){return I})),n.d(t,"MultipleCalendar",(function(){return D})),n.d(t,"RangeCalendar",(function(){return M})),n.d(t,"withSizeS",(function(){return L})),n.d(t,"withSizeM",(function(){return F})),n.d(t,"withSizeL",(function(){return B})),n.d(t,"withViewDefault",(function(){return U})),n.d(t,"withViewBrand",(function(){return z}))}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(19),y=n(42),b=n(29),_=n.n(b),O=n(18),w=n(26),E=n(206),S=n(279),x=n(12);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var T=(function(e){l()(n,e);var t=C(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",d:"M7.094 18.32A8 8 0 0 0 18.32 7.094L7.094 18.32zM5.68 16.906L16.906 5.68A8 8 0 0 0 5.68 16.906zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"})}}]),n})(x.default),k=Object(x.iconProvider)(T),j=n(71),P=n(148),R=n(14);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var I=(function(e){l()(n,e);var t=A(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onHideButtonClick=r._onHideButtonClick.bind(u()(r)),r._onButtonClick=r._onButtonClick.bind(u()(r)),r}return a()(n,[{key:"_onButtonClick",value:function(e){var t=this.props,n=t.opened,r=t.openUploader,i=t.onCancelAllUploads;"cancel_all_uploads"===e&&(n||(R.default.count("actions","uploading","cancel all uploads"),r()),i())}},{key:"_onHideButtonClick",value:function(){R.default.count("actions","uploading","close uploader"),this.props.hideUploader()}},{key:"render",value:function(){var e=this.props,t=e.uploadingStatus,n=e.opened,r=e.isMobile,i=e.isIosSafari,o=e.hasCancelableUploads,a=[];return a.push(v.a.createElement("div",{key:"state-label",className:z().e("opened-state-label")},n?"Свернуть":"Развернуть")),t===O.UPLOAD_STATUSES.DONE?a.push(v.a.createElement(w.Button,{key:"hide",view:"clear-inverse",size:"m","aria-label":"Закрыть",onClick:this._onHideButtonClick,className:z().e("close-button"),icon:E.close3IconProvider})):a.push(v.a.createElement(S.a,{key:"groupable-buttons-uploader",view:"clear-inverse",buttons:[{id:"cancel_all_uploads",text:"Отменить загрузки",icon:k,hidden:!0,disabled:!o}],isIosSafari:i,isMobile:r,useMobilePane:r,moreButtonsText:"Ещё",moreButtonsPopupDirections:[n?"bottom-end":"top-end"],moreButtonsHoverTooltipText:[n?"bottom":"top"],onButtonClick:this._onButtonClick,popupScope:this.props.popupScope})),v.a.createElement("div",{className:z().e("controls")},a)}}]),n})(m.Component),D={hideUploader:j.h,openUploader:j.j},M=Object(g.connect)((function(e){var t=e.environment.agent,n=t.isMobile,r=t.OSFamily,i=t.BrowserBase,o=e.uploader;return{opened:o.opened,uploadingStatus:o.uploadingStatus,hasCancelableUploads:Object(P.c)(e),isMobile:n,isIosSafari:"iOS"===r&&"Safari"===i}}),D)(I),N=n(11),L=n.n(N);n(1858);function F(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var B,U,z=function(){return L()()("uploader-progress")},V=(function(e){l()(n,e);var t=F(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onProgressClick=r._onProgressClick.bind(u()(r)),r._uploadProgressIsIncreasing=!0,r}return a()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._uploadProgressIsIncreasing=e.uploadingPercentage>this.props.uploadingPercentage}},{key:"_formatPercentage",value:function(e){var t=e.toFixed(1);return 100!==e&&0!==e||(t=String(e)),t.replace(".",",")}},{key:"_getUploadingPrimaryInfo",value:function(){var e,t=this.props,n=t.uploadingStatus,r=t.uploadingPercentage,i=t.focusElementRef;switch(n){case O.UPLOAD_STATUSES.ERROR:e="Загрузка остановлена";break;case O.UPLOAD_STATUSES.UPLOADING:e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%";break;case O.UPLOAD_STATUSES.DONE:e="Все файлы загружены"}return v.a.createElement(v.a.Fragment,null,v.a.createElement("h3",_()({className:z().e("a11y-title")},n===O.UPLOAD_STATUSES.UPLOADING?{role:"status","aria-live":"off"}:{role:"alert","aria-live":"assertive"},{tabIndex:0,"aria-label":e,ref:i}),e),v.a.createElement("h3",{className:z().e("progress-primary")},e))}},{key:"_getUploadingSecondaryInfo",value:function(){var e,t=this.props,n=t.uploadingTimeRemaining,r=t.uploadingPercentage,i=t.uploadingStatus;return i===O.UPLOAD_STATUSES.ERROR?e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%":i===O.UPLOAD_STATUSES.UPLOADING&&n&&(e="Осталось "+yr.externals.entityify(n)),e?v.a.createElement("span",{className:z().e("progress-secondary")},e):null}},{key:"_onProgressClick",value:function(e){var t=e.target;t.closest(".Button2")||t.closest(".Popup2")||t.closest(".modal")||(this.props.opened?(R.default.count("actions","uploading","hide upload dialog"),this.props.closeUploader()):(R.default.count("actions","uploading","reopen upload dialog"),this.props.openUploader()))}},{key:"render",value:function(){var e=this.props,t=e.uploadingPercentage,n=e.uploadingStatus;return v.a.createElement("div",{className:z(),onClick:this._onProgressClick},v.a.createElement("div",{className:z().e("progress-bar").m({error:n===O.UPLOAD_STATUSES.ERROR,"with-animation":this._uploadProgressIsIncreasing}),style:{width:t+"%"}}),v.a.createElement("div",{className:z().e("progress-info")},this._getUploadingPrimaryInfo(),this._getUploadingSecondaryInfo()),v.a.createElement(M,{onCancelAllUploads:this.props.onCancelAllUploads,popupScope:this.props.popupScope}))}}]),n})(m.Component),H={openUploader:j.j,closeUploader:j.c},W=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=Object(P.a)(e);return{uploadingTimeRemaining:i.uploadingTimeRemaining,uploadingPercentage:i.uploadingPercentage,uploadingStatus:r,opened:n}}),H)(V),G=n(262),$=n(129),q=n(10),Y=n.n(q),K=n(173),J=function(){return L()()("upload-item-state")},X=Object(g.connect)((function(e,t){var n=t.resourceId,r=e.uploader.uploadingStatesByIds[n];return{total:r.total,loaded:r.loaded}}))((function(e){var t=e.loaded,n=e.total,r=n?t/n*100:0;return v.a.createElement("div",{className:J().m({uploading:!0})},v.a.createElement("div",{className:J().e("progress-bar"),style:{width:"".concat(r,"%")}}))}));n(1866);function Z(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Q=function(){return L()()("upload-item-state")},ee=(B={},Y()(B,O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,"Недостаточно места"),Y()(B,O.UPLOAD_ERRORS.OWNER_INSUFFICIENT_STORAGE,"В общей папке нет места"),Y()(B,O.UPLOAD_ERRORS.UNKNOWN,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.LOCKED,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.FOLDER_NOT_CREATED,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.SUBRESOURCE,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.FILE_TOO_BIG,"Нельзя загрузить файл больше 50 ГБ\n на Яндекс Диск"),Y()(B,O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,"Загружено не всё"),B),te=(U={},Y()(U,O.UPLOAD_STATUSES.ENQUEUED,(function(){return v.a.createElement("span",{className:Q().m({enqueued:!0})},"В очереди")})),Y()(U,O.UPLOAD_STATUSES.UPLOADING,(function(e){var t=e.resourceId;return v.a.createElement(X,{resourceId:t})})),Y()(U,O.UPLOAD_STATUSES.ERROR,(function(e){var t=e.error,n=e.limitUploadSize,r=e.isInsideVirtualDisk;return v.a.createElement("span",{className:Q().m({error:!0})},t===O.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT?r?"Нельзя загрузить файл больше "+yr.externals.entityify(n)+" \n без Яндекс 360 для бизнеса":"Нельзя загрузить файл больше "+yr.externals.entityify(n)+"\n без Яндекс 360 Премиум":ee[t])})),Y()(U,O.UPLOAD_STATUSES.CONFLICT,(function(){return v.a.createElement("span",{className:Q().m({error:!0})},"Уже есть в папке")})),U),ne=(function(e){l()(n,e);var t=Z(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._cancelUpload=r._cancelUpload.bind(u()(r)),r._onRetryButtonClick=r._onRetryButtonClick.bind(u()(r)),r}return a()(n,[{key:"_cancelUpload",value:function(){R.default.count("actions","uploading","cancel upload",this.props.resourceType),this.props.cancelUpload(this.props.resourceId)}},{key:"_onRetryButtonClick",value:function(){R.default.count("actions","uploading","retry upload",this.props.resourceType),this.props.retryUploadOnError(this.props.resourceId)}},{key:"_maybeRenderHoverButton",value:function(){var e=this.props,t=e.error,n=e.helpLink,r=Q().e("hover-button");return t===O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE?v.a.createElement(w.Button,{view:"raised",size:"s",className:r,type:"link",target:"_blank",url:n},"Подробнее"):Object(O.canRetryUpload)(t)?v.a.createElement(w.Button,{view:"raised",size:"s",className:r,onClick:this._onRetryButtonClick},"Повторить"):null}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.renderKey,r=e.resourceId,i=e.error,o=e.limitUploadSize,a=e.isInsideVirtualDisk;return te[n]?v.a.createElement("div",{className:Q().e("wrapper")},te[n]({resourceId:r,error:i,limitUploadSize:o,isInsideVirtualDisk:a}),n!==O.UPLOAD_STATUSES.ERROR?null:this._maybeRenderHoverButton(),v.a.createElement(w.Button,{view:"clear",className:Q().e("cancel-upload-button").m({hidden:!Object(O.canCancelUpload)(t)}),"aria-label":"Закрыть",onClick:this._cancelUpload,icon:function(e){return v.a.createElement(K.default,{iconSize:"m",cls:e})}})):null}}]),n})(m.PureComponent),re=n(261),ie=n(107),oe=n.n(ie),ae=n(163),se=n(15),ue=n(36),ce=n(48),le=n(20),fe=n(25),de=n(35);function pe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var he=function(){return L()()("upload-listing-item")},me=(function(e){l()(n,e);var t=pe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onContextMenu=r._onContextMenu.bind(u()(r)),r._onPublish=r._onPublish.bind(u()(r)),r._setTitleNodeRef=r._setTitleNodeRef.bind(u()(r)),r.state={titleWidth:r.props.titleWidth},r}return a()(n,[{key:"_setTitleNodeRef",value:function(e){this._titleNode=e,this.props.titleNodeRef&&this.props.titleNodeRef(e)}},{key:"componentDidUpdate",value:function(e){this.props.status===e.status&&this.props.titleWidth===e.titleWidth||this._updateTitleWidth()}},{key:"_updateTitleWidth",value:function(){if(this._titleNode){var e=this._titleNode.getBoundingClientRect().width;e!==this.state.titleWidth&&this.setState({titleWidth:e})}}},{key:"_onPublish",value:function(){R.default.count("actions","with resources","public links","publish","upload dialog",this.props.type)}},{key:"_getSizeText",value:function(){var e=this.props,t=e.resourceSize,n=e.type,r=e.files,i=e.total,o=e.status;return"dir"===n?[O.UPLOAD_STATUSES.ENQUEUED,O.UPLOAD_STATUSES.CREATING_FOLDER].includes(o)?"Размер считается":__i18n__.i18n.convert(["1 файл",yr.externals.entityify(r)+" файл",yr.externals.entityify(r)+" файла",yr.externals.entityify(r)+" файлов"],yr.externals.entityify(r))+" • "+oe.a.formatSpace(i):oe.a.formatSpace(t)}},{key:"_getUploadingItemState",value:function(){var e=this.props,t=e.id,n=e.status,r=e.error,i=e.limitUploadSize,o=e.type,a=e.helpLink,s=e.cancelUpload,u=e.retryUploadOnError,c=e.isInsideVirtualDisk,l=Object(O.isUploadInProgress)(n)?O.UPLOAD_STATUSES.UPLOADING:n;return v.a.createElement(ne,{renderKey:l,resourceId:t,status:n,error:r,limitUploadSize:oe.a.formatSpace(i),helpLink:a,cancelUpload:s,retryUploadOnError:u,resourceType:o,isInsideVirtualDisk:c})}},{key:"_getPublishDropdown",value:function(){var e=this.props.id;return v.a.createElement(re.a,{buttonProps:{className:he().e("publish-button-with-text"),view:"raised",size:"s"},onlyIconButtonProps:{className:"hidden",view:"raised",size:"s"},metrikaContext:["uploading"],onPublish:this._onPublish,noIcon:!0,objectIds:[e],checkButton:!1})}},{key:"_getAdditionalFields",value:function(){var e=this.props,t=e.status,n=e.canPublish,r=Object(O.isUploadInProgress)(t)?O.UPLOAD_STATUSES.UPLOADING:t,i=[],o=t===O.UPLOAD_STATUSES.DONE&&n;return i.push({type:"size",content:this._getSizeText()}),o?i.push({type:"publish-button",position:$.POSITIONS.ALWAYS_RIGHT,content:this._getPublishDropdown()}):te[r]&&i.push({type:"state",position:$.POSITIONS.ALWAYS_RIGHT,content:this._getUploadingItemState()}),i}},{key:"_onOpen",value:function(){var e=this.props,t=e.status,n=e.disabled,r=e.part,i=e.highlightedIds,o=e.type,a=e.isDocsPage;t!==O.UPLOAD_STATUSES.DONE||i.length||r||n||(R.default.count("actions","uploading","go to",o),a&&R.default.countDocs("open doc","from uploader"),this.props.closeUploader(),this.props.isDocsPage?this.props.openOrEditResource(this.props.id):this.props.goToResource(this.props.id))}},{key:"_onContextMenu",value:function(e,t){if(t.target.closest(".".concat(de.PREVENT_CUSTOM_CONTEXT_MENU_CLASS,", .Popup2, .Modal")))return{noPreventDefault:!0};this.props.status===O.UPLOAD_STATUSES.DONE&&this.props.onContextMenu(e,t)}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.error,r={cls:he().m({uploaded:t===O.UPLOAD_STATUSES.DONE,uploading:Object(O.isUploadInProgress)(t),error:t===O.UPLOAD_STATUSES.ERROR,"has-hover-button":(function(e){var t=e.error;return e.status===O.UPLOAD_STATUSES.ERROR&&(Object(O.canRetryUpload)(t)||t===O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE)})({status:t,error:n})}),onOpen:this._onOpen,additionalFields:this._getAdditionalFields(),titleNodeRef:this._setTitleNodeRef,titleWidth:this.state.titleWidth};return r.onContextMenu=this._onContextMenu,v.a.createElement($.default,_()({},this.props,r))}}]),n})(m.Component),ve={cancelUpload:j.b,retryUploadOnError:ae.j,closeUploader:j.c,goToResource:se.goToResource,openOrEditResource:se.openOrEditResource},ge=Object(g.connect)((function(e,t){var n=t.id,r=e.resources,i=e.uploader,o=i.highlighted,a=i.uploadingStatesByIds,s=e.config.links.help.uploader,u=r[n],c=u.name,l=u.type,f=u.meta,d=u.defaultPreview,p=u.iconType,h=u.canPlayVideo,m=u.state,v=(m=void 0===m?{}:m).part,g=m.disabled,y=a[n],b=y.status,_=y.files,w=y.total,E=y.error;return{name:c,meta:f,defaultPreview:b===O.UPLOAD_STATUSES.DONE?d:void 0,iconType:p,canPlayVideo:h,state:u.state,type:l,resourceSize:f&&f.size,limitUploadSize:Object(ce.getLimitUploadSize)(e),status:b,files:_,total:w,error:E,part:v,disabled:g,highlightedIds:o,helpLink:s,isDocsPage:Object(ue.isDocsPage)(e),canPublish:Object(le.can)(le.PUBLISH,u,e),isInsideVirtualDisk:Object(fe.isPathInsideVirtualDiskFiles)(n)}}),ve)(me);n(1867);function ye(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var be,_e=function(){return L()()("upload-listing")},Oe=(function(e){l()(n,e);var t=ye(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onResourceContextMenu=r._onResourceContextMenu.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){e.resources&&this.props.resources&&this.props.onCountUpdate&&e.resources.length!==this.props.resources.length&&this.props.onCountUpdate()}},{key:"_onResourceContextMenu",value:function(e,t){this.props.onContextMenu([e],t,[e])}},{key:"_renderItem",value:function(e){return v.a.createElement(ge,_()({key:e.id},e))}},{key:"render",value:function(){var e=this.props,t=e.OSFamily,n=e.resources,r=e.highlighted,i=e.onContextMenu;return v.a.createElement(G.Listing,{cls:_e().mix(y.LISTING_PREVENT_DOUBLE_CLICK),isTouch:!1,OSFamily:t,titleOverflow:"clamp",isSelectable:!1,isMultiSelectable:!1,useRealDevicePixelRatio:!0,resources:n,onContextMenu:i,onResourceContextMenu:this._onResourceContextMenu,highlightedResources:r,openOnSingleClick:!0,ignoreClicksSelector:".Button2, .Popup2, .Modal, .Drawer",supportDoubleClick:!1,renderItem:this._renderItem})}}]),n})(m.Component);be=(0,n(569).default)(Oe,{closeOnScrollElementSelector:".".concat(_e().toString()),closeOnWindowResize:!0,closeOnWindowScroll:!0,direction:["top-start","top-end"]});var we=[],Ee=function(){},Se={setHighlighted:j.k},xe=Object(g.connect)((function(e){var t=e.uploader.highlighted;return{OSFamily:e.environment.agent.OSFamily,highlighted:t,resources:Object(P.b)(e),selected:we,setSelection:Ee,metrikaTail:["uploader"]}}),Se)(be),Ce=n(315);n(1869);function Te(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var ke=function(){return L()()("upload-confirmation")},je=(function(e){l()(n,e);var t=Te(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getContent",value:function(){return v.a.createElement("div",{className:ke()},v.a.createElement("span",{className:ke().e("title")},"Отменить все текущие загрузки?"),v.a.createElement("span",{className:ke().e("text")},"Уже загруженные файлы останутся на Диске."),v.a.createElement("div",{className:ke().e("button-group")},v.a.createElement(w.Button,{view:"raised",size:"m",onClick:this.props.onConfirm},"Отменить"),v.a.createElement(w.Button,{view:"raised",size:"m",onClick:this.props.onCancel},"Не отменять")))}},{key:"render",value:function(){return this.props.isVisible?this._getContent():null}}]),n})(m.Component),Pe=function(e){var t=v.a.useRef(null);return Object(Ce.useFocusTrap)({enabled:e.isVisible,scopeRef:t,autoFocus:!0,restoreFocus:!0}),v.a.createElement("div",{ref:t},v.a.createElement(je,e))},Re=n(232);n(1870);function Ae(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Ie=n(130).I18N,De=function(){return L()()("upload-notification")},Me=(function(e){l()(n,e);var t=Ae(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getButtons",value:function(){return this.props.actions.map((function(e){var t=e.title,n=e.action,r=e.link,i=e.onAction,o={className:De().e("button").m({action:n}),onClick:i};return r&&Object.assign(o,{url:r,type:"link",target:"blank"}),v.a.createElement(w.Button,_()({key:n,view:"raised",size:"s"},o),t)}))}},{key:"_getText",value:function(){var e;switch(this.props.reason){case O.UPLOAD_ERRORS.CONFLICT:e=yr.externals.entityify(Ie.$1)+" уже есть в этой папке. Заменить его загружаемым файлом?";break;case O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:e="Недостаточно места на Яндекс.Диске для загрузки "+yr.externals.entityify(Ie.$1);break;default:return null}return v.a.createElement(Ie,{loc:e},v.a.createElement(Re.default,{cls:De().e("resource-name"),text:this.props.resourceName,font:'bold 13px "YS Text"',width:this.props.containerWidth-100}))}},{key:"render",value:function(){var e=this.props,t=e.renderContent,n=e.icon,r=e.closeAction;return t?t():v.a.createElement("div",{className:De().m({closable:!!r})},r?v.a.createElement(w.Button,{className:De().e("close-button"),view:"clear","aria-label":"Закрыть",onClick:r,icon:E.close3IconProvider}):null,v.a.createElement("div",{className:De().e("left-column")},n),v.a.createElement("div",{className:De().e("right-column")},v.a.createElement("div",{className:De().e("text")},this._getText()),v.a.createElement("div",{className:De().e("button-group")},this._getButtons())))}}]),n})(m.Component),Ne=n(281),Le=n(60),Fe=n.n(Le),Be=n(43);function Ue(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var ze=(function(e){l()(n,e);var t=Ue(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onBuy=r._onBuy.bind(u()(r)),r._setContainerRef=r._setContainerRef.bind(u()(r)),r._updateContainerWidth=r._updateContainerWidth.bind(u()(r)),r._onCancelUpload=r._onCancelUpload.bind(u()(r)),r._onForceUpload=r._onForceUpload.bind(u()(r)),r._onCloseInsufficientStorageNotification=r._onCloseInsufficientStorageNotification.bind(u()(r)),r.state={containerWidth:0},r}return a()(n,[{key:"componentDidMount",value:function(){this._updateContainerWidth(),window.addEventListener("resize",this._updateContainerWidth),this.props.onMount()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateContainerWidth)}},{key:"_updateContainerWidth",value:function(){this._containerRef&&this.setState({containerWidth:this._containerRef.getBoundingClientRect().width})}},{key:"_getNotification",value:function(){var e=this.props.notifications;return e.length&&e[e.length-1]}},{key:"_renderNotification",value:function(){var e=this._getNotification();if(!e)return null;var t=e.id,n=e.type,r=e.data,i=(r=void 0===r?{}:r).resourceId,o=r.reason;switch(n){case O.UPLOAD_NOTIFICATION_TYPES.SERVICE:var a=this.props.resourcesByIds[i];return a?v.a.createElement(Me,{key:t,actions:this._getServiceNotificationActions(t,o),resourceName:a.name,reason:o,icon:v.a.createElement(Ne.a,{resource:a,size:"m"}),containerWidth:this.state.containerWidth,closeAction:this._getServiceNotificationCloseAction(o)}):null;default:return null}}},{key:"_getServiceNotificationActions",value:function(e,t){switch(t){case O.UPLOAD_ERRORS.CONFLICT:return[{action:"replace",onAction:this._onForceUpload,title:"Заменить"},{action:"do-not-upload",onAction:this._onCancelUpload,title:"Не загружать"}];case O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:return this.props.shouldShowBuyButton?[{action:"buy",link:this.props.buyButtonUrl,onAction:this._onBuy,title:"Купить место"}]:[];default:return[]}}},{key:"_getServiceNotificationCloseAction",value:function(e){if(e===O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)return this._onCloseInsufficientStorageNotification}},{key:"_onCancelUpload",value:function(){var e=this._getNotification();if(e){var t=this.props.resourcesByIds[e.id].type;R.default.count("actions","uploading","cancel upload",t),this.props.cancelUpload(e.id)}}},{key:"_onCloseInsufficientStorageNotification",value:function(){this.props.hideUploadNotificationByReason(O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)}},{key:"_onForceUpload",value:function(){R.default.count("actions","uploading","change file");var e=this._getNotification();e&&this.props.forceUpload(e.id)}},{key:"_setContainerRef",value:function(e){this._containerRef=e}},{key:"_onBuy",value:function(){R.default.count("interface elements","upload dialog","buy space")}},{key:"render",value:function(){return v.a.createElement("div",{className:L()()("uploader-notifications"),ref:this._setContainerRef},this._renderNotification())}}]),n})(m.Component),Ve={cancelUpload:j.b,hideUploadNotificationByReason:j.g,forceUpload:j.e},He=Object(g.connect)((function(e){return{notifications:e.uploader.notifications,resourcesByIds:e.resources,buyButtonUrl:Fe.a.addParams(Object(Be.getBuyButtonUrl)(e),{from:"disk_loader"}),shouldShowBuyButton:Object(Be.shouldShowBuyButton)(e)}}),Ve)(ze);n(1871);function We(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}n.d(t,"a",(function(){return Ge}));var Ge="uploader",$e=(function(e){l()(n,e);var t=We(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={dialogVisible:!1},r._onCancelAllUploads=r._onCancelAllUploads.bind(u()(r)),r._onCancelAllUploadsCancel=r._onCancelAllUploadsCancel.bind(u()(r)),r._onCancelAllUploadsConfirm=r._onCancelAllUploadsConfirm.bind(u()(r)),r._onBeforeUnload=r._onBeforeUnload.bind(u()(r)),r._setFocused=r._setFocused.bind(u()(r)),r._containerRef=v.a.createRef(),r._asideFocusElementRef=v.a.createRef(),r}return a()(n,[{key:"_setFocused",value:function(){this._asideFocusElementRef.current&&this._asideFocusElementRef.current.focus()}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this._onBeforeUnload),this._setFocused()}},{key:"componentDidUpdate",value:function(e){0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this._onBeforeUnload)}},{key:"_onBeforeUnload",value:function(e){this.props.uploadingStatus===O.UPLOAD_STATUSES.UPLOADING&&(e.preventDefault(),e.returnValue="")}},{key:"_setDialogVisible",value:function(e){this.setState({dialogVisible:e})}},{key:"_onCancelAllUploads",value:function(){R.default.count("actions","uploading","cancel all uploads"),this._setDialogVisible(!0)}},{key:"_onCancelAllUploadsConfirm",value:function(){R.default.count("actions","uploading","cancel all uploads","confirm"),this._setDialogVisible(!1),this.props.cancelAllUploads()}},{key:"_onCancelAllUploadsCancel",value:function(){R.default.count("actions","uploading","cancel all uploads","cancel"),this._setDialogVisible(!1)}},{key:"render",value:function(){var e=this.props.opened;return v.a.createElement("div",{className:L()()(Ge).m({opened:e}).mix(y.LISTING_PREVENT_DESELECT_CLASS),ref:this._containerRef},v.a.createElement(W,{onCancelAllUploads:this._onCancelAllUploads,popupScope:this._containerRef,focusElementRef:this._asideFocusElementRef}),v.a.createElement(He,{key:"uploader-notifications",onMount:this._setFocused}),v.a.createElement(xe,{key:"uploader-listing",onCountUpdate:this._setFocused}),v.a.createElement(Pe,{isVisible:this.state.dialogVisible,isIosSafari:this.props.isIosSafari,onConfirm:this._onCancelAllUploadsConfirm,onCancel:this._onCancelAllUploadsCancel}))}}]),n})(m.Component),qe={cancelAllUploads:j.a};t.b=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=e.environment.agent,o=i.OSFamily,a=i.BrowserBase;return{opened:n,uploadingStatus:r,isIosSafari:"iOS"===o&&"Safari"===a}}),qe)($e)}),(function(e,t,n){"use strict";n.r(t);var r=n(643),i=n(32),o=n(2),a=n(0),s=n.n(a),u=n(558),c=function(){},l=n(807),f=n(85),d=n(2230),p=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},h=n(116);var m=function(e){var t=e.dragDisabled,n=e.visible,r=e.onClose,i=void 0===r?c:r,u=e.onCloseEnd,l=void 0===u?c:u,f=e.springValue,d=e.direction,p=void 0===d?"bottom":d,m=e.maxSize,v=e.titleComponent,g=e.children,y=e.setSpringDisabled,b=e.setProgress,_=e.autoFocus,O=void 0!==_&&_,w=Object(a.useRef)(null),E=Object(o.__read)(Object(a.useState)(!1),2),S=E[0],x=E[1],C="bottom"===p?"y":"x",T="left"===p?-1:1,k=Math.max(f,0),j=(function(e){var t=e.axis,n=e.springValue,r=e.inverted;return 1===n?null:"x"===t?"translate3d("+100*(1-n)*r+"%,0,0)":"translate3d(0,"+100*(1-n)*r+"%,0)"})({axis:C,springValue:f,inverted:T}),P=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;if(n&&O&&1===f){var t=(null===P||void 0===P?void 0:P.current)&&(function(e){var t,n,r,i=Array.from(e.querySelectorAll("a[href], button, input, select, textarea"));try{for(var a=Object(o.__values)(i),s=a.next();!s.done;s=a.next()){var u=s.value,c=window.getComputedStyle(u),l="true"===u.getAttribute("aria-hidden")||"none"===(null===c||void 0===c?void 0:c.display),f=null!==u.closest('[aria-hidden="true"]'),d=null!==u.closest('[style*="display: none"]'),p=f||d,h=""!==(null===(r=null===u||void 0===u?void 0:u.textContent)||void 0===r?void 0:r.trim());if(!l&&!p&&(h||"BUTTON"===(null===u||void 0===u?void 0:u.tagName)))return u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}})(P.current);t?(t.focus(),document.body.classList.remove("utilityfocus"),document.body.classList.add("pointerfocus")):null===(e=P.current)||void 0===e||e.focus()}}),[n,f]);var R=Object(a.useMemo)((function(){var e;return Object(o.__assign)(Object(o.__assign)({},j?{transform:j}:{}),m&&((e={})["x"===C?"maxWidth":"maxHeight"]=m,e))}),[j,m,C]);Object(a.useEffect)((function(){S&&0===f&&(l(),x(!1))}),[S,f,l]);var A=Object(a.useCallback)((function(){x(!0),i()}),[i]),I=(function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useCallback)((function(e){if(e.currentTarget.contains(e.target)){var i=r.current||c,o=n.current,a=Array.from(e.changedTouches).find((function(e){return e.identifier===t.current}));o||"touchstart"!==e.type||1!==e.changedTouches.length||(a=e.changedTouches[0],t.current=a.identifier,n.current=o={first:!0,last:!1,startTime:e.timeStamp,initialPosition:{x:a.clientX,y:a.clientY},data:{}}),o&&a&&(o.event=e,"touchmove"===e.type&&(o.first=!1,o.previousPosition=o.currentPosition),"touchstart"!==e.type&&"touchmove"!==e.type||(o.currentPosition={x:a.clientX,y:a.clientY},o.movement={x:o.currentPosition.x-o.initialPosition.x,y:o.currentPosition.y-o.initialPosition.y},o.delta={x:o.currentPosition.x-(o.previousPosition||o.initialPosition).x,y:o.currentPosition.y-(o.previousPosition||o.initialPosition).y},o.velocity={x:o.delta.x/(e.timeStamp-o.startTime-o.elapsedTime)||0,y:o.delta.y/(e.timeStamp-o.startTime-o.elapsedTime)||0},o.elapsedTime=e.timeStamp-o.startTime),"touchend"!==e.type&&"touchcancel"!==e.type||(o.first=!1,o.last=!0,n.current=void 0,t.current=void 0),i(o))}}),[]);return r.current=e,{dragProps:{onTouchStart:i,onTouchMove:i,onTouchEnd:i,onTouchCancel:i}}})((function(e){if(n&&w.current){var r=e.velocity,i=r.x,o=r.y,a=e.movement,s=a.x,u=a.y,c=e.first,l=e.last,f=e.data,d=e.event,p="x"===C?w.current.clientWidth:w.current.clientHeight,h=T*("x"===C?s:u),m=T*("x"===C?i:o);if(c?(f.isTargetUnderContent=w.current.contains(d.target),f.initialScrollPosition=w.current.scrollTop,f.isScrolled=0!==f.initialScrollPosition):f.isScrolled=f.isScrolled||f.initialScrollPosition-w.current.scrollTop<0,!(t||f.isTargetUnderContent&&f.isScrolled)){if(l)return y(!1),Math.abs(m)>=.1?m>0?A():b(1):h/p>=.3?A():b(1);if(h>0){y(!0);var v=Math.max(0,1-h/p);return 0===v?A():b(v)}}}})).dragProps;return s.a.createElement("div",Object(o.__assign)({className:h.cnDrawerDragObserver},I),s.a.createElement("div",{className:h.cnDrawerOverlay,style:{opacity:k},onClick:function(){return A()}}),s.a.createElement("div",{className:h.cnDrawerCurtain,style:R,ref:P,tabIndex:-1,role:"dialog","aria-modal":1===f},s.a.createElement("div",{className:h.cnDrawerHandle,style:{opacity:k}}),v&&s.a.createElement("div",{className:h.cnDrawerTitle},v),s.a.createElement("div",{className:h.cnDrawerContent,ref:w},g)))},v=(n(1231),{dragImmediate:!1,disabled:!1,tension:230,friction:24}),g=function(e){var t=Object(i.useComponentRegistry)(Object(h.cnDrawer)()).Popup,n=e.onOpenEnd,r=void 0===n?c:n,g=e.className,y=e.visible,b=e.nested,_=e.direction,O=void 0===_?"bottom":_,w=e.innerRef,E=e.preventScrollDisabled,S=e.preventScrollOnClose,x=e.animation,C=void 0===x?v:x,T=e.ariaHidden,k=e.initSpringDisabled,j=void 0!==k&&k,P=Object(o.__read)(Object(a.useState)(j?1:0),2),R=P[0],A=P[1],I=Object(o.__read)(Object(a.useState)(!1),2),D=I[0],M=I[1],N=C.dragImmediate&&D||C.disabled,L=(function(e,t,n,r){var i=Object(o.__read)(Object(a.useState)(null),2),s=i[0],u=i[1],c=Object(o.__read)(Object(a.useState)(e),2),f=c[0],d=c[1],p=Object(a.useMemo)((function(){return{onSpringUpdate:function(e){var t=e.getCurrentValue();d(t)}}}),[]),h=Object(a.useCallback)((function(){s&&(s.removeListener(p),u(null))}),[s,p]);return Object(a.useEffect)((function(){if(r)h();else if(!s){var i=(new l.SpringSystem).createSpring(t,n);i.setCurrentValue(e),u(i),d(e),i.addListener(p)}return h}),[t,n,r,s,p,h]),Object(a.useEffect)((function(){s&&s.setEndValue(e)}),[s,e]),r?e:f})(R,C.tension,C.friction,N),F=L>0;Object(a.useEffect)((function(){1===L&&r()}),[L]);var B=(function(){var e=Object(o.__read)(Object(a.useState)(Object(f.a)()?p():void 0),2),t=e[0],n=e[1],r=Object(a.useCallback)((function(){return n(p())}),[]);return Object(d.a)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[r]),t})(),U=Object(a.useMemo)((function(){return{height:B&&B+"px"}}),[B]),z=s.a.useMemo((function(){return!E&&(S?F:y)}),[E,S,F,y]);return Object(u.a)({enabled:z}),Object(a.useEffect)((function(){M(!1),A(y?1:0)}),[y,C]),s.a.createElement(t,{className:Object(h.cnDrawer)({visible:F,direction:O,nested:b},[g]),visible:F,innerRef:w,style:U,keepMounted:e.keepMounted,zIndex:e.zIndex,scope:e.scope,"aria-hidden":T},s.a.createElement(m,Object(o.__assign)({},e,{springValue:L,setProgress:A,setSpringDisabled:M})))};g.displayName=Object(h.cnDrawer)();var y=n(800),b=new i.Registry({id:Object(h.cnDrawer)()});b.set("Popup",y.a);var _=Object(i.withRegistry)(b)(g),O=n(5),w=(n(1232),Object(O.withBemMod)(Object(h.cnDrawer)(),{view:"default"}));n.d(t,"drawerRegistry",(function(){return r.DrawerRegistry})),n.d(t,"Drawer",(function(){return _})),n.d(t,"withViewDefault",(function(){return w}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(34),s=(n(1108),Object(a.cn)("Spin2")),u=function(e){var t=e.className,n=e.innerRef,i=e.progress,a=(e.view,e.position,e.size,Object(r.__rest)(e,["className","innerRef","progress","view","position","size"]));return o.a.createElement("div",Object(r.__assign)({},a,{ref:n,className:s({progress:i},[t])}))};u.displayName=s();var c=n(5),l=(n(1109),Object(c.withBemMod)(s(),{position:"center"})),f=(n(1110),Object(c.withBemMod)(s(),{size:"l"})),d=(n(1111),Object(c.withBemMod)(s(),{size:"m"})),p=(n(1112),Object(c.withBemMod)(s(),{size:"s"})),h=(n(1113),Object(c.withBemMod)(s(),{size:"xs"})),m=(n(1114),Object(c.withBemMod)(s(),{size:"xxs"})),v=(n(1115),Object(c.withBemMod)(s(),{view:"default"}));n.d(t,"cnSpin",(function(){return s})),n.d(t,"Spin",(function(){return u})),n.d(t,"withPositionCenter",(function(){return l})),n.d(t,"withSizeL",(function(){return f})),n.d(t,"withSizeM",(function(){return d})),n.d(t,"withSizeS",(function(){return p})),n.d(t,"withSizeXS",(function(){return h})),n.d(t,"withSizeXXS",(function(){return m})),n.d(t,"withViewDefault",(function(){return v}))}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(29),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(421),w=n(12);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var S=(function(e){h()(n,e);var t=E(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M15.185 4a1 1 0 01.896.555L16.798 6H21a1 1 0 011 1v12a1 1 0 01-1 1H3a1 1 0 01-1-1V7a1 1 0 011-1h4.202l.718-1.445A1 1 0 018.815 4h6.37zM12 8a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm7-2a1 1 0 100 2 1 1 0 000-2z"}))}}]),n})(w.default);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var C=(function(e){h()(n,e);var t=x(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M21.5 5a.5.5 0 01.5.5v13a.5.5 0 01-.5.5h-19a.5.5 0 01-.5-.5v-13a.5.5 0 01.5-.5h19zM10.2 9a.2.2 0 00-.2.2v5.353a.2.2 0 00.29.179l5.352-2.677a.2.2 0 000-.357L10.29 9.02A.2.2 0 0010.2 9z"}))}}]),n})(w.default);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var k=(function(e){h()(n,e);var t=T(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M14.894 2.258c.98-.982 2.216-1.665 2.937-.982l-2.937 7.858 7.831-2.947c.68.723 0 1.964-.979 2.947-.489.49-7.83 3.929-7.83 3.929l-.98 2.947.998 1c.96.964 1.45 3.42-.019 4.893 0 0-2.447 2.456-4.876.018-1.976-1.982.471-4.438.471-4.438 1.122-1.204 2.448-2.456.98-3.93-1.47-1.472-2.937 0-3.916.983 0 0-2.447 2.456-4.666.23-2.186-2.193.26-4.65.26-4.65 1.47-1.473 3.916-.982 4.895 0l.98.982 2.936-.982s3.426-7.367 3.915-7.858zm-4.65 18.908c.735.737 2.005.445 2.716-.268.71-.714.71-2.187-.024-2.924-.734-.737-1.614-.344-2.424.468-.81.812-1.002 1.988-.267 2.724zM2.904 13.8c.734.737 1.905.544 2.715-.268.81-.813 1.2-1.696.466-2.433-.734-.736-2.202-.736-2.913-.023-.711.713-1.002 1.988-.268 2.724z"}))}}]),n})(w.default);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var P=(function(e){h()(n,e);var t=j(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"7 7 37 37"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"f",x1:"3987.841%",x2:"7346.719%",y1:"18533.556%",y2:"23630.34%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"aa",x1:"50%",x2:"50%",y1:"-14.432%",y2:"95.098%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FCEE21"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"c",x1:"28.042%",x2:"108.49%",y1:"30.902%",y2:"100.819%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"d",x1:"41118.844%",x2:"44314.688%",y1:"10701.815%",y2:"13728.041%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"e",x1:"112707.119%",x2:"118377.897%",y1:"-59579.06%",y2:"-45497.442%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"b",x1:"66.83%",x2:"27.804%",y1:"10.462%",y2:"86.806%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"g",x1:"11978.923%",x2:"13803.326%",y1:"16977.028%",y2:"20041.194%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"h",x1:"49.996%",x2:"49.996%",y1:"16.231%",y2:"95.361%"},_.a.createElement("stop",{offset:"5%",stopColor:"#422214"}),_.a.createElement("stop",{offset:"100%",stopColor:"#8C1C1C"})),_.a.createElement("linearGradient",{id:"i",x1:"20.27%",x2:"79.729%",y1:"43.352%",y2:"56.646%"},_.a.createElement("stop",{offset:"0%",stopColor:"#852828"}),_.a.createElement("stop",{offset:"100%",stopColor:"#5B2F1B"})),_.a.createElement("linearGradient",{id:"j",x1:"-2.639%",x2:"102.728%",y1:"44.299%",y2:"55.416%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5B2F1B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#852828"})),_.a.createElement("linearGradient",{id:"k",x1:"49.913%",x2:"50.121%",y1:"44.178%",y2:"59.17%"},_.a.createElement("stop",{offset:"0%",stopColor:"#ED1C24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#F15A24"}))),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("path",{fill:"url(#aa)",fillRule:"nonzero",d:"M17.904 35.808c9.888 0 17.904-8.016 17.904-17.904S27.792 0 17.904 0 0 8.016 0 17.904s8.016 17.904 17.904 17.904z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M28.04 41.675c-6.171.808-7.66-8.572-3.577-6.738 1.57.71 3.414.628 5.14-.81 3.322-2.764 3.933 6.829-1.562 7.548z"}),_.a.createElement("path",{fill:"url(#b)",fillRule:"nonzero",d:"M32.316 11.59a4.427 4.427 0 00-2.65-.315 4.396 4.396 0 00-2.344 1.264 4.297 4.297 0 00-.757-2.887 4.381 4.381 0 00-2.464-1.719 4.426 4.426 0 00-3.004.263 4.356 4.356 0 00-2.12 2.12c-2.231 4.818 2.322 11.647 3.65 12.249 1.33.602 9.559-.281 11.85-5.23a4.29 4.29 0 00.122-3.315 4.354 4.354 0 00-2.283-2.43z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#c)",fillRule:"nonzero",d:"M22.73 12.28c1.153-.434 1.81-1.545 1.466-2.48-.343-.936-1.556-1.342-2.71-.907-1.153.435-1.81 1.546-1.467 2.481.343.936 1.557 1.341 2.71.907z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#d)",fillRule:"nonzero",d:"M30.336 14.518c.824-.29 1.293-1.03 1.048-1.654-.245-.623-1.112-.894-1.936-.604-.823.29-1.293 1.03-1.048 1.654.245.624 1.112.894 1.936.604z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#e)",fillRule:"nonzero",d:"M10.943 11.432a3.833 3.833 0 00-1.858 1.41 3.785 3.785 0 00-.688 2.217 3.841 3.841 0 00-2.26-1.367 3.863 3.863 0 00-2.614.41 3.815 3.815 0 00-1.724 1.993 3.778 3.778 0 00-.013 2.626c1.578 4.386 8.655 5.925 9.861 5.498 1.206-.427 5.825-5.974 4.203-10.479a3.8 3.8 0 00-.768-1.276 3.835 3.835 0 00-2.656-1.25 3.864 3.864 0 00-1.483.218z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#f)",fillRule:"nonzero",d:"M5.677 17.687c.482-1.045.213-2.213-.6-2.609-.815-.396-1.865.13-2.347 1.175s-.213 2.213.601 2.61c.814.395 1.864-.13 2.346-1.176z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#g)",fillRule:"nonzero",d:"M11.908 14.444c.403-.703.277-1.535-.281-1.86-.558-.324-1.336-.018-1.739.685-.402.702-.276 1.535.281 1.859.558.324 1.337.018 1.74-.684z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#h)",fillRule:"nonzero",d:"M21.16 25.811c-1.728 1.527-3.32 1.224-4.931.53-3.924-1.687-2.624 7.767 3.783 6.558 5.717-1.077 4.472-10.028 1.147-7.088z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#i)",d:"M9.002 6.201a.816.816 0 01-.548.999c-.736.21-1.449.741-2.028 1.48-.577.737-.982 1.63-1.134 2.487a.786.786 0 01-.913.652.81.81 0 01-.63-.945c.203-1.143.729-2.285 1.46-3.217.729-.93 1.702-1.701 2.828-2.023a.782.782 0 01.965.567z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#j)",d:"M23.666 4.166a.774.774 0 01.807-.74c2.69.129 4.664 1.732 5.658 3.874a.78.78 0 01-.372 1.034.769.769 0 01-1.026-.375c-.78-1.681-2.28-2.88-4.334-2.98a.775.775 0 01-.733-.813z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#k)",fillRule:"nonzero",d:"M22.725 31.018c-1.61 2.134-5.959 2.4-7.779-.19.257-1.6 3.017-2.389 3.985-.278 1.255-2.373 3.932-.851 3.794.468z",transform:"translate(8.162 8.096)"})))}}]),n})(w.default);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var A=(function(e){h()(n,e);var t=R(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"32",height:"32",viewBox:"0 0 52 52"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"clean-copy-9_svg__j",x1:"26.616%",x2:"56.059%",y1:"20.63%",y2:"87.254%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FDE323"}),_.a.createElement("stop",{offset:"99.308%",stopColor:"#FFB42B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__a",x1:"44.813%",x2:"58.51%",y1:"7.83%",y2:"71.607%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__d",x1:"31.293%",x2:"67.287%",y1:"9.867%",y2:"110.444%"},_.a.createElement("stop",{offset:"0%",stopColor:"#04D1FE"}),_.a.createElement("stop",{offset:"78.579%",stopColor:"#0176B1"}),_.a.createElement("stop",{offset:"100%",stopColor:"#0062A0"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__o",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__f",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__g",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__h",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__b",x1:"39.479%",x2:"29.128%",y1:"82.713%",y2:"13.327%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__n",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__p",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("filter",{id:"clean-copy-9_svg__k",width:"248.9%",height:"138.9%",x:"-74.4%",y:"-19.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1.247"})),_.a.createElement("filter",{id:"clean-copy-9_svg__m",width:"130.8%",height:"113%",x:"-15.4%",y:"-6.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:".558"})),_.a.createElement("path",{id:"clean-copy-9_svg__i",d:"M12.995 29.964c4.787 1.023 12.995-10.172 12.995-22.72 0-.265 0-.522-.002-.77-.076-11.462-1.991-4.214-12.993-4.214C1.756 2.26 0-5.304 0 7.244s8.284 23.134 12.995 22.72z"}),_.a.createElement("path",{id:"clean-copy-9_svg__c",d:"M32.206 41.585c4.466.182 12.25-7.912 12.25-20.421s-1.768-4.968-13.085-4.968c-11.316 0-13.084-7.54-13.084 4.968 0 12.509 10.313 21.381 13.919 20.42z"})),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("g",{transform:"rotate(15 9.734 52.615)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__a)",d:"M32.206 18.303c3.699-2.82 5.466-5.336 5.302-7.55-.345-4.654-2.146-6.342-3.702-7.76a30.332 30.332 0 013.333 2.319A10.71 10.71 0 0035.218.076c2.681 1.756 6.138 4.985 6.61 10.39.205 2.354-.602 4.967-2.422 7.837h-7.2z"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__b)",d:"M4.517 22.058c1.482 1.323 2.464 2.487 2.945 3.492.983 2.052 1.467 2.683 1.416 4.246-.143 4.386-2.995 8.39.745 12.103.472.47 1.699 1.486 3.756 2.562.81.424 2.314 1.084 4.511 1.98-1.51-.818-2.632-1.583-3.364-2.296-.733-.713-1.102-1.53-1.11-2.453 2.704.56 4.707.887 6.009.98 1.302.094 3.22.068 5.752-.077-3.805-.145-6.035-.303-6.69-.474-9.328-2.438-6.218-7.658-6.225-10.925.513-8.709-2.069-11.755-7.745-9.138z",transform:"rotate(-26 14.847 33.796)"}),_.a.createElement("mask",{id:"clean-copy-9_svg__e",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__c"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__d)",xlinkHref:"#clean-copy-9_svg__c"}),_.a.createElement("g",{fillRule:"nonzero",mask:"url(#clean-copy-9_svg__e)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__f)",d:"M15.68 4.885c2.383 0 3.312 3.45 3.312 1.299 0-2.151-2.093-4.354-4.476-4.354-2.382 0-4.47 2.209-4.152 4.354.19 1.276 1.528-1.768 5.316-1.3z",transform:"rotate(170 19.705 15.254)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__g)",d:"M5.168 8.232c2.382 0 3.945 2.358 3.954 1.53 0-2.15-2.093-4.354-4.475-4.354-2.383 0-4.756 2.23-4.153 4.354.457 1.609 1.744-2.08 4.674-1.53z",transform:"scale(1 -1) rotate(-6 -289.274 -316.378)"})),_.a.createElement("path",{fill:"#03A0D4",fillRule:"nonzero",d:"M32.125 36.323c-3.76-.14-5.565-2.018-5.62-3.703 0-.283.013-.732.657-.766.645-.034 2.404 1.113 5.336.51 2.932-.604 4.196-1.965 5.22-1.174 1.356 1.696-1.834 5.275-5.593 5.133z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.27 33.638)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__h)",fillRule:"nonzero",d:"M32.112 35.723c-3.759-.141-5.62-2.906-5.62-3.703 0-.283.014-.733.658-.767.644-.033 2.404 1.113 5.336.51 2.932-.604 4.195-1.965 5.22-1.174.888.687-1.835 5.275-5.594 5.134z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.183 33.037)"})),_.a.createElement("g",{transform:"rotate(-15 54.552 -18.401)"},_.a.createElement("mask",{id:"clean-copy-9_svg__l",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__i"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__j)",xlinkHref:"#clean-copy-9_svg__i"}),_.a.createElement("path",{fill:"#FFF",d:"M.58 17.567c1.585 0-.602-3.671-.605-8.25-.003-4.578 1.745-10.99.16-10.99-1.584-.002-4.01 6.533-4.006 11.112.003 4.578 2.867 8.127 4.452 8.128z",filter:"url(#clean-copy-9_svg__k)",mask:"url(#clean-copy-9_svg__l)",style:{mixBlendMode:"overlay"},transform:"rotate(-3 -1.357 7.947)"}),_.a.createElement("path",{fill:"#19CFF9",d:"M27.352 35.419c2.013-.014-4.24-9.256-4.116-16.52.125-7.266 3.612-9.276 1.6-9.263-2.013.013-7.921 4.082-7.95 8.494-.03 4.412 8.453 17.302 10.466 17.289z",filter:"url(#clean-copy-9_svg__m)",mask:"url(#clean-copy-9_svg__l)",opacity:".3",style:{mixBlendMode:"overlay"},transform:"rotate(-140 22.318 22.527)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M13.442 25.517c-5.62-.121-7.449-5.253-7.449-6.443 0-.422.123-.175.965-.225.841-.05 3.14 1.66 6.972.76 3.832-.9 5.34-3.924 6.678-2.744 1.162 1.024-1.545 8.773-7.166 8.652z",mask:"url(#clean-copy-9_svg__l)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__n)",fillRule:"nonzero",d:"M13.303 24.529c-4.913-.21-7.345-4.335-7.345-5.525 0-.422.018-1.093.86-1.143.842-.05 3.141 1.66 6.973.76 3.831-.901 5.483-2.931 6.821-1.751 1.162 1.024-2.397 7.87-7.31 7.659z",mask:"url(#clean-copy-9_svg__l)"})),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__o)",fillRule:"nonzero",d:"M27.598 20.601c2.383 0 3.089 2.472 3.089.322 0-2.151-2.093-4.354-4.476-4.354s-4.755 2.23-4.152 4.354c.456 1.608 3.887-.322 5.54-.322z",transform:"rotate(-27 24.66 17.605)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__p)",fillRule:"nonzero",d:"M17.17 24.658c2.165 0 2.845 1.968 2.845.045s-1.902-3.893-4.067-3.893-4.32 1.995-3.773 3.893c.415 1.439 3.494-.045 4.995-.045z",transform:"scale(-1 1) rotate(11 4.554 -146.776)"})))}}]),n})(w.default);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var D=(function(e){h()(n,e);var t=I(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("mask",{id:"mask0",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40"},_.a.createElement("path",{fill:"white",d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z"})),_.a.createElement("g",{mask:"url(#mask0)"},_.a.createElement("path",{d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z",fill:"url(#paint1_linear)"}),_.a.createElement("path",{d:"M19.054 25.034c-1.16-1.52-1.115-2.94-4.02-5.57-1.476-1.335-2.162-1.322-5.71-.612-2.533 0-3.268.608-4.054 1.216-1.047.81-.912 1.013-1.723 2.027-.64.8-.135 1.163-1.214 2.672-.305.426-2.99 5.816 4.635 8.058 11.734 4.574 6.869 10.302 8.066 12.063 3.643 5.358 1.447.399 3.668-2.774.758-1.084.328-3.067.96-4.411.913-1.216 2.25-1.686 1.878-2.887a9.222 9.222 0 00-.53-1.37c-.19-.386.081-.81.173-1.216.167-.745 2.51-1.943 2.715-2.383.479-1.03-2.176-.663-2.76-1.638-.624-1.043-1.436-2.325-2.084-3.175z",fill:"url(#paint2_linear)"}),_.a.createElement("path",{d:"M7.272 29.85c.734.714 1.953 1.38 1.525 1.82-.428.441-2.249.04-2.983-.674-.735-.714-.858-2.147-.43-2.587.428-.441 1.153.727 1.888 1.44z",fill:"#59A4FF"}),_.a.createElement("path",{opacity:".2",fillRule:"evenodd",clipRule:"evenodd",d:"M18.393.74A27.403 27.403 0 0011 19.5c0 7.767 3.22 14.781 8.397 19.782h-.116C8.633 39.282 0 30.65 0 20.002 0 9.65 8.156 1.203 18.393.74z",fill:"#fff"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.776 18.32c.351-.22.817-.513 1.432-.786.112-.05.382 0 .701.057.535.097 1.207.219 1.508-.057.286-.262.199-.595.116-.913-.08-.305-.156-.595.107-.795.262-.198.773.223 1.162.545.205.168.375.309.46.32l.604.683.05.078c.12.182.21.319.36.386 1.029.461.66-.385.34-1.118-.069-.155-.134-.305-.184-.437l.046-.457c.396-.25 1.31.681 1.909 1.293.174.178.322.329.422.415 2.375 2.04 1.014 3.128-.1 2.722l1.52 1.839v-.203c0-.168.136-.304.303-.304.652.739 1.227 1.66 1.782 2.549 1.044 1.672 2.016 3.228 3.286 3.228 1.08-.141 5.215-2.129 2.838-3.75-.23-.344-.549-.37-.879-.398-.253-.022-.513-.044-.743-.21l-.5-1.214c-.074-.245-.143-.447-.21-.509-.202-1.824 1.92-1.665 3.195-1.028.872.436 1.663.825 2.368 1.17 1.89.928 3.154 1.549 3.683 1.964.606.476 1.022.935 1.434 1.39.616.682 1.226 1.355 2.456 2.068 1.1.637.772-.59.364-2.114-.352-1.32-.765-2.861-.364-3.613.333-.624.441-1.184.529-1.636.14-.724.228-1.174 1.092-1.174.368 0 .676.067.943.125.752.163 1.172.253 1.65-1.421.519-1.816-1.513-9.113-2.593-12.534l-10.05-6.268L24.573.266c-.065 1.344-2.251 3.114-4.754 4.705-.07.044-.213.217-.41.453-.59.709-1.655 1.99-2.616 2.082-.77.074-1.549-.07-2.24-.2-.654-.122-1.23-.23-1.65-.124-.54-.155-1.295.422-1.883.872-.235.18-.444.34-.602.425-.456.244-2.205 4.412 0 2.809 2.377-1.729 4.106-.648 3.782 0-.324.648-2.293 1.796-4.43 1.729a3.925 3.925 0 00-1.155.138c-.36.097-.452.589-.544 1.077-.075.398-.15.794-.369.971-.54.437-1.062 1.016-1.317 1.488-.273.503-.662 1.602-.507 1.857.128.255.394.088.9-.229zm16.57-2.847c-.031.268-.064.543.182.908.076.112.155.224.233.336.541.77 1.039 1.477.076 1.484-.648.004-1.623-1.854-1.753-2.319-.26-.93.43-2.227 1.115-1.215.208.307.178.553.148.806z",fill:"url(#paint3_linear)"})),_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"paint1_linear",x1:"19.994",y1:"1",x2:"19.994",y2:"39",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#7FB9FF"}),_.a.createElement("stop",{offset:"1",stopColor:"#0073FF"})),_.a.createElement("linearGradient",{id:"paint2_linear",x1:"10.759",y1:"43.265",x2:"-4.265",y2:"24.899",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"})),_.a.createElement("linearGradient",{id:"paint3_linear",x1:"36.709",y1:"21.766",x2:"21.481",y2:"-.668",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"}))))}}]),n})(w.default),M=n(448),N=n(572),L=n(395);function F(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var B=(function(e){h()(n,e);var t=F(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm-1.29-4.297c0-.746.567-1.283 1.282-1.283.731 0 1.298.537 1.298 1.283A1.27 1.27 0 0 1 7.992 13c-.715 0-1.282-.552-1.282-1.297ZM7.26 3H8.74c.329 0 .587.281.56.61l-.42 5.046a.375.375 0 0 1-.374.343h-1.01a.375.375 0 0 1-.374-.343l-.42-5.047A.563.563 0 0 1 7.26 3Z",clipRule:"evenodd"}))}}]),n})(w.default),U=n(9),z=n.n(U),V={ru:"ru-RU",en:"en-US",tr:"tr-TR",uk:"uk-UA"},H=z.a.memoize((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru-RU";return"undefined"!=typeof Intl?new Intl.NumberFormat(V[e]).format:function(e){return String(e)}})),W=n(14),G=n(37),$=n.n(G);function q(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Y=(function(e){h()(n,e);var t=q(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("rect",{width:"24",height:"24",rx:"12",fill:"url(#paint0_linear_1795_206725)"}),_.a.createElement("rect",{width:"24",height:"24",rx:"12",fill:"url(#paint1_radial_1795_206725)"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 10.125C7.42157 10.125 6.75 10.7966 6.75 11.625V16.5C6.75 17.3284 7.42157 18 8.25 18H15.75C16.5784 18 17.25 17.3284 17.25 16.5V11.625C17.25 10.7966 16.5784 10.125 15.75 10.125H15.5V8.375C15.5 6.442 13.933 4.875 12 4.875C10.067 4.875 8.5 6.442 8.5 8.375V10.125H8.25ZM10.25 8.375C10.25 7.4085 11.0335 6.625 12 6.625C12.9665 6.625 13.75 7.4085 13.75 8.375V10.1226H10.25V8.375Z",fill:"#F7F7FF",fillOpacity:"0.9"}),_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"paint0_linear_1795_206725",x1:"-1.77796e-08",y1:"12.2125",x2:"23.9675",y2:"12.2125",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#EB1C3F"}),_.a.createElement("stop",{offset:"1",stopColor:"#F4248E"})),_.a.createElement("radialGradient",{id:"paint1_radial_1795_206725",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(11.9311 21.3333) rotate(90) scale(23 24.4584)"},_.a.createElement("stop",{offset:"0.321815",stopColor:"#FF7142"}),_.a.createElement("stop",{offset:"0.824568",stopColor:"#FF5525",stopOpacity:"0"}))))}}]),n})(w.default),K=n(11),J=n.n(K);function X(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Z=n(130).I18N,Q=function(){return J()()("albums2")},ee=(function(e){h()(n,e);var t=X(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(d()(r)),r._onAlbumKeyPress=r._onAlbumKeyPress.bind(d()(r)),r._formatNumber=H(r.props.locale),r}return l()(n,[{key:"_getPreviewSize",value:function(){return this.props.isMobile?{width:150,height:104}:{width:330,height:208}}},{key:"_getIcon",value:function(e){switch(e){case"beautiful":return _.a.createElement(P,null);case"unbeautiful":return _.a.createElement(A,null);case"camera":return _.a.createElement(S,null);case"videos":return _.a.createElement(C,null);case"screenshots":return _.a.createElement(k,null);case"geo":return _.a.createElement(D,null);case"favorites":return _.a.createElement(M.a,null)}}},{key:"_getActions",value:function(){return this.props.readonly||![null,"personal","faces"].includes(this.props.album.album_type)?null:_.a.createElement("div",{className:Q().e("actions")},_.a.createElement(N.a,{moreButtonView:"clear-inverse",album:this.props.album,metrikaPath:["albums listing"]}))}},{key:"_onClick",value:function(e){if(!(e&&e.target&&(e.target.closest(".album-actions-dropdown")||e.target.closest(".album-actions-dropdown__more-button")||e.target.closest(".ShareDialog")||e.target.closest(".ConfirmDialog")))){var t=this.props,n=t.id,r=t.album;"geo"===r.album_type?W.default.count("actions","with geo meta-album","open","click on geo album"):"faces"===r.album_type?W.default.count("actions","with faces meta-album","open","click on face album"):"family"===r.album_type?W.default.count("actions","with albums","open","click on family album"):W.default.count("actions","with albums","open","click on album"),this.props.onOpen(n)}}},{key:"_onAlbumKeyPress",value:function(e){e.charCode===$.a.KEYS.ENTER&&this._onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.album,r=e.preview,o=e.modifiers,s=o||{},u=n.title||n.name,c=u;"geo"===t?(s.geo=!0,u="Места и поездки",c=_.a.createElement(Z,{loc:"Места"+yr.externals.entityify(Z.$1)+"и поездки"}," ")):"faces"===t?(s.faces=!0,u="Люди на фото",c=_.a.createElement(Z,{loc:"Люди"+yr.externals.entityify(Z.$1)+"на фото"}," ")):"favorites"===t?s.favorites=!0:[t,n.album_type].includes("family")&&(s.family=!0);var l=z.a.pick(n.cover||{},["face_bottom","face_top","face_left","face_right","width","height"]),f=Object.keys(l).length?{left:l.face_left,right:l.face_right,bottom:l.face_bottom,top:l.face_top}:null,d={width:l.width,height:l.height},p="family"===n.album_type||"family"===t,h=p&&s["warning-icon"]?_.a.createElement(B,null):this._getIcon(t);return _.a.createElement("div",{key:t,className:Q().e("item").m(s),onClick:this._onClick,onKeyPress:this._onAlbumKeyPress,title:u,tabIndex:0},r&&_.a.createElement(O.a,a()({previewBaseUrl:r,previewFragment:f,previewSize:d},this._getPreviewSize(),{className:Q().e("item-preview"),crop:!0,cover:!0})),_.a.createElement("span",{className:Q().e("title-bar").m({family:p,iconed:Boolean(h),locked:Boolean(o.locked)})},h?_.a.createElement("span",{className:Q().e("item-icon").m(i()({},p?"family":t,!0))},h):null,_.a.createElement("span",{className:Q().e("item-title")},c),Number.isInteger(n.count)&&_.a.createElement("span",{className:Q().e("item-count")},this._formatNumber(n.count)),o.locked&&_.a.createElement("span",{className:Q().e("item-lock")},_.a.createElement(Y,null))),n.is_public?_.a.createElement(L.a,null):null,this._getActions())}}]),n})(b.PureComponent);t.a=ee}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(34),s=n(70),u=n(91),c=n(429),l=(n(1239),function(e){var t=e.disabled,n=e.htmlFor,r=e.id,i=e.onClick,a=e.children;return o.a.createElement("label",{"aria-hidden":"true",htmlFor:t?void 0:n,id:r,onClick:i,className:m("Label")},a)}),f=(n(1240),function(e){var t=e.checked,n=e.children,r=e.innerRef,i=e.labelledBy,a=e.onBlur,s=e.onClick,u=e.onFocus,c=e.onKeyDown,l=e.tabIndex,f=e.required;return o.a.createElement("button",{"aria-required":f,"aria-labelledby":i,"aria-pressed":t,className:m("Button"),onBlur:a,onClick:s,onFocus:u,onKeyDown:c,ref:r,tabIndex:l,type:"button"},n)}),d=function(e){var t=e.id,n=e.innerRef,r=e.checked,i=e.name,a=e.onChange,s=e.required;return o.a.createElement("input",{id:t,hidden:!0,ref:n,className:m("Control"),name:i,checked:r,value:String(r),type:"checkbox",autoComplete:"off",onChange:a,required:s})},p=(n(1238),[s.a.RIGHT,s.a.UP]),h=[s.a.LEFT,s.a.DOWN],m=Object(a.cn)("Tumbler"),v=function(e){var t=e.checked,n=e.className,a=e.controlRef,v=e.disabled,g=e.id,y=void 0===g?Object(c.a)():g,b=e.innerRef,_=e.labelAfter,O=e.labelBefore,w=e.name,E=e.onBlur,S=e.onChange,x=e.onClick,C=e.onFocus,T=e.onKeyDown,k=e.onKeyUp,j=e.tabIndex,P=e.title,R=e.autoFocus,A=e.required,I=Object(i.useRef)(null),D=Object(i.useRef)(null),M="control-"+y,N="before-label-"+y,L="after-label-"+y;Object(i.useEffect)((function(){R&&null!==I.current&&I.current.focus()}),[]);var F=Object(i.useMemo)((function(){return O&&_?t?N:L:O?N:_?L:void 0}),[t,O,_,N,L]),B=Object(i.useCallback)((function(e){null!==D.current&&D.current.click(),null!==I.current&&I.current.focus(),void 0!==x&&x(e)}),[x]),U=Object(i.useCallback)((function(){null!==I.current&&I.current.focus()}),[]),z=Object(i.useCallback)((function(e){Object(s.b)(e.keyCode,Object(r.__spread)([s.a.ENTER],h,p))&&e.preventDefault(),(t&&Object(s.b)(e.keyCode,h)||!t&&Object(s.b)(e.keyCode,p))&&null!==D.current&&D.current.click(),void 0!==T&&T(e)}),[t,T]);return o.a.createElement("span",{ref:b,className:m(null,[n]),id:y,title:P,"aria-disabled":v},O&&o.a.createElement(l,{disabled:Boolean(!t&&O&&_),htmlFor:M,id:N,onClick:U},O),o.a.createElement(f,{tabIndex:v?-1:j,innerRef:I,checked:t,onKeyDown:z,onKeyUp:k,onBlur:E,onFocus:C,onClick:B,labelledBy:F,required:A}),o.a.createElement(d,{id:M,name:w,checked:t,innerRef:Object(u.b)(D,a),onChange:S,required:A}),_&&o.a.createElement(l,{disabled:Boolean(t&&O&&_),htmlFor:M,id:L,onClick:U},_))};v.displayName="Tumbler";var g=n(5),y=(n(1241),Object(g.withBemMod)(m(),{size:"l"})),b=(n(1242),Object(g.withBemMod)(m(),{size:"m"})),_=(n(1243),Object(g.withBemMod)(m(),{size:"s"})),O=(n(1244),Object(g.withBemMod)(m(),{view:"default"}));n.d(t,"CHECKED_KEYS",(function(){return p})),n.d(t,"UNCHECKED_KEYS",(function(){return h})),n.d(t,"cnTumbler",(function(){return m})),n.d(t,"Tumbler",(function(){return v})),n.d(t,"withSizeL",(function(){return y})),n.d(t,"withSizeM",(function(){return b})),n.d(t,"withSizeS",(function(){return _})),n.d(t,"withViewDefault",(function(){return O}))}),(function(e,t,n){"use strict";var r=/[^a-zа-яё0-9]/i,i=/['"()<>]/g,o=/^[a-zа-яё0-9]/i,a=/[A-ZА-ЯЁ]/g;var s=function(e){if(e&&(e=(e=String(e)).replace(i,""))){var t=e.split(r),n=t[0].match(a)||[];return n.length&&e.charAt(0).match(a)&&(n=n.slice(1)),(e=-1!==e.indexOf("@")&&o.test(e)?e.charAt(0):2===t[0].length?t[0]:n.length?t[0].charAt(0)+n[0]:t.length>1?t[0].charAt(0)+t[1].charAt(0):t[0].charAt(0)).toUpperCase()}},u=[128,128,128];var c=function(e){e=String(e).trim();for(var t="",n=0;n<e.length;n++)t+=e.charCodeAt(n);for(var r="#",i=0;i<3;i++){var o=Math.abs(1e4*Math.sin(Number(t+i)))%256,a=Math.round((o+u[i])/2).toString(16);1===a.length&&(a="0"+a),r+=a}return r},l=n(445);n.d(t,"a",(function(){return f}));var f=function(e){var t,n=e.type,r=e.name,i=e.url;if(i&&"user"===n)return i;"group"!==n&&"department"!==n&&(t=s(r));var o=c(t);return Object(l.a)({fill:o,initials:t})}}),(function(e,t,n){"use strict";n.r(t);var r=n(263),i=n.n(r),o=n(13),a=n(16),s=n(716).prepare,u=n(9),c=n(64).modelDefaults;i.a.define("config",{methods:{getData:function(){return Object(o.default)().getState().config},setData:function(e){Object(o.default)().dispatch(function(e){return s(e),{type:a.UPDATE_CONFIG,payload:e}}(e))},get:function(e){return e.startsWith(".")&&(e=e.substring(1)),u.get(Object(o.default)().getState().config,e)},set:function(){}},defaults:c})}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),f=n(6),d=n.n(f),p=n(7),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(59),_=n(210);var O=n(11),w=n.n(O);n(1902);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(){return w()()("crumbs2")},x=(function(e){d()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={isShrunk:!1,isHoverDropdownVisible:!1},r._shrinkIfNeeded=(function(e,t){var n;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}})(r._shrinkIfNeeded,100).bind(l()(r)),r._onHoverDropdownOpen=r._onHoverDropdownOpen.bind(l()(r)),r._onHoverDropdownClose=r._onHoverDropdownClose.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.props.full&&(window.addEventListener("resize",this._shrinkIfNeeded),this._shrinkIfNeeded())}},{key:"componentDidUpdate",value:function(){this.props.full&&this._shrinkIfNeeded()}},{key:"componentWillUnmount",value:function(){this.props.full&&window.removeEventListener("resize",this._shrinkIfNeeded)}},{key:"_getItems",value:function(){var e=this.props,t=e.root,n=e.items;return t?[Object.assign({},n[0],t)].concat(n.slice(1)):n}},{key:"_shrinkIfNeeded",value:function(){if(this._tail&&this._wrapper){var e=this._tail.getBoundingClientRect().width>this._wrapper.getBoundingClientRect().width;this.state.isShrunk!==e&&this.setState({isShrunk:e})}}},{key:"_getHeadCrumb",value:function(){var e=this._getItems();return this._getCrumb(e[0],0,e)}},{key:"_getTailCrumbs",value:function(){var e=this;return this.props.items.slice(1).map((function(t,n,r){return e._getCrumb(t,n,r)}),this)}},{key:"_getAllCrumbs",value:function(){return this._getItems().map(this._getCrumb,this)}},{key:"_onCrumbClick",value:function(e){this._onHoverDropdownClose(),this.props.onItemClick(e)}},{key:"_getCrumb",value:function(e,t,n){var r,o,a=t===n.length-1;if("string"==typeof e)o=e,r=y.a.createElement("span",{className:S().e("item-inner")},e);else{o=e.id;var s={theme:"normal",className:S().e("item-inner"),onClick:this._onCrumbClick.bind(this,e.id),children:e.name};r=this.props.getCrumbsItem?this.props.getCrumbsItem(e,s):y.a.createElement(b.Link,i()({},s,{theme:"normal"}))}return y.a.createElement("div",{key:o,className:S().e("item").m({last:a})},r)}},{key:"_onHoverDropdownOpen",value:function(){!this.state.isShrunk&&this.props.full||this.setState({isHoverDropdownVisible:!0})}},{key:"_onHoverDropdownClose",value:function(){this.setState({isHoverDropdownVisible:!1})}},{key:"_getHoverDropdown",value:function(e){return y.a.createElement(_.default,{className:S().e("hover-dropdown"),showDelay:500,onOpen:this._onHoverDropdownOpen,onClose:this._onHoverDropdownClose,visible:this.state.isHoverDropdownVisible},y.a.createElement(_.default.Anchor,null,e),y.a.createElement(_.default.Tooltip,{view:"default",className:S().e("tooltip"),direction:this.props.tooltipDirections,hasTail:!0},y.a.createElement("div",{className:S().e("tooltip-crumbs")},this._getAllCrumbs())))}},{key:"render",value:function(){var e,t=this;if(this.props.full)e=[y.a.createElement("div",{key:"head",className:S().e("head")},this._getHeadCrumb()),y.a.createElement("div",{key:"crumbs",className:S().e("crumbs-wrapper"),ref:function(e){t._wrapper=e}},this._getHoverDropdown(y.a.createElement("div",{className:S().e("fade")})),y.a.createElement("div",{className:S().e("crumbs-tail"),ref:function(e){t._tail=e}},this._getTailCrumbs()))];else{var n=this._getItems();n.length>2&&(n=[n[0],"...",n[n.length-1]]),e=this._getHoverDropdown(y.a.createElement("div",{className:S().e("short-wrapper")},n.map(this._getCrumb,this)))}return y.a.createElement("div",{className:S().m({shrunk:this.state.isShrunk,full:this.props.full}).mix(this.props.cls)},e)}}]),n})(g.Component);x.defaultProps={tooltipDirections:["bottom-start"]};t.default=x}),(function(e,t,n){"use strict";var r=n(5),i=n(56);n(1372);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.b)(),{view:"filled"})}),(function(e,t,n){"use strict";var r=n(32),i=n(76),o=n(433),a=new r.Registry({id:Object(i.b)()});a.set("Tail",o.a),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i.b}));var s=Object(r.withRegistry)(a)(i.a)}),(function(e,t,n){"use strict";n.r(t);n(700);var r=n(259),i=n(377);n.d(t,"cnModal",(function(){return r.b})),n.d(t,"Modal",(function(){return r.a})),n.d(t,"withThemeNormal",(function(){return i.a}))}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2014 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!(function(e,t){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,i=String.prototype,o=Number.prototype,a=t.slice,s=t.splice,u=t.push,c=t.unshift,l=r.call,f=n.toString,d=function(e){return"[object Function]"===f.call(e)},p=function(e){return"[object Array]"===f.call(e)},h=function(e){return"[object String]"===f.call(e)},m=function(e){var t=f.call(e),n="[object Arguments]"===t;return n||(n=!p(e)&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&d(e.callee)),n};e=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}})()?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var v=function(t,r,i){for(var o in r)n.hasOwnProperty.call(r,o)&&e(t,o,r[o],i)};function g(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function y(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}var b={ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},_=function(){};v(r,{bind:function(e){var t=this;if(!d(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=a.call(arguments,1),i=Math.max(0,t.length-r.length),o=[],s=0;s<i;s++)o.push("$"+s);return n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof n){var i=t.apply(this,r.concat(a.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(a.call(arguments)))})),t.prototype&&(_.prototype=t.prototype,n.prototype=new _,_.prototype=null),n}});var O=l.bind(n.hasOwnProperty),w=(function(){var e=[1,2],t=e.splice();return 2===e.length&&p(t)&&0===t.length})();v(t,{splice:function(e,t){return 0===arguments.length?[]:s.apply(this,arguments)}},w);var E=(function(){var e={};return t.splice.call(e,0,0,1),1===e.length})();v(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(g(this.length),0),arguments.length>0&&"number"!=typeof t&&((n=a.call(arguments)).length<2?n.push(this.length-e):n[1]=g(t)),s.apply(this,n)}},!E);var S=1!==[].unshift(0);v(t,{unshift:function(){return c.apply(this,arguments),this.length}},S),v(Array,{isArray:p});var x=Object("a"),C="a"!==x[0]||!(0 in x),T=function(e){var t=!0,n=!0;return e&&(e.call("foo",(function(e,n,r){"object"!=typeof r&&(t=!1)})),e.call([1],(function(){n="string"==typeof this}),"x")),!!e&&t&&n};v(t,{forEach:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!d(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},!T(t.forEach)),v(t,{map:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if(!d(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}},!T(t.map)),v(t,{filter:function(e){var t,n=b.ToObject(this),r=C&&h(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if(!d(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}},!T(t.filter)),v(t,{every:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!d(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}},!T(t.every)),v(t,{some:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!d(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}},!T(t.some));var k=!1;t.reduce&&(k="object"==typeof t.reduce.call("es5",(function(e,t,n,r){return r})));v(t,{reduce:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=n.length>>>0;if(!d(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}},!k);var j=!1;t.reduceRight&&(j="object"==typeof t.reduceRight.call("es5",(function(e,t,n,r){return r})));v(t,{reduceRight:function(e){var t=b.ToObject(this),n=C&&h(this)?this.split(""):t,r=n.length>>>0;if(!d(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(o<0)return i;do{o in n&&(i=e.call(void 0,i,n[o],o,t))}while(o--);return i}},!j);var P=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);v(t,{indexOf:function(e){var t=C&&h(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=g(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},P);var R=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);v(t,{lastIndexOf:function(e){var t=C&&h(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,g(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},R);var A=!{toString:null}.propertyIsEnumerable("toString"),I=function(){}.propertyIsEnumerable("prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=D.length;v(Object,{keys:function(e){var t=d(e),n=m(e),r=null!==e&&"object"==typeof e,i=r&&h(e);if(!r&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var o=[],a=I&&t;if(i||n)for(var s=0;s<e.length;++s)o.push(String(s));else for(var u in e)a&&"prototype"===u||!O(e,u)||o.push(String(u));if(A)for(var c=e.constructor,l=c&&c.prototype===e,f=0;f<M;f++){var p=D[f];l&&"constructor"===p||!O(e,p)||o.push(p)}return o}});var N=Object.keys&&(function(){return 2===Object.keys(arguments).length})(1,2),L=Object.keys;v(Object,{keys:function(e){return m(e)?L(t.slice.call(e)):L(e)}},!N);var F=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001");v(Date.prototype,{toISOString:function(){var e,t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),e=[(i=(i%12+12)%12)+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(r<0?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(0<=r&&r<=9999?-4:-6),t=e.length;t--;)(n=e[t])<10&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},F);var B=!1;try{B=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){}B||(Date.prototype.toJSON=function(e){var t,n=Object(this),r=(function(e){var t,n,r;if(y(e))return e;if(n=e.valueOf,d(n)&&y(t=n.call(e)))return t;if(r=e.toString,d(r)&&y(t=r.call(e)))return t;throw new TypeError})(n);if("number"==typeof r&&!isFinite(r))return null;if("function"!=typeof(t=n.toISOString))throw new TypeError("toISOString property is not callable");return t.call(n)});var U=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),z=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),V=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));Date.parse&&!V&&!z&&U||(Date=(function(e){function t(n,r,i,o,a,s,u){var c=arguments.length;if(this instanceof e){var l=1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,i,o,a,s,u):c>=6?new e(n,r,i,o,a,s):c>=5?new e(n,r,i,o,a):c>=4?new e(n,r,i,o):c>=3?new e(n,r,i):c>=2?new e(n,r):c>=1?new e(n):new e;return l.constructor=t,l}return e.apply(this,arguments)}var n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365];function i(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}for(var o in e)t[o]=e[o];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var r=n.exec(t);if(r){var o,a=Number(r[1]),s=Number(r[2]||1)-1,u=Number(r[3]||1)-1,c=Number(r[4]||0),l=Number(r[5]||0),f=Number(r[6]||0),d=Math.floor(1e3*Number(r[7]||0)),p=Boolean(r[4]&&!r[8]),h="-"===r[9]?1:-1,m=Number(r[10]||0),v=Number(r[11]||0);return c<(l>0||f>0||d>0?24:25)&&l<60&&f<60&&d<1e3&&s>-1&&s<12&&m<24&&v<60&&u>-1&&u<i(a,s+1)-i(a,s)&&(o=1e3*(60*((o=60*(24*(i(a,s)+u)+c+m*h))+l+v*h)+f)+d,p&&(o=(function(t){return Number(new e(1970,0,1,0,0,0,t))})(o)),-864e13<=o&&o<=864e13)?o:NaN}return e.parse.apply(this,arguments)},t})(Date));Date.now||(Date.now=function(){return(new Date).getTime()});var H=o.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),W={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1;++n<W.size;)t+=e*W.data[n],W.data[n]=t%W.base,t=Math.floor(t/W.base)},divide:function(e){for(var t=W.size,n=0;--t>=0;)n+=W.data[t],W.data[t]=Math.floor(n/e),n=n%e*W.base},numToString:function(){for(var e=W.size,t="";--e>=0;)if(""!==t||0===e||0!==W.data[e]){var n=String(W.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},log:function(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}};v(o,{toFixed:function(e){var t,n,r,i,o,a,s,u;if((t=(t=Number(e))!=t?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if((n=Number(this))!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(r="",n<0&&(r="-",n=-n),i="0",n>1e-21)if(o=W.log(n*W.pow(2,69,1))-69,a=o<0?n*W.pow(2,-o,1):n/W.pow(2,o,1),a*=4503599627370496,(o=52-o)>0){for(W.multiply(0,a),s=t;s>=7;)W.multiply(1e7,0),s-=7;for(W.multiply(W.pow(10,s,1),0),s=o-1;s>=23;)W.divide(1<<23),s-=23;W.divide(1<<s),W.multiply(1,1),W.divide(2),i=W.numToString()}else W.multiply(0,a),W.multiply(1<<-o,0),i=W.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(u=i.length,i=u<=t?r+"0.0000000000000000000".slice(0,t-u+2)+i:r+i.slice(0,u-t)+"."+i.slice(u-t)):i=r+i,i}},H);var G=i.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var e=void 0===/()??/.exec("")[1];i.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==f.call(t))return G.call(this,t,n);var i,o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0;for(t=new RegExp(t.source,l+"g"),r+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),n=void 0===n?-1>>>0:b.ToUint32(n);(o=t.exec(r))&&!((a=o.index+o[0].length)>d&&(c.push(r.slice(d,o.index)),!e&&o.length>1&&o[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),o.length>1&&o.index<r.length&&u.apply(c,o.slice(1)),s=o[0].length,d=a,c.length>=n));)t.lastIndex===o.index&&t.lastIndex++;return d===r.length?!s&&t.test("")||c.push(""):c.push(r.slice(d)),c.length>n?c.slice(0,n):c}})():"0".split(void 0,0).length&&(i.split=function(e,t){return void 0===e&&0===t?[]:G.call(this,e,t)});var $=i.replace;(function(){var e=[];return"x".replace(/x(.)?/g,(function(t,n){e.push(n)})),1===e.length&&void 0===e[0]})()||(i.replace=function(e,t){var n=d(t),r=(function(e){return"[object RegExp]"===f.call(e)})(e)&&/\)[*?]/.test(e.source);if(n&&r){return $.call(this,e,(function(n){var r=arguments.length,i=e.lastIndex;e.lastIndex=0;var o=e.exec(n)||[];return e.lastIndex=i,o.push(arguments[r-2],arguments[r-1]),t.apply(this,o)}))}return $.call(this,e,t)});var q=i.substr,Y="".substr&&"b"!=="0b".substr(-1);v(i,{substr:function(e,t){return q.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},Y);var K="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",J="["+K+"]",X=new RegExp("^"+J+J+"*"),Z=new RegExp(J+J+"*$"),Q=i.trim&&(K.trim()||!"​".trim());v(i,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(X,"").replace(Z,"")}},Q),(8!==parseInt(K+"08")||22!==parseInt(K+"0x16"))&&(parseInt=(function(e){var t=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=t.test(n)?16:10),e(n,r)}})(parseInt))})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)})(),
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(e,t){"$:nomunge";var n,r=e.jQuery||e.Cowboy||(e.Cowboy={});r.throttle=n=function(e,n,i,o){var a,s=0;function u(){var r=this,u=+new Date-s,c=arguments;function l(){s=+new Date,i.apply(r,c)}o&&!a&&l(),a&&clearTimeout(a),o===t&&u>e?l():!0!==n&&(a=setTimeout(o?function(){a=t}:l,o===t?e-u:e))}return"boolean"!=typeof n&&(o=i,i=n,n=t),r.guid&&(u.guid=i.guid=i.guid||r.guid++),u},r.debounce=function(e,r,i){return i===t?n(e,r,!1):n(e,i,!1!==r)}})(this);var nb={};nb.IE_LT9=Boolean(document.documentMode&&document.documentMode<9),nb.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},nb.extend=function(e){for(var t=[].slice.call(arguments,1),n=0,r=t.length;n<r;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e};var nb=nb||{};!(function(){nb.node={},nb.node.data=function(node,key,value){if(!key){for(var data={},attrs=node.attributes,r,i=0,l=attrs.length;i<l;i++){var attr=attrs[i];(r=/^data-nb-(.+)/.exec(attr.name))&&(data[r[1]]=parseValue(attr.value))}return data}if(void 0===value)return parseValue(node.getAttribute("data-nb-"+key)||"");function parseValue(value){var ch=value.charAt(0);return"["===ch||"{"===ch?eval("("+value+")"):value}node.setAttribute("data-nb-"+key,value)},nb.node.getMod=function(e,t){return nb.node.setMod(e,t)};var modCache={};nb.node.setMod=function(e,t,n){var r=modCache[t]||(modCache[t]=RegExp("(?:^|\\s+)"+t+"(?:_([\\w-]+))?(?:$|\\s+)")),i=e.className;if(void 0===n){var o=r.exec(i);return o?void 0===o[1]||o[1]:""}i=i.replace(r," ").trim(),!1!==n&&""!==n&&(i+=" "+t+(!0===n?"":"_"+n)),e.className=i},nb.node.delMod=function(e,t){nb.node.setMod(e,t,!1)}})(),(function(){var e={},t={},n=new RegExp("^("+["click","dblclick","mouseup","mousedown","keydown","keypress","keyup","input","change","blur","mouseover","mouseout","focusin","focusout"].join("|")+")\\b\\s*(.*)?$"),r=0,i={},o=function(e){var t=e.getAttribute("data-nb");return t?t.trim().replace(/\s+/g," "):t},a=function(e){return e.split(/\s+/)},s=function(){};s.prototype.__init=function(e){this.node=e,this.__handlers={},this.__bindEvents(),this.trigger("init"),c&&nb.trigger("inited:"+this.id,this)},s.prototype.__bindEvents=function(){for(var e=this,t=u.get(this.name).events,n=0,r=t.length;n<r;n++){var i=t[n].custom,o=t[n].local;for(var a in i)!(function(t){e.__bindCustomEvent(a,(function(n,r){for(var i=t.length;i--;){var o=t[i].call(e,n,r);if(!1===o||null===o)return o}}))})(i[a]);for(var a in o)for(var s in o[a]){var c=(s||"").length?" "+s:"",l=a+c,f=o[a][s];for(n=0;n<f.length;n++)!(function(t){e.on(l,(function(){t.apply(e,arguments)}))})(f[n])}}},s.prototype.destroy=function(){this.trigger("nb-destroyed",this),this.nbdestroy()},s.prototype.nbdestroy=function(){for(var e=u.get(this.name).events,t=0,n=e.length;t<n;t++){for(var r in e[t].custom)this.off(r);for(var r in e[t].local)this.off(r)}i[this.id]=null},s.prototype.__getHandlers=function(e){var t=this.__handlers;return t[e]||(t[e]=[])},s.prototype.on=function(e,t){var r=n.exec(e);return r?$(this.node).on(r[1],r[2]||"",t):this.__bindCustomEvent(e,t),t},s.prototype.__bindCustomEvent=function(e,t){this.__getHandlers(e).push(t)},s.prototype.off=function(e,t){var r=n.exec(e);if(r)$(this.node).off(r[1],r[2]||"",t);else if(t){var i=this.__getHandlers(e),o=i.indexOf(t);-1!==o&&i.splice(o,1)}else this.__handlers[e]=null},s.prototype.trigger=function(e){for(var t=this.__getHandlers(arguments[0]).slice(),n=0,r=t.length;n<r;n++)t[n].apply(this,arguments)},s.prototype.nbdata=function(e,t){return nb.node.data(this.node,e,t)},s.prototype.show=function(){$(this.node).removeClass("nb-is-hidden"),this.trigger("show")},s.prototype.hide=function(){$(this.node).addClass("nb-is-hidden"),this.trigger("hide")},s.prototype.getMod=function(e){return nb.node.setMod(this.node,e)},s.prototype.setMod=function(e,t){nb.node.setMod(this.node,e,t)},s.prototype.delMod=function(e){nb.node.setMod(this.node,e,!1)},s.prototype.children=function(){for(var e=[],t=$(this.node).find("[data-nb]"),n=0,r=t.length;n<r;n++)e=e.concat(nb.blocks(t[n]));return e},s.prototype.getYateModuleName=function(){return"main"},nb.Block=s;var u=function(e,t,n){this.name=e,t.prototype.name=e,this.ctor=t,this.events=this._prepareEvents(n)};u.prototype._prepareEvents=function(e){e=e||{};var r=this.ctor.prototype,i={},o={},a={};for(var s in e){var c,l,f=n.exec(s);if(f)c="blur"===(p=f[1])?a[p]||(a[p]={}):i[p]||(i[p]={}),l=f[2]||"";else c=o,l=s;var d=e[s];"string"==typeof d&&(d=r[d]),null===d?c[l]=null:(c=c[l]||(c[l]=[])).push(d)}for(var p in i)t[p]||($(document).on(p,(function(e){if(!e.button||"click"!==e.type)return u._onevent(e)})),t[p]=!0);return[{dom:i,custom:o,local:a}]},u.prototype.create=function(e,t){var n=e.getAttribute("id");if(n||(n="nb-"+r++,e.setAttribute("id",n)),i[n]||(i[n]={},null===o(e)&&e.setAttribute("data-nb",this.name)),!i[n][this.name]){var a=new this.ctor;if(a.id=n,a.__init(e),t)for(var s in t)a.on(s,t[s]);i[n][this.name]=a}return i[n][this.name]},u.prototype._extendEvents=function(e){var t=this.events[0].dom,n=e.events[0].dom;for(var r in n)i(t[r]||(t[r]={}),n[r]);function i(e,t){for(var n in t){var r=t[n],i=e[n];e[n]=null===i?[]:r.concat(i||[])}}i(this.events[0].custom,e.events[0].custom)},u._onevent=function(e){var t,n,r,i,s,c,l=e.type,f=e.target,d="mouseover"===l||"mouseout"===l,p=e.relatedTarget,h=f;for(r=[],n=(t=[]).length;w();){for(var m=a(s),v=!0,g=0;g<m.length;g++){var y=m[g];if(c=u.get(y))for(var b=c.events,_=0,O=b.length;_<O;_++)!1===E(y,b[_].dom[l])&&(v=!1)}if(!v)return!1;if(p)return;t.push(h),r.push($(h)),n=t.length,h=h.parentNode}function w(){var e;for(i=null;e=h.parentNode;){if(s=o(h)){i=h;break}t.push(h),h=e}if(i)return d&&p&&(t=f===i?[]:[f]),n=t.length,!0}function E(e,o){if(o){for(var a,s,u,c=0;c<n;c++){for(var l in s=t[c],u=r[c]||(r[c]=$(s)),o)if(l&&u.is(l)&&!(d&&p&&$.contains(s,p))){var f=S(s,e,o[l]);!1===f&&(a=f)}if(!1===a)return a}var h=o[""];return!h||d&&p&&$.contains(i,p)?void 0:S(i,e,h)}}function S(t,n,r){for(var o=c.create(i),a=r.length;a--;){var s=r[a].call(o,e,t);if(!1===s)return!1;if(null===s)break}}},u.get=function(t){return e[t]},nb.hasBlock=function(e,t){var n=e.getAttribute("id");return!(!n||!i[n]||t&&!i[n][t])},nb.block=function(e,t,n){return o(e)?n?u.get(n).create(e,t):nb.blocks(e,t)[0]:null},nb.blocks=function(e,t){var n=o(e);if(!n)return[];for(var r=a(n),i=[],s=0;s<r.length;s++)i.push(u.get(r[s]).create(e,t));return i},nb.find=function(e){var t=document.getElementById(e);if(t)return nb.block(t)},nb.define=function(t,n,i){"string"!=typeof t&&(i=n,n=t,t="nb-"+r++),i&&(i=u.get(i));var o=n.events;delete n.events;var a=function(){};nb.inherit(a,i?i.ctor:s),nb.extend(a.prototype,n);var c=new u(t,a,o);return i&&c._extendEvents(i),e[t]=c,c},nb.init=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++)nb.block(t[n])},nb.destroy=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++){var o=t[n].getAttribute("id"),a=i[o];if(a)for(var s in a)a[s].destroy()}};var c=nb.define({events:{click:function(e){nb.trigger("space:click",e.target)}}}).create(document.getElementsByTagName("html")[0]);nb.on=function(e,t){return c.on(e,t)},nb.off=function(e,t){c.off(e,t)},nb.trigger=function(e,t){c.trigger(e,t)}})(),nb.define("arrow",{oninit:function(){}},"base"),nb.define("base",{events:{init:"_oninit"},_oninit:function(){this.$node=$(this.node),this.oninit&&this.oninit()},
/*!
     * @returns {String} type of block
     */
getType:function(){return this.$node.attr("data-nb")}}),nb.define("button",{events:{},oninit:function(){this.$node.button({disabled:this.$node.prop("disabled")}),this.trigger("nb-inited",this)},setContent:function(e){return this.$node&&this.$node.data("uiButton")&&(this.$node.find("._nb-button-content").html(e),this.trigger("nb-text-set",this)),this},getContent:function(){return this.$node.find("._nb-button-content").html()},setUrl:function(e){return this.$node.attr("href",e),this.trigger("nb-url-set",this),this},getUrl:function(){return this.$node.attr("href")},disable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("disable"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("enable"),this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.prop("disabled")},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},destroy:function(){this.$node&&this.$node.data("uiButton")&&this.$node.button("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),nb.define("tooltip-jq-toggler",{oninit:function(){this.onmouseenter=this.onmouseenter.bind(this),this.$node.tooltip(this._getParams()),this.$node.on("mouseenter",this.onmouseenter)},destroy:function(){this.$node.tooltip("destroy"),this.$node.off("mouseenter",this.onmouseenter),this.nbdestroy()},onmouseenter:function(){if(this.$node.hasClass("_nb-is-disabled"))return!0;this.$node.tooltip("open")},_getParams:function(){var e=this.nbdata()[this.name]||{},t={tooltipClass:"nb-tooltip nb-island _nb-small-fly-island"};return e.class&&(e.tooltipClass+=" "+e.class),e.content&&(t.content=e.content),e.position&&(t.position=e.position),t}},"base"),
/*!
 * @class nb.block.Checkbox
 * @augments nb.block.Base
 */
nb.define("checkbox",{events:{"change input":"onchange"},_onCheckboxChecked:function(e,t){t.name==this.getName()&&t.nb.$node.attr("id")!=this.$node.attr("id")&&this.uncheck()},onchange:function(){this.$control.prop("checked")?this.check():this.uncheck()},oninit:function(){if(this.$control=this.$node.find("input[type]"),this._isChecked=this.$control.prop("checked"),this.$control.on("click.nb-checkbox",(function(e){e.stopPropagation()})),document.documentMode&&document.documentMode<9){var e=this;this.$control.on("propertychange.nb-checkbox",(function(t){"checked"===t.originalEvent.propertyName&&e.onchange()}))}"radio"===this.getType()&&nb.on("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-inited",this)},getType:function(){return this.$control.attr("type")},isChecked:function(){return this._isChecked},check:function(){if(!this.isEnabled())return this;"radio"===this.getType()&&nb.trigger("checkbox:checked",{name:this.getName(),nb:this});var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!0}),this._isChecked=!0,this.trigger("nb-checked",this),e||this.trigger("nb-changed",this),this},uncheck:function(){if(!this.isEnabled())return this;var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!1}),this._isChecked=!1,this.trigger("nb-unchecked",this),e&&this.trigger("nb-changed",this),this},toggle:function(){return this.isEnabled()?(this.trigger("nb-change",this),this.isChecked()?this.uncheck():this.check(),this):this},isIndeterminate:function(){return this.$control.prop("indeterminate")},setIndeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!0),this.trigger("nb-indeterminated",this)),this},setDeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!1),this.trigger("nb-determinated",this)),this},isEnabled:function(){return!this.$control.prop("disabled")},enable:function(){return this.isEnabled()||(this.$node.removeClass("_nb-is-disabled"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},disable:function(){return this.isEnabled()&&(this.blur(),this.$node.addClass("_nb-is-disabled"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},focus:function(){return this.$control.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.$control.blur(),this.trigger("nb-blured",this),this},setLabel:function(e){return this.$node.find("._nb-checkbox-label").html(e),this.trigger("nb-label-set",this),this},getLabel:function(){return this.$node.find("._nb-checkbox-label").html()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},getValue:function(){var e=this.$control.attr("value");return"string"==typeof e?e:"on"},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},destroy:function(){this.$control.off(".nb-checkbox"),"radio"===this.getType()&&nb.off("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Select
 * @augments nb.block.Base
 */
nb.define("select",{events:{mousedown:"_onclick"},oninit:function(){if(this.isOpen=!1,this.$control=this.$node.find("select"),this.data=this.nbdata(),this.$dropdown=this.$node.children(".nb-select-dropdown").appendTo(this.data.appendto||"body"),this._updateFromSelect(),nb.IE_LT9){var e=this;this.$control.on("change",(function(t){e.setState({value:t.target.value})}))}else this.controlPrepare();this.trigger("nb-inited",this)},controlPrepare:function(){var e=this,t={collision:"flip"};e.data.within&&(t.within=e.data.within),"top"==e.data.direction?(t.my="left bottom",t.at="left top"):(t.my="left top",t.at="left bottom"),e._returnOptItem=function(e){var t=$(e),n=t.data("icon"),r=t.data("class"),i={};return t.attr("separator")?i={separator:!0,option:e}:(i={label:t.text(),value:t.val(),option:e},n&&(i.icon=n),r&&(i.className=r)),i},e.$node.autocomplete({disabled:e.$node.hasClass("_nb-is-disabled"),delay:0,minLength:0,autoFocus:!1,position:t,appendTo:e.$dropdown,source:function(t,n){n(e.$control.children(["option","optgroup"]).map((function(){var t=$(this);return"OPTGROUP"==this.tagName?{type:"group",label:t.attr("label"),option:this,group:t.children("option").map((function(){return e._returnOptItem(this)}))}:e._returnOptItem(this)})))},select:function(t,n){"group"!=n.item.type&&(n.item.option.selected=!0,e.$jUI._trigger("selected",t,{item:n.item.option}))},open:function(){e.$jUI._on(e.$jUI.document,{mousedown:function(t){1!=t.which||$.contains(e.$jUI.element.get(0),t.target)||$.contains(e.$dropdown[0],t.target)||this.close()}}),e.trigger("nb-opened",e)},close:function(){e.$jUI._off(e.$jUI.document,"mousedown"),e.trigger("nb-closed",e)}}).addClass("ui-widget ui-widget-content"),e.$jUI=e.$node.data("uiAutocomplete"),e.$node.on("autocompleteopen",(function(){e.isOpen=!0})),e.$node.on("autocompleteclose",(function(){e.isOpen=!1})),e.$jUI._renderItem=function(t,n){var r=$('<li class="_nb-select-item"></li>');if(n.className&&r.addClass(n.className),n.option.selected&&r.addClass("is-selected"),"group"==n.type){r.addClass("_nb-select-group-item");var i=$("<ul></ul>");n.group.each((function(t,n){e.$jUI._renderItem(i,n)})),r.append(i)}if(n.separator)r.addClass("_nb-select-seperator-item");else{r.data("ui-autocomplete-item",n);var o=$('<a class="_nb-select-a"></a>');"group"==n.type?o.html('<span class="_nb-select-text">'+n.label+"</span>"):o.text(n.label).appendTo(o),n.icon&&o.prepend('<img class="nb-icon nb-s-'+n.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'),r.append(o)}return r.appendTo(t),r},e.$jUI.valueMethod=function(t){if("string"==typeof t){var n=e.$control.find('option[value="'+t+'"]').text();e.setState({value:t,text:n})}return e.$selected.val()},e.$jUI.__resizeMenu=e.$jUI._resizeMenu,e.$jUI._resizeMenu=function(){e.data.maxheight&&e._setMaxHeight(e.data.maxheight),this.__resizeMenu()},e.$jUI.menu.element.on("click",(function(e){e.stopPropagation()}))},
/*!
         * Save value and text from <select> node.
         * @private
         */
_updateFromSelect:function(){this.$selected=this.$control.find(":selected"),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon})},_onclick:function(e){this.$node&&this.$node.data("uiAutocomplete")&&(e.preventDefault(),this.isOpen?this.close():this.isEnabled()&&(this.open(),this.$node.focus()))},_setText:function(e){var t=this.$node.find("._nb-button-content");e.text||e.icon?(t.text(e.text),e.icon&&(this.$node.addClass("_nb-with-icon"),e.text||this.$node.addClass("_nb-with-only-button"),t.prepend('<img class="nb-icon nb-s-'+e.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'))):this.$node.find("._nb-button-content").html("&nbsp;")},_setMaxHeight:function(e){var t;if(/^\d+$/.test(e)){var n=this.$jUI.menu.element.find("._nb-select-item").first();t=parseInt(n.height())*e}else t=e;this.$jUI.menu.element.css({"max-height":t,"overflow-y":"auto","overflow-x":"hidden"})},render:function(){return this.isEnabled()?(this.$node.autocomplete("search",""),this.trigger("nb-rendered",this),this):this},open:function(){return this.$node&&this.$node.data("uiAutocomplete")&&this.isEnabled()&&this.render(),this},close:function(){return this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("close"),this.trigger("nb-closed",this)),this},setState:function(e){var t;(e=e||{},this.value!==e.value)&&(0!==(t=e.value?this.$control.find('option[value="'+e.value+'"]').first():this.$control.find("option:contains("+e.text+")").first()).length&&(this.$selected.prop("selected",!1),this.$selected=t,this.$selected.prop("selected",!0),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon}),this.trigger("nb-changed",this),this.$control.val(e.value)));return this},getState:function(){return{value:this.value,text:this.text}},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.isEnabled()&&(this.$node.addClass("_nb-is-disabled"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.attr("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("disable"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("enable"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},setSource:function(e){if(!e)return this;e instanceof Array||(e=[e]);var t=[];e.forEach((function(e){e.selected&&t.push(e)})),t.slice(0,-1).forEach((function(e){e.selected=!1}));var n=yr.run(this.getYateModuleName(),{items:e},"nb-select-options");return this.$control.empty().append(n),this._updateFromSelect(),this.trigger("nb-source-changed",this),this},getSource:function(){return $.map(this.$control.children("option"),(function(e){var t=$(e);return{text:t.text(),value:t.val(),selected:t.prop("selected")}}))},addToSource:function(e,t){var n=this.getSource();e instanceof Array||(e=[e]);var r=null,i=e.filter((function(e){return!(-1!==n.indexOf(e))&&(e.selected&&(r=e.value),!0)}),this);return isNaN(t)&&(t=n.length),i.forEach((function(e,r){n.splice(t+r,0,e)}),this),this.setSource(n),r&&this.setState({value:r}),this.trigger("nb-source-changed",this),this},removeFromSource:function(e){var t,n=this.getSource();return"number"==typeof e||"string"==typeof e?t=parseInt(e):e instanceof Array||(e=[e]),t||0===t?n.splice(t,1):e.forEach((function(e){n=n.filter((function(t){return t.text!=e.text&&t.value!=e.value}))}),this),this.setSource(n),this.trigger("nb-source-changed",this),this},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},setOption:function(e){return this.$node.autocomplete("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$node.autocomplete("option",e)},destroy:function(){this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("destroy"),this.$dropdown.empty().appendTo(this.$node)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Slider
 * @augments nb.block.Base
 */
nb.define("slider",{oninit:function(){var e=this;return this.data=this.nbdata(),this.$control=this.$node.find("._nb-slider-fallback"),this.$body=this.$node.children("._nb-slider-body"),this.$body.show(),this.$body.slider({range:"min",disabled:this.$node.hasClass("_nb-is-disabled"),value:parseFloat(this.data.value),change:function(e,t){this.$control.val(t.value)}.bind(this)}),this.$body.on("slidestop",(function(t,n){e.trigger("nb-slider_slidestop",n.value)})),this.$body.on("slidestart",(function(t,n){e.trigger("nb-slider_slidestart",n.value)})),this.$body.on("slide",(function(t,n){e.trigger("nb-slider_slide",n.value)})),this.trigger("nb-inited",this),this},setValue:function(e){return this.$body.slider("option","disabled")?this:(this.$body.slider("value",e),this.trigger("nb-value-set",this),this)},getValue:function(){return this.$body.slider("option","value")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},getName:function(){return this.$control.prop("name")},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$body.slider("disable"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$body.slider("enable"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$body.slider("option","disabled")},destroy:function(){this.$body&&this.$body.data("uiSlider")&&this.$body.slider("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * ### jQuery UI Depends
 *
 * - jquery.ui.dialog.js
 * - jquery.ui.core.js
 * - jquery.ui.widget.js
 * - jquery.ui.button.js
 * - jquery.ui.draggable.js
 * - jquery.ui.mouse.js
 * - jquery.ui.position.js
 */
(function(){$.nb={};function e(e,t){return Math.min(Math.max(e,t[0]),t[1])}function t(e){return[{x:Math.round(e.left),y:Math.round(e.top)},{x:Math.round(e.left+e.width),y:Math.round(e.top+e.height)}]}
/*!
     *  Функция возвращает строку с модификаторами
     *  для обертки попапа, которую добавляет jquery ui,
     *  в соответсвии с модификаторами самого попапа
     *
     *  Например, для попапа заданы классы-модификаторы nb-popup_mod и nb-popup_another-mod,
     *  функция вернет строку 'nb-popup-outer_mod nb-popup-outer_another-mod'
     *
     */
function n(e){var t=e.split(" ")||[],n=/[^_]_(?!_)/;return $.map(t,(function(e){var t=e.split(n),r=t.length,i=t.pop(),o="";return r>1&&(o="nb-popup-outer_"+i),o})).join(" ")}$.widget("nb.baseDialog",$.ui.dialog,{options:{height:"auto",minHeight:"auto",width:"auto"},open:function(){this._super();var e=this;this.options.autoclose&&(this.options.modal?(this._onmousedown=function(t){2!==t.which&&3!==t.which&&(e.options.closedByOuterClick=!0,e.close())},this.overlay.click(this._onmousedown)):(this._onmousedown=function(t){var n=$(e.uiDialog[0]).find(".nb-popup").attr("id"),r=$(t.target).parents().addBack().filter('[data-nb="popup-toggler"]');2!==t.which&&3!==t.which&&($.contains(e.uiDialog[0],t.target)||r.length&&nb.find(r.attr("id"))&&nb.find(r.attr("id")).nbdata()["popup-toggler"].id==n||t.clientX>window.screen.width-18||(e.options.closedByOuterClick=!0,e.close()))},this.document.on("mousedown",this._onmousedown),this.document.on("touchstart",this._onmousedown))),this._onresize=$.throttle(1e3/60,this._position.bind(this)),this.window.on("resize",this._onresize),this._onpopupclose=nb.on("popup-close",(function(){e.options.autoclose&&e.close()}))},close:function(e){this._super(),e&&27===e.keyCode&&this.options.modal&&(this.nbBlock=this.nbBlock||nb.find($(this.uiDialog[0]).find(".nb-popup").attr("id")),this.nbBlock.trigger("nb-closed",this.nbBlock)),this.options.autoclose&&(this.document.off("mousedown",this._onmousedown),this.document.off("touchstart",this._onmousedown),this.document.off("click",this._onmousedown)),this._onresize&&this.window.off("resize",this._onresize),nb.off("popup-close",this._onpopupclose)},_focusTabbable:function(){this.options.autofocus&&this._super()},_keepFocus:$.noop,_create:function(){this._super(),this.element[0].widget=this},_destroy:function(){this._super(),delete this.element[0].widget},_position:function(){var e=this,t=this.options.position.using;this.options.position.using=function(n,r){var i,o,a=$.extend({},n);return $(r.element.element[0]).css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),"bottom"==r.vertical&&(o=e.window.height(),a.bottom=o-(a.top+r.element.height),a.top="auto"),"right"==r.horizontal&&(i=e.window.width(),a.right=i-(a.left+r.element.width),a.left="auto"),t.call(r.element.element[0],a,r)},this._super(),this.options.position.using=t},_createTitlebar:function(){this.uiDialogTitlebarClose=$()}}),$.widget("nb.contextDialog",$.nb.baseDialog,{tailOffset:13,options:{show:{effect:"nb",duration:150},hide:{effect:"nb",duration:150},draggable:!1,resizable:!1,position:{my:"center top",at:"center bottom",collision:"fit flip"}},_create:function(){this._super(),this.options.withoutTail||(this.$tail=$('<div class="_nb-popup-tail"><i/></div>'),this.$tail.prependTo(this.uiDialog))},_position:function(){var n=this,r=this.options.position.using,i={top:"",left:"",right:"",bottom:""};this.options.position.using=function(o,a){var s,u,c=a.element.element,l=c[0],f=(function(e,n){var r=t(n),i=t(e);if(r[0].y<=i[0].y&&r[1].y<=i[0].y)return"bottom";if(r[0].x>=i[1].x&&r[1].x>=i[1].x)return"left";if(r[0].y>=i[1].y&&r[1].y>=i[1].y)return"top";return"right"})(a.target,a.element),d=(function(e){return{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}})(a.target);return nb.node.setMod(l,"_nb-popup_to",(function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]})(f)),c.data("nb-tail-dir",f),n.options.withoutTail||(!(function(e){return"top"===e||"bottom"===e})(f)?(u=[n.tailOffset,a.element.height-n.tailOffset],s=e(Math.abs(d.y-a.element.top),u),n.$tail.css($.extend(i,{top:s+"px"}))):(u=[n.tailOffset,a.element.width-n.tailOffset],s=e(Math.abs(d.x-a.element.left),u),n.$tail.css($.extend(i,{left:s+"px"}))),o[f]+=n.tailOffset),r.call(l,o,a)},this._super(),this.options.position.using=r}}),jQuery.effects.effect.nb=function(e,t){var n=$(this),r=nb.block(n.find(".nb-popup").get(0)),i="hide"===$.effects.setMode(n,e.mode||"hide"),o=n.data("nb-tail-dir"),a=$.nb.contextDialog.prototype.tailOffset,s={};s.opacity=i?0:1,s[o]=(i?"+=":"-=")+a,r.animationInProgress=!1,r.animationInProgress?t():(i||(r.hasAnimation&&n.css(o,"+="+a),n.show()),r.animationInProgress=!0,r.hasAnimation?n.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){i?(n.hide(),r.animationInProgress=!1,r.trigger("nb-closed",r),t()):(r.animationInProgress=!1,r.trigger("nb-opened",r),t())}}):(n.css({opacity:"1"}),i?(n.hide(),r.trigger("nb-closed",r),t()):(r.trigger("nb-opened",r),t()),r.animationInProgress=!1))},nb.define("popup",{events:{"click ._nb-popup-close":"close",position:"onposition"},oninit:function(){"modal"in this.nbdata()&&(this.modal=!0),this._initPopupMenu()},_initPopupMenu:function(){if(this.$menu=this.$node.find("._nb-popup-menu").eq(0),this.$menu.length){var e=this;this.$menu.menu({select:function(t,n){e.trigger("nb-select",{event:t,ui:n})},focus:function(t,n){e.trigger("nb-focused",{event:t,ui:n})},blur:function(t,n){e.trigger("nb-blured",{event:t,ui:n})}})}},onposition:function(e,t){var n=t.where,r=t.how;this._move(n,r,t)},open:function(e){if(!e&&!this.modal)return console.warn("Trying to call popup.open() without params;"),this;var t=e||{},n=t.where,r=t.how;return this.where?(n!==this.where||n instanceof Array&&(n[0]!==this.where[0]||n[1]!==this.where[1]))&&this._move(n,r):(t.where||this.modal)&&(this.$node.removeClass("_nb-is-hidden"),this._move(n,r,t),this.modal?this.trigger("nb-opened"):this.trigger("nb-open-started")),this},close:function(){return this.where=null,this.isOpen()&&(this.node.widget.close(),this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started")),this.node&&this.node.widget&&this.node.widget.options.closedByOuterClick&&(this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started"),this.node.widget.options.closedByOuterClick=!1),this},setContent:function(e){return this.$menu.length?(this.$menu.menu("destroy"),this.$menu.replaceWith(e),this._initPopupMenu()):this.$node.find("._nb-popup-content").html(e),this.trigger("nb-content-set"),this},getContent:function(){return this.$node.find("._nb-popup-content").html()},isOpen:function(){return this.node&&this.node.widget&&this.node.widget.isOpen()},destroy:function(){this.node&&this.node.widget&&(this.node.widget.destroy(),this.$node.addClass("_nb-is-hidden")),this.trigger("nb-destroyed",this),this.nbdestroy()},_move:function(e,t,r){this.where=e;var i=this,o=(r=r||{},t=t||{},this.nbdata());"fixed"!==t&&"fixed"!==o.how||(t={fixed:!0});var a=!1;t.fixed&&(a=!0);var s=function(e){$(this).css(e)},u=!0;void 0!==t.autoclose&&(u=t.autoclose),void 0!==r.autoclose&&(u=r.autoclose);var c=!0;if(void 0!==t.autofocus&&(c=t.autofocus),void 0!==r.autofocus&&(c=r.autofocus),this.hasAnimation=!0,void 0!==t.animation&&(this.hasAnimation=t.animation),void 0!==r.animation&&(this.hasAnimation=r.animation),this.modal){var l=r.class||"_nb-popup-outer ui-dialog-fixed ";return l+=n(this.$node.attr("class")),void $(this.node).baseDialog({height:r.height||o.height,minHeight:r.minHeight||o.minheight,maxHeight:r.maxHeight||o.maxheight,width:r.width||o.width,show:"fade",hide:"fade",modal:!0,resizable:!1,draggable:!1,dialogClass:l,close:function(){i.close()},appendTo:r.appendTo,position:{using:s},autoclose:u,autofocus:c})}if(!this.animationInProgress){l="_nb-popup-outer ui-dialog-no-close ";r.class&&(l+=r.class),a&&(l+=" ui-dialog-fixed"),l+=n(this.$node.attr("class")),this.$node.hide().contextDialog({height:r.height||o.height||"auto",minHeight:r.minHeight||o.minheight||"auto",maxHeight:r.maxHeight||o.maxheight||"auto",width:r.width||o.width||"auto",dialogClass:l,position:{at:t.at?t.at:"center bottom",my:t.my?t.my:"center top",fixed:a,of:$(this.where),collision:t.collision?t.collision:"fit flip",using:t.using||s,within:t.within},close:function(){i.close()},appendTo:r.appendTo||t.appendTo,autoclose:u,autofocus:c,withoutTail:r.withoutTail||o.withouttail||!1})}}},"base")})(),nb.define("popup-toggler",{events:{click:"toggle"},oninit:function(){var e=this;this.data=this.nbdata()["popup-toggler"],this.popup=nb.find(this.data.id),this.popup&&(this.popup.on("nb-closed",(function(){e.trigger("nb-closed",e)})),this.popup.on("nb-opened",(function(){e.trigger("nb-opened",e)}))),this.options={where:this.data.where||this.node,how:this.data.how,withoutTail:this.data.withoutTail,autoclose:this.data.autoclose,autofocus:this.data.autofocus,appendTo:this.data.appendTo},this.trigger("nb-inited",this)},toggle:function(e){return e&&e.preventDefault(),this.popup&&this.popup.isOpen()?this.close(e):this.open(e),this},open:function(e){return e&&e.preventDefault(),this.isEnabled()&&this.popup&&!this.popup.isOpen()&&(this.popup.open(this.options),this.trigger("nb-open-started",this)),this},close:function(){return this.isEnabled()&&this.popup&&this.popup.isOpen()&&(this.popup.close(),this.trigger("nb-close-started",this)),this},getPopup:function(){return this.popup},setPopup:function(e){if("string"==typeof e){var t={};t.popup=e,e=t}if(1===arguments.length&&"object"==typeof e&&e.popup){var n=e.popup;delete e.popup,e.where&&(this.options=e),this.popup="string"==typeof n?nb.find(n):n,this.trigger("nb-popup-set",this)}return this},getOptions:function(){return this.options},setOptions:function(e){return 1===arguments.length&&"object"==typeof e&&(this.options=e,this.trigger("nb-options-set",this)),this},disable:function(){return this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},destroy:function(){this.nbdestroy()}},"base"),(function(){var e=function(e,t){e.$control.get(0).attachEvent?e.$control.get(0).attachEvent("onpropertychange",(function(e){"value"===e.propertyName&&t(e)})):e.$control.on("input",t)};
/*!
     * @class nb.block.Input
     * @augments nb.block.Base
     */nb.define("input",{events:{click:"focus","mousedown ._nb-input-reset":"reset"},oninit:function(){var t=this;this.data=this.nbdata(),"simple"==this.data.type?this.$control=this.$node:this.$control=this.$node.find("._nb-input-controller"),this.focused=!1,this.disabled=this.$control.prop("disabled"),this.value=this.getValue(),this.$reset=this.$node.find("._nb-input-reset"),this.$hint=this.$node.find("._nb-input-hint"),this.$control.on("focusin",(function(e){t.focused||t._onfocus(e)})),this.$control.on("focusout",(function(e){t.focused&&t._onblur(e)})),this.$control.on("change",(function(e){t.trigger("nb-changed",t,e)})),e(this,(function(e){t.value=t.getValue(),""!==t.value&&t.$reset.length?t.$reset.css("visibility","visible"):t.$reset.css("visibility","hidden"),t.trigger("nb-input",this,e)})),this.$hint.length&&this._inithint(),this.data.ghost&&this.$node.on("mouseover mouseout",(function(){t.$node.toggleClass("_nb-is-ghost")})),this.data.error&&(this.error=nb.find(this.data.error.id)),""===this.value&&this.$reset.length&&this.$reset.css("visibility","hidden"),this._onmousedown=function(e){$.contains(this.$node.get(0),e.target)||this._onblur(e)}.bind(this),$(document).on("mousedown",this._onmousedown),$(document).on("touchstart",this._onmousedown),this.trigger("nb-inited",this)},_inithint:function(){var t=this;this.$control.removeAttr("placeholder"),this.$hintGhost=this.$hint.find("._nb-input-hint-ghost"),this.$hintGhost.length?(this.$hintGhost.html(t.getValue()),e(this,(function(){t.$hintGhost.html(t.getValue())}))):(t.$hint.css("visibility","visible"),e(this,(function(){""===t.getValue()?t.$hint.css("visibility","inherit"):t.$hint.css("visibility","hidden")})))},_onfocus:function(e){this.$node.addClass("_nb-is-focused"),this.focused=!0,e||this.$control.focus(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","hidden"),this.data.ghost&&this.$node.removeClass("_nb-is-ghost")},_onblur:function(e){this.$node.removeClass("_nb-is-focused"),this.focused=!1,e||this.$control.blur(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","inherit"),this.data.ghost&&this.$node.addClass("_nb-is-ghost")},showError:function(e){var t=this.focused;e=e||{};if(this.data.error){this.$node.addClass("_nb-is-wrong");var n={collision:"flip flip"};this.data.error.direction&&"left"==this.data.error.direction?(n.at="left",n.my="right"):(n.at="right",n.my="left"),"string"==typeof e&&this.setErrorContent(e),e.content&&this.setErrorContent(e.content),this.error.isOpen()||(this.error.open({autoclose:e.autoclose||!1,autofocus:!1,where:e.where||this.node,how:e.how||n,appendTo:e.appendTo||!1,class:e.class||!1}),t&&this._onfocus())}return this},hideError:function(){var e=this.focused;return this.data.error&&(this.$node.removeClass("_nb-is-wrong"),this.error.close(),e&&this._onfocus()),this},setErrorContent:function(e){return this.data.error&&(this.error.$node.find("._nb-popup-content").html(e),this.trigger("nb-error-content-set",this)),this},focus:function(){return!this.focused&&this.isEnabled()&&(nb.trigger("nb-focusout"),this._onfocus(),this.trigger("nb-focused",this)),this},blur:function(){return this.focused&&this.isEnabled()&&(this._onblur(),this.trigger("nb-blured",this)),this},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$control.prop("disabled",!0),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$control.prop("disabled",!1),this.trigger("nb-enabled",this),this},setValue:function(e){return this.value!=e&&(this.value=e,this.$control.val(e),this.$control.trigger("input"),this.trigger("nb-value-set",this),this.trigger("nb-changed",this)),this},getValue:function(){return this.$control.val()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},isEnabled:function(){return!this.$control.prop("disabled")},reset:function(e){return e&&e.preventDefault&&e.preventDefault(),this.setValue(""),this},setHint:function(e){return this.$hint.length&&(this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html(e):this.$hint.find("._nb-input-hint-inner").html(e),this.trigger("nb-hint-set",this)),this},getHint:function(){var e="";return this.$hint.length&&(e=this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html():this.$hint.find("._nb-input-hint-inner").html()),e},destroy:function(){this.trigger("nb-destroyed",this),this.error&&(this.error.nbdestroy(),this.error.$node.remove()),$(document).off("mousedown",this._onmousedown),$(document).off("touchstart",this._onmousedown),this.nbdestroy()}},"base")})(),nb.define("input-group",{events:{click:"oninit",disable:"onDisable",enable:"onEnable"},oninit:function(){var e=this;e.disabled=this.nbdata().disabled,$(this.children()).each((function(){this.$node.hasClass("nb-input")?e.input=this:e.button=this}))},
/*!
     * Disables the input-group
     */
onDisable:function(){this.input.trigger("disable"),this.button.disable(),this.disabled=!0},
/*!
     * Enables the input-group
     */
onEnable:function(){this.input.trigger("enable"),this.button.enable(),this.disabled=!1}},"base"),nb.define("progress",{oninit:function(){var e=this.nbdata();e&&e.type&&(this.type=e.type),this.$title=this.$node.find(".js-title"),this.$control=this.$node.find("input"),this.$bar=this.$node.find(".js-bar")},setValue:function(e){var t=parseFloat(e);return this.$control.val(t),this.$bar.css({width:t+"%"}),"percentage"==this.type&&this.$title.html(t+"%"),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.val()},tick:function(){var e=parseFloat(this.getValue());return e<100&&e++,this.setValue(e),this.trigger("nb-changed",this),this}},"base"),nb.define("tabs",{oninit:function(){this.$node.tabs()}},"base"),nb.define("header",{events:{"click .nb-header-button":"togglePress"},
/*!
     * Toggles pressed state of button
     */
togglePress:function(e){var t=$(e.target);t.closest(".nb-header-button").toggleClass("nb-header-pressed-button"),t.hasClass("nb-services-icon")&&nb.trigger("services-click"),t.hasClass("nb-settings-icon")&&nb.trigger("settings-click")}},"base"),(function(){$.widget("ui.suggest",$.ui.autocomplete,{options:{
/*!
         * Истоник данных
         * @description См. http://api.jqueryui.com/autocomplete/#option-source
         *
         * @type {(String|Array|Function)}
         */
source:null,
/*!
         * Количество элеметов, при котором в выпадающем списке появляется скролл
         *
         * @type {Number}
         */
countMax:10,
/*!
         * Тип саджеста
         * @description
         *     Указывает из какого шаблона брать верстку для элемента выпадающего списка.
         *     См. файл suggest.yate: match /[.type].item nb-suggest
         *
         * @type {String}
         */
type:"default",
/*!
         * Включение или отключение выделения жирным начертанием результатов
         * матчинга в выпадающем списке.
         *
         * @type {Boolean}
         */
highlight:!1,
/*!
         * Размер блока.
         * @description Применятся на размер элементов в выпадающем списке.
         *
         * @type {String}
         */
size:"s",
/*!
         * Количесвто введенных символов, после которого начинать поиск слов
         */
minLength:2},_resizeMenu:function(){this.menu.element.width($(this.options.position.of).outerWidth())},_renderMenu:function(e,t){var n=this,r="";$.each(t,(function(e,t){r+=n._renderItem(t)})),$(r).appendTo(e),e.children("li").each((function(e){$(this).data("ui-autocomplete-item",t[e])}))},_renderItem:function(t){var n=$.extend({},t);this.options.highlight&&("function"==typeof e[this.options.type]?e[this.options.type](n,this._value()):"function"==typeof this.options.highlight&&this.options.highlight(n,this._value())),n.labelContent=n.label,delete n.label;var r={item:n,type:this.options.type,size:this.options.size};return $.isFunction(this.options.renderItem)?this.options.renderItem(r):'<li><a href="#">'+n.labelContent+"</a></li>"},_suggest:function(e){this._super(e),this.options.countMax&&!this._heightMax&&(this._heightMax=this.menu.element.children().eq(0).height()*this.options.countMax,this.menu.element.css({"max-height":this._heightMax,"overflow-y":"auto","overflow-x":"hidden"}))},_value:function(e){if(!e)return this._super.apply(this,arguments);this._trigger("_setvalue",null,e)},search:function(e,t){return this._trigger("_search"),this._super(e,t)}});var e={default:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","i");e.label=e.label.replace(n,"<b>$1</b>")},username:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","ig");e.usernameHighlighted=e.username.replace(n,'<span class="_nb-suggest-hl">$1</span>'),"string"==typeof e.email&&(e.emailHighlighted=e.email.replace(n,'<span class="_nb-suggest-hl">$1</span>'))}};
/*!
     * @class nb.block.Suggest
     * @augments nb.block.Base
     */nb.define("suggest",{oninit:function(){var e=this,t=this.$node[0].tagName.toLowerCase();"input"===t||"textarea"===t?this.$control=this.$node:(this.$control=this.$node.find("input"),this.input=nb.block(this.$node.find(".nb-input").get(0)));var n=this.$node.data("source");this.$control.on("keydown.nb-suggest",function(e){var t=$.ui.keyCode;-1!==$.inArray(e.keyCode,[t.ENTER,t.NUMPAD_ENTER])&&(this.$jUI.data().uiSuggest.menu.active||this.trigger("nb-keypress-enter",this,this.getValue()))}.bind(this)),this.$jUI=this.$control.suggest({source:n,position:{of:this.$node.get(0)},countMax:this.$node.data("countMax"),type:this.$node.data("type"),size:this.$node.data("size"),highlight:this.$node.data("highlight"),minLength:this.$node.data("minLength"),renderItem:function(t){return yr.run(e.getYateModuleName(),t,"nb-suggest")},search:this.onBeforeStartSearch.bind(this)}),this.$suggest=this.$jUI.data().uiSuggest.menu.element,this.$suggest.addClass(this.$node.data("class-suggest")),this.$jUI.on("suggest_search.nb-suggest",function(){this.trigger("nb-type",this,this.getValue())}.bind(this)),this.$jUI.on("suggest_setvalue.nb-suggest",this.onSetValueToInput.bind(this)),this.$jUI.on("suggestselect.nb-suggest",this.onSelectValue.bind(this)),this.trigger("nb-inited",this)},onBeforeStartSearch:function(e){var t=this.getSelected();t&&this.getValue()===t.value&&e.preventDefault()},onSelectValue:function(e,t){this.$selected=t.item,this.trigger("nb-select",this,t.item)},onSetValueToInput:function(e,t){this.input?this.input.setValue(t):this.$control.val(t)},getSelected:function(){return this.$selected},setOption:function(e){return this.$jUI.suggest("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$jUI.suggest("option",e)},setSource:function(e){return this.setOption({source:e}),this.trigger("nb-source-set",this),this},getSource:function(){return this.getOption("source")},close:function(){return this.$jUI.suggest("close"),this.trigger("nb-closed",this),this},disable:function(){return this.isEnabled()&&(this.input?this.input.disable():this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.$jUI.suggest("disable"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.input?this.input.enable():this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.$jUI.suggest("enable"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},focus:function(){return this.isEnabled()&&(this.input?this.input.focus():this.$control.focus()),this.trigger("nb-focused",this),this},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},blur:function(){return this.isEnabled()&&(this.input?this.input.blur():this.$control.blur()),this.trigger("nb-blured",this),this},getValue:function(){return this.$control.val()},setValue:function(e){return this.isEnabled()&&(this.$control.val(e),this.trigger("nb-value-set",this)),this},search:function(e){return this.$jUI.suggest("search",e),this},destroy:function(){if(this.$control&&this.$jUI){var e=this.$jUI.data();this.$control.off(".nb-suggest"),this.$jUI.off(".nb-suggest"),e&&e.uiSuggest&&this.$jUI.suggest("destroy")}this.trigger("nb-destroyed",this),this.nbdestroy()}},"base")})(),nb.define("toggler",{events:{click:"toggle"},
/*!
     * Init the toggler
     * @fires 'nb-inited'
     */
oninit:function(){return this.$control=this.$node.find("._nb-toggler-checkbox"),this.trigger("nb-inited",this),this},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.prop("value")},toggle:function(){return this.isEnabled()&&(this.isChecked()?this.uncheck():this.check(),this.trigger("nb-changed",this)),this},getName:function(){return this.$control.attr("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$control.prop("disabled")},focus:function(){return this.isEnabled()&&(this.$node.hasClass("_nb-is-focused")||(this.$node.addClass("_nb-is-focused").focus(),this.focused=!0,this.$control.focus(),this.trigger("nb-focused",this))),this},blur:function(){return this.$node.removeClass("_nb-is-focused").blur(),this.focused=!1,this.trigger("nb-blured",this),this},isChecked:function(){return this.$control.prop("checked")},check:function(){return this.isEnabled()&&!this.isChecked()&&(this.$control.prop({checked:!0}),this.$node.addClass("_nb-is-checked"),this.trigger("nb-checked",this)),this},uncheck:function(){return this.isEnabled()&&this.isChecked()&&(this.$control.prop({checked:!1}),this.$node.removeClass("_nb-is-checked"),this.trigger("nb-unchecked",this)),this},destroy:function(){this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),module.exports=nb}),(function(e,t,n){(function(r,i){var o;!(function(a){var s=function(e){this._res=e,this._isFulfilled=!!arguments.length,this._isRejected=!1,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[]};s.prototype={valueOf:function(){return this._res},isFulfilled:function(){return this._isFulfilled},isRejected:function(){return this._isRejected},isResolved:function(){return this._isFulfilled||this._isRejected},fulfill:function(e){this.isResolved()||(this._isFulfilled=!0,this._res=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},reject:function(e){this.isResolved()||(this._isRejected=!0,this._res=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},notify:function(e){this.isResolved()||this._callCallbacks(this._progressCallbacks,e)},then:function(e,t,n,r){t&&!f(t)?(r=t,t=void 0):n&&!f(n)&&(r=n,n=void 0);var i,o=new s;return this._isRejected||(i={promise:o,fn:f(e)?e:void 0,ctx:r},this._isFulfilled?this._callCallbacks([i],this._res):this._fulfilledCallbacks.push(i)),this._isFulfilled||(i={promise:o,fn:t,ctx:r},this._isRejected?this._callCallbacks([i],this._res):this._rejectedCallbacks.push(i)),this.isResolved()||this._progressCallbacks.push({promise:o,fn:n,ctx:r}),o},fail:function(e,t){return this.then(void 0,e,t)},always:function(e,t){var n=this,r=function(){return e.call(this,n)};return this.then(r,r,t)},progress:function(e,t){return this.then(void 0,void 0,e,t)},spread:function(e,t,n){return this.then((function(t){return e.apply(this,t)}),t,n)},done:function(e,t,n,r){this.then(e,t,n,r).fail(l)},delay:function(e){var t,n=this.then((function(n){var r=new s;return t=setTimeout((function(){r.fulfill(n)}),e),r}));return n.always((function(){clearTimeout(t)})),n},timeout:function(e){var t=new s,n=setTimeout((function(){t.reject(Error("timed out"))}),e);return t.sync(this),t.always((function(){clearTimeout(n)})),t},sync:function(e){e.then(this.fulfill,this.reject,this.notify,this)},_callCallbacks:function(e,t){var n=e.length;if(n){var r=this.isResolved(),i=this.isFulfilled();c((function(){for(var o,a,s,c=0;c<n;)if(a=(o=e[c++]).promise,s=o.fn){var l,f=o.ctx;try{l=f?s.call(f,t):s(t)}catch(e){a.reject(e);continue}r?u.isPromise(l)?(function(e){l.then((function(t){e.fulfill(t)}),(function(t){e.reject(t)}),(function(t){e.notify(t)}))})(a):a.fulfill(l):a.notify(l)}else r?i?a.fulfill(t):a.reject(t):a.notify(t)}))}}};var u={Promise:s,promise:function(e){return arguments.length?u.isPromise(e)?e:new s(e):new s},when:function(e,t,n,r,i){return u.promise(e).then(t,n,r,i)},fail:function(e,t,n){return u.when(e,void 0,t,n)},always:function(e,t,n){return u.promise(e).always(t,n)},progress:function(e,t,n){return u.promise(e).progress(t,n)},spread:function(e,t,n,r){return u.promise(e).spread(t,n,r)},done:function(e,t,n,r,i){u.promise(e).done(t,n,r,i)},isPromise:function(e){return e&&f(e.then)},valueOf:function(e){return u.isPromise(e)?e.valueOf():e},isFulfilled:function(e){return!u.isPromise(e)||e.isFulfilled()},isRejected:function(e){return!!u.isPromise(e)&&e.isRejected()},isResolved:function(e){return!u.isPromise(e)||e.isResolved()},fulfill:function(e){return u.when(e,void 0,(function(e){return e}))},reject:function(e){return u.when(e,(function(e){var t=new s;return t.reject(e),t}))},resolve:function(e){return u.isPromise(e)?e:u.when(e)},invoke:function(e){try{return u.promise(e.apply(a,d.call(arguments,1)))}catch(e){return u.reject(e)}},forEach:function(e,t,n,r){for(var i=r?r.length:e.length,o=0;o<i;)u.when(e[r?r[o]:o],t,n),++o},all:function(e){var t=new s,n=h(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=i;return u.forEach(e,(function(){if(!--a){for(var n=0;n<i;)o[r[n]]=u.valueOf(e[r[n++]]);t.fulfill(o)}}),(function(e){t.reject(e)}),r),t},allResolved:function(e){var t=new s,n=h(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=function(){--i||t.fulfill(e)};return u.forEach(e,a,a,r),t},allPatiently:function(e){return u.allResolved(e).then((function(){var t,n,r,i,o=h(e),a=o?m(e):v(e),s=a.length,c=0;if(!s)return o?[]:{};for(;c<s;)r=a[c++],i=e[r],u.isRejected(i)?(t||(t=o?[]:{}),o?t.push(i.valueOf()):t[r]=i.valueOf()):t||((n||(n=o?[]:{}))[r]=u.valueOf(i));if(t)throw t;return n}))},any:function(e){var t=new s,n=e.length;if(!n)return t.reject(Error()),t;var r,i=0;return u.forEach(e,(function(e){t.fulfill(e)}),(function(e){i||(r=e),++i===n&&t.reject(r)})),t},delay:function(e,t){return u.promise(e).delay(t)},timeout:function(e,t){return u.promise(e).timeout(t)}},c=(function(){var e=[],t=function(t){return 1===e.push(t)},n=function(){var t=e,n=0,r=e.length;for(e=[];n<r;)t[n++]()};if("function"==typeof r)return function(e){t(e)&&r(n)};if("object"==typeof i&&i.nextTick)return function(e){t(e)&&i.nextTick(n)};if(a.postMessage){var o=!0;if(a.attachEvent){var s=function(){o=!1};a.attachEvent("onmessage",s),a.postMessage("__checkAsync","*"),a.detachEvent("onmessage",s)}if(o){var u="__promise"+ +new Date,c=function(e){e.data===u&&(e.stopPropagation&&e.stopPropagation(),n())};return a.addEventListener?a.addEventListener("message",c,!0):a.attachEvent("onmessage",c),function(e){t(e)&&a.postMessage(u,"*")}}}var l=a.document;if("onreadystatechange"in l.createElement("script")){return function(e){t(e)&&(function(){var e=l.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(l.documentElement||l.body).appendChild(e)})()}}return function(e){t(e)&&setTimeout(n,0)}})(),l=function(e){c((function(){throw e}))},f=function(e){return"function"==typeof e},d=Array.prototype.slice,p=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=function(e){for(var t=[],n=0,r=e.length;n<r;)t.push(n++);return t},v=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};e.exports=u,"object"==typeof modules&&modules.define("vow",(function(e){e(u)})),void 0===(o=function(e,t,n){n.exports=u}.call(t,n,t,e))||(e.exports=o),!1&&(a.Vow=u)})(this)}).call(this,n(342).setImmediate,n(289))}),(function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(131))}),(function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&(function(e,t){for(var n in t)e.setAttribute(n,t[n])})(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}}),(function(e,t,n){(function(t,n){e.exports=(function(){"use strict";var e=void 0;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e||void 0===t||"node"!==t.title||(e=n);var r=e=e||function(e){window.setTimeout(e,1e3/60)},i=Array.prototype.concat,o=Array.prototype.slice;function a(e){return r(e)}function s(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var u={};function c(e){if(u[e])return u[e];var t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=t.match(/.{2}/g);if(!n||n.length<3)throw new Error("Expected a color string of format #rrggbb");var r={r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)};return u[e]=r,r}function l(e,t,n){var r=e.toString(16),i=t.toString(16),o=n.toString(16);return r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,o=o.length<2?"0"+o:o,"#"+r+i+o}var f=Object.freeze({bind:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];e.apply(t,i.call(r,o.call(a)))}},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},onFrame:a,removeFirst:s,hexToRGB:c,rgbToHex:l});function d(e,t,n,r,i){var o=n-t,a=i-r,s=(e-t)/o;return r+s*a}var p=Object.freeze({mapValueInRange:d,interpolateColor:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],a=c(t),s=c(n),u=Math.floor(d(e,r,i,a.r,s.r)),f=Math.floor(d(e,r,i,a.g,s.g)),p=Math.floor(d(e,r,i,a.b,s.b));return o?"rgb("+u+","+f+","+p+")":l(u,f,p)},degreesToRadians:function(e){return e*Math.PI/180},radiansToDegrees:function(e){return 180*e/Math.PI}});function h(e){return 3.62*(e-30)+194}function m(e){return 3*(e-8)+25}var v=Object.freeze({tensionFromOrigamiValue:h,origamiValueFromTension:function(e){return(e-194)/3.62+30},frictionFromOrigamiValue:m,origamiFromFriction:function(e){return(e-25)/3+8}}),g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=(function(){function e(){g(this,e),this.springSystem=null}return e.prototype.run=function(){var e=w.call(this);a((function(){e.loop(Date.now())}))},e})(),_=(function(){function e(t){g(this,e),this.springSystem=null,this.time=0,this.running=!1,this.timestep=t||16.667}return e.prototype.run=function(){var e=w.call(this);if(!this.running){for(this.running=!0;!e.getIsIdle();)e.loop(this.time+=this.timestep);this.running=!1}},e})(),O=(function(){function e(){g(this,e),this.springSystem=null,this.time=0,this.running=!1}return e.prototype.run=function(){},e.prototype.step=function(e){var t=w.call(this);t.loop(this.time+=e)},e})();function w(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var E=Object.freeze({AnimationLooper:b,SimulationLooper:_,SteppingSimulationLooper:O}),S=(function(){function e(t,n){g(this,e),this.bounciness=t,this.speed=n;var r=this.normalize(t/1.7,0,20);r=this.projectNormal(r,0,.8);var i=this.normalize(n/1.7,0,20);this.bouncyTension=this.projectNormal(i,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(r,this.b3Nobounce(this.bouncyTension),.01)}return e.prototype.normalize=function(e,t,n){return(e-t)/(n-t)},e.prototype.projectNormal=function(e,t,n){return t+e*(n-t)},e.prototype.linearInterpolation=function(e,t,n){return e*n+(1-e)*t},e.prototype.quadraticOutInterpolation=function(e,t,n){return this.linearInterpolation(2*e-e*e,t,n)},e.prototype.b3Friction1=function(e){return 7e-4*Math.pow(e,3)-.031*Math.pow(e,2)+.64*e+1.28},e.prototype.b3Friction2=function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2},e.prototype.b3Friction3=function(e){return 4.5e-7*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84},e.prototype.b3Nobounce=function(e){return e<=18?this.b3Friction1(e):e>18&&e<=44?this.b3Friction2(e):this.b3Friction3(e)},e})(),x=(function(){function e(t,n){g(this,e),this.tension=t,this.friction=n}return e.fromOrigamiTensionAndFriction=function(t,n){return new e(h(t),m(n))},e.fromBouncinessAndSpeed=function(t,n){var r=new S(t,n);return e.fromOrigamiTensionAndFriction(r.bouncyTension,r.bouncyFriction)},e.coastingConfigWithOrigamiFriction=function(t){return new e(0,m(t))},e})();x.DEFAULT_ORIGAMI_SPRING_CONFIG=x.fromOrigamiTensionAndFriction(40,7);var C=function e(){g(this,e),this.position=0,this.velocity=0},T=(function(){function e(t){g(this,e),this.listeners=[],this._startValue=0,this._currentState=new C,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new C,this._restSpeedThreshold=.001,this._tempState=new C,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+e._ID++,this._springSystem=t}return e.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},e.prototype.getId=function(){return this._id},e.prototype.setSpringConfig=function(e){return this._springConfig=e,this},e.prototype.getSpringConfig=function(){return this._springConfig},e.prototype.setCurrentValue=function(e,t){return this._startValue=e,this._currentState.position=e,t||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},e.prototype.getStartValue=function(){return this._startValue},e.prototype.getCurrentValue=function(){return this._currentState.position},e.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},e.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},e.prototype.setEndValue=function(e){if(this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t],i=r.onSpringEndStateChange;i&&i(this)}return this},e.prototype.getEndValue=function(){return this._endValue},e.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},e.prototype.getVelocity=function(){return this._currentState.velocity},e.prototype.setRestSpeedThreshold=function(e){return this._restSpeedThreshold=e,this},e.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},e.prototype.setRestDisplacementThreshold=function(e){this._displacementFromRestThreshold=e},e.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},e.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},e.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},e.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},e.prototype.advance=function(t,n){var r=this.isAtRest();if(!r||!this._wasAtRest){var i=n;n>e.MAX_DELTA_TIME_SEC&&(i=e.MAX_DELTA_TIME_SEC),this._timeAccumulator+=i;for(var o=this._springConfig.tension,a=this._springConfig.friction,s=this._currentState.position,u=this._currentState.velocity,c=this._tempState.position,l=this._tempState.velocity,f=void 0,d=void 0,p=void 0,h=void 0,m=void 0,v=void 0,g=void 0,y=void 0,b=void 0;this._timeAccumulator>=e.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=e.SOLVER_TIMESTEP_SEC,this._timeAccumulator<e.SOLVER_TIMESTEP_SEC&&(this._previousState.position=s,this._previousState.velocity=u),f=u,d=o*(this._endValue-c)-a*u,c=s+f*e.SOLVER_TIMESTEP_SEC*.5,l=u+d*e.SOLVER_TIMESTEP_SEC*.5,p=l,h=o*(this._endValue-c)-a*l,c=s+p*e.SOLVER_TIMESTEP_SEC*.5,l=u+h*e.SOLVER_TIMESTEP_SEC*.5,m=l,v=o*(this._endValue-c)-a*l,c=s+m*e.SOLVER_TIMESTEP_SEC,l=u+v*e.SOLVER_TIMESTEP_SEC,g=l,y=o*(this._endValue-c)-a*l,b=1/6*(d+2*(h+v)+y),s+=1/6*(f+2*(p+m)+g)*e.SOLVER_TIMESTEP_SEC,u+=b*e.SOLVER_TIMESTEP_SEC;this._tempState.position=c,this._tempState.velocity=l,this._currentState.position=s,this._currentState.velocity=u,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/e.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),r=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var O=!1;r&&(this._wasAtRest=!0,O=!0),this.notifyPositionUpdated(_,O)}},e.prototype.notifyPositionUpdated=function(e,t){for(var n=0,r=this.listeners.length;n<r;n++){var i=this.listeners[n];e&&i.onSpringActivate&&i.onSpringActivate(this),i.onSpringUpdate&&i.onSpringUpdate(this),t&&i.onSpringAtRest&&i.onSpringAtRest(this)}},e.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},e.prototype.wasAtRest=function(){return this._wasAtRest},e.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},e.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},e.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},e.prototype.getListeners=function(){return this.listeners},e.prototype.addListener=function(e){return this.listeners.push(e),this},e.prototype.removeListener=function(e){return s(this.listeners,e),this},e.prototype.removeAllListeners=function(){return this.listeners=[],this},e.prototype.currentValueIsApproximately=function(e){return Math.abs(this.getCurrentValue()-e)<=this.getRestDisplacementThreshold()},e})();T._ID=0,T.MAX_DELTA_TIME_SEC=.064,T.SOLVER_TIMESTEP_SEC=.001;var k=(function(){function e(t){g(this,e),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=t||new b,this.looper.springSystem=this}return e.prototype.setLooper=function(e){this.looper=e,e.springSystem=this},e.prototype.createSpring=function(e,t){var n=void 0;return n=void 0===e||void 0===t?x.DEFAULT_ORIGAMI_SPRING_CONFIG:x.fromOrigamiTensionAndFriction(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithBouncinessAndSpeed=function(e,t){var n=void 0;return n=void 0===e||void 0===t?x.DEFAULT_ORIGAMI_SPRING_CONFIG:x.fromBouncinessAndSpeed(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithConfig=function(e){var t=new T(this);return this.registerSpring(t),t.setSpringConfig(e),t},e.prototype.getIsIdle=function(){return this._isIdle},e.prototype.getSpringById=function(e){return this._springRegistry[e]},e.prototype.getAllSprings=function(){var e=[];for(var t in this._springRegistry)this._springRegistry.hasOwnProperty(t)&&e.push(this._springRegistry[t]);return e},e.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},e.prototype.deregisterSpring=function(e){s(this._activeSprings,e),delete this._springRegistry[e.getId()]},e.prototype.advance=function(e,t){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,r=this._activeSprings.length;n<r;n++){var i=this._activeSprings[n];i.systemShouldAdvance()?i.advance(e/1e3,t/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(i))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},e.prototype.loop=function(e){var t=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},e.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){s(this.listeners,e)},e.prototype.removeAllListeners=function(){this.listeners=[]},e})();return y({},E,{OrigamiValueConverter:v,MathUtil:p,Spring:T,SpringConfig:x,SpringSystem:k,util:y({},f,p)})})()}).call(this,n(289),n(342).setImmediate)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),i=n(41);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}}),(function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(49),u=n(311),c=n(82),l=n(282),f=a(n(14)),d=n(108),p=a(n(9)),h=n(53),m=n(16),v=n(112),g=a(n(33)),y=a(n(46)),b=n(36),_=n(15),O=n(245),w=n(27),E=n(40),S=n(18),x=n(15),C=n(226),T=n(15),k=a(n(22)),j=100,P=40;function R(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,s.select()];case 1:return t=i.sent().config,n=t.urlsBase.hostCloudAPI,r=t.idClient,[4,s.call(l.openDatabase,{apiHost:n,databaseId:".ext.yadisk@docs_"+e,session:r})];case 2:return[2,i.sent()]}}))}var A=function(e){return u.eventChannel((function(t){var n=function(e){t(e)};return e.on("update",n),function(){e.off("update",n)}}),u.buffers.expanding())},I=function(e){var t=[];return e.forEach("docs",(function(e){t.push(p.default.pick(l.processRecord(e),"resource_id","ts","office_online_sharing_url","pinned","recordId"))})),t};function D(e,t){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:if(!t.length)return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,s.call(R,e)];case 2:return n=i.sent(),r=[],n.forEach("docs",(function(e){t.includes(e.getRecordId())&&r.push(e)})),[4,n.createTransaction().deleteRecords(r).push()];case 3:return i.sent(),[3,5];case 4:return o=i.sent(),console.error("Delete missing failed:",o),null===(a=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===a||a.logError({message:(null===o||void 0===o?void 0:o.message)||"unknown",source:"docs",sourceMethod:"delete_missing_failed",level:Ya.Rum.ERROR_LEVEL.WARN,additional:{type:e,recordIds:t}},o),[3,5];case 5:return[2]}}))}function M(e,t){var n,r,a,u,c,l,f,h,m,y,b,_,O,w,E,S,x,C;return i(this,(function(i){switch(i.label){case 0:return n=p.default.chunk(e,j),r=n.map((function(e){return s.call(v.api,"mpfs/docs-resources",{docs:e})})),c=(u=p.default).flatten,[4,s.all(r)];case 1:return a=c.apply(u,[i.sent()]),[4,s.select()];case 2:return l=i.sent(),f={},[4,s.call(g.default.preprocessResources,a,l)];case 3:return h=i.sent().filter((function(e){var t,n=!(null===(t=e.state)||void 0===t?void 0:t.hidden);return f[e.recordId]=!0,n})),m=e.reduce((function(e,t){var n=t.resource_id||t.office_online_sharing_url;return n&&(e[n]=t),e}),{}),y={},b={},_=function(e){var t=b[e.meta.resource_id]||[];t.some((function(t){return t.openInEditorTimestamp===e.openInEditorTimestamp}))||(b[e.meta.resource_id]=o(t,[e]))},h.forEach((function(e){var t=e.isVicariousDoc?e.meta.office_online_sharing_url:e.meta.resource_id,n=m[t];e.openInEditorTimestamp=n.ts,e.pinned=n.pinned,e.recordId=n.recordId,y[t]=!0,_(e)})),O=l.docs.lists,w=l.resources,O[t].items.forEach((function(e){_(w[e])})),E=e.filter((function(e){var t=e.resource_id||e.office_online_sharing_url;return t&&!y[t]})),S=E.map((function(e){return e.recordId})),x=[],C=[],Object.values(b).forEach((function(e){e.length>1&&e.sort((function(e,t){return t.openInEditorTimestamp-e.openInEditorTimestamp})).slice(1).forEach((function(e){var t=e.recordId,n=e.id;x.push(t),C.push(n)}))})),(E.length||C.length)&&d.log({event:"removeDocs",missing:E.map((function(e){return e.resource_id||e.office_online_sharing_url})).join(),duplicated:C.join()}),[4,s.call(D,t,p.default.uniq(o(S,x)))];case 4:return i.sent(),[2,{resources:h,duplicatedResourcesIds:C,filteredRecords:f}]}}))}function N(e){var t=e.type,n=e.ids,r=e.resources,o=e.docs;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(c.updateList({type:t,ids:n,resources:r,totalItems:o.length,totalMyItems:o.filter((function(e){return Boolean(e.resource_id)})).length,totalOtherItems:o.filter((function(e){return!e.resource_id})).length}))];case 1:return e.sent(),[2]}}))}function L(){var e,t,n,a;return i(this,(function(u){switch(u.label){case 0:return[4,s.select(b.currentDocsType)];case 1:return e=u.sent(),[4,s.call(R,e)];case 2:return t=u.sent(),[4,s.call(A,t)];case 3:n=u.sent(),a=function(){var a,u,c,l,f,d,p,h,m,v,g,y,b,_,O;return i(this,(function(i){switch(i.label){case 0:return[4,s.take(n)];case 1:return i.sent(),[4,s.select()];case 2:return a=i.sent(),u=a.resources,c=a.docs.lists,l=c[e].items,f=[],d={},p=I(t),h=p.reduce((function(e,t){return e[t.recordId]=t,e}),{}),l.forEach((function(e){var t=u[e],n=t.isVicariousDoc?t.meta.office_online_sharing_url:t.meta.resource_id;d[n]=!0,h[t.recordId]&&f.push(r(r({},t),{pinned:h[t.recordId].pinned,openInEditorTimestamp:h[t.recordId].ts}))})),m=p.filter((function(e){var t=e.resource_id,n=e.office_online_sharing_url,r=t||n;return r&&!d[r]})),v=o(l),g=[],y=[],b={},m.length?[4,s.call(M,m,e)]:[3,4];case 3:_=i.sent(),g=_.resources,y=_.duplicatedResourcesIds,O=g.map((function(e){return e.id})),v.push.apply(v,O),b=_.filteredRecords,i.label=4;case 4:return v=v.filter((function(e){return!y.includes(e)})),[4,s.call(N,{type:e,ids:v,resources:o(g,f),docs:p.filter((function(e){var t=e.recordId;return!b[t]}))})];case 5:return i.sent(),[2]}}))},u.label=4;case 4:return[5,a()];case 5:return u.sent(),[3,4];case 6:return[2]}}))}function F(e){var t,n,r,a,u,l,f,d,p,h,m,v,g,_,w,E,S,x=(void 0===e?{}:e).initial,C=void 0!==x&&x;return i(this,(function(e){switch(e.label){case 0:return[4,s.select(b.currentDocsType)];case 1:return t=e.sent(),[4,s.select(b.isPortionsSupported)];case 2:n=e.sent(),e.label=3;case 3:return e.trys.push([3,12,,14]),[4,s.select(b.docsList)];case 4:return r=e.sent().items,[4,s.select(b.docsListIsComplete)];case 5:return a=e.sent(),[4,s.select(b.docsListIsLoading)];case 6:return u=e.sent(),a||u&&!C?[2]:[4,s.put(c.setIsLoading({type:t,isLoading:!0}))];case 7:return e.sent(),[4,s.call(R,t)];case 8:return l=e.sent(),f=I(l),[4,s.select(b.sortingType)];case 9:return d=e.sent().order,p=[],n?(h=f.filter((function(e){return e.pinned})).sort((function(e,t){return Number(e.pinned)-Number(t.pinned)})),m=f.filter((function(e){return!e.pinned})).sort((function(e,t){var n=Number(null===e||void 0===e?void 0:e.ts)-Number(null===t||void 0===t?void 0:t.ts);return d===O.SortOrder.ASC?isNaN(n)?-1:n:isNaN(n)?1:-n})),p=o(h,m).slice(r.length,r.length+P)):p=f,[4,s.call(M,p,t)];case 10:return v=e.sent(),g=v.resources,_=v.duplicatedResourcesIds,w=g.map((function(e){return e.id})).filter((function(e){return!_.includes(e)})),[4,s.call(N,{type:t,ids:n?o(r,w):w,resources:g,docs:f})];case 11:return e.sent(),[3,14];case 12:return E=e.sent(),[4,s.call(y.default.go,"/client/error","preserve",{reason:"docs_fetch_next_error",error:E})];case 13:return e.sent(),null===(S=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===S||S.logError({message:(null===E||void 0===E?void 0:E.message)||"unknown",source:"docs",sourceMethod:"docs_fetch_next_error",level:Ya.Rum.ERROR_LEVEL.ERROR,additional:{loadByPortions:n,initial:C,type:t}},E),[3,14];case 14:return[2]}}))}function B(){var e,t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,s.call(F,{initial:!0})];case 1:return n.sent(),[4,s.spawn(L)];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),[4,s.call(y.default.go,"/client/error","preserve",{reason:"docs_fetch_error",error:e})];case 4:return n.sent(),null===(t=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===t||t.logError({message:(null===e||void 0===e?void 0:e.message)||"unknown",source:"docs",sourceMethod:"docs_fetch_error",level:Ya.Rum.ERROR_LEVEL.ERROR},e),[3,5];case 5:return[2]}}))}function U(){return i(this,(function(e){switch(e.label){case 0:return[4,s.select(b.isPortionsSupported)];case 1:return e.sent()?[3,3]:[4,s.call(F)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function z(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(h.saveSettings({key:"docsView",value:t}))];case 1:return e.sent(),[2]}}))}function V(e){return i(this,(function(t){switch(t.label){case 0:return[4,s.put(E.notify({operation:"docsError",message:e}))];case 1:return t.sent(),[2]}}))}function H(e){var t,n,r,o,a,u,c,d,p=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:t=e.sent().resources,e.label=2;case 2:return e.trys.push([2,7,,13]),[4,s.select(b.currentDocsType)];case 3:return o=e.sent(),[4,s.call(R,o)];case 4:return(a=e.sent()).forEach("docs",(function(e){var i=l.processRecord(e);n||i.recordId!==t[p].recordId||(n=e,r=i.pinned)})),r||f.default.countDocs("pin doc"),u=r?0:Number(new Date),[4,s.put(T.updateResources([{id:p,pinned:u}]))];case 5:return e.sent(),c=a.createTransaction(),n&&c.updateRecordFields(n,{pinned:u}),[4,c.push()];case 6:return e.sent(),[3,13];case 7:return d=e.sent(),console.error(d),r?[4,s.call(V,"Не удалось открепить файл")]:[3,9];case 8:return e.sent(),[3,11];case 9:return[4,s.call(V,"Не удалось закрепить файл")];case 10:e.sent(),e.label=11;case 11:return[4,s.put(T.updateResources([{id:p,pinned:r}]))];case 12:return e.sent(),[3,13];case 13:return[2]}}))}function W(e){var t,n,r,o,a,u,c,l,f,d,p,h,g=e.payload,y=g.id,_=g.status;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:if(t=e.sent(),n=b.isDocsPage(t),r=_===S.UPLOAD_STATUSES.DONE||_===S.UPLOAD_STATUSES.CANCELED,!n||!r)return[3,11];e.label=2;case 2:return e.trys.push([2,10,,11]),[4,s.select()];case 3:return o=e.sent().resources,a=o[y],u=a.meta,c=a.ext,(l=u.resource_id)?[3,7]:[4,s.put(x.fetchSingleResource(y))];case 4:e.sent(),e.label=5;case 5:return[4,s.take(m.UPDATE_RESOURCES)];case 6:return f=e.sent().payload.resources,(d=f.find((function(e){var t;return e.id===y&&(null===(t=e.meta)||void 0===t?void 0:t.resource_id)})))?(l=d.meta.resource_id,[3,7]):[3,5];case 7:return(p=C.getDocsTypeByExt(c))?[4,s.call(v.api,"cloud/add-to-docs",{resource_id:l,type:p})]:[3,9];case 8:e.sent(),e.label=9;case 9:return[3,11];case 10:return h=e.sent(),console.error(h),[3,11];case 11:return[2]}}))}function G(e){var t,n,r,o,a=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().page.originalNSParams,[4,s.select(b.currentDocsType)];case 2:return n=e.sent(),[4,s.select(b.isDocsView)];case 3:return r=e.sent(),!(o=C.getDocsTypeByExt(a))||!r&&o===n?[3,5]:[4,s.put(w.goToUrl("/docs?type="+o+(t["test-id"]?"&test-id=328685":"")))];case 4:e.sent(),e.label=5;case 5:return[2]}}))}function $(e){var t,n,r,o=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent(),b.isDocsPage(t)&&o?(n={},o.forEach((function(e){var t=C.getExtByFileName(e.name);if(t){var r=C.getDocsTypeByExt(t);r&&(n[r]=!0)}})),1!==Object.keys(n).length?[3,3]:(r=C.getExtByFileName(o[0].name))?[4,s.call(G,{payload:r,type:""})]:[3,3]):[2];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function q(){return i(this,(function(e){switch(e.label){case 0:return[4,s.call(V,"Загружать можно только документы.")];case 1:return e.sent(),[2]}}))}function Y(e){var t,n,r,o,a,u,l,f,d,p=e.payload,h=p.id,m=p.openOnLoad;return i(this,(function(e){switch(e.label){case 0:return[4,s.select(b.currentDocsType)];case 1:return t=e.sent(),[4,s.select()];case 2:n=e.sent().resources,e.label=3;case 3:return e.trys.push([3,10,,12]),r=n[h],o=r.name,a=r.meta.resource_id,u=k.default.extname(o),l=void 0,u&&(l=C.getDocsTypeByExt(u)),a?m?[4,s.put(_.openOrEditResource(h))]:[3,5]:[3,9];case 4:e.sent(),e.label=5;case 5:return l?[4,s.call(v.api,"cloud/add-to-docs",{resource_id:a,type:l})]:[3,9];case 6:return e.sent(),[4,s.select(b.isDocsView)];case 7:return f=e.sent(),t===l||f?[3,9]:[4,s.put(c.changeDocsPageType(l))];case 8:e.sent(),e.label=9;case 9:return[3,12];case 10:return d=e.sent(),console.error(d),[4,s.call(V,"Не удалось загрузить файл")];case 11:return e.sent(),[3,12];case 12:return[2]}}))}function K(e){var t,n=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().page.originalNSParams,[4,s.put(w.goToUrl("/docs?type="+n+(t["test-id"]?"&test-id=328685":"")))];case 2:return e.sent(),[2]}}))}function J(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().resources,[4,s.select(b.currentDocsType)];case 2:return n=e.sent(),[4,s.put(c.removeItem({id:r,type:n}))];case 3:return e.sent(),[4,s.call(D,n,[t[r].recordId])];case 4:return e.sent(),[2]}}))}function X(e){var t=e.payload.resources;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(c.moveClonedResources(t))];case 1:return e.sent(),[2]}}))}function Z(e){var t=e.payload,n=t.src,r=t.dst;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(c.moveClonedResources([{src:r,dst:n}]))];case 1:return e.sent(),[2]}}))}function Q(e){var t,n,r=e.payload,o=r.id,a=r.data;return i(this,(function(e){switch(e.label){case 0:return a.recordId?[4,s.select()]:[3,4];case 1:return t=e.sent(),(n=b.getResourceType(o,t))?[4,s.put(c.removeItem({id:o,type:n}))]:[3,4];case 2:return e.sent(),[4,s.call(D,n,[a.recordId])];case 3:e.sent(),e.label=4;case 4:return[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeLatest(c.maybeFetchDocs,B),s.takeLatest(c.fetchNextDocs,F),s.takeEvery(c.setSortingType,U),s.takeEvery(c.setListingType,z),s.takeEvery(c.remoteTogglePinDoc,H),s.takeEvery(m.UPDATE_UPLOADING_STATE,W),s.takeEvery(c.goToDocsPageByExt,G),s.takeEvery(c.showNotAllowedExtNotification,q),s.takeEvery(c.addDocFromDisk,Y),s.takeEvery(c.removeFromDocs,J),s.takeEvery(m.MOVE_CLONED_RESOURCES,X),s.takeEvery(m.CANCEL_MOVE_CLONED_RESOURCE,Z),s.takeEvery(m.DESTROY_RESOURCE,Q),s.takeEvery(c.redirectToDocsPageOnLoadFiles,$),s.takeEvery(c.changeDocsPageType,K)])];case 1:return e.sent(),[2]}}))}}),(function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(9)),a=n(16),s=n(55),u=n(43),c=n(545),l=n(311),f=n(49),d=i(n(46));function p(){return r(this,(function(e){switch(e.label){case 0:return[4,f.select(s.shouldShowFamilySlice)];case 1:return e.sent()?[4,f.put({type:a.UPDATE_DEFAULT_FOLDERS,payload:{familyFolders:!0}})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function h(){var e,t,n,i;return r(this,(function(r){switch(r.label){case 0:return[4,f.select(s.shouldCheckFamilySlice)];case 1:return r.sent()?[4,f.getContext("rawFetchModel")]:[3,13];case 2:e=r.sent(),r.label=3;case 3:return r.trys.push([3,12,,13]),[4,f.call(e,"getFamilySlice",{},{retryOffline:!0})];case 4:return t=r.sent(),[4,f.select(s.isFamilySliceVisible)!==t];case 5:return r.sent()?(n=!t)?[4,f.select(u.getIdContext)]:[3,7]:[3,11];case 6:n="/family"===r.sent(),r.label=7;case 7:return n?[4,f.call(d.default.go,"/client/shared","replace")]:[3,9];case 8:r.sent(),r.label=9;case 9:return[4,f.put({type:a.UPDATE_DEFAULT_FOLDERS,payload:{familyFolders:t}})];case 10:r.sent(),r.label=11;case 11:return[3,13];case 12:return i=r.sent(),console.error(i),[3,13];case 13:return[2]}}))}var m=l.channel();function v(){return r(this,(function(e){return(0,n(466).addEventListener)((function(e){m.put(e)})),[2]}))}function g(e){var t,n,i,a,s,u,c,l,d;return r(this,(function(r){switch(r.label){case 0:t=o.default.get(e,["root","tag"]),n=o.default.get(e,["root","parameters","type"]),i=o.default.get(e,["root","parameters","oid"]),r.label=1;case 1:return r.trys.push([1,5,,6]),"operation"!==t||"created"!==n?[3,4]:(a=ns.Model.get("queueRequest"),[4,f.call([a,a.push],{id:"do-status-operation",params:{oid:i}})]);case 2:return s=r.sent(),u=o.default.get(s,["data","type"]),c=o.default.get(s,["data","status"]),l=o.default.get(s,["data","params","path"]),"shared_invites"!==u||"DONE"!==c?[3,4]:[4,f.call(y,{payload:l})];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return d=r.sent(),console.error(d),[3,6];case 6:return[2]}}))}function y(e){var t,n,i,o,a=e.payload;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,f.getContext("dispatch")];case 1:return t=e.sent(),[4,f.getContext("getState")];case 2:return n=e.sent(),i=c.watchFamilyFolder(a),[4,f.call(i,t,n)];case 3:return e.sent(),[3,5];case 4:return o=e.sent(),console.error(o),[3,5];case 5:return[2]}}))}function b(){return r(this,(function(e){switch(e.label){case 0:return[4,f.take("*")];case 1:return e.sent(),[4,f.call(v)];case 2:return e.sent(),[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,f.fork(b)];case 1:return e.sent(),[4,f.all([f.takeEvery(m,g),f.takeEvery([a.CREATE_RESOURCES,a.UPDATE_INVITES_TO_FOLDERS,a.UPDATE_INVITE_TO_FOLDER],p),f.takeLatest([a.DESTROY_RESOURCE,a.UPDATE_INVITES_TO_FOLDERS,a.UPDATE_INVITE_TO_FOLDER,a.REMOVE_INVITE_TO_FOLDER],h)])];case 2:return e.sent(),[2]}}))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9)),s=n(311),u=n(16),c=n(217),l=n(89),f=n(49),d=n(112),p=n(203),h=o(n(46)),m=n(158),v=n(43),g=n(506),y=n(267);function b(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,f.select(g.getJournalId)];case 1:return e=r.sent(),[4,f.select(l.getUser)];case 2:return t=r.sent(),[4,f.select(g.getJournalFilterUntilDate)];case 3:return n=r.sent(),[2,{org_id:t.pddOrgId,vd_hash:e===p.personalJournalId?null:e,page_load_date:new Date(n).toISOString()}]}}))}function _(e,t){var n,o,a,s,u;return i(this,(function(i){switch(i.label){case 0:return[4,f.call(b)];case 1:return n=i.sent(),[4,f.select(g.getJournalFilterEventType)];case 2:return o=i.sent(),[4,f.select(g.getJournalFilterFolder)];case 3:return a=i.sent(),[4,f.select(g.getJournalFilterText)];case 4:return s=i.sent(),[4,f.select(g.getJournalFilterPlatform)];case 5:return u=i.sent(),[2,r(r({},n),{offset:e,text:s,folder:a,platform:u,limit:p.portionSize,event_type:o.join(","),limit_per_group:p.eventsSize,counters_date:t?(new Date).toISOString():void 0,tz_offset:60*(new Date).getTimezoneOffset()*1e3})]}}))}function O(e){var t;return i(this,(function(n){switch(n.label){case 0:return[4,f.call(b)];case 1:return t=n.sent(),[2,r(r({},t),{limit:p.eventsSize,offset:e.events.length,end_date:e.group.min_date,start_date:e.group.max_date,event_group_key:e.group.event_group_key})]}}))}function w(e){var t,n,r,o,s,u;return i(this,(function(i){switch(i.label){case 0:return[4,f.select(g.getJournalState)];case 1:return(t=i.sent())!==c.JournalState.failed&&t!==c.JournalState.initial?[3,4]:(n=f.put,r=y.initJournal,o={id:e},s=m.getFiltersFromUrl,u=URL.bind,[4,f.select(a.default.property("page.currentUrl"))]);case 2:return[4,n.apply(void 0,[r.apply(void 0,[(o.filters=s.apply(void 0,[new(u.apply(URL,[void 0,i.sent()]))]),o)])])];case 3:i.sent(),i.label=4;case 4:return[2]}}))}var E=new Map,S=new Map,x=new Map;function C(e){var t,n,r,o,a,s,u;return i(this,(function(i){switch(i.label){case 0:return t=e.payload,n=t.id,r=t.groupId,[4,f.select(g.getJournal)];case 1:o=i.sent(),a=m.getGroupById(o.journal,r),i.label=2;case 2:return i.trys.push([2,6,8,9]),[4,f.call(O,a)];case 3:return s=i.sent(),[4,f.call(d.api,"cloud/virtual-disk-journal-group",s)];case 4:return u=i.sent(),[4,f.put(y.appendJournalGroup({id:n,groupId:r,events:u}))];case 5:return i.sent(),[3,9];case 6:return i.sent(),[4,f.put(y.fetchJournalGroupFailed({id:n,groupId:r}))];case 7:return i.sent(),[3,9];case 8:return x.delete(a.group.id),[7];case 9:return[2]}}))}function T(e,t){var n,r,o,a,s,u,c,l,d,p,h,m,v;return i(this,(function(i){switch(i.label){case 0:return n=t.payload,r=n.id,n.append?E.has(r)?[3,2]:(a=(o=S).set,s=[r],[4,f.fork(j,t)]):[3,3];case 1:a.apply(o,s.concat([i.sent()])),i.label=2;case 2:return[3,13];case 3:return u=E.get(r),c=S.get(r),u?[4,f.cancel(u)]:[3,5];case 4:i.sent(),i.label=5;case 5:return c?[4,f.cancel(c)]:[3,7];case 6:i.sent(),i.label=7;case 7:l=0,d=Array.from(x.values()),i.label=8;case 8:return l<d.length?(p=d[l],[4,f.cancel(p)]):[3,11];case 9:i.sent(),i.label=10;case 10:return l++,[3,8];case 11:return m=(h=E).set,v=[r],[4,f.fork(k,r,e)];case 12:m.apply(h,v.concat([i.sent()])),i.label=13;case 13:return[2]}}))}function k(e,t){var n,r,o,a,s,u,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,f.call(_,0,t)];case 1:n=i.sent(),i.label=2;case 2:return i.trys.push([2,7,9,10]),r=[f.call(d.api,"cloud/virtual-disk-journal",n)].concat(t?f.call(d.api,"cloud/virtual-disk-journal-counters",n):[]),[4,f.all(r)];case 3:return o=i.sent(),a=o[0],[4,f.put(y.setJournal({id:e,journal:a}))];case 4:return i.sent(),t?(s=o[1],u=s.eventTypes,c=s.platforms,[4,f.put(y.setJournalCounters({id:e,eventTypes:Object.keys(u),platforms:Object.keys(c)}))]):[3,6];case 5:i.sent(),i.label=6;case 6:return[3,10];case 7:return l=i.sent(),[4,f.call(h.default.go,"/client/error","preserve",{reason:"vd_journal_fetch_error",error:l})];case 8:return i.sent(),l instanceof Error&&setTimeout((function(){throw l}),0),[3,10];case 9:return E.delete(e),[7];case 10:return[2]}}))}function j(e){var t,n,r,o=e.payload.id;return i(this,(function(e){switch(e.label){case 0:return[4,f.select(g.getJournalLoadedEventsCount)];case 1:return t=e.sent(),[4,f.call(_,t)];case 2:n=e.sent(),e.label=3;case 3:return e.trys.push([3,6,7,8]),[4,f.call(d.api,"cloud/virtual-disk-journal",n)];case 4:return r=e.sent(),[4,f.put(y.appendJournal({id:o,journal:r}))];case 5:return e.sent(),[3,8];case 6:return e.sent(),[3,8];case 7:return S.delete(o),[7];case 8:return[2]}}))}function P(e,t,n){var r,o,s,u,l,d,p;return i(this,(function(i){switch(i.label){case 0:return t.payload.idContext===(null===n||void 0===n?void 0:n.payload.idContext)?[3,11]:[4,f.select(g.getJournalState)];case 1:return r=i.sent(),s=m.getFiltersFromUrl,u=URL.bind,[4,f.select(a.default.property("page.currentUrl"))];case 2:return o=s.apply(void 0,[new(u.apply(URL,[void 0,i.sent()]))]),[4,f.select(g.getJournalFilters)];case 3:return l=i.sent(),d=m.areFiltersEqual(o,l),r!==c.JournalState.created?[3,5]:[4,f.put(y.fetchJournal({id:e}))];case 4:return i.sent(),[3,11];case 5:return r===c.JournalState.created?[3,11]:(p=Boolean(Object.keys(o)))||d?[3,7]:[4,f.put(y.setJournalFilter({id:e,filters:{},reset:!0}))];case 6:return i.sent(),[3,11];case 7:return p&&d?[4,f.put(y.fetchJournal({id:e}))]:[3,9];case 8:return i.sent(),[3,11];case 9:return!p||d?[3,11]:[4,f.put(y.setJournalFilter({id:e,filters:o,reset:!0}))];case 10:i.sent(),i.label=11;case 11:return[2]}}))}function R(e,t,n){var r,o,s,u;return i(this,(function(i){switch(i.label){case 0:return t.payload.idContext!==(null===n||void 0===n?void 0:n.payload.idContext)?[3,4]:(o=m.getFiltersFromUrl,s=URL.bind,[4,f.select(a.default.property("page.currentUrl"))]);case 1:return r=o.apply(void 0,[new(s.apply(URL,[void 0,i.sent()]))]),[4,f.select(g.getJournalFilters)];case 2:return u=i.sent(),m.areFiltersEqual(r,u)?[3,4]:[4,f.put(y.setJournalFilter({id:e,filters:r,reset:!0}))];case 3:i.sent(),i.label=4;case 4:return[2]}}))}function A(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return t=(e=h.default).go,n=m.generateUrl,[4,f.select(g.getUrlFilters)];case 1:return t.apply(e,[n.apply(void 0,[r.sent()]),"push"]),[2]}}))}function I(e,t){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,f.select(g.shouldFetchJournal)];case 1:return i.sent()?[4,f.select(g.getJournalId)]:[3,6];case 2:return n=i.sent(),r=e.take(),[4,f.call(w,n)];case 3:return i.sent(),[4,f.call(P,n,t,r)];case 4:return i.sent(),[4,f.call(R,n,t,r)];case 5:i.sent(),i.label=6;case 6:return e.put(t),[2]}}))}function D(){var e,t,n,r,o;return i(this,(function(i){switch(i.label){case 0:e=!1,t=s.buffers.sliding(1),i.label=1;case 1:return e?[4,f.take(u.UPDATE_PAGE)]:[3,4];case 2:return n=i.sent(),[4,f.call(I,t,n)];case 3:return i.sent(),[3,8];case 4:return[4,f.take(y.journalMounted.type)];case 5:return i.sent(),[4,f.select(v.getIdContext)];case 6:return r=i.sent(),o={type:"PAGE_UPDATE",payload:{idContext:r}},e=!0,[4,f.call(I,t,o)];case 7:i.sent(),i.label=8;case 8:return[3,1];case 9:return[2]}}))}t.updateGroupEvents=function(e){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return t=e.payload.groupId,x.has(t)?[2]:(r=(n=x).set,o=[t],[4,f.fork(C,e)]);case 1:return r.apply(n,o.concat([i.sent()])),[2]}}))},t.fetchGroupEvents=C,t.updateJournal=T,t.fetchJournal=k,t.appendJournal=j,t.maybeFetchJournal=P,t.maybeUpdateFiltersFromUrl=R,t.updateUrlFilters=A,t.checkJournalUpdates=I,t.watchNavigation=D,t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,f.all([f.takeEvery(y.fetchJournal,T,!0),f.takeEvery(y.setJournalFilter,T,!1),f.takeEvery(y.setJournalFilter,A),f.takeEvery(y.fetchJournalGroup,C)])];case 1:return e.sent(),[4,f.fork(D)];case 2:return e.sent(),[2]}}))}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(49),s=n(1384),u=n(681),c=o(n(1474)),l=n(181),f=n(309),d=n(546),p=n(517);t.getPromozavrData=function(){var e,t,n,o,h,m,v,g,y,b,_,O,w,E,S,x,C,T,k,j,P=this;return i(this,(function(R){switch(R.label){case 0:return[4,a.select(f.shouldShowPromozavr)];case 1:return R.sent()?[4,a.select((function(e){return e.user.uid}))]:[2];case 2:return e=R.sent(),t=p.getLogger(),[4,a.select(f.getPromozavrConfig)];case 3:n=R.sent(),R.label=4;case 4:return R.trys.push([4,18,,19]),[4,a.call(s.getConfig,n)];case 5:return o=R.sent(),h=f.getProject(),[4,a.select(f.getServerDate)];case 6:return m=R.sent(),v=f.makeGetNow(m),[4,a.select(f.getBillingProducts)];case 7:return g=R.sent(),y=function(){return r(P,void 0,void 0,(function(){return i(this,(function(e){return[2,g.product_sets]}))}))},[4,a.select(f.getPlugins)];case 8:return b=R.sent(),[4,a.select(f.getLang)];case 9:return _=R.sent(),[4,a.select(f.getWebApiUrl)];case 10:return O=R.sent(),[4,a.select((function(e){return e.config.urlsBase["cloud-api"]}))];case 11:return w=R.sent(),E=p.getDsClient(w,e),S=new u.PromoSelector({project:h,lang:_,getNow:v,config:o.config,dsClient:E,logger:t,plugins:b,getBillingData:y,uid:e,apiUrl:O}),[4,a.select(f.getUserInfo,o.userConfig)];case 12:return x=R.sent(),[4,a.call([S,S.selectPromo],x,{stage:l.Stage["page-init"]})];case 13:return C=R.sent(),[4,a.select((function(e){return e.page.originalNSParams.promozavr||e.page.originalNSParams.promo}))];case 14:return T=R.sent(),k=c.getActualKeysetsByQueues(o,[l.Project.diskDesktop,l.Project.diskTouch],T,!1),[4,a.put(d.setCurrentPromo(C))];case 15:return R.sent(),[4,a.put(d.setTranslations({keysets:k}))];case 16:return R.sent(),[4,a.put(d.setFetchCompleted())];case 17:return R.sent(),[3,19];case 18:return j=R.sent(),t.error(j),[3,19];case 19:return[2]}}))},t.default=function(){return i(this,(function(e){switch(e.label){case 0:return"undefined"==typeof window?[3,2]:[4,a.spawn(t.getPromozavrData)];case 1:e.sent(),e.label=2;case 2:return[2]}}))}}),(function(e,t,n){"use strict";e.exports=n(1606)}),(function(e,t,n){"use strict";e.exports=n(1609)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),a=n(253),s=n(841),u=n(89),c=n(112),l=n(1626),f=n(40),d=n(23),p=n(27);function h(e){return i(this,(function(t){switch(t.label){case 0:return[4,o.select(s.getAccessFolderUsers)];case 1:return[2,t.sent().find((function(t){return t.email===e}))]}}))}function m(e,t){var n;console.error(e),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({message:(null===e||void 0===e?void 0:e.message)||"unknown",source:"accessFolder",sourceMethod:t,level:Ya.Rum.ERROR_LEVEL.ERROR},e)}function v(e,t){return i(this,(function(n){switch(n.label){case 0:return t?[4,o.put(d.closeDialog("access-folder"))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,o.put(f.notify({operation:"any",message:e}))];case 3:return n.sent(),[2]}}))}function g(e){var t,n,r,l,f,d=e.payload,p=void 0===d?{}:d;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,9,,12]),[4,o.select(s.getAccessFolderResource)];case 1:return(t=e.sent())?[4,o.select(s.getIsCurrentFolderShared)]:[2];case 2:return e.sent()?p.silent?[3,4]:[4,o.put(a.setUsersLoadingState({isLoading:!0,id:t.id}))]:[2];case 3:e.sent(),e.label=4;case 4:return[4,o.select(u.getUser)];case 5:return n=e.sent().isPDD,[4,o.select(s.isOuterContactsEnabled)];case 6:return r=e.sent(),[4,o.call(c.api,"mpfs/share-users-in-group",{gid:t.meta.group.gid,isPDD:n,checkIsOuter:r})];case 7:return l=e.sent(),[4,o.put(a.setUsers({id:t.id,users:l}))];case 8:return e.sent(),[3,12];case 9:return f=e.sent(),p.silent?[3,11]:[4,o.call(v,"Не удалось загрузить список пользователей общей папки",!0)];case 10:e.sent(),e.label=11;case 11:return m(f,"fetchUsersSaga"),[3,12];case 12:return[2]}}))}function y(e){var t,n,u,f,d,g,y,b,_,O,w,E,S,x,C,T,k=e.payload;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,22,32,37]),[4,o.select(s.getAccessFolderResource)];case 1:return(t=e.sent())?[4,o.put(p.maybeBlockAction({forLite:!0}))]:[2];case 2:return e.sent()?[2]:[4,o.select(s.getIsCurrentFolderShared)];case 3:return n=e.sent(),u=n?{gid:t.meta.group.gid}:{path:t.path},f=k.userid,d=k.service,g=k.rights,[4,o.call(h,f)];case 4:return y=e.sent(),"email"===d&&y?[4,o.put(a.updateUser({id:t.id,email:f,data:{isLoading:!0}}))]:[3,6];case 5:return e.sent(),[3,8];case 6:return[4,o.put(a.setInvitingUser({id:t.id,invitingUser:!0}))];case 7:e.sent(),e.label=8;case 8:return[4,o.call(c.api,"mpfs/share-invite-user",r(r({},u),{userid:f,service:d,rights:g}))];case 9:return b=e.sent().oid,[4,o.getContext("rawFetchModel")];case 10:_=e.sent(),e.label=11;case 11:return[4,o.call(_,"do-status-operation",{oid:b})];case 12:return"DONE"!==(O=e.sent()).status?[3,13]:[3,17];case 13:if("FAILED"!==O.status)return[3,14];throw O.error;case 14:return[4,o.delay(1e3)];case 15:e.sent(),e.label=16;case 16:return[3,11];case 17:return n?[3,19]:[4,o.call(l.fetchResourceSaga,{payload:{id:t.id}})];case 18:e.sent(),e.label=19;case 19:return y?[3,21]:[4,o.put(a.maybeFetchAccessFolderUsers({silent:!0}))];case 20:e.sent(),e.label=21;case 21:return[3,37];case 22:return w=e.sent(),E=null===(x=null===w||void 0===w?void 0:w.error)||void 0===x?void 0:x.code,(S=(null===(T=null===(C=null===w||void 0===w?void 0:w.error)||void 0===C?void 0:C.body)||void 0===T?void 0:T.title)||"").includes("captcha")||S.includes("flood")?[4,o.call(v,"Приглашение не отправлено. Попробуйте отправить его позднее")]:[3,24];case 23:return e.sent(),[3,31];case 24:switch(E){case 124:return[3,25];case 123:return[3,27]}return[3,29];case 25:return[4,o.call(v,"Доступно не более 50 общих папок",!0)];case 26:return e.sent(),[3,31];case 27:return[4,o.call(v,"К папке можно выдать доступ только 200 участникам")];case 28:return e.sent(),[3,31];case 29:return[4,o.call(v,"Не удалось отправить приглашение")];case 30:return e.sent(),[3,31];case 31:return m(w,"inviteUserSaga"),[3,37];case 32:return t?"email"!==k.service?[3,34]:[4,o.put(a.updateUser({id:t.id,email:k.userid,data:{isLoading:!1}}))]:[3,36];case 33:e.sent(),e.label=34;case 34:return[4,o.put(a.setInvitingUser({id:t.id,invitingUser:!1}))];case 35:e.sent(),e.label=36;case 36:return[7];case 37:return[2]}}))}function b(e){var t,n,r,u,l=e.payload;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,9,11,14]),[4,o.select(s.getAccessFolderResource)];case 1:return(t=e.sent())?(n=l.email,[4,o.call(h,n)]):[2];case 2:return r=e.sent(),[4,o.put(a.updateUser({id:t.id,email:n,data:{isLoading:!0}}))];case 3:return e.sent(),"proposed"!==r.status?[3,5]:[4,o.call(c.api,"mpfs/share-remove-invite",{gid:t.meta.group.gid,userid:n,service:"email"})];case 4:return e.sent(),[3,7];case 5:return[4,o.call(c.api,"mpfs/share-kick-from-group",{uid:r.uid,gid:t.meta.group.gid})];case 6:e.sent(),e.label=7;case 7:return[4,o.put(a.removeUser({id:t.id,email:n}))];case 8:return e.sent(),[3,14];case 9:return u=e.sent(),[4,o.call(v,"Не удалось изменить доступ, попробуйте снова")];case 10:return e.sent(),m(u,"revokeAccessSaga"),[3,14];case 11:return t?[4,o.put(a.updateUser({id:t.id,email:l.email,data:{isLoading:!1}}))]:[3,13];case 12:e.sent(),e.label=13;case 13:return[7];case 14:return[2]}}))}function _(e){var t,n,r,u,l,f=e.payload;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,9,11,14]),[4,o.select(s.getAccessFolderResource)];case 1:return(t=e.sent())?(n=f.rights,r=f.email,[4,o.call(h,r)]):[2];case 2:return(u=e.sent())?[4,o.put(a.updateUser({id:t.id,email:r,data:{isLoading:!0}}))]:[2];case 3:return e.sent(),"proposed"!==u.status?[3,5]:[4,o.call(c.api,"mpfs/share-invite-user",{gid:t.meta.group.gid,userid:r,service:"email",rights:n})];case 4:return e.sent(),[3,7];case 5:return[4,o.call(c.api,"mpfs/share-change-rights",{uid:u.uid,rights:n,gid:t.meta.group.gid})];case 6:e.sent(),e.label=7;case 7:return[4,o.put(a.updateUser({id:t.id,email:r,data:{rights:n}}))];case 8:return e.sent(),[3,14];case 9:return l=e.sent(),[4,o.call(v,"Не удалось изменить доступ, попробуйте снова")];case 10:return e.sent(),m(l,"changeRightsSaga"),[3,14];case 11:return t?[4,o.put(a.updateUser({id:t.id,email:f.email,data:{isLoading:!1}}))]:[3,13];case 12:e.sent(),e.label=13;case 13:return[7];case 14:return[2]}}))}function O(e){var t,n=e.payload.id;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,o.call([ns.action,"run"],"resource.unshare",{id:n})];case 1:return e.sent(),[4,o.put(a.clearFolderState({id:n}))];case 2:return e.sent(),[3,5];case 3:return t=e.sent(),[4,o.call(v,"Не удалось изменить доступ, попробуйте снова")];case 4:return e.sent(),m(t,"unshareFolderSaga"),[3,5];case 5:return[2]}}))}function w(e){var t,n,r,l,f,d=e.payload;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),t=[],d?[4,o.select(u.getUser)]:[3,4];case 1:return n=e.sent(),r=n.isPDD,l=n.isB2b,[4,o.select(s.isOuterContactsEnabled)];case 2:return f=e.sent(),[4,o.call(c.api,"aceventura/suggest",{query:d,isPDD:r,checkIsOuter:f,limit:l?30:10})];case 3:t=e.sent(),e.label=4;case 4:return[4,o.put(a.setSuggestions(t))];case 5:return e.sent(),[3,7];case 6:return m(e.sent(),"fetchSuggestionSaga"),[3,7];case 7:return[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.all([o.takeEvery(a.maybeFetchAccessFolderUsers.type,g),o.takeEvery(a.inviteUser.type,y),o.takeEvery(a.revokeAccess.type,b),o.takeEvery(a.changeRights.type,_),o.takeEvery(a.unshareFolder.type,O),o.takeLatest(a.fetchSuggestions.type,w)])];case 1:return e.sent(),[2]}}))}}),(function(e,t,n){var r=n(90),i=n(14),o=n(108).log,a=n(13).default,s=n(27).checkVersion,u=n(64).getPreloadedData,c=n(266).safeReload;n(1631),n(1632);var l={_init:function(){ns.request.requestParams.idClient=r.idClient,ns.request.URL=r.modelsRoute+"/",ns.request.requestParams.sk=r.sk,ns.request.canProcessResponse=function(e){if(e.error)return!1;var t=a();return e.uid!==t.getState().user.uid?(c(),!1):(t.dispatch(s(e.version)),ns.request.requestParams.sk!==e.sk&&(ns.request.requestParams.sk=r.sk=e.sk),!0)},ns.page.title=function(){var e=u("environment");u("config").isDocsHost?"view"===ns.page.current.params.idPage?document.title=ns.page.current.params.name+" - Яндекс Документы":document.title="Яндекс Документы":e.agent.isInMobileApp?document.title="Диск":document.title="Яндекс Диск"};var e=ns.history.pushState;ns.history.pushState=function(t,n){var r=window.location.href;e.call(ns.history,t,n),i.hit(t,n,r,null)};var t=ns.history.onpopstate;ns.history.onpopstate=function(){var e=window.location.href,n=window.location.origin+ns.page.currentUrl,r=ns.page.title(e);i.hit(e,r,n,null),t.call(ns.history)},ns.action.init(),ns.router.init(),ns.history.init()},initApp:function(){var e=u("environment");l._init(),e.session.loadingFailed?(ns.page.go("/client/error?reason=init_app_error","preserve"),o({event:"errorPage",context:ns.page.current.params.idContext,reason:"init_app_error",requestId:e.session.requestId})):ns.page.go(ns.page.getCurrentUrl(),"preserve")}};e.exports=l}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1683)),o=r(n(1709)),a=n(1710);t.default=o.default(a.withDefaultServices()(i.default));var s=n(528);t.Logo360=s.Logo360,t.LogoCorp=s.LogoCorp}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(34).cn("WithSlidingSearch");n(1711);t.default=function(e){return (function(t){function n(e){var n=t.call(this,e)||this;return n.state={isCenterHidden:!1,searchOpened:!1},n._onTransitionEnd=n._onTransitionEnd.bind(n),n}return r(n,t),n.prototype._onTransitionEnd=function(e){this.state.isCenterHidden&&!this.props.searchOpened&&this.setState({isCenterHidden:!1}),this.props.onTransitionEnd&&this.props.onTransitionEnd(e)},n.prototype._getLeftContent=function(){var e=this.props.searchOpened,t=s({searchOpened:this.state.searchOpened},[this.props.leftContentClassName]);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:t,onTransitionEnd:this._onTransitionEnd},this.props.leftContent),!e&&this.props.leftAdditionalContent)},n.prototype.componentDidUpdate=function(){this.props.searchOpened&&!this.state.isCenterHidden&&this.setState({isCenterHidden:!0}),this.props.searchOpened!==this.state.searchOpened&&this.setState({searchOpened:this.props.searchOpened})},n.prototype.componentDidMount=function(){this.props.searchOpened!==this.state.searchOpened&&this.setState({searchOpened:this.props.searchOpened})},n.prototype.render=function(){return a.default.createElement(e,i({},this.props,{hideCenter:this.state.isCenterHidden,leftContent:this._getLeftContent()}))},n})(a.default.Component)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(1747)),s=n(89);t.default=o.connect((function(e){return{isUserCanHaveDisk:s.isUserCanHaveDisk(e)}}))((function(e){return e.isUserCanHaveDisk?i.default.createElement(a.default,null):null}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t,n=e.src,o=e.retries,a=void 0===o?2:o,s=e.retryDelay,u=void 0===s?500:s;return new Promise(function(e,r){(t=document.createElement("script")).type="text/javascript",t.onload=e,t.onerror=r,t.async=!0,t.src=n,document.head.appendChild(t)}).catch((function(n){return a>0?(document.head.removeChild(t),new Promise(function(e){return setTimeout(e,u)}).then((function(){return i(r(r({},e),{retries:a-1}))}))):Promise.reject(n)}))};t.default=i}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=a(n(622));t.default=function(e){return function(t){var n=t.modelsRoute,o=t.sk,a=t.onSkUpdate,c=t.uid,l=t.onAuthChanged,f=t.connectionId,d=t.fetchOptions,p=i(t,["modelsRoute","sk","onSkUpdate","uid","onAuthChanged","connectionId","fetchOptions"]),h=s.useCallback((function(e,t){return u.default({modelsRoute:n,apiMethod:e,requestParams:t,sk:o,onSkUpdate:a,uid:c,onAuthChanged:l,connectionId:f,options:d})}),[n,o,a,c,l,f,d]),m=s.useCallback((function(e,t){return h(e?"mpfs/album-unpublish":"mpfs/set-private",t)}),[h]),v=s.useCallback((function(e){var t=e.resourceId,n=e.accessType;return h("mpfs/office-set-access-state",{resourceId:t,accessState:n})}),[h]),g=s.useCallback((function(e){return h("mpfs/set-public-settings",e)}),[h]);return s.default.createElement(e,r({runDeleteLink:m,runChangeType:v,setLinkSettings:g},p))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(329),a=n(26);n(1872);var s=r(n(11)),u=function(){return s.default()("read-only-notification")};t.default=function(e){var t=e.type,n=e.isMobile,r=e.url,s=t===o.Type.TECH,c=s?"Технические работы. Сейчас можно только просматривать и скачивать файлы.":"Загрузка файлов недоступна, можно только просматривать и скачивать. Вы достигли ограничения по загрузке файлов.";return i.default.createElement("div",{className:u().m({mobile:n})},i.default.createElement("span",{className:u().e("icon")}),i.default.createElement("div",{className:u().e("text-block")},c,!s&&r&&i.default.createElement(i.default.Fragment,null,n&&" ",i.default.createElement(a.Button,{className:u().e("link"),url:r,target:"_blank",type:"link",view:n?"clear":"default"},"Узнать больше"))))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(11)),s=n(19),u=i(n(839)),c=i(n(857)),l=i(n(227)),f=i(n(858)),d=n(55),p=n(92);n(1934);var h={openFamilyAlbumOnboarding:p.openFamilyAlbumOnboarding};t.default=s.connect((function(e){var t=e.settings.isShownFamilyAlbumOnboarding,n=e.albums.albums,i=e.personalAlbums,o=i.familyAlbumId,a=i.albumsByIds,s=e.albums.albums.family.personalAlbumId||o;return{isShownFamilyAlbumOnboarding:t,familyAlbum:s?[r(r({},n.family),a[s])]:void 0,hasFamilyFeature:d.hasFamilyAlbumFeature(e)}}),h)((function(e){var t,n=e.familyAlbum,r=e.hasFamilyFeature,i=e.isShownFamilyAlbumOnboarding,s=e.openFamilyAlbumOnboarding;return r&&"0"===i&&(t=s),o.default.createElement("div",{className:a.default()("albums2_family")},o.default.createElement(c.default,null),o.default.createElement(u.default,{displayListingType:!1,hideActionsButton:!0}),o.default.createElement(l.default,{albumType:"family",albums:n,onAlbumClick:t}),o.default.createElement(f.default,null))}))}),(function(e,t,n){"use strict";var r,i,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(9)),l=s(n(11)),f=s(n(14)),d=s(n(46)),p=s(n(22)),h=u(n(0)),m=s(n(1935)),v=s(n(1937)),g=s(n(244)),y=s(n(2180)),b=n(497),_=n(26),O=n(69),w=n(396),E=n(19),S=n(98),x=n(451),C=n(217),T=n(267),k=n(53),j=n(15),P=s(n(1940)),R=n(51),A=s(n(798)),I=n(203),D=n(506);n(1941);var M=function(){return l.default()("journal")},N=((r={})[C.Platform.ios]="iPhone или iPad",r[C.Platform.andr]="Устройство на Android",r[C.Platform.wp]="Windows Phone",r[C.Platform.mac]="MacBook или iMac",r[C.Platform.win]="Компьютер на Windows",r[C.Platform.web]="Веб-интерфейс",r[C.Platform.lnx]="Компьютер на Linux",r[C.Platform.rest]="Другое устройство",r),L=((i={})[C.JournalEventType.mkdir]="Создание папки",i[C.JournalEventType.copy]="Копирование",i[C.JournalEventType.move]="Перемещение",i[C.JournalEventType.rename]="Переименование",i[C.JournalEventType.rm]="Удаление навсегда",i[C.JournalEventType.appendTrash]="Удаление в Корзину",i[C.JournalEventType.dropTrash]="Удаление из Корзины",i[C.JournalEventType.dropAllTrash]="Очистка Корзины",i[C.JournalEventType.restoreTrash]="Восстановление из Корзины",i[C.JournalEventType.store]="Загрузка",i[C.JournalEventType.storeUpdate]="Изменение файла",i[C.JournalEventType.storeDownload]="Сохранение на Диск",i[C.JournalEventType.photostreamStore]="Автозагрузка",i[C.JournalEventType.photounlimStore]="Автозагрузка",i[C.JournalEventType.setPublic]="Создание публичной ссылки",i[C.JournalEventType.setPrivate]="Удаление публичной ссылки",i[C.JournalEventType.aviary]="Редактирование в фоторедакторе",i[C.JournalEventType.importSocial]="Импорт фото из соцсети",i[C.JournalEventType.promoEnlarge]="Увеличение места",i[C.JournalEventType.promoReduce]="Уменьшение места",i[C.JournalEventType.productReduce]="Оповещение о завершении периода оплаты",i[C.JournalEventType.createAlbum]="Создание альбома",i[C.JournalEventType.removeAlbum]="Удаление альбома",i[C.JournalEventType.createAlbumItem]="Создание альбома",i[C.JournalEventType.appendAlbumItems]="Добавление фото, видео в альбом",i[C.JournalEventType.removeAlbumItems]="Удаление фото, видео из альбома",i[C.JournalEventType.changeAlbumPulicity]="Изменение настроек приватности альбома",i[C.JournalEventType.changeAlbumCover]="Изменение обложки",i[C.JournalEventType.changeAlbumTitle]="Переименование альбома",i[C.JournalEventType.sentInvite]="Отправка приглашения",i[C.JournalEventType.activateInvite]="Принятие приглашения",i[C.JournalEventType.addComment]="Новые комментарии",i[C.JournalEventType.likeComment]="Новые отметки «Нравится»",i[C.JournalEventType.dislikeComment]="Новые отметки «Не нравится»",i[C.JournalEventType.buy]="Проведение единоразового платежа",i[C.JournalEventType.prolong]="Проведение повторяемого платежа",i[C.JournalEventType.prolongError]="Оповещение о неудачной оплате",i[C.JournalEventType.subscribe]="Подключение автоматического платежа",i[C.JournalEventType.unsubscribe]="Отказ от повторяемых платежей",i[C.JournalEventType.inviteUser]="Предоставление общего доступа",i[C.JournalEventType.changeRights]="Изменение уровня общего доступа",i[C.JournalEventType.kickFromGroup]="Закрытие общего доступа",i[C.JournalEventType.activateShare]="Принятие приглашения",i[C.JournalEventType.rejectInvite]="Отказ от приглашения",i[C.JournalEventType.removeInvite]="Отмена приглашения",i[C.JournalEventType.changeInviteRights]="Изменение уровня доступа для приглашения",i[C.JournalEventType.leaveGroup]="Отказ от доступа к общей папке",i[C.JournalEventType.unshareFolderUser]="Закрытие общего доступа для всех",i),F=E.connect((function(e){return{id:D.getJournalId(e),locale:S.getLocale(e),diskPath:D.getDiskPath(e),rootPath:D.getRootPath(e),state:D.getJournalState(e),trashPath:D.getTrashPath(e),text:D.getJournalFilterText(e),metrika:D.getMetrikaRoot(e),clusters:D.getJournalClusters(e),filterPlatforms:D.getJournalFilterPlatforms(e),isPersonal:D.isPersonalJournal(e),filterFolder:D.getJournalFilterFolder(e),filterPlatform:D.getJournalFilterPlatform(e),hasMore:D.hasJournalMoreEventToLoad(e),areFiltersApplied:D.areJournalFiltersResettable(e),filterUntil:D.getJournalFilterUntilDate(e),filterEventType:D.getJournalFilterEventType(e),filterEventTypes:D.getJournalFilterEventTypes(e),crumbsItems:x.getCrumbsItems(e)}}),{add:R.add,goToFolder:j.goToFolder,fetchJournal:T.fetchJournal,journalMounted:T.journalMounted,updateSettings:k.updateSettings,setJournalFilter:T.setJournalFilter,fetchJournalGroup:T.fetchJournalGroup}),B=function(){return h.default.createElement("div",{className:M().e("spin")},h.default.createElement(O.Spin,{view:"default",size:"l",progress:!0}))},U=function(e){var t=e.onTrigger,n=h.useRef(null),r=h.useCallback((function(e){var n=e[0];(null===n||void 0===n?void 0:n.isIntersecting)&&t()}),[t]);return h.useEffect((function(){var e=n.current,t=new IntersectionObserver(r,{root:null,threshold:1,rootMargin:"0px"});return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[n,r]),h.default.createElement("div",{ref:n,className:M().e("load-trigger")})},z=function(e){var t=e.id,n=e.state,r=e.hasMore,i=e.fetchJournal,o=h.useCallback((function(){t&&i({id:t,append:!0})}),[t,i]);if(r){if(n===C.JournalState.fetched)return h.default.createElement(U,{onTrigger:o});if(n===C.JournalState.appending)return h.default.createElement(B,null)}return null},V=function(e){var t=e.onClear,n=e.isTextSearch,r=e.areFiltersApplied,i=h.useCallback((function(e){e.preventDefault(),e.stopPropagation(),t()}),[t]),o=h.useMemo((function(){return r?"Ничего не найдено по заданным параметрам":"История"}),[r]),a=h.useMemo((function(){return r?"Измените условия поиска или сбросьте фильтры.":"Здесь собраны все изменения в вашем Диске."}),[r]);return n?h.default.createElement(v.default,null):h.default.createElement("div",{className:M().e("empty")},h.default.createElement("div",{className:M().e("empty-header")},o),h.default.createElement("div",{className:M().e("empty-text")},a),r?h.default.createElement(_.Button,{view:"raised",size:"m",theme:"raised",onClick:i},"Сбросить фильтры"):null)},H=c.default.once((function(e){var t;null===(t=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===t||t.logError({message:"unknown_journal_events",source:"journal",level:Ya.Rum.ERROR_LEVEL.WARN,additional:{events:e.join()}})})),W=function(e){var t=e.state,n=e.isPersonal,r=e.filterFolder,i=e.filterPlatform,a=e.filterUntil,s=e.filterEventType,u=e.isResettable,l=e.showStub,f=e.isTextSearch,d=e.eventTypes,m=e.platforms,v=e.onClear,g=e.onChangeUntil,O=e.onChangeEventType,E=e.onClickFolderSelect,S=e.onChangeEventPlatform,x=h.useCallback((function(e){return h.default.createElement(_.Button,o({},c.default.omit(e,"checked"),{view:"raised"}))}),[]),T=d.filter((function(e){return L[e]}));if(T.length!==d.length){var k=c.default.difference(d,T).sort();H(k)}return h.default.createElement("div",{className:M().e("controls")},h.default.createElement(_.Button,{view:"clear",size:"m",onClick:v,className:b.classnames(M().e("filter-item").m({hidden:!u||l&&!f}),M().e("reset-filters"))},"Сбросить"),h.default.createElement("div",{className:b.classnames(M().e("filter-item"),M().e("calendar-wrapper"))},h.default.createElement("span",null,"До"),h.default.createElement(y.default,{disabled:t!==C.JournalState.fetched,cls:b.classnames(M().e("calendar"),M().e("filter-item")),dateFormat:"DD.MM.YYYY",timestamp:a,onChange:g})),h.default.createElement(_.Button,{type:"checked",view:"raised",size:"m",checked:Boolean(r),disabled:t!==C.JournalState.fetched,onClick:E,className:b.classnames(M().e("filter-item"),M().e("folders-filter"))},r?p.default.basename(r):"Все папки"),h.default.createElement(w.Select,{className:b.classnames(M().e("select"),M().e("filter-item"),M().e("events-filter")),disabled:t!==C.JournalState.fetched||0===T.length,view:"default",size:"m",value:s,placeholder:(null===s||void 0===s?void 0:s.length)>1?__i18n__.i18n.convert(["1 событие",yr.externals.entityify(null===s||void 0===s?void 0:s.length)+" событие",yr.externals.entityify(null===s||void 0===s?void 0:s.length)+" события",yr.externals.entityify(null===s||void 0===s?void 0:s.length)+" событий"],yr.externals.entityify(null===s||void 0===s?void 0:s.length)):"Все события",onChange:O,renderTrigger:x,options:T.map((function(e){return{content:L[e],value:e}})),showAlwaysPlaceholder:1!==(null===s||void 0===s?void 0:s.length)}),n?h.default.createElement(w.Select,{className:b.classnames(M().e("select"),M().e("filter-item"),M().e("platforms-filter")),disabled:t!==C.JournalState.fetched||0===m.length,view:"default",size:"m",value:i,placeholder:"Все устройства",onChange:S,renderTrigger:x,options:m.map((function(e){return{content:N[e],value:e}}))}):null)};t.default=F((function(e){var t=e.id,n=e.add,r=e.text,i=e.state,s=e.locale,u=e.metrika,c=e.diskPath,l=e.rootPath,d=e.trashPath,v=e.clusters,y=e.filterFolder,b=e.filterPlatform,O=e.filterUntil,w=e.filterEventType,E=e.filterEventTypes,S=e.isPersonal,x=e.crumbsItems,T=e.areFiltersApplied,k=e.fetchJournal,j=e.setJournalFilter,P=e.filterPlatforms,R=e.fetchJournalGroup,D=e.updateSettings,N=e.journalMounted,L=e.goToFolder,F=h.useMemo((function(){return r.trim()}),[r]),U=i===C.JournalState.fetched&&0===v.length,H=null===F||void 0===F?void 0:F.trim().length,G=h.useCallback((function(){t&&k({id:t})}),[t,k]),$=h.useCallback((function(e){t&&R({id:t,groupId:e})}),[t,R]),q=h.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.default.count.apply(f.default,a(u,e))}),[u]),Y=h.useCallback((function(e){var n=e.target.value;t&&(q.apply(void 0,a(I.eventTypeFilterMetrika,[n])),j({id:t,filters:{eventType:n}}))}),[t,j,q]),K=h.useCallback((function(e){if(t){var n=e.target.value;f.default.count.apply(f.default,a(I.platformFilterMetrika,[n])),j({id:t,filters:{platform:n}})}}),[t,j]),J=h.useCallback((function(e){t&&(q.apply(void 0,I.dateFilterMetrika),j({id:t,filters:{untilDateTimestamp:e}}))}),[t,j,q]),X=h.useCallback((function(){t&&n("select-folder",{dialogParams:{type:"journal-filter",title:"Выберите папку"},onSubmit:function(e){var n=e.folderId;f.default.count.apply(f.default,I.folderFilterMetrika),j({id:t,filters:{folder:p.default.normalize(n).replace(l||"","")}})}})}),[t,n,j,l]),Z=h.useCallback((function(e){D({videoAutoPlayId:e})}),[D]),Q=h.useCallback((function(){t&&(q.apply(void 0,I.clearFiltersMetrika),j({id:t,filters:{},reset:!0}))}),[t,j,q]),ee=h.useCallback((function(e){L(e)}),[L]);if(h.useEffect((function(){q()}),[t,q]),h.useEffect((function(){N()}),[N]),i===C.JournalState.failed)return h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:M().e("error-title")},"Не удалось загрузить историю."),h.default.createElement(_.Button,{view:"raised",size:"m",theme:"raised",onClick:G},"Попробовать снова"));var te=h.default.createElement(W,{state:i,isPersonal:S,onClickFolderSelect:X,onClear:Q,onChangeUntil:J,onChangeEventType:Y,onChangeEventPlatform:K,eventTypes:E,platforms:P,filterUntil:O,filterEventType:w,filterFolder:y,filterPlatform:b,isResettable:T,isTextSearch:H,showStub:U});return h.default.createElement("div",null,S?null:h.default.createElement("div",{className:M().e("crumbs-settings")},h.default.createElement("div",{className:M().e("crumbs-wrapper")},h.default.createElement(A.default,{onItemClick:ee,tooltipDirections:["top-start","bottom-left"],items:x,full:!0})),te),h.default.createElement(g.default,{cls:M().e("header"),title:"История",backUrl:S?void 0:"/client"+c},S?te:null),[C.JournalState.fetching,C.JournalState.initial,C.JournalState.created].includes(i)?h.default.createElement(B,null):null,v.map((function(e){return h.default.createElement(m.default,{onSetVideoAutoplay:Z,key:e.id,locale:s,isPersonal:S,cluster:e,diskPath:c||"/disk",rootPath:l||"",trashPath:d||"/trash",countMetrika:q,fetchGroup:$})})),U?h.default.createElement(V,{areFiltersApplied:T,isTextSearch:H,onClear:Q}):null,i===C.JournalState.appending||i===C.JournalState.fetched?h.default.createElement(z,o({},e)):null)})),d.default.setOnBeforeFirstRenderCallback(P.default)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(99));t.default=o.default({loader:function(){return Promise.resolve().then((function(){return i(n(765))}))},webpack:function(){return[765]},modules:["./rootDocs"]})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(99));t.default=o.default({loader:function(){return Promise.resolve().then((function(){return i(n(773))}))},webpack:function(){return[773]},modules:["./docs-view"]})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(59);n(1997);var s=r(n(11)),u=o.connect((function(e){return{forms:e.config.urlsBase.forms}}));t.default=u((function(e){var t=e.forms;return i.default.createElement(a.Link,{href:t+"/surveys/10033577.be6b87652554c9b1165a08525eee2ed3b542f3a1/",className:s.default()("a11y-feedback"),theme:"normal"},"Обратная связь о специальных возможностях")}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(36),u=n(43),c=n(75),l=n(309),f=n(35),d=i(n(14)),p=n(1998),h=new(n(774).UXFeedbackIframeController);t.default=a.connect((function(e){var t=null,n=null,r=e.environment.session.locale,i=s.isDocsPage(e),o=s.isDocsView(e),a=c.isDiskWebNpsExp(e),d=c.isDiskWebNpsSecurityExp(e),p=c.isDiskViewerNpsExp(e),h=l.getMaybeShowPromozavr(e),m=u.getPage(e),v=e.config.yandexuid,g=e.user,y=g.isYandexStaff,b=g.isB2b;return"ru"!==r||y||(i?p&&o&&(t=f.DOCS_UXFEEDBACK_ACCOUNT_ID,n=f.DOCS_UXFEEDBACK_EVENT):"photo"===m||"albums"===m||b||(a?(t=f.DISK_UXFEEDBACK_ACCOUNT_ID,n=f.DISK_UXFEEDBACK_EVENT_DEFAULT):d&&(t=f.DISK_UXFEEDBACK_ACCOUNT_ID,n=f.DISK_UXFEEDBACK_EVENT_SECURITY))),{accountId:t,eventMessage:n,yandexuid:v,shouldShowUXFeedback:h}}))((function(e){var t=e.accountId,n=e.eventMessage,r=e.yandexuid,i=e.shouldShowUXFeedback;o.useEffect((function(){n&&(h.sendEvent(n),h.sendProperties({yandexuid:r}))}),[n,r]),o.useEffect((function(){t&&d.default.count("uxfeedback","render")}),[t]);var a=o.useCallback((function(){d.default.count("uxfeedback","save user info fail")}),[]);return o.useMemo((function(){return t&&i?o.default.createElement(p.UXFeedbackComponent,{accountId:t,uxfbController:h,onSaveUserInfoFail:a,defer:!0}):null}),[t,i,a])}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=r(n(0)),s=i(n(775)),u=i(n(14)),c=i(n(60)),l=n(27),f=n(48),d=n(26),p=n(59),h=i(n(206)),m=n(53),v=n(43),g=n(48);n(2008);var y=i(n(11)),b=i(n(2009)),_=function(){return y.default()("overdraft-screen")},O={updateSettings:m.updateSettings,goToUrl:l.goToUrl},w=o.connect((function(e){return{isMobile:e.environment.agent.isSmartphone,buttonText:f.getTuningButtonInfo(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:c.default.addParams(v.getBuyButtonUrl(e),{from:"disk_overdraft_screen"}),overdraftType:g.getOverdraftType(e)}}),O);t.default=w((function(e){var t=e.isMobile,n=e.buttonText,r=e.helpLink,i=e.buyButtonUrl,o=e.overdraftType,c=e.updateSettings,l=e.goToUrl;a.useEffect((function(){o||u.default.count("interface elements","overdraft_block","show")}),[o]);var f=a.useCallback((function(){u.default.count("interface elements","overdraft_block","more")}),[]),m=a.useCallback((function(){u.default.count("interface elements","overdraft_block","remove-excess"),c({closedOverdraftScreen:!0}),l("/client/disk")}),[c,l]),v=a.useCallback((function(){o||u.default.count("interface elements","overdraft_block","close"),c({closedOverdraftScreen:!0})}),[c,o]),g=a.useCallback((function(){u.default.count("interface elements","overdraft_block","buy")}),[]);return o?a.default.createElement("div",{className:t?"overdraft-screen-new-mobile":"overdraft-screen-new"},a.default.createElement(s.default,{from:"disk_overdraft-screen",onClose:v})):a.default.createElement("div",{className:_()},a.default.createElement("header",{className:_().e("header")},a.default.createElement(b.default,{cls:_().e("logo")}),a.default.createElement(d.Button,{className:_().e("close-button"),onClick:v,size:"m",view:"clear-black","aria-label":"Закрыть",icon:function(e){return a.default.createElement(h.default,{iconSize:"xl",cls:e})}})),a.default.createElement("main",{className:_().e("main")},a.default.createElement("div",{className:_().e("image")}),a.default.createElement("div",{className:_().e("title")},"Доступ к диску ограничен."),a.default.createElement("div",{className:_().e("text")},"Файлы занимают больше места, чем у вас есть.\nУдалите лишнее или увеличьте объём диска."),a.default.createElement(d.Button,{className:_().e("tuning-button"),size:"l",view:"action",onClick:g,type:"link",url:i,target:"_blank"},n),a.default.createElement(p.Link,{className:_().e("delete-link"),onClick:m,theme:"black"},"Удалить лишнее")),a.default.createElement("footer",{className:_().e("footer")},a.default.createElement(p.Link,{className:_().e("help-link"),href:r,target:"_blank",theme:"ghost",onClick:f},"Подробнее об ограничениях")))}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(19),s=n(2016),u=n(81);n(2022);var c=i(n(11)),l=n(80),f=a.connect((function(e){return{themeName:u.getThemeName(e),settings:u.getThemeSettings(e)}}));t.default=f((function(e){var t=e.themeName,n=e.settings,i=l.getCover(t);if(!t||!i)return null;var a=i.imageUrl,u=i.videoUrl,f=r({imageUrl:a},(null===n||void 0===n?void 0:n.isVideoEnabled)?{videoUrl:u}:{});return o.default.createElement(s.CoverLayer,r({className:c.default()("CoverLayer")},f))}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(81),s=n(80),u=n(75),c=o.connect((function(e){return{themeName:a.getThemeName(e),expDefaultBg:u.getExpDefaultBackground(e)}}));t.default=c((function(e){var t=e.themeName,n=e.expDefaultBg,r=s.getPageOverrides(t,n);return t&&r?i.default.createElement("style",null,"body { background: rgb("+r["--bg-color"]+")!important; }"):null}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.Promozavr=o.default.lazy((function(){return Promise.resolve().then((function(){return i(n(2025))}))}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(9)),u=n(23),c=n(42),l=i(n(324)),f=n(98),d=n(36),p=i(n(14)),h=r(n(33)),m=i(n(11)),v={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},g={docx:"Укажите название документа",xlsx:"Укажите название таблицы",pptx:"Укажите название презентации"},y=function(e){return v[e]},b=function(e,t){e?p.default.countDocs("name dialog",t):p.default.count("interface elements","name dialog",t)},_=a.connect((function(e,t){var n=t.dialog,r=f.isIosSafariSelector(e);return n&&n.data?{visible:n.state===u.STATE.OPENED,isIosSafari:r,isDocs:d.isDocsPage(e),onClose:n.data.onClose,onSubmit:n.data.onSubmit,extension:n.data.extension}:{visible:!1,isIosSafari:r,isDocs:d.isDocsPage(e),onClose:function(){},onSubmit:function(){},extension:"docx"}}))((function(e){var t=e.visible,n=e.isIosSafari,r=e.isDocs,i=e.onClose,a=e.onSubmit,u=e.extension,f=o.useState(y(u)),d=f[0],p=f[1],v=o.useState(null),_=v[0],O=v[1],w=o.useRef(!1),E=o.useCallback((function(e){var t=h.default.validateName(e);O(t?s.default.get(h.resourceNameValidationResultI18n,[t,"file"]):null)}),[]);o.useEffect((function(){if(t&&!w.current){var e=y(u);p(e),E(e),b(r,"show")}w.current=t}),[r,t,u,E]);var S=o.useCallback((function(e){p(e),E(e)}),[E]),x=o.useCallback((function(){a(d),b(r,"create")}),[r,d,a]);return o.default.createElement(l.default,{cls:m.default()("Document-Title-Dialog").mix(c.LISTING_PREVENT_DESELECT_CLASS),visible:t,title:g[u],renameText:d,submitButtonText:"Создать",submitDisabled:Boolean(_)||!Boolean(d),closeButtonAriaLabel:"Закрыть",errorText:_,onClose:i,onSubmit:x,onTextChange:S,isIosSafari:n})}));_.dialogName="document-name",t.default=_}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(136)),u=i(n(775)),c=i(n(554)),l=n(23),f=i(n(11));n(2127);var d={closeDialog:l.closeDialog},p=a.connect((function(e,t){return{visible:t.dialog.state===l.STATE.OPENED,type:e.dialogs.overdraft.data.type}}),d)((function(e){var t=e.visible,n=e.closeDialog,r=e.type,i=o.useCallback((function(){n("overdraft")}),[n]),a=o.useMemo((function(){return"overdraft"===r?o.default.createElement(u.default,{from:"disk_overdraft-dialog",onClose:i}):o.default.createElement(c.default,{onClose:i})}),[r,i]);return o.default.createElement(s.default,{visible:t,onClose:i,cls:f.default()("overdraft"),hasCloseButton:!1},a)}));p.dialogName="overdraft",t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(2128)),c=n(23),l=n(48),f=o(n(60)),d=n(14),p=n(25),h=o(n(107)),m={closeDialog:c.closeDialog},v=s.connect((function(e,t){var n=e.config.urlsBase.yandex360,r=e.environment.agent,i=r.isMobile,o=r.isTablet,a=e.page.idContext;return{yandex360:n,isMobile:i,isTablet:o,limitSize:l.getLimitUploadSize(e),files:t.dialog.data.files,visible:t.dialog.state===c.STATE.OPENED,isInsideVirtualDisk:p.isPathInsideVirtualDiskFiles(a)}}),m)((function(e){var t=e.isMobile,n=e.isTablet,i=e.limitSize,o=e.files,s=e.visible,c=e.closeDialog,l=e.isInsideVirtualDisk,p=e.yandex360,m=a.useCallback((function(){var e=l?p+"/business/tariff":p+"/premium-plans";window.open(f.default.addParams(e,{from:"disk_limit_upload_dialog"}),"_blank")}),[l,p]),v=a.useCallback((function(){c("limit-upload")}),[c]),g=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.count.apply(void 0,r(["interface elements","limit upload dialog"],e))}),[]);return a.default.createElement(u.default,{lang:"ru",visible:s,limitSize:i,files:o,onClose:v,onBuy:m,countMetrikaFn:g,useDrawer:t&&!n,dialogText:l?"Чтобы загружать файлы больше "+yr.externals.entityify(h.default.formatSpace(i))+", ваша организация должна быть подключена к платному тарифу Яндекс 360 для бизнеса. Свяжитесь с администратором организации.":void 0})}));v.dialogName="limit-upload",t.default=v}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(184)),c=n(23),l=n(15),f=n(31),d={closeDialog:c.closeDialog,saveShareEditMenuExpanded:l.saveShareEditMenuExpanded},p=s.connect((function(e,t){var n,r=null===(n=e.dialogs["share-dialog"])||void 0===n?void 0:n.data,i=r.metrikaContext,o=r.metrikaTail,a=r.objectIds,s=r.shareDialogScope,u=r.justPublished,l=f.getPublishObjectData(e,a),d=e.settings.shareEditMenuExpandedShowed;return{publishObjectData:l,visible:t.dialog.state===c.STATE.OPENED,metrikaContext:i,metrikaTail:o,objectIds:a,shareDialogScope:s,justPublished:u,shouldShowExpandedMenu:"1"!==d}}),d)((function(e){var t=e.visible,n=e.closeDialog,i=e.saveShareEditMenuExpanded,o=e.publishObjectData,s=e.metrikaContext,c=e.metrikaTail,l=e.objectIds,f=e.shareDialogScope,d=e.justPublished,p=e.shouldShowExpandedMenu,h=a.useState(!1),m=h[0],v=h[1],g=a.useCallback((function(){n("share-dialog")}),[n]);return a.useEffect((function(){o.isEditable&&!m&&(p||o.shortUrl&&d)&&(p&&i(),v(!0))}),[p,o,i,m,d]),a.default.createElement(u.default,{visible:t,objectIds:l,onClose:g,metrikaPath:r(["interface elements"],s,[l.length>1?"album share link":"share link"]),metrikaTail:c,defaultExpanded:m,scope:f})}));p.dialogName="share-dialog",t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(19),s=i(n(2148)),u=n(42),c=i(n(14)),l=n(23),f=a.connect((function(e,t){var n=t.dialog;return{visible:n.state===l.STATE.OPENED,onClose:n.data.onClose,onSubmit:n.data.onSubmit,toExtension:n.data.toExtension}}))((function(e){var t=e.visible,n=e.onClose,i=e.onSubmit,a=e.toExtension;if(!t)return null;return o.default.createElement(s.default,{lang:"ru",useDrawer:!1,toExtension:a,onClose:n,visible:t,onSubmit:i,countMetrikaFn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.default.count.apply(c.default,r(["interface elements","docs copy confirm dialog"],e))},className:u.LISTING_PREVENT_DESELECT_CLASS})}));f.dialogName="docs-copy-confirmation",t.default=f}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(29),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(1884),n(19)),_=n(0),O=n.n(_),w=n(161),E=n(26),S=n(59),x=n(135),C=n(756),T=Object(b.connect)(x.getTabsItems)(C.default),k=n(411),j=n(15),P=n(97),R=n(451),A=n(74),I=n(757),D=n(758),M=n.n(D),N=n(20),L=n(25),F=n(11),B=n.n(F);function U(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var z,V,H,W,G,$=function(){return B()()("listing-head")};z=n(570).default,V=n(2181).default,H=n(798).default;var q=n(763).default;W=q(E.Button),G=q(S.Link);var Y=["/trash","/shared","/family","/family/album",L.VIRTUAL_DISKS_ROOT,"/published","/attach","/narod","/attach/yaruarchive","/attach/YaFotki"],K=(function(e){h()(n,e);var t=U(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onDisplayTypeChange=r._onDisplayTypeChange.bind(d()(r)),r._onCrumbsItemClick=r._onCrumbsItemClick.bind(d()(r)),r._onBackClick=r._onBackClick.bind(d()(r)),r._getCrumbsItem=r._getCrumbsItem.bind(d()(r)),r}return l()(n,[{key:"_getResourceById",value:function(e){return this.props.resourcesByIds[e]||{id:e,type:"dir"}}},{key:"_onDisplayTypeChange",value:function(e){this.props.setViewStatesContext(e)}},{key:"_onCrumbsItemClick",value:function(e){this.props.goToFolder(e)}},{key:"_getCrumbsItem",value:function(e,t){var n=this._getResourceById(e.id);return this.props.canMoveInto(n)?O.a.createElement(G,a()({id:e.id,type:n.type},t)):O.a.createElement(S.Link,t)}},{key:"_getParentFolderId",value:function(){return this.props.items[this.props.items.length-1].id}},{key:"_onBackClick",value:function(){this.props.goToFolder(this._getParentFolderId())}},{key:"_getAdditionalActions",value:function(){var e=this.props.additionalActions;return e&&O.a.createElement("div",{className:$().e("additional-actions")},e)}},{key:"_getListingSettings",value:function(e){var t=this.props,n=t.view,r=t.sortable,o=t.displayListingType,a=this._getAdditionalActions(),s=$().e("listing-settings");return e&&(s=s.m(i()({},e,!0))),O.a.createElement("div",{className:s},a,r?O.a.createElement(V,{cls:$().e("sort")}):null,o?O.a.createElement(z,{values:["tile","icons","list"],value:n,onChange:this._onDisplayTypeChange}):null)}},{key:"_getBackButton",value:function(){var e,t={view:"clear",size:"s",className:$().e("back"),onClick:this._onBackClick,icon:w.backArrowIconProvider};return this.props.canMoveInto(this._getResourceById(this._getParentFolderId()))?(t.id=this._getParentFolderId(),t.type="back",e=W):e=E.Button,O.a.createElement(e,a()({},t,{"aria-label":"Назад"}))}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.page.idContext,r=e.current,i=e.hideActionsButton,o=e.isReadOnlyVdResource,a=e.hasTabs,s=t.length>0&&!Y.includes(n),u=!s&&a,c=Object(L.isVirtualDiskJournal)(n);return O.a.createElement("div",{className:$().m({"with-crumbs":s,"with-tabs":u})},s?O.a.createElement("div",{className:$().e("crumbs-and-settings")},O.a.createElement(H,{cls:$().e("crumbs"),onItemClick:this._onCrumbsItemClick,getCrumbsItem:this._getCrumbsItem,items:t,root:r&&{name:r.name,id:r.idContext},tooltipDirections:["top-start","bottom-left"],full:!0}),this._getListingSettings()):null,O.a.createElement("div",{className:$().e("heading-wrapper")},s?this._getBackButton():null,O.a.createElement(I.a,{hideActionsButton:i})),u?O.a.createElement(T,{className:$().e("tabs")}):null,o?O.a.createElement(M.a,{className:$().e("readonly-notification").m({touch:!1})}):null,!c&&this._getListingSettings("bottom"))}}]),n})(_.Component);K.defaultProps={displayListingType:!0};var J={setViewStatesContext:k.a,goToFolder:j.goToFolder};t.default=Object(b.connect)((function(e){var t=e.page,n=e.resources;return{view:Object(P.getView)(e),items:Object(R.getCrumbsItems)(e),hasTabs:Object(x.hasTabs)(e),current:Object(R.getCurrentCrumbItem)(e),resourcesByIds:n,page:t,canMoveInto:function(t){return Object(N.can)(N.MOVE_INTO,t,e)},isReadOnlyVdResource:Object(A.isReadOnlyVdResource)(t.idContext,e)}}),J)(K)}),(function(e,t,n){"use strict";var r=n(29),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(2023),n(5)),_=n(118),O=n(19),w=n(27),E=n(0),S=n.n(E),x=n(26),C=n(323),T=n(228),k=n(31),j=n(48),P=n(146),R=n(43),A=n(98),I=n(75),D=n(28),M=n(54),N=n(14),L=n(55),F=n(11),B=n.n(F);function U(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var z=function(){return B()()("listing-stub")},V=Object(b.compose)(_.withViewPremium)(x.Button),H={screenshots:function(e){return{caption:"Скриншоты",descs:["win","mac"].includes(e.osId)?["В этой папке могут храниться скриншоты с компьютера. Но сейчас их здесь нет.","Чтобы они появились, установите программу Яндекс Диск. В ней вы сможете сделать скриншот, отредактировать его и поделиться."]:["В этой папке могут храниться скриншоты из программы Яндекс Диск. Программа доступна для Windows и Mac."]}},downloads:{caption:"Загрузки",descs:["В папке «Загрузки» хранятся файлы, которые вы сохранили на Диск по публичной ссылке или из Почты."]},published:{caption:"Публичные ссылки",descs:["Любым файлом в Диске легко поделиться. Выберите файл или папку и сделайте ссылку."]},shared:function(e){return{caption:"Общие папки для совместной работы",descs:[e.agent.isMobile?"В общих папках могут вместе просматривать, добавлять и редактировать файлы несколько человек":"Пригласите несколько человек в общую папку, чтобы вместе просматривать, добавлять и редактировать файлы."]}},family:function(e){var t=e.agent.isMobile,n=e.isFamilyCreationAllowed,r=e.shouldShowFamilyPromo,i=e.isFamilyAlbumExp;return!t&&r?i?{caption:S.a.createElement(S.a.Fragment,null,"Соберите до 8 близких и оцените выгоду",S.a.createElement("br",null),"от тарифа Яндекс 360 Премиум Семейный"),descs:[S.a.createElement(S.a.Fragment,null,"Получите +1 ТБ на Диске для каждого в тарифе",S.a.createElement("br",null),"и делитесь с близкими файлами",S.a.createElement("br",null),"в семейных папках и альбоме")]}:{caption:S.a.createElement(S.a.Fragment,null,"Подключите семейный тариф",S.a.createElement("br",null),"и поделитесь файлами с близкими"),descs:[S.a.createElement(S.a.Fragment,null,"Вы сможете хранить общие файлы в семейных папках",S.a.createElement("br",null),"и быстро делиться ими с родственниками.")]}:{caption:"Семейных папок пока нет",descs:n?["Вы можете хранить в семейных папках общие файлы и быстро делиться ими с близкими."]:[]}},photo:function(e){return{caption:"Все фотографии",descs:[e.agent.isMobile?"Здесь будут ваши загруженные фото и видео":"Загружайте свои фотографии любым удобным способом, можно даже перетащить в окно браузера."]}},photo_filter:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]},recent:{caption:"Последние файлы",descs:["В этом разделе Яндекс Диск показывает файлы, загруженные последними."]},albums:{caption:"Альбомы",descs:["У вас пока нет ни одного альбома. Загрузите фото, чтобы создать альбом."]},album:function(e){return e.isFamilyAlbum?{caption:"Пустой альбом",descs:["В этом альбоме пока нет ни одной фотографии."]}:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]}},trash:function(){return{caption:"Корзина пуста",descs:[]}}},W=(function(e){h()(n,e);var t=U(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onUploadButtonChange=r._onUploadButtonChange.bind(d()(r)),r._onUploadButtonClick=r._onUploadButtonClick.bind(d()(r)),r._onFamilyBottonClick=r._onFamilyBottonClick.bind(d()(r)),r}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stubId,n=e.shouldShowFamilyPromo;"family"===t&&n&&N.default.count("family promo","stub","show",this.props.stubViewerMetrikaKey)}},{key:"_onUploadButtonChange",value:function(e,t){this.props.upload(e).then(t,t)}},{key:"_onUploadButtonClick",value:function(){this.props.maybeBlockAction({forLite:!0})}},{key:"_onFamilyBottonClick",value:function(){this.props.shouldShowFamilyPromo?(window.open(this.props.familyButtonLink,"_blank"),N.default.count("family promo","stub","click",this.props.stubViewerMetrikaKey)):(N.default.count("interface elements","create new","family folder","stub",{role:this.props.familyRoleMetrikaKey,feature:this.props.hasFamilyFeature}),this.props.createFolder(!0))}},{key:"_getButtonProps",value:function(){var e=this,t=this.props,n=t.albumId,r=t.stubId,i=t.familyButtonLink,o=t.isFamilyCreationAllowed,a=t.isFamilyAlbum,s=t.shouldShowFamilyPromo,u=t.hasFamilyAlbumFeature,c=t.agent.isMobile;switch(r){case"screenshots":var l=null;switch(this.props.osId){case"win":l="Скачать Диск для Windows";break;case"mac":l="Скачать Диск для Mac"}return l?Object.assign({children:l,url:this.props.links.downloadApp[this.props.osId]},{target:"_blank",type:"link"}):null;case"shared":return!c&&{onClick:this.props.createSharedFolder,children:"Создать общую папку"};case"family":return c||!o&&!s?null:s?{children:"Подключить",onClick:this._onFamilyBottonClick,url:i,view:"premium",type:"link",target:"blank"}:{children:"Создать семейную папку",onClick:this._onFamilyBottonClick,view:"raised"};case"album":if(a&&u){return!c&&{onClick:function(){return e.props.addToCurrentAlbum(n)},children:"Добавить фото",iconLeft:function(e){return S.a.createElement(T.default,{iconSize:"m",className:e})}}}}}},{key:"_getContent",value:function(){var e=this.props.stubId;return"function"==typeof H[e]?H[e](this.props):H[e]}},{key:"render",value:function(){var e,t=this.props,n=t.stubId,r=t.disableUploadButton,o=t.isFooterHidden,s=t.restrict,u=t.withHeading;if(!n)return null;var c=this._getButtonProps(),l=this._getContent(),f=l.caption,d=l.descs;return S.a.createElement("div",{className:z().m((e={withHeading:u},a()(e,n,!0),a()(e,"footer-hidden",o),e))},S.a.createElement("div",{className:z().e("wrapper")},S.a.createElement("div",{className:z().e("icon")}),S.a.createElement("h1",{className:z().e("title")},this.props.caption?this.props.caption:f),d.map((function(e,t){return S.a.createElement("p",{className:z().e("desc"),key:t},e)})),S.a.createElement("div",{className:z().e("button-wrap")},c?S.a.createElement(V,i()({view:"raised",size:"m",theme:"raised"},c)):null,"recent"===n?S.a.createElement(C.default,{theme:"raised",disabled:r,text:"Загрузить",title:"Загрузить файлы",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:s}):null,["albums","photo"].includes(n)?S.a.createElement(C.default,{theme:"raised",disabled:r,action:!1,text:"Загрузить фото",title:"Загрузить фото",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:s}):null)))}}]),n})(E.Component),G={addToCurrentAlbum:M.addToCurrentAlbum,createSharedFolder:w.createSharedFolder,createFolder:w.createFolder,upload:w.upload,maybeBlockAction:w.maybeBlockAction};t.a=Object(O.connect)((function(e){var t=e.config,n=t.links,r=t.urlsBase.yandex360,i=e.page.filter,o=e.environment.agent,a=Object(j.getOverdraftType)(e),s=Object(I.ifFamilyLinkExp)(e)?"".concat(r,"/family/?from=disk_family#calculator"):"".concat(r,"/premium-plans/family/?from=disk_family");return{osId:Object(A.getOsId)(e),stubId:Object(k.getListingStubId)(e),isFooterHidden:Object(R.isFooterHidden)(e),links:n,agent:o,filter:i,familyButtonLink:s,disableUploadButton:Object(j.shouldNotifyOverdraft)(e)&&!a,shouldShowFamilyPromo:Object(L.shouldShowPromoStub)(e),isFamilyCreationAllowed:Object(L.isFamilyCreationAllowed)(e),restrict:Object(P.shouldRestrict)(e,{forLite:!0}),familyRoleMetrikaKey:Object(L.getFamilyRoleMetrikaKey)(e),stubViewerMetrikaKey:Object(L.getPromoStubViewerMetrikaKey)(e),hasFamilyFeature:Object(L.hasFamilyFeature)(e),hasFamilyAlbumFeature:Object(L.hasFamilyAlbumFeature)(e),isFamilyAlbumExp:Object(I.isFamilyAlbumExp)(e),isFamilyAlbum:Object(D.isCurrentAlbumFamily)(e),albumId:Object(D.getCurrentAlbumId)(e)}}),G)(W)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(17);t.getAccessFolderResource=function(e){var t=e.page.idDialog;if(t)return i.getResourceData(e,t)},t.getIsCurrentFolderShared=function(e){var n,r=t.getAccessFolderResource(e);return Boolean(null===(n=null===r||void 0===r?void 0:r.meta)||void 0===n?void 0:n.group)};var o=function(e){var n=t.getAccessFolderResource(e);return n?e.accessFolder.usersByResource[n.id]:void 0};t.getAccessFolderUsers=function(e){var t;return((null===(t=o(e))||void 0===t?void 0:t.users)||[]).filter((function(e){return"owner"!==e.status}))},t.getIsAccessFolderUsersLoading=function(e){var n;if(t.getIsCurrentFolderShared(e)){var r=null===(n=o(e))||void 0===n?void 0:n.isLoading;return void 0===r||r}return!1},t.getIsAccessFolderInvitingUser=function(e){var t;return(null===(t=o(e))||void 0===t?void 0:t.invitingUser)||!1},t.getSuggestions=function(e){return e.accessFolder.suggest.suggestions.map((function(e){return r(r({},e),{fromSuggest:!0})}))},t.isOuterContactsEnabled=function(e){return e.environment.session.experiment.diskWebIsOuterBadgeExp}}),(function(e,t,n){n(462),n(464);var r=n(9),i=n(218),o=n(17).getResourceData,a=n(13).default;ns.Model.define("inviteesFolder",e.exports={isCollection:!0,jpathItems:".invitees",params:{idFolder:null},defaults:{status:"initiated",invitees:[]},events:{"ns-model-destroyed":"ondestroy"},methods:{_init:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ns.ModelCollection.prototype._init.apply(this,n),r.bindAll(this,"onChangedLinkedModel","onInsertUserFolder"),this.gidFolder=o(a().getState(),this.params.idFolder,"meta.group.gid"),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.idFolder,{"meta.group.gid":function(){e.toggleUsersFolders()}},(function(){e.destroyAll()})),this.linkUsersFolder(),this.fetch()},ondestroy:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},linkUsersFolder:function(){this.usersFolder&&(this.usersFolder.off("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.off("ufo-model-insert",this.onInsertUserFolder)),this.usersFolder=ns.Model.get("usersFolder",r.extend({},this.params,{gidFolder:this.gidFolder})),this.usersFolder.on("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.on("ufo-model-insert",this.onInsertUserFolder)},onChangedLinkedModel:function(e,t){t||this.syncDataLinked()},onInsertUserFolder:function(e,t){var n=ns.Model.get("inviteeFolder",{id:t.get(".id"),idFolder:this.params.idFolder});n.syncWith(t),this.insertItem(n,0)},fetch:function(){this.setDataDefault(),this.usersFolder.isValid()||(this.gidFolder?(this.usersFolder.fetch(),this.linkUsersFolder()):this.usersFolder.isValid()||this.usersFolder.setDataDefault()),this.syncDataLinked()},updateStatus:function(){var e="loaded";this.usersFolder.isValid()||(e="loadingUsers"),this.get(".status")!==e&&this.set(".status",e)},syncDataLinked:function(){var e=this;this.updateStatus();var t=this.usersFolder.get(".index")||[],n=0;r.each(t,(function(t){var i=ns.Model.get("userFolder",{userid:t,idFolder:e.params.idFolder}),o=ns.Model.get("contact",{userid:t});o.getData()&&i.get(".is_ya_directory")&&i.setData(r.extend(i.getData(),{avatar:o.get(".avatar"),department:o.get(".department"),email:o.get(".email"),name:o.get(".name"),title:o.get(".title"),type:o.get(".type")}));var a=ns.Model.get("inviteeFolder",{id:i.get(".id"),idFolder:e.params.idFolder});a.syncWith(i),e.insertItem(a,n++)}))},insertItem:function(e,t){-1===this.models.indexOf(e)&&this.insert(e,t)},syncOrder:function(){var e=this;if(this.usersFolder.isValid()){var t=this.usersFolder.get(".index"),n=[];r.each(t,(function(t){n.push(ns.Model.get("inviteeFolder",{id:t,idFolder:e.params.idFolder}))})),this.models=n,this.touch()}},destroyAll:function(){this.usersFolder.off("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.off("ufo-model-insert",this.onInsertUserFolder),r.each(this.models.slice(),ns.Model.destroy),ns.Model.destroy(this)},fetchUsersFolder:function(){return this.usersFolder.fetch()},toggleUsersFolders:function(){this.gidFolder=o(a().getState(),this.params.idFolder,"meta.group.gid");var e=ns.Model.get("usersFolder",{idFolder:this.params.idFolder,gidFolder:this.gidFolder||null}),t=this,n=function(){t.linkUsersFolder(),t.syncDataLinked(),t.syncOrder()};this.gidFolder?e.fetch().then(n):(e.setDataDefault(),n())},resetState:function(){r.invokeMap(this.models.slice(),"resetState")},getItem:function(e){return ns.Model.getValid("inviteeFolder",{id:i.normalize(e),idFolder:this.params.idFolder})},getItemByEmail:function(e){return e=i.normalize(e),r.find(this.models,(function(t){return t.get(".email")===e}))},isEmpty:function(){return r.isEmpty(this.models)}}})}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}}),(function(e,t,n){"use strict";n.r(t),t.default=ns.Model.define("stateAccessFolder",{params:{idFolder:null},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ns.Model.prototype._init.apply(this,t),this.setDataDefault()},reset:function(){this.get(".operationFailed")&&this.set(".operationFailed",null)}}})}),(function(e,t,n){n(721),n(1650);var r=n(9),i=n(218),o=n(13).default,a=n(89).isAliasForUserAddress;ns.Model.define("contacts",e.exports={split:{items:".contacts",model_id:"contact",params:{userid:".id"}},defaults:{contacts:[]},methods:{preprocessData:function(e){var t=[],n=[],s=o().getState(),u=s.user,c=s.config,l="".concat(c.urlsBase.externalStatic,"/mail/socialavatars/socialavatars/v4");return r.each(e.contacts,(function(e){e.originid=e.email||e.userid||e.groupid,e.userid=i.normalize(String(e.groupid||e.userid||e.email)),e.name||(e.name=e.displayName||e.userid||e.groupid),e.avatar&&(e.avatarUrl="icon"===e.avatar.type?"".concat(l,"/").concat(e.avatar.icon,".svg"):e.avatar.url,delete e.avatar),e.id=e.email||e.userid,e.service=e.is_ya_directory?"ya_directory":"email",a(s,e.id)||(e.nameEncoded=encodeURIComponent(e.name),t.push(e))})),t.length&&(t=u.isWS?r.uniqBy(t,(function(e){return e.userid})):r.chain(t).uniqBy((function(e){return e.userid})).sortBy((function(e){return e.name||e.userid})).value(),n=r.map(t,(function(e){return e.id}))),r.extend(e,{contacts:t,index:n})},insertItem:function(e,t){t=t||0,this.insert(e,t);var n=this.get(".index");n.splice(t,0,e.get(".id")),this.set(".index",n,{silent:!0})},formatSuggest:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.invokeMap.apply(r,[this.models.slice(),"formatSuggest"].concat(t))},isEmpty:function(){return r.isEmpty(this.models)}}}),ns.Model.get("contacts").setDataDefault()}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(11),v=n.n(m);n(1846);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("lite-checkbox")},b=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onChange,r=e.cls;return h.a.createElement("label",{className:y().mix(r)},h.a.createElement("input",{className:y().e("control"),type:"checkbox",onChange:n,checked:t}),h.a.createElement("div",{className:y().e("box")}))}}]),n})(p.PureComponent);b.defaultProps={checked:!1},t.default=b}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M4 13.308C4 10.376 6.35 8 9.25 8h14a6.975 6.975 0 0 1 5.6 2.83L32 15.078h22.75c2.9 0 5.25 2.376 5.25 5.308v28.307C60 51.624 57.65 54 54.75 54H9.25C6.35 54 4 51.624 4 48.692V13.308Z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M25.875 47.75C13.794 47.75 4 37.956 4 25.875S13.794 4 25.875 4 47.75 13.794 47.75 25.875c0 4.777-1.532 9.197-4.13 12.795l13.605 13.605a3.5 3.5 0 0 1-4.95 4.95L38.67 43.62a21.776 21.776 0 0 1-12.795 4.13Zm0-7c8.215 0 14.875-6.66 14.875-14.875S34.09 11 25.875 11 11 17.66 11 25.875 17.66 40.75 25.875 40.75Z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M18 14.5C18 8.701 22.701 4 28.5 4h7C41.299 4 46 8.701 46 14.5h7a3.5 3.5 0 1 1 0 7h-2.288l-2.59 33.653A5.25 5.25 0 0 1 42.889 60H21.112a5.25 5.25 0 0 1-5.235-4.847L13.29 21.5H11a3.5 3.5 0 1 1 0-7h7Zm5.55 10.328a2.8 2.8 0 0 0-2.576 3.008l1.49 19.266a2.8 2.8 0 0 0 5.583-.432l-1.49-19.266a2.8 2.8 0 0 0-3.008-2.576Zm13.892 2.594a2.8 2.8 0 1 1 5.583.432l-1.487 19.225a2.8 2.8 0 0 1-5.583-.432l1.487-19.225ZM28.5 11a3.5 3.5 0 0 0-3.5 3.5h14a3.5 3.5 0 0 0-3.5-3.5h-7Z"})}}]),n})(n(12).default)}),(function(e,t,n){}),(function(e,t,n){"use strict";n(2116),n(2117);nb.define("loader-thin",{events:{init:function(){this.$node=$(this.node),this.$text=this.$node.find(".js-text")}},showText:function(){this.$text.show()},hideText:function(){this.$text.hide()},show:function(){this.$node.removeClass("nb-is-hidden")},hide:function(){this.$node.addClass("nb-is-hidden")}})}),(function(e,t,n){var r=n(220)(n(152),"Set");e.exports=r}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(33),a=n(46),s=n.n(a),u=n(22),c=n.n(u),l=n(67),f=n(13),d=n(17),p=n(15),h=n(78),m=n(115);n(462),n(463),n(526),n(106),n(1648),l.a.define("operationAccessFolder",{methods:{init:function(){var e=this.get(".idSrc"),t=Object(f.default)().getState();if(e&&Object(d.isExistsResource)(t,e)){var n=ns.Model.getValid("inviteesFolder",{idFolder:e});this.set(".invitees",n)}var r=this.get(".idInvitee");if(r){var i=ns.Model.getValid("inviteeFolder",{id:r,idFolder:e});i.state.bindOperation(this),this.set(".invitee",i)}},onStatusCreated:function(){this.doRequestShareAccess()},doRequestShareAccess:function(){var e=Object(d.getResourceData)(Object(f.default)().getState(),this.get(".idSrc")),t=this.get(".invitee");ns.Model.get("queueRequest").push({id:"do-resource-share-access",params:{gid:i.a.get(e,"meta.group.gid"),userid:t.get(".originid"),uid:t.get(".uid"),service:t.get(".service"),status:t.get(".status"),rights:this.get(".rights")}}).then(this.handleResponseShareAccess,this.handleResponseShareAccess,this)},handleResponseShareAccess:function(e){e.get(".error")?(this.checkReasonFailed(e),this.setStatus("failed")):this.setStatus("completed")},onStatusCompleted:function(){var e=Object(f.default)(),t=Object(d.getResourceData)(e.getState(),this.get(".idSrc")),n=this.get(".invitees");return this.get(".isRemote")?"actor"===this.get(".role")?(this.get(".rights")?t?(this.fetchResource(t.id),e.dispatch(Object(p.notifyChangedAccess)(t.id))):this.setStatus("done"):(this.get(".invite")?Object(f.default)().dispatch(Object(m.c)(!0)):(t&&(c.a.isParentOrEqualToCurrentFolder(t.id)&&s.a.go("/client/disk"),e.dispatch(Object(p.removeResource)(t.id))),o.default.updateParentsOf(this.get(".idSrc")),e.dispatch(Object(h.a)())),this.setStatus("done")),void this.showNotification({operation:this.getType(),nameFolder:this.get(".nameFolder"),role:this.get(".role"),rights:this.get(".rights"),status:this.get(".status"),reason:this.get(".reason")})):void(("owner"===this.get(".role")||"user"===this.get(".role")&&!this.get(".rights"))&&(t&&n.usersFolder.fetch(),this.setStatus("done"))):("0"===this.get(".rights")?(n.usersFolder.removeItem(this.get(".idInvitee")),this.get(".invitee").set(".status","contact"),this.get(".invitees").remove(this.get(".invitee"))):ns.Model.get("userFolder",{idFolder:t.id,userid:this.get(".idInvitee")}).updateData({rights:this.get(".rights")}),void this.setStatus("done"))},handleSyncResource:function(){this.setStatus("done")},isFinalized:function(){return"failed"===this.get(".status")||"done"===this.get(".status")}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(531);n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"Popup",(function(){return r.a})),n.d(t,"withNonvisual",(function(){return r.d})),n.d(t,"withTargetAnchor",(function(){return r.e})),n.d(t,"withThemeClear",(function(){return r.f})),n.d(t,"withThemeNormal",(function(){return r.g})),n.d(t,"withViewDefault",(function(){return r.h})),n.d(t,"directions",(function(){return r.c}))}),(function(e,t,n){var r=n(153),i=n(1860),o=n(1861),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,f,d,p,h,m=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,m=t,d=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-m>=f}function O(){var e=i();if(_(e))return w(e);p=setTimeout(O,(function(e){var n=t-(e-h);return g?u(n,f-(e-m)):n})(e))}function w(e){return p=void 0,y&&c?b(e):(c=l=void 0,d)}function E(){var e=i(),n=_(e);if(c=arguments,l=this,h=e,n){if(void 0===p)return (function(e){return m=e,p=setTimeout(O,t),v?b(e):d})(h);if(g)return clearTimeout(p),p=setTimeout(O,t),b(h)}return void 0===p&&(p=setTimeout(O,t)),d}return t=o(t)||0,r(n)&&(v=!!n.leading,f=(g="maxWait"in n)?s(o(n.maxWait)||0,t):f,y="trailing"in n?!!n.trailing:y),E.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=h=l=p=void 0},E.flush=function(){return void 0===p?d:w(i())},E}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(26),u=n(396),c=n(57),l=o(n(205));n(1899);var f=o(n(11));t.default=function(e){var t=e.title,n=e.value,i=e.menuClassName,o=a.useCallback((function(i){var o=e.options.find((function(e){return e.value===n}));return a.default.createElement(s.Button,r({},l.default(i,["width"]),{view:"raised","aria-label":t+" "+(null===o||void 0===o?void 0:o.content),iconLeft:null===o||void 0===o?void 0:o.icon})," ")}),[t,n,e.options]),d=a.useCallback((function(e,n){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:f.default()("SelectWithTitle").e("Title")},t),a.default.createElement(n,r({},l.default(e,["items"]),{rightGlyph:!0,wide:!0,className:i}),e.items.map((function(e){var t=e.content,n=e.value,r=e.icon;return a.default.createElement(c.Item,{key:n,value:n,icon:r},t)}))))}),[t,i]);return a.default.createElement(u.Select,r({renderMenu:d,renderTrigger:o},e))}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=(n(1904),n(19)),h=n(0),m=n.n(h),v=n(115),g=n(410),y=n(26),b=n(173),_=n(107),O=n.n(_),w=n(11),E=n.n(w);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var x=n(130).I18N,C=function(){return E()()("listing-invites-to-folders")},T=(function(e){u()(n,e);var t=S(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_onAcceptButtonClick",value:function(e){this.props.acceptInviteToFolder(e)}},{key:"_onRejectButtonClick",value:function(e){this.props.rejectInviteToFolder(e)}},{key:"_onCloseButtonClick",value:function(e){this.props.hideInviteToFolder(e)}},{key:"_getInvite",value:function(e){var t=e.hash,n=e.folder_name,r=e.size,i=e.owner_name,o=O.a.formatSpace(r);return m.a.createElement("div",{className:C().e("item"),key:t},m.a.createElement("div",{className:C().e("text"),title:"Приглашение в папку «"+yr.externals.entityify(n)+"» ("+yr.externals.entityify(o)+"), владелец — "+yr.externals.entityify(i)},m.a.createElement(x,{loc:"Приглашение в папку «"+yr.externals.entityify(x.$1)+"» ("+yr.externals.entityify(x.$2)+"), владелец — "+yr.externals.entityify(x.$3)},n,o,m.a.createElement("span",{className:C().e("username")},i))),m.a.createElement("div",{className:C().e("buttons")},m.a.createElement(y.Button,{className:C().e("button"),view:"link",size:"s",onClick:this._onAcceptButtonClick.bind(this,t)},"Принять приглашение"),m.a.createElement(y.Button,{className:C().e("button"),view:"pseudo-inverse",size:"s",onClick:this._onRejectButtonClick.bind(this,t)},"Отклонить")),m.a.createElement("div",{className:C().e("close")},m.a.createElement(y.Button,{view:"clear-inverse",size:"s","aria-label":"Закрыть",onClick:this._onCloseButtonClick.bind(this,t),icon:b.close2IconProvider})))}},{key:"componentDidMount",value:function(){this.props.fetchInvitesToFolders()}},{key:"render",value:function(){return m.a.createElement("div",{className:C()},this.props.items.map(this._getInvite,this))}}]),n})(h.Component),k={acceptInviteToFolder:v.b,rejectInviteToFolder:v.e,hideInviteToFolder:v.d,fetchInvitesToFolders:v.c};t.default=Object(p.connect)((function(e){return{items:Object(g.getInvitesList)(e)}}),k)(T)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(1905)),c=o(n(1907)),l=o(n(1910)),f=o(n(861)),d=n(61),p=n(53),h=n(55),m=n(54),v={closePopup:d.closeFamilyAlbumOnboarding,saveSettings:p.saveSettings,addToCurrentAlbum:m.addToCurrentAlbum};t.default=s.connect((function(e){return{isOpened:e.albums.isOpenFamilyAlbumOnboarding,familyAlbum:e.albums.albums.family,members:h.getFamilyMembers(e)}}),v)((function(e){var t=e.addToCurrentAlbum,n=e.closePopup,i=e.isOpened,o=e.saveSettings,s=e.members,d=e.familyAlbum;a.useEffect((function(){i&&o({key:"isShownFamilyAlbumOnboarding",value:"1"})}),[i,o]);var p=a.useCallback((function(){(null===d||void 0===d?void 0:d.personalAlbumId)&&t(d.personalAlbumId)}),[null===d||void 0===d?void 0:d.personalAlbumId,t]),h=a.useMemo((function(){var e=[{id:"album",content:function(e){return a.default.createElement(u.default,r({},e))},hasSkipButton:!1,hasCloseButton:!0}];return s.length?e.push({id:"list",content:function(e){return a.default.createElement(l.default,r({},e))},hasSkipButton:!1,hasCloseButton:!0}):e.push({id:"empty",content:function(e){return a.default.createElement(c.default,r({},e))},hasSkipButton:!1,hasCloseButton:!0}),e}),[null===s||void 0===s?void 0:s.length]);return a.default.createElement(f.default,{steps:h,isOpened:i,onFinish:p,closePopup:n,premiumStepsIds:["album","empty"],onboardingId:"family album onboarding"})}))}),(function(e,t){e.exports="/s3/disk/_/_1ZBWL9L1w6V2DwFdsrNw6HIApMl.png"}),(function(e,t){e.exports="/s3/disk/_/_bcVaCwUswf6u2CuosDqzT320Tk-.png"}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(1914),u=n(1932),c=n(80),l=n(81),f=i(n(14)),d=i(n(11));n(1933);t.default=a.connect((function(e){return{isDark:c.isContentDark(l.getThemeName(e))}}))((function(e){var t=e.steps,n=e.initialStepIndex,r=e.onClose,i=e.onNextStep,a=e.onFinish,c=e.closePopup,l=e.isOpened,p=e.isDark,h=e.premiumStepsIds,m=e.onboardingId,v=u.useMultiStepState(t,n),g=v.currentStepIndex,y=v.currentStep,b=v.toggleNextStep,_=v.togglePreviousStep,O=v.isLastStep,w=v.toggleStepByIndex;o.useEffect((function(){l&&f.default.count(m,y.id,"show")}),[m,y,l]);var E=o.useCallback((function(){f.default.count(m,y.id,"submit click"),O?(f.default.count(m,y.id,"finish"),a&&a(),c(),w(0)):(i&&i(g+1),b())}),[O,a,c,i,b,g,w,y,m]),S=o.useCallback((function(){f.default.count(m,y.id,"close"),r&&r(),w(0),c()}),[c,r,w,y,m]);return t?o.default.createElement(s.MultiStepPopup,{stepsTotal:t.length,currentStep:y,currentStepIndex:g,visible:l,className:d.default()("multi-step-onboarding").m({dark:p,premium:h.includes(y.id),touch:!1}),onClose:S,isTouch:!1,onSkip:E,contentVerticalAlign:"middle"},o.default.createElement(y.content,{id:y.id,stepIndex:g,toggleNextStep:E,togglePreviousStep:_,isTouch:!1,isLastStep:O})):null}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33)),o=n(15),a=n(25);t.updateVirtualDiskInfo=function(e){return function(t,n){var r=a.VIRTUAL_DISKS_ROOT+"/"+e.vd_fields.vd_hash+"/disk",s=e.vd_fields.vd_name,u=e.space,c=a.getCurrentVirtualDiskTrash(r),l=n(),f=l.settings,d=l.config,p=l.defaultFolders.folders,h=i.default.preprocess({id:r,name:s,type:"vd",space:u,vd_fields:e.vd_fields},f,d,p),m=c&&i.default.preprocess(a.getVirtualDiskTrashInitialState(c,[{id:r,name:s}],u.trash||0),f,d,p);t(o.updateResources([h,m]))}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(1983)),s=r(n(11));n(1984);var u=n(26),c=r(n(1985)),l=function(){return s.default()("listing-scans-stub")},f=o.connect((function(e){var t=e.environment.agent,n=t.isMobile,r=t.isInMobileApp;return{links:e.config.links,isMobile:n,isInMobileApp:r}}));t.default=f((function(e){var t=e.isMobile,n=e.isInMobileApp,r=e.links;return i.default.createElement("div",{className:l().m({desktop:!t})},i.default.createElement("div",{className:l().e("title")},n?"Сканируйте в приложении любые бумажные документы":t?"Сканируйте в приложении Почты любые бумажные документы":"Сканов пока нет. Сканируйте документы в приложениях Яндекс 360:"),t?i.default.createElement("div",{className:l().e("image-wrapper")},i.default.createElement("img",{className:l().e("image"),src:r.static.host+a.default}),!t&&i.default.createElement("div",{className:l().e("qr-wrapper")},i.default.createElement("div",{className:l().e("qr-code-old")}),i.default.createElement("div",{className:l().e("qr-text")},"Cкачать",i.default.createElement("div",{className:l().e("qr-text-mail")},"Яндекс Почту")))):i.default.createElement("div",{className:l().e("content")},t?i.default.createElement("img",{className:l().e("image"),src:r.static.host+a.default}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{staticHost:r.static.host,service:"mail",className:l().e("qr-code")}),i.default.createElement(c.default,{staticHost:r.static.host,service:"disk",className:l().e("qr-code")}))),t&&!n&&i.default.createElement(u.Button,{className:l().e("install-button"),view:"action",size:"xxl",type:"link",url:r.downloadMailApp},"Установить Яндекс Почту"))}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"trash4IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 3a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3h2a1 1 0 1 1 0 2h-.654l-.74 9.615A1.5 1.5 0 0 1 11.111 16H4.889a1.5 1.5 0 0 1-1.496-1.385L2.653 5H2a1 1 0 0 1 0-2h2zm1.586 2.95a.8.8 0 0 0-.736.86l.425 5.505a.8.8 0 0 0 1.596-.123l-.426-5.505a.8.8 0 0 0-.86-.736zm3.969.742a.8.8 0 0 1 1.595.123l-.425 5.493a.8.8 0 1 1-1.595-.123l.425-5.493zM7 2a1 1 0 0 0-1 1h4a1 1 0 0 0-1-1H7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"closeIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M2 2 14 14M2 14 14 2",stroke:"currentColor"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){var r=n(9);function i(e){var t=e.rect,n=e.fnGetRectEl(e.el,e.indexEl);return n.top>=t.bottom||n.left>=t.right?1:n.bottom<=t.top||n.right<=t.left?-1:0}function o(e){for(var t=e.positionEl,n={from:t,to:t},i=e.elements.length;--t>=0&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.from--;for(t=e.positionEl;++t<i&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.to++;return n}function a(e){return 0===i(e)}e.exports={findInRect:function(e){for(var t,n,a=0,s=e.elements.length;a<s;)if(t=(a+s)/2|0,(n=i(r.extend(e,{el:e.elements[t],indexEl:t})))<0)a=t+1;else{if(!(n>0))return o(r.extend(e,{positionEl:t}));s=t}},findElSiblingsInRect:o,isElInRect:a,getRect:function(e){if(e===window||e===window.document){var t=$(window),n=t.scrollTop()||0,r=t.scrollLeft()||0;return{top:n,bottom:n+(t.height()||0),left:r,right:r+(t.width()||0)}}var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset,bottom:i.bottom+window.pageYOffset,left:i.left+window.pageXOffset,right:i.right+window.pageXOffset}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);n(2140);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=Number(this.props.size),t="avatar",n={};return this.props.url&&(n.backgroundImage="url("+this.props.url+")"),isNaN(e)?t+=" avatar_size_"+this.props.size:(n.width=e+"px",n.height=e+"px"),this.props.cls&&(t+=" "+this.props.cls),h.a.createElement("div",{className:t,style:n})}}]),n})(p.Component);v.defaultProps={size:"m"},t.default=v}),(function(e,t,n){!(function(){var e=yr.cmpNN,t=yr.cmpSN,n=yr.nodeset2xml,r=yr.nodeset2boolean,i=yr.nodeset2attrvalue,o=yr.nodeset2scalar,a=yr.scalar2attrvalue,s=(yr.xml2attrvalue,yr.scalar2xml),u=yr.xml2scalar,c=yr.simpleScalar,l=yr.simpleBoolean,f=yr.selectNametest,d=yr.closeAttrs,p=new yr.Module;var h=[0,"models",0,"*",2,function(e,n,r,i){return t("ok",f("status",n,[]))}];p.k2={},p.k2.n=function(e,t,n,r){return e.s(h,t.doc.root)},p.k2.u=function(e,t,n,r){return t.name},p.k2.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},p.k2.ut="scalar",p.k2.bt="nodeset";var m=[0,"models",0,"*",2,function(e,n,r,i){return t("error",f("status",n,[]))}];p.k3={},p.k3.n=function(e,t,n,r){return e.s(m,t.doc.root)},p.k3.u=function(e,t,n,r){return t.name},p.k3.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},p.k3.ut="scalar",p.k3.bt="nodeset",p.f45=function(e,t,n,r,i,o,a,s,u,c){o=void 0===o?[]:o,a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call"]([t.doc.root],i,o,a,s,u,c)},p.f46=function(e,t,n,r,i,o,a,s,u,c,l){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call"]([t.doc.root],i,o,a,s,u,c,l)},p.f47=function(e,t,n,r,i,o,a,s,u,c){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call-scalar"]([t.doc.root],i,o,a,s,u,c)},p.f48=function(e,t,n,r,i,o,a,s,u,c,l){s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call-scalar"]([t.doc.root],i,o,a,s,u,c,l)},p.f49=function(e,t,n,r,i,o){var a="";return a+=d(i),a+=o};var v=[0,"*"];p.f50=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(v,yr.externals["_nb-wrap"](o,a)),"nb",i)};var g=[0,"name"],y=[0,"size"],b=[0,"theme"],_=[0,"type"];p.f51=function(e,n,i,a,s,u){u=void 0===u?[]:u;var c=s.a.class;if(s.a.class=c?c.addscalar(" nb-"+o(e.n(g,u))):new yr.scalarAttr(" nb-"+o(e.n(g,u))),r(e.n(y,u))&&!t("m",e.n(y,u))||r(e.n(b,u))&&!t("normal",e.n(b,u))||r(e.n(_,u))){var l="";t("s",e.n(y,u))?l+="-small":t("xs",e.n(y,u))?l+="-extra-small":t("l",e.n(y,u))?l+="-large":t("xl",e.n(y,u))&&(l+="-extra-large");var f=l;l="";!t("normal",e.n(b,u))&&r(e.n(b,u))&&(l+="-"+o(e.n(b,u)));var d=l;l="";r(e.n(_,u))&&(l+="-"+o(e.n(_,u)));var p=l;c=s.a.class;s.a.class=c?c.addscalar(" _nb"+f+d+p+"-"+o(e.n(g,u))):new yr.scalarAttr(" _nb"+f+d+p+"-"+o(e.n(g,u)))}else{var c=s.a.class;s.a.class=c?c.addscalar(" _nb-normal-"+o(e.n(g,u))):new yr.scalarAttr(" _nb-normal-"+o(e.n(g,u)))}return s.a},p.f52=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"ico",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f53=function(e,n,r,i,o,a){a=void 0===a?[]:a;var s="",u={};u.size="m",u.theme="normal";var c=u;return s+=d(o),t("file",e.n(_,a))?s+=e.f("f50",n,r,i,o,"buttonAttach",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("inline",e.n(_,a))?s+=e.f("f50",n,r,i,o,"buttonSpan",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("label",e.n(_,a))?s+=e.f("f50",n,r,i,o,"buttonLabel",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("link",e.n(_,a))?s+=e.f("f50",n,r,i,o,"buttonLink",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):s+=e.f("f50",n,r,i,o,"button",yr.externals["_nb-extend"](yr.object2nodeset(c),a)),s};var O=[0,"attrs",0,"name"],w=[0,"icon"];p.f54=function(e,t,n,i,a,s){if(e.f("f51",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="button",e.size=yr.nodeset2data(f("size",t,[])),e.theme=yr.nodeset2data(f("theme",t,[])),e}())),l("disabled",t)){var u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.tabindex=new yr.scalarAttr("-1"),"button"==s&&(a.a.disabled=new yr.scalarAttr("disabled"))}if(l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),"attach"==s){u=a.a.class;a.a.class=u?u.addscalar(" _nb-attach-button"):new yr.scalarAttr(" _nb-attach-button")}if("button"==s&&(l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),r(e.s(O,t))&&(a.a.name=new yr.scalarAttr(o(e.s(O,t))))),!r(f("content",t,[]))&&(l("icon",t)||l("iconText",t))){u=a.a.class;a.a.class=u?u.addscalar(" _nb-with-only-button"):new yr.scalarAttr(" _nb-with-only-button")}return a.a},p.f55=function(e,t,r,i,o){var a="";return a+=d(o),l("iconText",t)&&(a+='<span class="nb-icon _nb-icon-text">',a+=n(f("iconText",t,[])),a+="</span>"),l("content",t)&&(a+=c("content",t)),a};p.f56=function(e,t,n,i,o){if(!r(f("static",t,[]))){var a=o.a.class;o.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),o.a["data-nb"]=new yr.scalarAttr("button")}return o.a},p.f57=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"popupMenu",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f58=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"popup",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f59=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};(u={}).modal="true",u.width="auto",u.height="auto",u.minHeight="auto",u.maxHeight="auto",s["data-nb"]=u;var u;(u={}).none="none",s.close=u;var c=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"modalPopup",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},p.f60=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=d(i),s+='<div class="_nb-popup-content">',s+=o(a),s+="</div>"},p.f61=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=d(i),s+='<div class="_nb-popup-title">',s+=o(a),s+="</div>"};var E=[0,"data"],S=[0,"data",0,"*"],x=[1,0];p.f62=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";if(s+=d(i),s+="<div",i.a={class:new yr.scalarAttr("_nb-popup-buttons")},i.s="div",s+=e.a(e,0,a,"nb-main-attrs",i),s+=d(i),e.n(S,a).length)for(var u=e.n(E,a),c=0,l=u.length;c<l;c++){var f=u[c];s+=e.f("f53",f,c,l,i,e.s(x,f))}else s+=o(e.n(E,a));return s+="</div>"};var C=[0,"class"],T=[0,"attrs"],k=[0,"attrs",0,"*"];p.f63=function(e,t,n,i,a,s){s=void 0===s?[]:s;var u="";u+=d(a),u+="<a",a.a={class:new yr.scalarAttr("_nb-popup-close")},a.s="a";for(var c="",l=0,f=(m=e.n(C,s)).length;l<f;l++){var p=m[l];c+=" "+o(e.s(x,p))}var h=a.a.class;if(a.a.class=h?h.addscalar(c):new yr.scalarAttr(c),r(e.n(T,s))){var m;for(l=0,f=(m=e.n(k,s)).length;l<f;l++){p=m[l];a.a[p.name]=new yr.scalarAttr(o(e.s(x,p)))}}return u+=d(a),u+="</a>"},p.f64=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.type="radio";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"radio-button",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f65=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.direction="bottom";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"select",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var j=[0,"text"],P=[0,"value"],R=[0,"selected"],A=[0,"separator"];p.f66=function(e,t,i,a,s,u){u=void 0===u?[]:u;var c="";if(c+=d(s),c+="<option",s.a={},s.s="option",r(e.n(A,u)))s.a.separator=new yr.scalarAttr("true");else{if(s.a.label=new yr.scalarAttr(o(e.n(j,u))),s.a.value=new yr.scalarAttr(o(e.n(P,u))),s.a["data-icon"]=new yr.scalarAttr(o(e.n(w,u))),r(e.n(C,u)))for(var l=e.n(C,u),f=0,p=l.length;f<p;f++){var h=l[f],m=s.a["data-class"];s.a["data-class"]=m?m.addscalar(" "+o(e.s(x,h))):new yr.scalarAttr(" "+o(e.s(x,h)))}r(e.n(R,u))&&(s.a.selected=new yr.scalarAttr("")),c+=d(s),c+=n(e.n(j,u))}return c+=d(s),c+="</option>"},p.f67=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.type="checkbox",s.theme="normal";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"checkbox",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var I=[0,"leftContent"],D=[0,"rightContent"],M=[0,"labelContent"],N=[0,"reset"],L=[0,"ghost"],F=[0,"error"],B=[0,"hint"];p.f68=function(e,n,i,o,a,s){s=void 0===s?[]:s;var u="",c={};c.size="s";var l=c;return u+=d(a),r(e.n(I,s))||r(e.n(D,s))||r(e.n(M,s))||r(e.n(N,s))||r(e.n(L,s))||r(e.n(F,s))||r(e.n(B,s))?t("multiline",e.n(_,s))?u+=e.f("f50",n,i,o,a,"textarea",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f50",n,i,o,a,"input",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):t("multiline",e.n(_,s))?u+=e.f("f50",n,i,o,a,"textareaSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f50",n,i,o,a,"inputSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)),u},p.f69=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="";return a+=d(i),a+=e.f("f50",t,n,r,i,"input-group",o)},p.f70=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.bar="true",s.start="0",s.type="percentage",s.title=" ";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"progress",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f71=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.theme="dark";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"paranja",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f72=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.content="";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"island",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f73=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.size="s",u.type="file",u.theme="pseudo",u.class="_nb-dropzone-button",s.button=u;var c=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"dropzone",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},p.f74=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"loader",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f75=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.value=0,s.type="range",s.size="s",s.orientation="horiz";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"slider",yr.externals["_nb-deep-extend"](yr.object2nodeset(u),o))},p.f76=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"tabs",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f77=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.search="true",s.buttonContent="Find";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"arrow",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f78=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.search="true",u.buttonContent="Найти",u.class="_nb-header-arrow",s.arrow=u,s.services=!0,s.settings=!0,s.yaHref="http://yandex.ru";var c=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"header",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},p.f79=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"user",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f80=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.countMax="10",s.type="default";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"suggest",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.f81=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.leftText="On",s.rightText="Off",s.size="s";var u=s;return a+=d(i),a+=e.f("f50",t,n,r,i,"toggler",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},p.v214=function(e,t,n,r){return yr.externals.getConfig()},p.v215=function(e,t,n,r){return yr.externals.getEnvironment()},p.v216=function(e,t,n,r){return yr.externals.getConsts()},p.f82=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(v,yr.externals["nb-wrap"](o,a)),"nb",i)};p.f83=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("count",c("key",t.doc.root),i)},p.f84=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("reach",c("key",t.doc.root),i)};var U=[0,"published"];p.f85=function(e,t,n,i,a,s){var u="";if(u+=d(a),u+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource-public")},a.s="div",r(e.n(C,yr.object2nodeset(s)))){var c=a.a.class;a.a.class=c?c.addscalar(" "+o(e.n(C,yr.object2nodeset(s)))):new yr.scalarAttr(" "+o(e.n(C,yr.object2nodeset(s))))}return u+=d(a),r(e.n(U,yr.object2nodeset(s)))&&(u+=e.f("f52",t,n,i,a,yr.object2nodeset(function(){var e={};e.icon="published";var t={};return t["aria-label"]="Общий доступ",e.attrs=t,e}()))),u+="</div>"},p.f86=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s",s["size-icon-video"]="s";var u=s;return a+=e.a(e,0,e.n(v,yr.externals["nb-wrap"]("icon-resource",yr.externals["nb-extend"](yr.object2nodeset(u),o))),"nb",i)};p.f87=function(e,n,r,i){return l("preview",n)&&(t("image",f("type",n,[]))||t("document",f("type",n,[]))||t("book",f("type",n,[]))||t("video",f("type",n,[])))},p.f88=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f82",t,n,r,i,"loader-thin",yr.externals["nb-extend"](yr.object2nodeset(u),o))};p.f89=function(e,t,r,i,o){var a="";return a+=d(o),l("mobileDialog",t)?(a+='&lt;button class="Link Link_view_default ns-action" data-click-action="dialog-mobile-app.open"&gt;',a+="папку «Загрузки»",a+="&lt;/button&gt;"):(a+='&lt;a class="Link Link_view_default" href="'+n(f("diskUrl",t,[]))+'"&gt;',a+="папку «Загрузки»",a+="&lt;/a&gt;"),a};var z=[0,"views",0,"*"],V=[0,"tree",0,"*"],H=[0,"views",0,"*"],W=[0,"views",0,"ns-view-collection-container",0,"*"],G=[0,"data-nb",0,"*"],$=[0,"attrs",0,"multiple"],q=[0,"attrs",0,"title"],Y=[0,"attrs",0,"accept"],K=[0,"popupMenu"],J=[1,1,0,"name"],X=[1,1,0,"size"],Z=[0,"select"];var Q=[0,"items",2,function(e,t,n,i){return r(f("selected",t,[]))}],ee=[0,"error",0,"direction"],te=[0,"error",0,"class"],ne=[0,"error",0,"content"],re=[0,"hint",0,"text"],ie=[0,"hint",0,"ghost"],oe=[0,"dropzone"],ae=[0,"handle",0,"class"];function se(e,n,r,i){return!t("true",f("search",n,[]))}var ue=[0,"arrow",2,se];var ce=[0,"arrow",2,se,2,function(e,t,n,r){return l("href",t)}],le=[0,"settings",0,"content"],fe=[0,"services",0,"content"],de=[0,"auth",0,"content"],pe=[0,"user"],he=[0,"user",0,"content"],me=[0,"input",0,"attrs"],ve=[0,"input",0,"leftContent"],ge=[0,"input",0,"rightContent"],ye=[0,"input",0,"labelContent"],be=[0,"input",0,"reset"],_e=[0,"input",0,"ghost"],Oe=[0,"input",0,"error"],we=[0,"input",0,"hint"];var Ee=[2,function(e,n,r,i){return t("default",f("type",n,[]))},0,"item"];var Se=[2,function(e,n,r,i){return t("username",f("type",n,[]))},0,"item"];var xe=[0,"user",2,function(e,n,r,i){return t("suggest",f("mod",n,[]))&&l("usernameHighlighted",n)},0,"username"],Ce=[1,1,0,"usernameHighlighted"];var Te=[0,"user",2,function(e,n,r,i){return t("suggest",f("mod",n,[]))&&l("emailHighlighted",n)},0,"email"],ke=[1,1,0,"emailHighlighted"],je=[0,"icon-resource"];var Pe=[0,"icon-resource",2,function(e,n,r,i){return t("cover",f("image-sizing",n,[]))}];var Re=[0,"icon-resource",2,function(e,t,n,r){return l("static",t)}];var Ae=[0,"icon-resource",2,function(e,t,n,r){return l("icon",t)}],Ie=[0,"agent",0,"OSFamily"],De=[0,"notification"];var Me=[0,"notification",2,function(e,t,n,r){return l("textOnly",t)}];var Ne=[0,"notification",2,function(e,n,r,i){return t("delete",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("dst",n)}];var Le=[0,"notification",2,function(e,t,n,r){return l("cannotUploadFolder",t)}],Fe=[0,"links",0,"downloadApp",0,"win"],Be=[0,"links",0,"downloadApp",0,"linux"],Ue=[0,"links",0,"downloadApp",0,"mac"],ze=[0,"sourcesDownloadApp",0,"upload"];var Ve=[0,"notification",2,function(e,n,r,i){return t("notification_web_desktop_v1",f("ufoCustomNotification",n,[]))}];var He=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("done",f("status",n,[]))}],We=[0,"dst",0,"name"],Ge=[0,"dst",0,"parents"],$e=[0,"src",0,"type"];var qe=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("done",f("status",n,[]))&&t("dir",e.s($e,n))}];var Ye=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("count",n)}];var Ke=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("failed",f("status",n,[]))}],Je=[0,"src",0,"name"];var Xe=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var Ze=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("canceled",f("status",n,[]))}];var Qe=[0,"notification",2,function(e,n,r,i){return t("move",f("operation",n,[]))&&t("canceled",f("status",n,[]))&&t("dir",e.s($e,n))}];var et=[0,"notification",2,function(e,n,r,i){return t("cleanTrash",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var tt=[0,"notification",2,function(e,n,r,i){return t("cleanTrash",f("operation",n,[]))&&t("done",f("status",n,[]))}];var nt=[0,"notification",2,function(e,n,r,i){return(t("delete",f("operation",n,[]))||t("leaveFolder",f("operation",n,[])))&&t("done",f("status",n,[]))}];var rt=[0,"notification",2,function(e,n,r,i){return(t("delete",f("operation",n,[]))||t("leaveFolder",f("operation",n,[])))&&t("done",f("status",n,[]))&&t("dir",e.s($e,n))}];var it=[0,"notification",2,function(e,n,r,i){return(t("delete",f("operation",n,[]))||t("leaveFolder",f("operation",n,[])))&&t("failed",f("status",n,[]))}];var ot=[0,"notification",2,function(e,n,r,i){return(t("delete",f("operation",n,[]))||t("leaveFolder",f("operation",n,[])))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var at=[0,"notification",2,function(e,n,r,i){return(t("delete",f("operation",n,[]))||t("leaveFolder",f("operation",n,[])))&&t("done",f("status",n,[]))&&l("count",n)}];var st=[0,"notification",2,function(e,n,r,i){return t("leaveFolder",f("operation",n,[]))&&t("owner",f("role",n,[]))}];var ut=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var ct=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var lt=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NAME_HAS_SLASH",f("reason",n,[]))&&t("file",e.s($e,n))}];var ft=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",f("reason",n,[]))&&t("file",e.s($e,n))}];var dt=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NAME_HAS_SLASH",f("reason",n,[]))&&t("dir",e.s($e,n))}];var pt=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("canceled",f("status",n,[]))&&t("NAME_HAS_SLASH",f("reason",n,[]))&&t("dir",e.s($e,n))}];var ht=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",f("reason",n,[]))&&t("dir",e.s($e,n))}];var mt=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("canceled",f("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",f("reason",n,[]))&&t("dir",e.s($e,n))}];var vt=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("exists",f("reason",n,[]))&&t("dir",e.s($e,n))}];var gt=[0,"notification",2,function(e,n,r,i){return t("rename",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("exists",f("reason",n,[]))&&t("file",e.s($e,n))}];var yt=[0,"notification",2,function(e,n,r,i){return t("delete",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("dst",n)&&!l("vdTrashPath",n)}];var bt=[0,"notification",2,function(e,n,r,i){return t("delete",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("dst",n)&&l("vdTrashPath",n)}];var _t=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("done",f("status",n,[]))}];var Ot=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var wt=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("failed",f("status",n,[]))&&l("reason",n)}],Et=[0,"dst",0,"type"];var St=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("done",f("status",n,[]))&&t("dir",e.s(Et,n))}];var xt=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var Ct=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))&&l("reason",n)}];var Tt=[0,"notification",2,function(e,n,r,i){return t("restore",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("count",n)}];var kt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("done",f("status",n,[]))}];var jt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("done",f("status",n,[]))&&t("dir",e.s($e,n))}];var Pt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("count",n)}];var Rt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var At=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var It=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("failed",f("status",n,[]))&&l("reason",n)}];var Dt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))&&l("reason",n)}];var Mt=[0,"notification",2,function(e,n,r,i){return t("copy",f("operation",n,[]))&&t("failed",f("status",n,[]))&&(t("NO_SPACE_OWNER",f("reason",n,[]))||t("NO_SPACE",f("reason",n,[])))}];var Nt=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("exists",f("status",n,[]))}];var Lt=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Ft=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("done",f("status",n,[]))&&!l("src",n)}],Bt=[0,"dst",0,"id"];var Ut=[0,"notification",2,function(e,n,r,i){return t("createFolder",f("operation",n,[]))&&t("done",f("status",n,[]))&&!l("src",n)&&l("committer",n)}];var zt=[0,"notification",2,function(e,n,r,i){return t("upload",f("operation",n,[]))&&t("exists",f("status",n,[]))}];var Vt=[0,"notification",2,function(e,n,r,i){return t("upload",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Ht=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&l("reverse",n)&&t("done",f("status",n,[]))}];var Wt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&l("reverse",n)&&t("done",f("status",n,[]))&&t("dir",e.s($e,n))}];var Gt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var $t=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var qt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NO_SPACE",f("reason",n,[]))}];var Yt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))&&t("NO_SPACE",f("reason",n,[]))}];var Kt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&l("reverse",n)&&t("failed",f("status",n,[]))}];var Jt=[0,"notification",2,function(e,n,r,i){return t("publish",f("operation",n,[]))&&l("reverse",n)&&t("failed",f("status",n,[]))&&t("dir",e.s($e,n))}];var Xt=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",f("operation",n,[]))&&t("done",f("status",n,[]))}],Zt=[0,"invite",0,"folder_name"];var Qt=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var en=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",f("operation",n,[]))&&t("owner",f("role",n,[]))}];var tn=[0,"notification",2,function(e,n,r,i){return t("rejectInvite",f("operation",n,[]))&&t("done",f("status",n,[]))}];var nn=[0,"notification",2,function(e,n,r,i){return t("rejectInvite",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var rn=[0,"notification",2,function(e,n,r,i){return t("unshare",f("operation",n,[]))&&t("user",f("role",n,[]))}];var on=[0,"notification",2,function(e,n,r,i){return t("accessFolder",f("operation",n,[]))&&t("actor",f("role",n,[]))&&!l("rights",n)}];var an=[0,"notification",2,function(e,n,r,i){return t("accessFolder",f("operation",n,[]))&&t("actor",f("role",n,[]))&&t("660",f("rights",n,[]))}];var sn=[0,"notification",2,function(e,n,r,i){return t("accessFolder",f("operation",n,[]))&&t("actor",f("role",n,[]))&&t("640",f("rights",n,[]))}];var un=[0,"notification",2,function(e,n,r,i){return t("failed",f("status",n,[]))&&t("READ_ONLY",f("reason",n,[]))}];var cn=[0,"notification",2,function(e,n,r,i){return t("failed",f("status",n,[]))&&t("READ_ONLY",f("reason",n,[]))&&l("reasonText",n)}];var ln=[0,"notification",2,function(e,n,r,i){return t("failed",f("status",n,[]))&&t("READ_ONLY",f("reason",n,[]))&&l("reasonText",n)&&l("reasonTextAux",n)}];var fn=[0,"notification",2,function(e,n,r,i){return t("createAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var dn=[0,"notification",2,function(e,n,r,i){return t("createAlbum",f("operation",n,[]))&&t("success",f("status",n,[]))}];var pn=[0,"notification",2,function(e,n,r,i){return t("removeAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))}];var hn=[0,"notification",2,function(e,n,r,i){return t("removeAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var mn=[0,"notification",2,function(e,n,r,i){return t("refuseAlbumsFaces",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var vn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))}],gn=[0,"src",0,"title"];var yn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",f("operation",n,[]))&&l("reverse",n)&&t("done",f("status",n,[]))}];var bn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var _n=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",f("operation",n,[]))&&l("reverse",n)&&t("failed",f("status",n,[]))}];var On=[0,"notification",2,function(e,n,r,i){return t("addToAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))}],wn=[0,"dst",0,"title"];var En=[0,"notification",2,function(e,n,r,i){return t("addToAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Sn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))}];var xn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("count",n)}];var Cn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Tn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))&&l("count",n)}];var kn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("title",f("target",n,[]))}];var jn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("NAME_HAS_SLASH",f("reason",n,[]))}];var Pn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))&&t("cover",f("target",n,[]))}];var Rn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("cover",f("target",n,[]))}];var An=[0,"notification",2,function(e,n,r,i){return t("download",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var In=[0,"notification",2,function(e,n,r,i){return t("download",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("dir",f("type",n,[]))}];var Dn=[0,"notification",2,function(e,n,r,i){return t("download",f("operation",n,[]))&&t("failed",f("status",n,[]))&&t("large",f("reason",n,[]))}];var Mn=[0,"notification",2,function(e,n,r,i){return t("downloadAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Nn=[0,"notification",2,function(e,t,n,r){return l("browserScrollLimit",t)}];var Ln=[0,"notification",2,function(e,n,r,i){return t("photosliceScroll",f("operation",n,[]))&&l("reason",n)}];var Fn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))}];var Bn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",f("operation",n,[]))&&t("done",f("status",n,[]))&&l("count",n)}];var Un=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var zn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",f("operation",n,[]))&&t("failed",f("status",n,[]))&&l("count",n)}];var Vn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",f("operation",n,[]))&&t("cannotExclude",f("status",n,[]))}];var Hn=[0,"notification",2,function(e,n,r,i){return t("copyPublicLink",f("operation",n,[]))&&t("done",f("status",n,[]))}];var Wn=[0,"notification",2,function(e,n,r,i){return t("mergeAlbums",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Gn=[0,"notification",2,function(e,n,r,i){return t("mergeAlbums",f("operation",n,[]))&&t("done",f("status",n,[]))}];var $n=[0,"notification",2,function(e,n,r,i){return t("officeAccessTypeChange",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var qn=[0,"notification",2,function(e,n,r,i){return t("getPublicLinkSettings",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Yn=[0,"notification",2,function(e,n,r,i){return t("changePublicLinkSettings",f("operation",n,[]))&&t("failed",f("status",n,[]))}];var Kn=[0,"notification",2,function(e,n,r,i){return t("docsError",f("operation",n,[]))||t("any",f("operation",n,[]))}],Jn=[0,"tree"],Xn=[0,"state",0,"hidden"],Zn=[0,"meta",0,"public"],Qn=[0,"state",0,"expanded"],er=[0,"state",0,"blocked"],tr=[0,"state",0,"part"],nr=[0,"meta",0,"group",0,"rights"],rr=[0,"meta",0,"group"],ir=[0,"creatingSharedFolder"],or=[0,"isMove"],ar=[0,"hasGroupFolder"],sr=[0,"meta",0,"group",0,"gid"],ur=[0,"parentId"],cr=[0,"isSelectedAcrossSeveralFolders"],lr=[0,"state",0,"loading"];p.t180=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(z,t),"ns-view",i)},p.t180.j=1,p.t180.a=1,p.t181=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.n(V,yr.document(e.s(x,t))),"ns-build-view",i)},p.t181.j=v,p.t181.a=0,p.t182=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={},i.s="div",o+=e.a(e,0,e.s(x,t),"ns-build-view-content",i),o+=d(i),o+="</div>"},p.t182.j=v,p.t182.a=0,p.t183=function(e,t,n,i,a){var s="",u=c("state",t.doc.root);if(a.a.class=new yr.scalarAttr("ns-view-"+o(f("id",t.doc.root,[]))+" "+o(f("uniqueId",t.doc.root,[]))),a.a["data-key"]=new yr.scalarAttr(o(f("key",t.doc.root,[]))),"placeholder"==u){var l=a.a.class;a.a.class=l?l.addscalar(" ns-view-placeholder"):new yr.scalarAttr(" ns-view-placeholder"),r(f("collection",t.doc.root,[]))?s+=e.a(e,0,e.s(x,t),"ns-view-collection",a):s+=e.a(e,0,e.s(x,t),"ns-view-desc",a)}else{var d="";d+=e.a(e,0,e.s(x,t),"ns-view-add-class",{a:{}});l=a.a.class;a.a.class=l?l.addxml(d):new yr.xmlAttr(d),s+=e.a(e,0,e.s(x,t),"ns-view-add-attrs",a),s+="loading"==u?e.a(e,0,e.s(x,t),"ns-view-async-content",a):"error"==u?e.a(e,0,e.s(x,t),"ns-view-error-content",a):e.a(e,0,e.s(x,t),"ns-view-content",a)}return s},p.t183.j=v,p.t183.a=0,p.t184=function(e,t,n,r,i){return""},p.t184.j=v,p.t184.a=0,p.t185=function(e,t,n,r,i){return""},p.t185.j=v,p.t185.a=0,p.t186=function(e,t,n,i,o){var a="";return r(f("collection",t.doc.root,[]))?(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("ns-view-container-desc")},o.s="div",a+=e.a(e,0,e.s(x,t),"ns-view-collection",o),a+=d(o),a+="</div>"):a+=e.a(e,0,e.s(x,t),"ns-view-desc",o),a},p.t186.j=v,p.t186.a=0,p.t187=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(H,t.doc.root),"ns-view",i)},p.t187.j=v,p.t187.a=0,p.t188=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(W,t.doc.root),"ns-view",i)},p.t188.j=v,p.t188.a=0,p.t189=function(e,t,n,r,i){return""},p.t189.j=v,p.t189.a=0,p.t190=function(e,t,n,r,i){return""},p.t190.j=v,p.t190.a=0,p.t191=function(e,t,n,r,i){var a="";a+=e.a(e,0,e.s(x,t),"nb-attrs",i),a+=e.a(e,0,f("*",t,[]),"nb-attrs",i),l("id",t)&&(i.a.id=new yr.scalarAttr(c("id",t)));for(var s="",u=0,d=(m=f("class",t,[])).length;u<d;u++){var p=m[u];s+=" "+o(e.s(x,p))}var h=i.a.class;if(i.a.class=h?h.addscalar(s):new yr.scalarAttr(s),l("mixin-nb",t)){for(s="",u=0,d=(m=f("mixin-nb",t,[])).length;u<d;u++){p=m[u];s+=" "+o(e.s(x,p))}h=i.a["data-nb"];i.a["data-nb"]=h?h.addscalar(s):new yr.scalarAttr(s)}for(u=0,d=(m=e.s(G,t)).length;u<d;u++){p=m[u];i.a["data-nb-"+p.name]=new yr.scalarAttr(o(e.s(x,p)))}var m;for(u=0,d=(m=e.s(k,t)).length;u<d;u++){p=m[u];i.a[p.name]=new yr.scalarAttr(o(e.s(x,p)))}return a},p.t191.j=v,p.t191.a=0,p.t192=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(x,t),"nb-content",i)},p.t192.j=v,p.t192.a=0,p.t193=function(e,n,r,i,o){var a="";a+=d(o),a+="<img",o.a={src:new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")},o.s="img";var s="";return s+="nb-icon nb-",s+=c("size",n),t("",f("icon",n,[]))||(s+="-",s+=c("icon",n)),s+="-icon",o.a.class=new yr.scalarAttr(s),a+=e.a(e,0,e.s(x,n),"nb-main-attrs",o),a+=d(o),a+=""},p.t193.j=[0,"ico"],p.t193.a=0,p.t194=function(e,t,n,r,i){var o="";return o+=d(i),o+="<button",i.a={},i.s="button",e.f("f54",t,n,r,i,"button"),e.f("f56",t,n,r,i),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f52",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(f("icon",t,[])),e}()))),o+=e.f("f55",t,n,r,i),o+="</span>",o+="</button>"},p.t194.j=[0,"button"],p.t194.a=0,p.t195=function(e,t,n,r,i){var o="";return o+=d(i),o+="<a",i.a={},i.s="a",e.f("f54",t,n,r,i,"link"),e.f("f56",t,n,r,i),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f52",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(f("icon",t,[])),e}()))),o+=e.f("f55",t,n,r,i),o+="</span>",o+="</a>"},p.t195.j=[0,"buttonLink"],p.t195.a=0,p.t196=function(e,t,n,r,i){var o="";return o+=d(i),o+="<span",i.a={},i.s="span",e.f("f54",t,n,r,i,"span"),e.f("f56",t,n,r,i),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f52",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(f("icon",t,[])),e}()))),o+=e.f("f55",t,n,r,i),o+="</span>",o+="</span>"},p.t196.j=[0,"buttonSpan"],p.t196.a=0,p.t197=function(e,t,n,r,i){var o="";return o+=d(i),o+="<label",i.a={},i.s="label",e.f("f54",t,n,r,i,"label"),e.f("f56",t,n,r,i),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f52",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(f("icon",t,[])),e}()))),o+=e.f("f55",t,n,r,i),o+="</span>",o+="</label>"},p.t197.j=[0,"buttonLabel"],p.t197.a=0,p.t198=function(e,t,n,i,a){var s="";if(s+=d(a),s+="<label",a.a={},a.s="label",e.f("f54",t,n,i,a,"attach"),e.f("f56",t,n,i,a),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),s+=d(a),s+='<span class="_nb-file-intruder">',s+='<span class="_nb-file-intruder-inner">',s+="<input",a.a={class:new yr.scalarAttr("_nb-file-intruder-input"),type:new yr.scalarAttr("file")},a.s="input",(r(e.s($,t))||l("multiple",t))&&(a.a.multiple=new yr.scalarAttr("multiple")),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),r(e.s(O,t))&&(a.a.name=new yr.scalarAttr(o(e.s(O,t)))),r(e.s(q,t))){var u=a.a.title;a.a.title=u?u.addscalar(o(e.s(q,t))):new yr.scalarAttr(o(e.s(q,t)))}return l("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),r(e.s(Y,t))&&(a.a.accept=new yr.scalarAttr(o(e.s(Y,t)))),s+=d(a),s+="",s+='<span class="_nb-file-intruder-focus"></span>',s+="</span>",s+="</span>",s+='<span class="_nb-button-content">',l("icon",t)&&(s+=e.f("f52",t,n,i,a,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(f("icon",t,[])),e}()))),s+=e.f("f55",t,n,i,a),s+="</span>",s+="</label>"},p.t198.j=[0,"buttonAttach"],p.t198.a=0,p.t199=function(e,t,n,i,o){var a="";if(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init")},o.s="div",!l("static",t)){o.a["data-nb"]=new yr.scalarAttr("popup");var s=o.a.class;o.a.class=s?s.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return a+=e.a(e,0,e.s(x,t),"nb-main-attrs",o),r(f("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=e.a(e,0,e.s(x,t),"nb-popup-menu-content",o),a+=d(o),a+="</div>"},p.t199.j=K,p.t199.a=0,p.t200=function(e,t,n,r,i){var o="";return o+=d(i),o+="<ul",i.a={class:new yr.scalarAttr("_nb-popup-menu")},i.s="ul",o+=e.a(e,0,f("menu",t,[]),"nb-popup-menu-content-item",i),o+=d(i),o+="</ul>"},p.t200.j=K,p.t200.a=0,p.t201=function(e,t,n,r,i){var o="";return o+=d(i),l("separator",t)?o+='<li class="_nb-popup-separator"></li>':(o+='<li class="_nb-popup-line">',o+="<a",i.a={class:new yr.scalarAttr("_nb-popup-link")},i.s="a",l("href",t)&&(i.a.href=new yr.scalarAttr(c("href",t))),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+=c("content",t),o+="</a>",o+="</li>"),o},p.t201.j=[0,"menu"],p.t201.a=0,p.t202=function(e,t,n,i,o){var a="";return a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init _nb-is-hidden"),"data-nb":new yr.scalarAttr("popup")},o.s="div",a+=e.a(e,0,e.s(x,t),"nb-main-attrs",o),r(f("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=d(o),l("close",t)&&(a+=e.f("f63",t,n,i,o,f("close",t,[]))),l("titleContent",t)&&(a+=e.f("f61",t,n,i,o,f("titleContent",t,[]))),l("content",t)&&(a+=e.f("f60",t,n,i,o,f("content",t,[]))),a+="</div>"},p.t202.j=[0,"popup"],p.t202.a=0,p.t203=function(e,t,n,r,i){var o="";o+=d(i),l("static",t)&&(o+=e.f("f71",t,n,r,i)),o+="<div",i.a={},i.s="div",e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="popup",e.theme=yr.nodeset2data(f("theme",t,[])),e.type="modal",e}()));var a=i.a.class;i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init");a=i.a.class;if(i.a.class=a?a.addscalar(" _nb-popup"):new yr.scalarAttr(" _nb-popup"),!l("static",t)){i.a["data-nb"]=new yr.scalarAttr("popup");a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<div class="_nb-popup-i">',l("close",t)&&(o+=e.f("f63",t,n,r,i,f("close",t,[]))),l("titleContent",t)&&(o+=e.f("f61",t,n,r,i,f("titleContent",t,[]))),l("content",t)&&(o+=e.f("f60",t,n,r,i,f("content",t,[]))),l("buttons",t)&&(o+=e.f("f62",t,n,r,i,f("buttons",t,[]))),o+="</div>",o+="</div>"},p.t203.j=[0,"modalPopup"],p.t203.a=0,p.t204=function(e,t,n,i,a){var s="",u="radio-button_"+yr.externals["_nb-uniq"]();s+=d(a),s+="<div",a.a={},a.s="div",e.f("f51",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="radio-button",e.size=yr.nodeset2data(f("size",t,[])),e.theme=yr.nodeset2data(f("theme",t,[])),e}()));var p=a.a.class;a.a.class=p?p.addscalar(" nb-group"):new yr.scalarAttr(" nb-group"),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),s+=d(a);for(var h=f("group",t,[]),m=0,v=h.length;m<v;m++){var g=h[m],y="nb-radio-button_"+yr.externals["_nb-uniq"]();s+='<span class="_nb-radio-button-button nb-complex-group-item">',s+="<input",a.a={class:new yr.scalarAttr("_nb-radio-button-radio"),type:new yr.scalarAttr("radio"),value:new yr.scalarAttr(o(f("value",g,[]))),id:new yr.scalarAttr(y)},a.s="input",l("checked",g)&&(a.a.checked=new yr.scalarAttr("checked")),l("disabled",g)&&(a.a.disabled=new yr.scalarAttr("disabled")),l("tabindex",g)&&!l("disabled",g)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",g)));var b="";r(f("name",g,[]))?b+=c("name",g):r(e.s(O,g))?b+=o(e.s(O,g)):r(e.s(J,g))?b+=o(e.s(J,g)):b+=u,a.a.name=new yr.scalarAttr(b),s+=d(a),s+="",s+=e.f("f53",g,m,v,a,yr.externals["_nb-extend"](e.s(x,g),yr.object2nodeset(function(){var t={};(n=[]).push("nb-complex-group-item-subject"),n.push("js-button"),t.class=n,t.type="label",t.static=!0,t.id=!1,t.size=yr.nodeset2data(e.s(X,g));var n;return(n={}).for=y,n["data-value"]=yr.nodeset2data(f("value",g,[])),t.attrs=n,t}()))),s+="</span>"}return s+="</div>"},p.t204.j=[0,"radio-button"],p.t204.a=0,p.t205=function(e,i,a,s,u){var p="",h=e.s(Q,i).length>0;p+=d(u),p+="<span",u.a={"data-nb-direction":new yr.scalarAttr(o(f("direction",i,[]))),"data-nb":new yr.scalarAttr("select"),tabindex:new yr.scalarAttr("0")},u.s="span",e.f("f54",i,a,s,u,"span");var m=u.a.class;if(u.a.class=m?m.addscalar(" nb-select _init _nb-select-button"):new yr.scalarAttr(" nb-select _init _nb-select-button"),t("s",f("size",i,[]))){m=u.a.class;u.a.class=m?m.addscalar(" _nb-small-normal-select"):new yr.scalarAttr(" _nb-small-normal-select")}p+=e.a(e,0,e.s(x,i),"nb-main-attrs",u),l("within",i)&&(u.a["data-nb-within"]=new yr.scalarAttr(c("within",i))),l("appendto",i)&&(u.a["data-nb-appendto"]=new yr.scalarAttr(c("appendto",i))),l("tabindex",i)&&!l("disabled",i)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",i))),l("maxHeight",i)&&(u.a["data-nb-maxheight"]=new yr.scalarAttr(c("maxHeight",i))),p+=d(u),p+='<span class="_nb-button-content">';for(var v=f("items",i,[]),g=0,y=v.length;g<y;g++){var b=v[g];(h&&l("selected",b)||!h&&0==g)&&(p+=n(f("text",b,[])))}return p+="</span>",p+='<span class="_nb-select-helper"></span>',p+="<select",u.a={class:new yr.scalarAttr("_nb-select-fallback")},u.s="select",r(f("disabled",i,[]))&&(u.a.disabled=new yr.scalarAttr("disabled")),l("name",i)&&(u.a.name=new yr.scalarAttr(c("name",i))),r(e.s(O,i))&&(u.a.name=new yr.scalarAttr(o(e.s(O,i)))),p+=e.a(e,0,e.s(x,i),"nb-select-options",u),p+=d(u),p+="</select>",p+="<span",u.a={},u.s="span",e.f("f51",i,a,s,u,yr.object2nodeset(function(){var e={};return e.name="select-dropdown",e.size=yr.nodeset2data(f("size",i,[])),e.theme=yr.nodeset2data(f("theme",i,[])),e}())),p+=d(u),p+="</span>",p+="</span>"},p.t205.j=Z,p.t205.a=0,p.t206=function(e,t,n,r,o){var a="";a+=d(o);for(var s=f("items",t,[]),u=0,c=s.length;u<c;u++){var p=s[u];if(l("group",p)){a+='<optgroup label="'+i(f("text",p,[]))+'" data-nb-type="'+i(f("type",p,[]))+'">';for(var h=f("group",p,[]),m=0,v=h.length;m<v;m++){var g=h[m];a+=e.f("f66",g,m,v,o,e.s(x,g))}a+="</optgroup>"}else a+=e.f("f66",p,u,c,o,e.s(x,p))}return a},p.t206.s=[1,Z],p.t206.a=[1,0],p.t207=function(e,n,i,a,s){var u="",p="";l("id",n)?p+=c("id",n):p+=yr.externals["_nb-uniq"]();var h=p;u+=d(s),u+="<label",s.a={"data-nb":new yr.scalarAttr("checkbox"),for:new yr.scalarAttr("nb-checkbox_"+h)},s.s="label",u+=e.a(e,0,e.s(x,n),"nb-main-attrs",s),e.f("f51",n,i,a,s,yr.object2nodeset(function(){var e={};return e.name="checkbox",e.size=yr.nodeset2data(f("size",n,[])),l("type",n)&&(e.type=yr.nodeset2data(f("type",n,[]))),e}()));var m=s.a.class;if(s.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),l("disabled",n)){m=s.a.class;s.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(u+=d(s),u+="<input",s.a={class:new yr.scalarAttr("_nb-checkbox-input"),id:new yr.scalarAttr("nb-checkbox_"+h)},s.s="input",t("button",f("type",n,[]))?s.a.type=new yr.scalarAttr("checkbox"):s.a.type=new yr.scalarAttr(c("type",n)),l("name",n)&&(s.a.name=new yr.scalarAttr(c("name",n))),l("tabindex",n)&&!l("disabled",n)&&(s.a.tabindex=new yr.scalarAttr(c("tabindex",n))),l("disabled",n)&&(s.a.disabled=new yr.scalarAttr("disabled")),l("checked",n)&&(s.a.checked=new yr.scalarAttr("checked")),f("value",n,[]).length&&(s.a.value=new yr.scalarAttr(c("value",n))),u+=d(s),u+="",t("button",f("type",n,[])))u+=e.f("f53",n,i,a,s,yr.externals["_nb-extend"](e.s(x,n),yr.object2nodeset(function(){var e={};e.type="inline",e.static=!0,e.id=!1,e.attrs=!1;var t=[];return t.push("_nb-checkbox-label"),e.class=t,e}())));else{if(u+="<span",s.a={class:new yr.scalarAttr("_nb-checkbox-flag ")},s.s="span",t("checkbox",f("type",n,[]))){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-normal-flag"):new yr.scalarAttr("_nb-checkbox-normal-flag")}else if(l("type",n)){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-"+o(f("type",n,[]))+"-flag"):new yr.scalarAttr("_nb-checkbox-"+o(f("type",n,[]))+"-flag")}u+=d(s),u+='<span class="_nb-checkbox-flag-icon"></span>',u+="</span>",u+='<span class="_nb-checkbox-label">',r(f("content",n,[]))&&(u+=c("content",n)),u+="</span>"}return u+="</label>"},p.t207.j=[0,"checkbox"],p.t207.a=0,p.t208=function(e,i,a,s,u){var p="",h="nb-input_error"+yr.externals["_nb-uniq"]();p+=d(u),p+="<label",u.a={},u.s="label",e.f("f51",i,a,s,u,yr.object2nodeset(function(){var e={};return e.name="input",l("size",i)&&(e.size=yr.nodeset2data(f("size",i,[]))),e.type="complex",e}())),p+=e.a(e,0,e.s(x,i),"nb-main-attrs",u);var m=u.a.class;if(u.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),r(f("static",i,[]))||(u.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",i)){m=u.a.class;u.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),u.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(l("ghost",i)){m=u.a.class;u.a.class=m?m.addscalar(" _nb-is-ghost"):new yr.scalarAttr(" _nb-is-ghost"),u.a["data-nb-ghost"]=new yr.scalarAttr("true")}l("error",i)&&(u.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+h+'", "direction":"'+o(e.s(ee,i))+'"}')),p+=d(u),l("error",i)&&(p+=e.f("f58",i,a,s,u,yr.object2nodeset(function(){var t={};return t.class=o(e.s(te,i))+" _nb-error-popup",t.content=yr.nodeset2data(e.s(ne,i)),t.id=h,t}()))),l("leftContent",i)&&(p+='<span class="_nb-input-left">',p+=c("leftContent",i),p+="</span>"),l("rightContent",i)&&(p+='<span class="_nb-input-right">',p+=c("rightContent",i),p+="</span>"),l("reset",i)&&(p+='<span class="_nb-input-reset"></span>'),p+='<span class="_nb-input-content">',!l("hint",i)||t("",e.s(re,i))||!t("",f("content",i,[]))&&l("content",i)||(p+='<span class="_nb-input-hint">',p+='<span class="_nb-input-hint-inner">',r(e.s(ie,i))?(p+='<span class="_nb-input-hint-ghost"></span>',p+='<span class="_nb-input-hint-content">',p+=n(e.s(re,i)),p+="</span>"):p+=n(f("hint",i,[])),p+="</span>",p+="</span>"),p+="<input",u.a={type:new yr.scalarAttr("text"),class:new yr.scalarAttr("_nb-input-controller"),value:new yr.scalarAttr(o(f("content",i,[])))},u.s="input";for(var v=e.s(k,i),g=0,y=v.length;g<y;g++){var b=v[g];u.a[b.name]=new yr.scalarAttr(o(e.s(x,b)))}return l("name",i)&&(u.a.name=new yr.scalarAttr(c("name",i))),l("tabindex",i)&&!l("disabled",i)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",i))),l("disabled",i)&&(u.a.disabled=new yr.scalarAttr("disabled")),l("hint",i)&&!t("",e.s(re,i))&&(u.a.placeholder=new yr.scalarAttr(c("hint",i))),p+=d(u),p+="",p+='<span class="_nb-input-view"> </span>',p+="</span>",p+="</label>"},p.t208.j=[0,"input"],p.t208.a=0,p.t209=function(e,t,i,a,s){var u="",p="nb-input_error"+yr.externals["_nb-uniq"]();u+=d(s),u+="<label",s.a={},s.s="label",e.f("f51",t,i,a,s,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(f("size",t,[]))),e.type="complex",e}()));var h=s.a.class;if(s.a.class=h?h.addscalar(" _init"):new yr.scalarAttr(" _init"),u+=e.a(e,0,e.s(x,t),"nb-main-attrs",s),r(f("static",t,[]))||(s.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){h=s.a.class;s.a.class=h?h.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),s.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(l("ghost",t)){h=s.a.class;s.a.class=h?h.addscalar(" _nb-is-ghost _init"):new yr.scalarAttr(" _nb-is-ghost _init"),s.a["data-nb-ghost"]=new yr.scalarAttr("true")}if(l("error",t)){h=s.a.class;s.a.class=h?h.addscalar(" _init"):new yr.scalarAttr(" _init"),s.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+p+'", "direction":"'+o(e.s(ee,t))+'" }'),u+=d(s),u+=e.f("f58",t,i,a,s,yr.object2nodeset(function(){var n={};return n.class="_nb-error-popup",n.content=yr.nodeset2data(e.s(ne,t)),n.id=p,n}()))}u+=d(s),l("reset",t)&&(u+='<span class="_nb-input-reset"></span>'),l("leftContent",t)&&(u+='<span class="_nb-input-left">',u+=c("leftContent",t),u+="</span>"),l("rightContent",t)&&(u+='<span class="_nb-input-right">',u+=c("rightContent",t),u+="</span>"),u+='<span class="_nb-input-content">',u+="<textarea",s.a={class:new yr.scalarAttr("_nb-input-controller")},s.s="textarea";for(var m=e.s(k,t),v=0,g=m.length;v<g;v++){var y=m[v];s.a[y.name]=new yr.scalarAttr(o(e.s(x,y)))}return l("name",t)&&(s.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(s.a.tabindex=new yr.scalarAttr(c("tabindex",t))),l("disabled",t)&&(s.a.disabled=new yr.scalarAttr("disabled")),u+=d(s),l("content",t)&&(u+=n(f("content",t,[]))),u+="</textarea>",u+='<span class="_nb-input-view"> </span>',u+="</span>",u+="</label>"},p.t209.j=[0,"textarea"],p.t209.a=0,p.t210=function(e,t,n,i,a){var s="";s+=d(a),s+="<input",a.a={type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(f("content",t,[]))),"data-nb-type":new yr.scalarAttr("simple")},a.s="input",e.f("f51",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(f("size",t,[]))),e.type="simple",e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),r(f("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=d(a),s+=""},p.t210.j=[0,"inputSimple"],p.t210.a=0,p.t211=function(e,t,i,o,a){var s="";s+=d(a),s+="<textarea",a.a={"data-nb-type":new yr.scalarAttr("simple")},a.s="textarea",e.f("f51",t,i,o,a,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(f("size",t,[]))),e.type="simple",e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),r(f("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=d(a),l("content",t)&&(s+=n(f("content",t,[]))),s+="</textarea>"},p.t211.j=[0,"textareaSimple"],p.t211.a=0,p.t212=function(e,t,n,r,i){var o="";if(o+=d(i),o+="<div",i.a={class:new yr.scalarAttr("nb-input-group"),"data-nb":new yr.scalarAttr("input-group")},i.s="div",o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),l("disabled",t)){var a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),i.a["data-nb-disabled"]=new yr.scalarAttr("true")}o+=d(i);for(var s=f("*",t,[]),u=0,c=s.length;u<c;u++){var p=s[u];"button"==p.name?o+=e.f("f53",p,u,c,i,e.s(x,p)):"input"==p.name&&(o+=e.f("f68",p,u,c,i,e.s(x,p)))}return o+="</div>"},p.t212.j=[0,"input-group"],p.t212.a=0,p.t213=function(e,r,a,u,p){var h="";h+=d(p),h+="<div",p.a={"data-nb":new yr.scalarAttr("progress"),"data-nb-type":new yr.scalarAttr(o(f("type",r,[])))},p.s="div",e.f("f51",r,a,u,p,yr.object2nodeset(function(){var e={};return e.name="progress",e.type=yr.nodeset2data(f("type",r,[])),e}()));var m=p.a.class;return p.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),h+=e.a(e,0,e.s(x,r),"nb-main-attrs",p),h+=d(p),l("bar",r)&&(h+='<div class="_nb-progress-bar js-bar" style="width: '+i(f("start",r,[]))+'%"></div>'),l("title",r)&&(h+='<div class="_nb-progress-title js-title">',t("percentage",f("type",r,[]))?h+=s(c("start",r)+"%"):h+=n(f("title",r,[])),h+="</div>"),h+='<input type="hidden" value="'+i(f("start",r,[]))+'%"/>',h+="</div>"},p.t213.j=[0,"progress"],p.t213.a=0,p.t214=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={},i.s="div",e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="paranja",e.theme=yr.nodeset2data(f("theme",t,[])),e}())),o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),l("content",t)&&(o+=c("content",t)),o+="</div>"},p.t214.j=[0,"paranja"],p.t214.a=0,p.t215=function(e,n,r,i,o){var a="",s="";l("type",n)?s+="-"+c("type",n):s+="";var u=s;s="";t("s",f("padding",n,[]))?s+="-small":t("l",f("padding",n,[]))?s+="-large":t("m",f("padding",n,[]))&&(s+="");var p=s;a+=d(o),a+="<div",o.a={},o.s="div",a+=e.a(e,0,e.s(x,n),"nb-main-attrs",o);var h=o.a.class;return o.a.class=h?h.addscalar(" nb-island _nb"+p+u+"-island"):new yr.scalarAttr(" nb-island _nb"+p+u+"-island"),a+=d(o),l("content",n)&&(a+=c("content",n)),a+="</div>"},p.t215.j=[0,"island"],p.t215.a=0,p.t216=function(e,r,i,o,a){var s="";return s+=d(a),s+="<div",a.a={},a.s="div",e.f("f51",r,i,o,a,yr.object2nodeset(function(){var e={};return e.name="dropzone",e.type=yr.nodeset2data(f("type",r,[])),e}())),s+=e.a(e,0,e.s(x,r),"nb-main-attrs",a),s+=d(a),l("head",r)&&(s+='<div class="_nb-dropzone-head">',s+=n(f("head",r,[])),s+="</div>"),l("content",r)&&(s+='<div class="_nb-dropzone-text">',l("content",r)&&(s+=c("content",r)),t("false",f("button",r,[]))||(s+=e.f("f53",r,i,o,a,f("button",r,[]))),s+="</div>"),t("modal",f("type",r,[]))&&(s+='<div class="_nb-dropzone-cover"></div>'),s+="</div>"},p.t216.j=oe,p.t216.a=0,p.t217=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<span",i.a={},i.s="span",e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="loader",e.size=yr.nodeset2data(f("size",t,[])),e}())),a+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),a+=d(i),a+="<span",i.a={class:new yr.scalarAttr("_nb-loader-spinner")},i.s="span",l("color",t)){var s=i.a.class;i.a.class=s?s.addscalar(" _nb-loader-"+o(f("color",t,[]))+"-spinner"):new yr.scalarAttr(" _nb-loader-"+o(f("color",t,[]))+"-spinner")}return a+=d(i),a+="</span>",a+="</span>"},p.t217.j=[0,"loader"],p.t217.a=0,p.t218=function(e,n,a,s,u){var p="";p+=d(u),p+="<div",u.a={},u.s="div",e.f("f51",n,a,s,u,yr.object2nodeset(function(){var e={};return e.name="slider",e.size=yr.nodeset2data(f("size",n,[])),e}()));var h=u.a.class;if(u.a.class=h?h.addscalar(" _init _nb-"+o(f("orientation",n,[]))+"-slider _nb-slider-"+o(f("type",n,[]))+"-handle"):new yr.scalarAttr(" _init _nb-"+o(f("orientation",n,[]))+"-slider _nb-slider-"+o(f("type",n,[]))+"-handle"),p+=e.a(e,0,e.s(x,n),"nb-main-attrs",u),u.a["data-nb-value"]=new yr.scalarAttr(o(f("value",n,[]))),l("static",n)||(u.a["data-nb"]=new yr.scalarAttr("slider")),l("disabled",n)){h=u.a.class;u.a.class=h?h.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(p+=d(u),p+='<div class="_nb-slider-body _nb-slider-'+i(f("type",n,[]))+'-body">',p+="<label",u.a={class:new yr.scalarAttr("ui-slider-handle")},u.s="label",t("s",f("size",n,[]))){h=u.a.class;u.a.class=h?h.addscalar(" _nb-slider-small-handle"):new yr.scalarAttr(" _nb-slider-small-handle")}else{h=u.a.class;u.a.class=h?h.addscalar(" _nb-slider-handle"):new yr.scalarAttr(" _nb-slider-handle")}if(r(e.s(ae,n))){h=u.a.class;u.a.class=h?h.addscalar(" "+o(e.s(ae,n))):new yr.scalarAttr(" "+o(e.s(ae,n)))}if(l("tabindex",n)&&!l("disabled",n)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",n))),p+=d(u),p+="<span",u.a={class:new yr.scalarAttr("nb-button-content")},u.s="span",l("content",n)){h=u.a.class;u.a.class=h?h.addscalar(" nb-is-hidden"):new yr.scalarAttr(" nb-is-hidden")}return p+=d(u),p+="<input",u.a={tabindex:new yr.scalarAttr("-1"),class:new yr.scalarAttr("_nb-slider-fallback"),type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(f("value",n,[]))),readonly:new yr.scalarAttr("readonly")},u.s="input",l("name",n)&&(u.a.name=new yr.scalarAttr(o(f("name",n,[])))),p+=d(u),p+="",p+="</span>",l("content",n)&&(p+=c("content",n)),p+="</label>",p+="</div>",p+="</div>"},p.t218.j=[0,"slider"],p.t218.a=0,p.t219=function(e,t,r,i,o){var s="",u="tabs-"+yr.externals["_nb-uniq"]();s+=d(o),s+="<div",o.a={"data-nb":new yr.scalarAttr("tabs")},o.s="div",e.f("f51",t,r,i,o,yr.object2nodeset(function(){var e={};return e.name="tabs",e.size=yr.nodeset2data(f("size",t,[])),l("rise",t)&&(e.type="rise-"+c("rise",t)),e}()));var p=o.a.class;o.a.class=p?p.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",o),s+=d(o),s+='<ul class="_nb-tabs-tabs">';for(var h=0,m=(y=f("items",t,[])).length;h<m;h++){var v=y[h];if(s+="<li",o.a={class:new yr.scalarAttr("_nb-tabs-tab")},o.s="li",l("active",v)){var g=o.a.class;o.a.class=g?g.addscalar(" ui-tabs-active"):new yr.scalarAttr(" ui-tabs-active")}s+=d(o),s+='<a class="_nb-tabs-link _link" href="#'+a(u)+"-"+a(h)+'">',s+=n(f("title",v,[])),s+="</a>",s+="</li>"}s+="</ul>";var y;for(h=0,m=(y=f("items",t,[])).length;h<m;h++){v=y[h];s+='<div class="_nb-tabs-panel" id="'+a(u)+"-"+a(h)+'">',l("content",v)&&(s+=c("content",v)),s+="</div>"}return s+="</div>"},p.t219.j=[0,"tabs"],p.t219.a=0,p.t220=function(e,t,n,r,i){var o="",a="";l("text",t)?a+='<a href="'+c("href",t)+'" class="_nb-search-arrow-label">'+c("text",t)+"</a>":a+="";var s=a;a="";l("requests",t)?a+=" — "+c("requests",t):a+="";var u=a;return o+=d(i),o+="<form",i.a={"data-nb":new yr.scalarAttr("arrow"),class:new yr.scalarAttr("nb-arrow _init _nb-search-arrow")},i.s="form",o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-arrow-tail"></span>',o+=e.f("f53",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-button",e.tabindex=yr.nodeset2data(f("buttonTabindex",t,[])),e.content=yr.nodeset2data(f("buttonContent",t,[]));var n={};return n.type="submit",e.attrs=n,e}())),o+='<div class="_nb-search-arrow-content">',o+=e.f("f68",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-input",e.tabindex=yr.nodeset2data(f("inputTabindex",t,[])),e.leftContent=s;(n={}).autocomplete="off",n.value=yr.nodeset2data(f("value",t,[])),n.name="text",e.attrs=n;var n;return(n={}).text=u,n.ghost=!0,e.hint=n,e}())),o+="</div>",o+="</form>"},p.t220.j=[0,"arrow"],p.t220.a=0,p.t221=function(e,t,r,i,o){var a="";return a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("_nb-service-arrow")},o.s="div",a+=e.a(e,0,e.s(x,t),"nb-main-attrs",o),a+=d(o),a+='<span class="_nb-arrow-tail"></span>',a+=n(f("text",t,[])),a+="</div>"},p.t221.j=ue,p.t221.a=0,p.t222=function(e,t,r,i,a){var s="";return s+=d(a),s+="<a",a.a={href:new yr.scalarAttr(o(f("href",t,[]))),class:new yr.scalarAttr("_nb-service-arrow")},a.s="a",s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),s+=d(a),s+='<span class="_nb-arrow-tail"></span>',s+=n(f("text",t,[])),s+="</a>"},p.t222.j=ce,p.t222.a=0,p.t223=function(e,t,n,a,s){var u="";return u+=d(s),u+="<div",s.a={class:new yr.scalarAttr("nb-header _init"),"data-nb":new yr.scalarAttr("header")},s.s="div",u+=e.a(e,0,e.s(x,t),"nb-main-attrs",s),u+=d(s),u+='<div class="_nb-header-actions">',l("settings",t)&&(r(e.s(le,t))?u+=o(e.s(le,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f52",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="settings",e.size="m",e}())),u+="</div>",u+="</div>")),l("services",t)&&(r(e.s(fe,t))?u+=o(e.s(de,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f52",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="services",e.size="m",e}())),u+="</div>",u+="</div>")),l("user",t)&&(r(e.s(he,t))?u+=o(e.s(he,t)):u+=e.f("f79",t,n,a,s,f("user",t,[]))),l("auth",t)&&r(e.s(de,t))&&(u+=o(e.s(de,t))),u+="</div>",u+='<div class="_nb-header-main">',u+='<a href="'+i(f("yaHref",t,[]))+'" class="_nb-header-logo"></a>',u+=e.f("f77",t,n,a,s,f("arrow",t,[])),u+="</div>",u+="</div>"},p.t223.j=[0,"header"],p.t223.a=0,p.t224=function(e,t,n,r,i){var o="";o+=d(i),o+="<span",i.a={},i.s="span",e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="user",e.size=yr.nodeset2data(f("size",t,[])),e}()));var a=i.a.class;if(i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),l("justify",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_justify"):new yr.scalarAttr(" _nb-user_justify")}if(o+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),l("rightToLeft",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_rtl"):new yr.scalarAttr(" _nb-user_rtl")}else{var a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_ltr"):new yr.scalarAttr(" _nb-user_ltr")}return o+=e.a(e,0,e.s(x,t),"nb-user-pic",i),o+=e.a(e,0,e.s(x,t),"nb-user-name",i),o+=d(i),o+="</span>"},p.t224.j=pe,p.t224.a=0,p.t225=function(e,t,r,i,a){var s="";if(s+=d(a),s+="<span",a.a={},a.s="span",e.f("f51",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="user-avatar",e.size=yr.nodeset2data(f("size",t,[])),e}())),l("userpic",t)){var u=a.a.style;a.a.style=u?u.addscalar(" background-image: url('"+o(f("userpic",t,[]))+"')"):new yr.scalarAttr(" background-image: url('"+o(f("userpic",t,[]))+"')")}return s+=d(a),c("notices",t)>0&&(s+='<span class="_nb-user-notice-count">',s+=n(f("notices",t,[])),s+="</span>"),s+="</span>"},p.t225.j=pe,p.t225.a=0,p.t226=function(e,t,r,o,a){var s="";return s+=d(a),s+='<span class="_nb-user-label">',s+='<span class="_nb-user-name _link" title="'+i(f("username",t,[]))+'">',s+=n(f("username",t,[])),s+="</span>",l("email",t)&&(s+='<span class="_nb-user-email" title="'+i(f("email",t,[]))+'">',s+=n(f("email",t,[])),s+="</span>"),s+="</span>"},p.t226.j=pe,p.t226.a=0,p.t227=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<div",i.a={class:new yr.scalarAttr("nb-suggest _init"),"data-nb":new yr.scalarAttr("suggest")},i.s="div",i.a["data-countMax"]=new yr.scalarAttr(c("countMax",t)),i.a["data-type"]=new yr.scalarAttr(c("type",t)),i.a["data-size"]=new yr.scalarAttr(c("size",t)),i.a["data-source"]=new yr.scalarAttr(c("source",t)),i.a["data-highlight"]=new yr.scalarAttr(c("highlight",t)),i.a["data-class-suggest"]=new yr.scalarAttr("nb-island _nb-fly-island _nb-suggest-container _nb-"+o(f("size",t,[]))+"-suggest"),l("class",t)){var s=i.a["data-class-suggest"];i.a["data-class-suggest"]=s?s.addscalar(" "+o(f("classSuggest",t,[]))):new yr.scalarAttr(" "+o(f("classSuggest",t,[])))}if(a+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),l("disabled",t)){s=i.a.class;i.a.class=s?s.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}return a+=d(i),a+=e.f("f68",t,n,r,i,yr.object2nodeset(function(){var n={};return n.size=yr.nodeset2data(f("size",t,[])),n.class="_nb-suggest-input",n.attrs=yr.nodeset2data(e.s(me,t)),n.tabindex=yr.nodeset2data(f("tabindex",t,[])),n.disabled=yr.nodeset2data(f("disabled",t,[])),n.name=yr.nodeset2data(f("name",t,[])),n.content=yr.nodeset2data(f("content",t,[])),n.leftContent=yr.nodeset2data(e.s(ve,t)),n.rightContent=yr.nodeset2data(e.s(ge,t)),n.labelContent=yr.nodeset2data(e.s(ye,t)),n.reset=yr.nodeset2data(e.s(be,t)),n.ghost=yr.nodeset2data(e.s(_e,t)),n.error=yr.nodeset2data(e.s(Oe,t)),n.hint=yr.nodeset2data(e.s(we,t)),n}())),a+="</div>"},p.t227.j=[0,"suggest"],p.t227.a=0,p.t228=function(e,t,n,r,i){var o="";return o+=d(i),o+="<li",i.a={class:new yr.scalarAttr("_nb-suggest-item")},i.s="li",o+=e.a(e,0,f("item",t,[]),"nb-suggest",i),o+=d(i),o+="</li>"},p.t228.j=1,p.t228.a=1,p.t229=function(e,t,n,r,i){var o="";return o+=d(i),l("labelContent",t)&&(o+=c("labelContent",t)),o},p.t229.j=Ee,p.t229.a=1,p.t230=function(e,t,n,r,i){var o="",a={};a.size=yr.nodeset2data(f("size",t.doc.root,[])),a.mod="suggest";var s=[];l("username",t)?s+=yr.nodeset2data(f("username",t,[])):l("email",t)&&(s+=yr.nodeset2data(f("email",t,[]))),a.username=s,a.rightToLeft=!0,l("username",t)&&l("email",t)&&(a.email=yr.nodeset2data(f("email",t,[]))),a.justify=!0,l("userpic",t)&&(a.userpic=yr.nodeset2data(f("userpic",t,[]))),l("usernameHighlighted",t)&&(a.usernameHighlighted=yr.nodeset2data(f("usernameHighlighted",t,[]))),l("emailHighlighted",t)&&(a.emailHighlighted=yr.nodeset2data(f("emailHighlighted",t,[])));var u=a;return o+=d(i),o+=e.f("f79",t,n,r,i,yr.object2nodeset(u))},p.t230.j=Se,p.t230.a=1,p.t231=function(e,t,n,r,i){var a="";return a+=d(i),a+=o(e.s(Ce,t))},p.t231.j=xe,p.t231.a=0,p.t232=function(e,t,n,r,i){var a="";return a+=d(i),a+=o(e.s(ke,t))},p.t232.j=Te,p.t232.a=0,p.t233=function(e,t,r,i,a){var s="";s+=d(a),s+="<a",a.a={"data-nb":new yr.scalarAttr("toggler")},a.s="a",e.f("f51",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="toggler",e.size=yr.nodeset2data(f("size",t,[])),e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(x,t),"nb-main-attrs",a),l("checked",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-checked"):new yr.scalarAttr(" _nb-is-checked")}if(l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}s+=d(a),s+='<label class="_nb-toggler-label">',s+="<input",a.a={type:new yr.scalarAttr("checkbox"),class:new yr.scalarAttr("_nb-toggler-checkbox")},a.s="input";for(var p=e.s(k,t),h=0,m=p.length;h<m;h++){var v=p[h];a.a[v.name]=new yr.scalarAttr(o(e.s(x,v)))}return l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("checked",t)&&(a.a.checked=new yr.scalarAttr("checked")),l("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),s+=d(a),s+="",s+="</label>",s+='<span class="_nb-toggler-container">',s+='<span class="_nb-toggler-sticker _nb-toggler-left-sticker">',s+='<span class="_nb-toggler-text">',s+=n(f("leftText",t,[])),s+="</span>",s+="</span>",s+='<span class="_nb-toggler-sticker _nb-toggler-right-sticker">',s+='<span class="_nb-toggler-text">',s+=n(f("rightText",t,[])),s+="</span>",s+="</span>",s+="</span>",s+='<span class="_nb-toggler-knob"></span>',s+="</a>"},p.t233.j=[0,"toggler"],p.t233.a=0,p.t234=function(e,n,r,i,a){var s="";if(s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource _init nb-icon-resource_size-"+o(f("size",n,[])))},a.s="div",l("clickable",n)){var u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_clickable"):new yr.scalarAttr(" nb-icon-resource_clickable")}if(t("cover",f("image-sizing",n,[]))){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_cover"):new yr.scalarAttr(" nb-icon-resource_cover")}if(l("preview",n)&&l("static",n)){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_loaded-preview"):new yr.scalarAttr(" nb-icon-resource_loaded-preview")}return a.a["data-nb"]=new yr.scalarAttr("icon-resource"),a.a["data-params"]=new yr.scalarAttr(yr.externals.json(e.s(x,n))),s+=e.a(e,0,e.s(x,n),"nb-main-attrs",a),s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__wrap")},a.s="div",t("video-stub",f("preview",n,[]))?s+=e.a(e,0,e.s(x,n),"nb-icon-resource-video-stub",a):(s+=e.a(e,0,e.s(x,n),"nb-icon-resource-icon",a),e.f("f87",n,r,i)&&(s+=e.a(e,0,e.s(x,n),"nb-icon-resource-preview",a))),s+=d(a),s+="</div>",s+="</div>"},p.t234.j=je,p.t234.a=0,p.t235=function(e,n,r,i,o){var a="";if(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_preview")},o.s="div",t("document",f("type",n,[]))){var s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_document"):new yr.scalarAttr(" nb-icon-resource__image_document")}if(t("dark",f("theme",n,[]))){s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_no-outline"):new yr.scalarAttr(" nb-icon-resource__image_no-outline")}return a+=d(o),a+=e.f("f85",n,r,i,o,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(f("published",n,[])),e})()),a+=e.a(e,0,e.s(x,n),"nb-icon-resource-image",o),a+="</div>"},p.t235.j=je,p.t235.a=0,p.t236=function(e,t,n,r,i){var a="";return a+=d(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(f("size",t,[]))+" js-icon-preview"),i.a["data-src"]=new yr.scalarAttr(c("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),a+=d(i),a+=""},p.t236.j=je,p.t236.a=0,p.t237=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="nb-icon-resource__img js-cover-preview">',o+="<img",i.a={class:new yr.scalarAttr("nb-icon-resource__img-fake js-icon-preview")},i.s="img",i.a["data-src"]=new yr.scalarAttr(c("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),o+=d(i),o+="",o+="</div>"},p.t237.j=Pe,p.t237.a=0,p.t238=function(e,t,n,r,i){var a="";return a+=d(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(f("size",t,[]))),i.a.src=new yr.scalarAttr(c("preview",t)),a+=d(i),a+=""},p.t238.j=Re,p.t238.a=0,p.t239=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="nb-icon-resource__video-stub">',o+=e.f("f85",t,n,r,i,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(f("published",t,[])),e})()),o+="</div>"},p.t239.j=je,p.t239.a=0,p.t240=function(e,n,r,i,a){var s="",u="";t("xxl",f("size",n,[]))?u+="xl":u+=c("size",n);var l=u;if(s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_icon file-icon file-icon_size_"+l)},a.s="div",t("dir",f("type",n,[])))if(t("dir",f("icon",n,[]))){p=a.a.class;a.a.class=p?p.addscalar(" file-icon_dir"):new yr.scalarAttr(" file-icon_dir")}else{var p=a.a.class;a.a.class=p?p.addscalar(" file-icon_dir_"+o(f("icon",n,[]))):new yr.scalarAttr(" file-icon_dir_"+o(f("icon",n,[])))}else{p=a.a.class;a.a.class=p?p.addscalar(" file-icon_"+o(f("icon",n,[]))+" nb-icon-resource__image_file"):new yr.scalarAttr(" file-icon_"+o(f("icon",n,[]))+" nb-icon-resource__image_file")}return s+=d(a),e.f("f87",n,r,i)||(s+=e.f("f85",n,r,i,a,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(f("published",n,[])),e})())),s+="</div>"},p.t240.j=Ae,p.t240.a=0,p.t241=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<div",i.a={class:new yr.scalarAttr("nb-loader-thin nb-loader-thin_"+o(f("size",t,[]))+" "),"data-nb":new yr.scalarAttr("loader-thin")},i.s="div",a+=e.a(e,0,e.s(x,t),"nb-main-attrs",i),l("centered",t)){var s=i.a.class;i.a.class=s?s.addscalar(" nb-loader-thin_centered"):new yr.scalarAttr(" nb-loader-thin_centered")}return a+=d(i),a+='<div class="nb-loader-thin__spinner">',a+='<div class="nb-loader-thin__circle"></div>',a+="</div>",l("content",t)&&(a+='<span class="nb-loader-thin__text js-text">',a+=c("content",t),a+="</span>"),a+="</div>"},p.t241.j=[0,"loader-thin"],p.t241.a=0,p.t242=function(e,t,n,i,o){var a="",s=e.f("f45",t,n,i,"isDocsPage"),u="";u+=d({a:{}}),r(s)?u+="Загрузить документы с компьютера":yr.externals.modernizr("folderupload")?u+="Загрузить файлы и папки на Яндекс.Диск":u+="Загрузить файлы на Яндекс.Диск";var c=u;(u={}).head=c;var l="";l+=e.a(e,0,e.s(x,t),"dropzone__content",{a:{}}),u.content=l,u.type="modal",u.button="false";var f=u;return a+=d(o),a+=e.f("f73",t,n,i,o,yr.object2nodeset(f)),a+=e.f("f71",t,n,i,o)},p.t242.j=oe,p.t242.a=0,p.t243=function(e,n,i,o,a){var s="",u=e.f("f45",n,i,o,"isDocsPage"),c="";t("Windows",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))?c+="Windows":t("MacOS",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))&&(c+="Mac OS");var l=c;return s+=d(a),s+='<div class="dropzone__content">',l&&!r(u)&&(s+="Файлы и папки больше 2 ГБ загружайте с помощью программы для "+yr.externals.entityify(l)),s+="</div>"},p.t243.j=oe,p.t243.a=0,p.t244=function(e,t,n,r,i){var o="";return o+=d(i),o+=" notifications js-prevent-deselect"},p.t244.j=[0,"notifications"],p.t244.a=0,p.t245=function(e,t,n,r,i){var o="";return o+=e.a(e,0,f("notification",t,[]),"",i)},p.t245.j=1,p.t245.a=1,p.t246=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__item nb-island"),role:new yr.scalarAttr("alert"),"aria-live":new yr.scalarAttr("assertive")},i.s="div",o+=e.a(e,0,e.s(x,t),"notification-inner",i),o+=d(i),o+="</div>"},p.t246.j=De,p.t246.a=0,p.t247=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(x,t),"message",i)},p.t247.j=Me,p.t247.a=0,p.t248=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__item notifications__item_trash nb-island"),role:new yr.scalarAttr("alert"),"aria-live":new yr.scalarAttr("assertive")},i.s="div",o+=e.a(e,0,e.s(x,t),"notification-inner",i),o+=d(i),o+="</div>"},p.t248.j=Ne,p.t248.a=0,p.t249=function(e,n,r,i,s){var c="",l=[],f=l=t("MacOS",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))?e.n(Ue,e.v("v214",n.doc.root)):t("Windows",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))?e.n(Fe,e.v("v214",n.doc.root)):e.n(Be,e.v("v214",n.doc.root));l="";l+=d({a:{}}),l+='<a href="'+a(yr.externals.addParamsUrl(o(f),(function(){var t={};return t.src=yr.nodeset2data(e.n(ze,e.v("v214",n.doc.root))),t})()))+'" class="notifications__link" target="_blank">',t("MacOS",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))?l+="приложения для macOS":t("Windows",e.n(Ie,yr.object2nodeset(e.v("v215",n.doc.root))))?l+="программы для Windows":l+="программы для Linux";var p=l+="</a>";return c+=d(s),c+='<div class="notifications__item notifications__item_cannot-upload-folders nb-island" role="alert" aria-live="assertive">',c+='<div class="notifications__text notifications__text_long">',c+="Ваш браузер не поддерживает загрузку папок. Загрузите файлы по одному или с помощью "+u(p),c+="</div>",c+="</div>"},p.t249.j=Le,p.t249.a=0,p.t250=function(e,t,r,o,a){var s="";return s+=d(a),s+='<a href="'+i(f("link",t,[]))+'" class="notifications__item nb-island" role="alert" aria-live="assertive">',s+="<span",a.a={class:new yr.scalarAttr("notifications__text js-message")},a.s="span",a.a["data-metrika-click"]=new yr.scalarAttr("count"),a.a["data-metrika-params"]=new yr.scalarAttr(c("metrika",t)),s+=d(a),s+="<b>"+n(f("title",t,[]))+"</b>",s+=" ",s+=n(f("text",t,[])),s+="</span>",s+="</a>"},p.t250.j=Ve,p.t250.a=0,p.t251=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__text js-message")},i.s="div",o+=e.a(e,0,e.s(x,t),"message",i),o+=d(i),o+="</div>"},p.t251.j=De,p.t251.a=0,p.t252=function(e,t,n,r,i){var a="";return a+=d(i),a+="Файл «"+yr.externals.entityify(o(e.s(We,t)))+"» перемещен в «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t252.j=He,p.t252.a=0,p.t253=function(e,t,n,r,i){var a="";return a+=d(i),a+="Папка «"+yr.externals.entityify(o(e.s(We,t)))+"» перемещена в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t253.j=qe,p.t253.a=0,p.t254=function(e,t,n,r,i){var a="";return a+=d(i),a+="Перемещено "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",t))+" объект",yr.externals.entityify(c("count",t))+" объекта",yr.externals.entityify(c("count",t))+" объектов"],yr.externals.entityify(c("count",t)))+" в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t254.j=Ye,p.t254.a=0,p.t255=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось переместить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t255.j=Ke,p.t255.a=0,p.t256=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось переместить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t256.j=Xe,p.t256.a=0,p.t257=function(e,t,n,r,i){var a="";return a+=d(i),a+="Перемещение файла «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"» отменено"},p.t257.j=Ze,p.t257.a=0,p.t258=function(e,t,n,r,i){var a="";return a+=d(i),a+="Перемещение папки «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"» отменено"},p.t258.j=Qe,p.t258.a=0,p.t259=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось очистить Корзину."},p.t259.j=et,p.t259.a=0,p.t260=function(e,t,n,r,i){var o="";return o+=d(i),o+="Корзина успешно очищена."},p.t260.j=tt,p.t260.a=0,p.t261=function(e,t,n,r,i){var a="";return a+=d(i),a+="Файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» был удален"},p.t261.j=nt,p.t261.a=0,p.t262=function(e,t,n,r,i){var a="";return a+=d(i),a+="Папка «"+yr.externals.entityify(o(e.s(Je,t)))+"» была удалена"},p.t262.j=rt,p.t262.a=0,p.t263=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось удалить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t263.j=it,p.t263.a=0,p.t264=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось удалить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t264.j=ot,p.t264.a=0,p.t265=function(e,n,r,i,o){var a="";return a+=d(o),t("file",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(c("count",n)))),t("dir",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(c("count",n))+" папка",yr.externals.entityify(c("count",n))+" папки",yr.externals.entityify(c("count",n))+" папок"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(c("count",n)))),t("mix",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",n))+" объект",yr.externals.entityify(c("count",n))+" объекта",yr.externals.entityify(c("count",n))+" объектов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(c("count",n)))),a},p.t265.j=at,p.t265.a=0,p.t266=function(e,t,n,r,i){var o="";return o+=d(i),o+=yr.externals.entityify(c("nameUser",t))+" больше не является участником папки «"+yr.externals.entityify(c("nameFolder",t))+"»"},p.t266.j=st,p.t266.a=0,p.t267=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось переименовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t267.j=ut,p.t267.a=0,p.t268=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось переименовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t268.j=ct,p.t268.a=0,p.t269=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название файла не может содержать символ «/»"},p.t269.j=lt,p.t269.a=0,p.t270=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название файла не может быть длиннее 255 символов"},p.t270.j=ft,p.t270.a=0,p.t271=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название папки не может содержать символ «/»"},p.t271.j=dt,p.t271.a=0,p.t272=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название папки не может содержать символ «/»"},p.t272.j=pt,p.t272.a=0,p.t273=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название папки не может быть длиннее 255 символов"},p.t273.j=ht,p.t273.a=0,p.t274=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название папки не может быть длиннее 255 символов"},p.t274.j=mt,p.t274.a=0,p.t275=function(e,t,n,r,i){var o="";return o+=d(i),o+="Папка с именем «"+yr.externals.entityify(c("nameProposed",t))+"» уже существует"},p.t275.j=vt,p.t275.a=0,p.t276=function(e,t,n,r,i){var o="";return o+=d(i),o+="Файл с именем «"+yr.externals.entityify(c("nameProposed",t))+"» уже существует"},p.t276.j=gt,p.t276.a=0,p.t277=function(e,n,i,a,u){var p="",h=f("linksHost",n.doc.root,[]),m='<a href="'+o(h)+'/client/trash" '+(r(h)?' target="_blank"':"")+' class="notifications__link" data-metrika-click="count" data-metrika-params="navigation,via notification,trash">',v=f("trash",n.doc.root,[]),g="";g+=d({a:{}}),l("count",n)&&t("file",f("typeResources",n,[]))?g+=__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":l("count",n)&&t("dir",f("typeResources",n,[]))?g+=__i18n__.i18n.convert(["одна папка",c("count",n)+" папка",c("count",n)+" папки",c("count",n)+" папок"],c("count",n))+" "+__i18n__.i18n.convert(["перемещена","перемещена","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":l("count",n)&&t("mix",f("typeResources",n,[]))?g+=__i18n__.i18n.convert(["1 объект",c("count",n)+" объект",c("count",n)+" объекта",c("count",n)+" объектов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":t("dir",e.s($e,n))?g+="Папка «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещена в "+m+"Корзину</a>":g+="Файл «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещён в "+m+"Корзину</a>";var y=g;p+=d(u),p+="<div>",p+=y,p+="</div>",p+="<div>",p+="<span",u.a={class:new yr.scalarAttr("notifications__link notifications__link_action")},u.s="span";var b=u.a.class;return u.a.class=b?b.addscalar(" _link ns-action"):new yr.scalarAttr(" _link ns-action"),u.a["data-click-action"]=new yr.scalarAttr("trash.clean"),u.a["data-metrika-click"]=new yr.scalarAttr("count"),u.a["data-metrika-params"]=new yr.scalarAttr("actions,with resources,empty trash,via notification"),p+=d(u),p+="Очистить Корзину",p+="</span>",o(v)>0&&(p+=" ("+s(yr.externals.formatSpace(o(v),"length",3))+")"),p+="</div>"},p.t277.j=yt,p.t277.a=0,p.t278=function(e,n,i,a,s){var u="",p=f("linksHost",n.doc.root,[]),h='<a href="'+o(p)+"/client"+o(f("vdTrashPath",n,[]))+'" '+(r(p)?' target="_blank"':"")+' class="notifications__link" data-metrika-click="count" data-metrika-params="navigation,via notification,trash">',m=(f("trash",n.doc.root,[]),"");m+=d({a:{}}),l("count",n)&&t("file",f("typeResources",n,[]))?m+=__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+h+"Корзину</a>":l("count",n)&&t("dir",f("typeResources",n,[]))?m+=__i18n__.i18n.convert(["одна папка",c("count",n)+" папка",c("count",n)+" папки",c("count",n)+" папок"],c("count",n))+" "+__i18n__.i18n.convert(["перемещена","перемещена","перемещены","перемещены"],c("count",n))+" в "+h+"Корзину</a>":l("count",n)&&t("mix",f("typeResources",n,[]))?m+=__i18n__.i18n.convert(["1 объект",c("count",n)+" объект",c("count",n)+" объекта",c("count",n)+" объектов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+h+"Корзину</a>":t("dir",e.s($e,n))?m+="Папка «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещена в "+h+"Корзину</a>":m+="Файл «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещён в "+h+"Корзину</a>";var v=m;return u+=d(s),u+="<div>",u+=v,u+="</div>"},p.t278.j=bt,p.t278.a=0,p.t279=function(e,t,n,r,i){var a="";return a+=d(i),a+="Файл «"+yr.externals.entityify(o(e.s(We,t)))+"» восстановлен"},p.t279.j=_t,p.t279.a=0,p.t280=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось восстановить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t280.j=Ot,p.t280.a=0,p.t281=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось восстановить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"». "+yr.externals.entityify(c("reason",t))},p.t281.j=wt,p.t281.a=0,p.t282=function(e,t,n,r,i){var a="";return a+=d(i),a+="Папка «"+yr.externals.entityify(o(e.s(We,t)))+"» восстановлена"},p.t282.j=St,p.t282.a=0,p.t283=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось восстановить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t283.j=xt,p.t283.a=0,p.t284=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось восстановить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"». "+yr.externals.entityify(c("reason",t))},p.t284.j=Ct,p.t284.a=0,p.t285=function(e,n,r,i,o){var a="";return a+=d(o),t("file",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),t("dir",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(c("count",n))+" папка",yr.externals.entityify(c("count",n))+" папки",yr.externals.entityify(c("count",n))+" папок"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлена","восстановлена","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),t("mix",f("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",n))+" объект",yr.externals.entityify(c("count",n))+" объекта",yr.externals.entityify(c("count",n))+" объектов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),a},p.t285.j=Tt,p.t285.a=0,p.t286=function(e,t,n,r,i){var a="";return a+=d(i),a+="Файл «"+yr.externals.entityify(o(e.s(We,t)))+"» скопирован в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t286.j=kt,p.t286.a=0,p.t287=function(e,t,n,r,i){var a="";return a+=d(i),a+="Папка «"+yr.externals.entityify(o(e.s(We,t)))+"» скопирована в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t287.j=jt,p.t287.a=0,p.t288=function(e,t,n,r,i){var a="";return a+=d(i),a+="Скопировано "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",t))+" объект",yr.externals.entityify(c("count",t))+" объекта",yr.externals.entityify(c("count",t))+" объектов"],yr.externals.entityify(c("count",t)))+" в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t288.j=Pt,p.t288.a=0,p.t289=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось скопировать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t289.j=Rt,p.t289.a=0,p.t290=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось скопировать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"»"},p.t290.j=At,p.t290.a=0,p.t291=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось скопировать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"». "+yr.externals.entityify(c("reason",t))},p.t291.j=It,p.t291.a=0,p.t292=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось скопировать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s(Ge,t)))))+"». "+yr.externals.entityify(c("reason",t))},p.t292.j=Dt,p.t292.a=0,p.t293=function(e,t,n,r,i){var o="";return o+=d(i),o+="Недостаточно свободного места."},p.t293.j=Mt,p.t293.a=0,p.t294=function(e,t,n,r,i){var o="";return o+=d(i),o+="Папка с именем «"+yr.externals.entityify(c("nameFolderDst",t))+"» уже существует"},p.t294.j=Nt,p.t294.a=0,p.t295=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось создать папку «"+yr.externals.entityify(c("nameFolderDst",t))+"»"},p.t295.j=Lt,p.t295.a=0,p.t296=function(e,t,n,r,a){var c="",l="";l+=d({a:{}}),l+='<a class="Link Link_view_default" href="/client'+i(e.s(Bt,t))+'">',l+=s(yr.externals.entityify(o(e.s(We,t))));var f=l+="</a>";return c+=d(a),c+="Вы создали папку "+u(f)},p.t296.j=Ft,p.t296.a=0,p.t297=function(e,t,n,r,a){var l="",f="";f+=d({a:{}}),f+='<a class="Link Link_view_default" href="/client'+i(e.s(Bt,t))+'">',f+=s(yr.externals.entityify(o(e.s(We,t))));var p=f+="</a>";return l+=d(a),l+="Пользователь "+c("committer",t)+" создал папку "+u(p)},p.t297.j=Ut,p.t297.a=0,p.t298=function(e,t,n,r,i){var o="";return o+=d(i),o+="Файл с именем «"+yr.externals.entityify(c("nameDst",t))+"» уже существует"},p.t298.j=zt,p.t298.a=0,p.t299=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось загрузить файл «"+yr.externals.entityify(c("nameDst",t))+"»"},p.t299.j=Vt,p.t299.a=0,p.t300=function(e,t,n,r,i){var a="";return a+=d(i),a+="Публичная ссылка на файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» удалена"},p.t300.j=Ht,p.t300.a=0,p.t301=function(e,t,n,r,i){var a="";return a+=d(i),a+="Публичная ссылка на папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» удалена"},p.t301.j=Wt,p.t301.a=0,p.t302=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось опубликовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t302.j=Gt,p.t302.a=0,p.t303=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось опубликовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t303.j=$t,p.t303.a=0,p.t304=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось опубликовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»",a+=". ",a+="На вашем Диске закончилось место"},p.t304.j=qt,p.t304.a=0,p.t305=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось опубликовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»",a+=". ",a+="На вашем Диске закончилось место"},p.t305.j=Yt,p.t305.a=0,p.t306=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось удалить публичную ссылку на файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t306.j=Kt,p.t306.a=0,p.t307=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось удалить публичную ссылку на папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t307.j=Jt,p.t307.a=0,p.t308=function(e,t,n,r,i){var a="";return a+=d(i),a+="Приглашение в папку «"+yr.externals.entityify(o(e.s(Zt,t)))+"» принято"},p.t308.j=Xt,p.t308.a=0,p.t309=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось принять приглашение в папку «"+yr.externals.entityify(o(e.s(Zt,t)))+"»"},p.t309.j=Qt,p.t309.a=0,p.t310=function(e,t,n,r,i){var o="";return o+=d(i),o+="Ваше приглашение в папку «"+yr.externals.entityify(c("folderName",t))+"» было принято. "+yr.externals.entityify(c("userName",t))+" теперь имеет доступ к файлам в ней."},p.t310.j=en,p.t310.a=0,p.t311=function(e,t,n,r,i){var a="";return a+=d(i),a+="Приглашение в папку «"+yr.externals.entityify(o(e.s(Zt,t)))+"» отклонено"},p.t311.j=tn,p.t311.a=0,p.t312=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось отклонить приглашение в папку «"+yr.externals.entityify(o(e.s(Zt,t)))+"»"},p.t312.j=nn,p.t312.a=0,p.t313=function(e,t,n,r,i){var o="";return o+=d(i),o+="Владелец закрыл доступ к папке «"+yr.externals.entityify(c("nameFolder",t))+"». Она будет удалена с вашего Диска."},p.t313.j=rn,p.t313.a=0,p.t314=function(e,t,n,r,i){var o="";return o+=d(i),o+="Владелец закрыл доступ к папке «"+yr.externals.entityify(c("nameFolder",t))+"». Она будет удалена с вашего Диска."},p.t314.j=on,p.t314.a=0,p.t315=function(e,t,n,r,i){var o="";return o+=d(i),o+="Права доступа к папке «"+yr.externals.entityify(c("nameFolder",t))+"» изменились: теперь у вас есть полный доступ."},p.t315.j=an,p.t315.a=0,p.t316=function(e,t,n,r,i){var o="";return o+=d(i),o+="Права доступа к папке «"+yr.externals.entityify(c("nameFolder",t))+"» изменились: вы можете только просматривать файлы."},p.t316.j=sn,p.t316.a=0,p.t317=function(e,t,n,r,i){var o="";return o+=d(i),o+="Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания."},p.t317.j=un,p.t317.a=0,p.t318=function(e,t,r,i,o){var a="";return a+=d(o),a+=n(f("reasonText",t,[]))},p.t318.j=cn,p.t318.a=0,p.t319=function(e,t,r,i,o){var a="";return a+=d(o),a+=n(f("reasonText",t,[])),a+="<br/>",a+=n(f("reasonTextAux",t,[]))},p.t319.j=ln,p.t319.a=0,p.t320=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось создать альбом"},p.t320.j=fn,p.t320.a=0,p.t321=function(e,t,n,r,i){var a="",s="";s+='<a class="notifications__link" href="'+o(f("url",t,[]))+'">',s+=yr.externals.entityify(c("name",t));var u=s+="</a>";return a+=d(i),a+='<div class="notifications__item notifications__item_trash nb-island" role="alert" aria-live="assertive">',a+='<div class="notifications__text js-message">',a+="Вы создали альбом «"+u+"»",a+="</div>",a+="</div>"},p.t321.j=dn,p.t321.a=0,p.t322=function(e,t,n,r,i){var o="";return o+=d(i),l("title",t)?o+="Альбом «"+yr.externals.entityify(c("title",t))+"» был удален":o+="Альбом был удален",o},p.t322.j=pn,p.t322.a=0,p.t323=function(e,t,n,r,i){var o="";return o+=d(i),l("title",t)?o+="Не удалось удалить альбом «"+yr.externals.entityify(c("title",t))+"»":o+="Не получилось удалить альбом",o},p.t323.j=hn,p.t323.a=0,p.t324=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось отключить группировку фото по людям"},p.t324.j=mn,p.t324.a=0,p.t325=function(e,t,n,r,i){var a="";return a+=d(i),a+="Опубликован альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},p.t325.j=vn,p.t325.a=0,p.t326=function(e,t,n,r,i){var a="";return a+=d(i),a+="Теперь альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"» виден только вам"},p.t326.j=yn,p.t326.a=0,p.t327=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось опубликовать альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},p.t327.j=bn,p.t327.a=0,p.t328=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось удалить публичную ссылку на альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},p.t328.j=_n,p.t328.a=0,p.t329=function(e,n,i,a,l){var p="",h="",m={a:{}};h+=d(m),h+="<a",m.a={href:new yr.scalarAttr("/client/albums/"+o(e.s(Bt,n))),class:new yr.scalarAttr("Link Link_view_default")},m.s="a",m.a["data-metrika-click"]=new yr.scalarAttr("count"),m.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,albums"),h+=d(m),h+=s(yr.externals.entityify(yr.externals.entityify(o(e.s(wn,n)))));var v=h+="</a>";return p+=d(l),t("half",f("typeAddition",n,[]))?r(e.s(wn,n))?p+=yr.externals.capitalize(u(__i18n__.i18n.convert(["один новый файл",c("count",n)+" новый файл",c("count",n)+" новых файла",c("count",n)+" новых файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом «"+u(v)+"»")):p+=yr.externals.capitalize(u(__i18n__.i18n.convert(["один новый файл",c("count",n)+" новый файл",c("count",n)+" новых файла",c("count",n)+" новых файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом")):t(1,f("count",n,[]))?r(e.s(wn,n))?p+=yr.externals.capitalize(u("Файл добавлен в альбом «"+u(v)+"»")):p+=yr.externals.capitalize(u("Файл добавлен в альбом")):r(e.s(wn,n))?p+=yr.externals.capitalize(u(__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом «"+u(v)+"»")):p+=yr.externals.capitalize(u(__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом")),p},p.t329.j=On,p.t329.a=0,p.t330=function(e,n,i,a,s){var u="";return u+=d(s),t("none",f("typeAddition",n,[]))?u+="Выбранные файлы уже находятся в альбоме":r(e.s(wn,n))?u+="Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" в альбом «"+yr.externals.entityify(o(e.s(wn,n)))+"»":u+="Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" в альбом",u},p.t330.j=En,p.t330.a=0,p.t331=function(e,t,n,r,i){var o="";return o+=d(i),o+="Файл убран из альбома"},p.t331.j=Sn,p.t331.a=0,p.t332=function(e,t,n,r,i){var o="";return o+=d(i),o+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",t))+" файл",yr.externals.entityify(c("count",t))+" файла",yr.externals.entityify(c("count",t))+" файлов"],yr.externals.entityify(c("count",t)))+" "+__i18n__.i18n.convert(["убран","убран","убрано","убрано"],yr.externals.entityify(c("count",t)))+" из альбома"},p.t332.j=xn,p.t332.a=0,p.t333=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось удалить файл из альбома"},p.t333.j=Cn,p.t333.a=0,p.t334=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось убрать "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",t))+" файл",yr.externals.entityify(c("count",t))+" файла",yr.externals.entityify(c("count",t))+" файлов"],yr.externals.entityify(c("count",t)))+" из альбома"},p.t334.j=Tn,p.t334.a=0,p.t335=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось переименовать альбом"},p.t335.j=kn,p.t335.a=0,p.t336=function(e,t,n,r,i){var o="";return o+=d(i),o+="Название альбома не может содержать символ «/»"},p.t336.j=jn,p.t336.a=0,p.t337=function(e,t,n,r,i){var o="";return o+=d(i),o+="Обложка изменена"},p.t337.j=Pn,p.t337.a=0,p.t338=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось изменить обложку"},p.t338.j=Rn,p.t338.a=0,p.t339=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось скачать файл. Попробуйте позже."},p.t339.j=An,p.t339.a=0,p.t340=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось скачать папку. Попробуйте позже."},p.t340.j=In,p.t340.a=0,p.t341=function(e,t,n,r,i){var o="";return o+=d(i),o+="Папка слишком большая. Попробуйте скачать её частями или используйте приложение Диска"},p.t341.j=Dn,p.t341.a=0,p.t342=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось скачать альбом. Попробуйте позже."},p.t342.j=Mn,p.t342.a=0,p.t343=function(e,t,n,r,i){var a="",s='<a class="notifications__link" href="'+o(f("link",t,[]))+'" target="_blank">';return a+=d(i),a+='<div class="notifications__item notifications__item_scroll-limit nb-island" role="alert" aria-live="assertive">',a+='<div class="notifications__text notifications__text_long">',a+="Показаны не все фотографии. Ваш браузер не поддерживает отображение большого количества фото. "+s+"Установите Яндекс.Браузер</a>, чтобы увидеть больше",a+="</div>",a+="</div>"},p.t343.j=Nn,p.t343.a=0,p.t344=function(e,t,r,i,o){var a="";return a+=d(o),a+=n(f("reason",t,[]))},p.t344.j=Ln,p.t344.a=0,p.t345=function(e,t,n,r,i){var o="";return o+=d(i),o+="Фото скрыто из альбома"},p.t345.j=Fn,p.t345.a=0,p.t346=function(e,t,n,r,i){var o="";return o+=d(i),o+=s(yr.externals.toLowerCase(u(__i18n__.i18n.convert([yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото"],yr.externals.entityify(c("count",t)))+" скрыто из альбома")))},p.t346.j=Bn,p.t346.a=0,p.t347=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось скрыть фото из альбома"},p.t347.j=Un,p.t347.a=0,p.t348=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось скрыть "+__i18n__.i18n.convert([yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото"],yr.externals.entityify(c("count",t)))+" из альбома"},p.t348.j=zn,p.t348.a=0,p.t349=function(e,t,n,r,i){var o="";return o+=d(i),o+="Некоторые фото нельзя убрать из альбома"},p.t349.j=Vn,p.t349.a=0,p.t350=function(e,t,n,r,i){var o="";return o+=d(i),o+="Ссылка скопирована"},p.t350.j=Hn,p.t350.a=0,p.t351=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось объединить альбомы"},p.t351.j=Wn,p.t351.a=0,p.t352=function(e,t,n,r,i){var o="";return o+=d(i),o+="Альбомы объединены"},p.t352.j=Gn,p.t352.a=0,p.t353=function(e,t,n,r,i){var a="";return a+=d(i),a+="Не удалось сменить права доступа к «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},p.t353.j=$n,p.t353.a=0,p.t354=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось открыть настройки ссылки"},p.t354.j=qn,p.t354.a=0,p.t355=function(e,t,n,r,i){var o="";return o+=d(i),o+="Не удалось сохранить настройки ссылки"},p.t355.j=Yn,p.t355.a=0,p.t356=function(e,t,r,i,o){var a="";return a+=d(o),a+=n(f("message",t,[]))},p.t356.j=Kn,p.t356.a=0,p.t357=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="b-text b-text_center b-tree__async">',o+=e.f("f88",t,n,r,i),o+="</div>"},p.t357.j=Jn,p.t357.a=0,p.t358=function(e,t,n,i,o){var a="";return a+=d(o),a+=" b-listing_view_list b-tree__item",r(e.n(Xn,e.k("k2","tree",t.doc.root)))&&(a+=" _hidden"),a+=e.a(e,0,e.k("k2","tree",t.doc.root),"tree-root-class",o)},p.t358.j=Jn,p.t358.a=0,p.t359=function(e,t,n,r,i){var o="",a={};a.size="s",a.class="b-tree__loader";var s=a;return o+=e.a(e,0,e.k("k2","tree",t.doc.root),"tree-root",i),o+=d(i),o+=e.f("f88",t,n,r,i,yr.object2nodeset(s)),o+="<div",i.a={class:new yr.scalarAttr("b-tree__sub ns-view-container-desc")},i.s="div",i.a.role=new yr.scalarAttr("group"),o+=e.a(e,0,e.s(x,t),"ns-view-collection",i),o+=d(i),o+="</div>"},p.t359.j=Jn,p.t359.a=0,p.t360=function(e,n,o,u,l){var p="",h=yr.externals.getAlias(c("id",n)),m={};m.icon=yr.nodeset2data(f("icon",n,[])),m.type=yr.nodeset2data(f("type",n,[])),m.size="s",r(e.s(Zn,n))&&(m.published=!0),m.class="b-tree__icon";var v=m;return l.a.tabindex=new yr.scalarAttr(0),l.a.role=new yr.scalarAttr("treeitem"),r(e.s(Qn,n))?l.a["aria-expanded"]=new yr.scalarAttr("true"):l.a["aria-expanded"]=new yr.scalarAttr("false"),p+=d(l),p+='<div class="b-tree__line"></div>',t("/disk",f("id",n,[]))||t("vd",f("type",n,[]))||(p+='<div class="b-tree__toggle b-tree__toggle_expanded_'+i(e.s(Qn,n))+' js-folders-toggle"></div>'),p+='<div class="b-tree__name" title="'+a(h)+'">',p+=e.f("f86",n,o,u,l,yr.object2nodeset(v)),p+=s(h),p+="</div>"},p.t360.j=Jn,p.t360.a=0,p.t361=function(n,i,o,a,s){var u="",c=f("id",i,[]),l=n.f("f45",i,o,a,"getOperationParams");var p=[0,"resourceIds",2,function(t,n,r,i){return e(t.s(x,n),c)}],h=n.n(p,l).length>0;return u+=d(s),(r(n.s(er,i))||r(n.s(tr,i))||t("640",n.s(nr,i))||h||r(n.s(rr,i))&&r(n.n(ir,l)))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),r(n.n(or,l))&&r(n.n(ar,l))&&r(n.s(sr,i))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),e(f("id",i,[]),n.n(ur,l))&&r(n.n(or,l))&&!r(n.n(cr,l))&&(u+=" b-tree__item_disabled_self js-disabled"),(t("/disk",f("id",i,[]))||t("vd",f("type",i,[]))||r(n.s(Qn,i)))&&(u+=" b-tree__item_expanded"),r(n.s(lr,i))&&(u+=" b-tree__item_waiting"),u},p.t361.j=Jn,p.t361.a=0,p.matcher={"":{"":["t180"],notification:["t343","t321","t250","t249","t248","t247","t246"]},"ns-view":{"*":["t181"]},"ns-build-view":{"*":["t182"]},"ns-build-view-content":{"*":["t183"]},"ns-view-add-class":{"*":["t184"],notifications:["t244","t184"],tree:["t358","t184"]},"ns-view-add-attrs":{"*":["t185"]},"ns-view-content":{"*":["t186"],dropzone:["t242","t186"],tree:["t359","t186"]},"ns-view-desc":{"*":["t187"]},"ns-view-collection":{"*":["t188"]},"ns-view-async-content":{"*":["t189"],tree:["t357","t189"]},"ns-view-error-content":{"*":["t190"]},"nb-main-attrs":{"*":["t191"]},"nb-main-content":{"*":["t192"]},nb:{ico:["t193"],button:["t194"],buttonLink:["t195"],buttonSpan:["t196"],buttonLabel:["t197"],buttonAttach:["t198"],popupMenu:["t199"],popup:["t202"],modalPopup:["t203"],"radio-button":["t204"],select:["t205"],checkbox:["t207"],input:["t208"],textarea:["t209"],inputSimple:["t210"],textareaSimple:["t211"],"input-group":["t212"],progress:["t213"],paranja:["t214"],island:["t215"],dropzone:["t216"],loader:["t217"],slider:["t218"],tabs:["t219"],arrow:["t222","t221","t220"],header:["t223"],user:["t224"],suggest:["t227"],toggler:["t233"],"icon-resource":["t234"],"loader-thin":["t241"]},"nb-popup-menu-content":{popupMenu:["t200"]},"nb-popup-menu-content-item":{menu:["t201"]},"nb-select-options":{"":["t206"],select:["t206"]},"nb-user-pic":{user:["t225"]},"nb-user-name":{user:["t226"],username:["t231"],email:["t232"]},"nb-suggest":{"":["t228"],item:["t230","t229"]},"nb-icon-resource-preview":{"icon-resource":["t235"]},"nb-icon-resource-image":{"icon-resource":["t238","t237","t236"]},"nb-icon-resource-video-stub":{"icon-resource":["t239"]},"nb-icon-resource-icon":{"icon-resource":["t240"]},dropzone__content:{dropzone:["t243"]},notification:{"":["t245"]},"notification-inner":{notification:["t251"]},message:{notification:["t356","t355","t354","t353","t352","t351","t350","t349","t348","t347","t346","t345","t344","t342","t341","t340","t339","t338","t337","t336","t335","t334","t333","t332","t331","t330","t329","t328","t327","t326","t325","t324","t323","t322","t320","t319","t318","t317","t316","t315","t314","t313","t312","t311","t310","t309","t308","t307","t306","t305","t304","t303","t302","t301","t300","t299","t298","t297","t296","t295","t294","t293","t292","t291","t290","t289","t288","t287","t286","t285","t284","t283","t282","t281","t280","t279","t278","t277","t276","t275","t274","t273","t272","t271","t270","t269","t268","t267","t266","t265","t264","t263","t262","t261","t260","t259","t258","t257","t256","t255","t254","t253","t252"]},"tree-root":{tree:["t360"]},"tree-root-class":{tree:["t361"]}},p.imports=[],yr.register("common",p)})()}),(function(e,t,n){"use strict";n.r(t);var r,i=n(2),o=n(0),a=n.n(o),s=n(127),u=n(32),c=n(70),l=n(91),f=n(561),d=n(639),p=n(640),h=n(34),m=n(439),v=(n(1890),n(1891),n(1892),Object(h.cn)("Select2")),g=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentDidUpdate=function(){this.forwardRefs()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=t.addonBefore,o=t.className,s=t.disabled,d=t.onBlur,p=t.onClick,h=t.onKeyDown,m=t.opened,g=t.size,y=t.theme,b=t.value,_=t.view,O=t.style,w=t.checkable,E=void 0===w||w,S=t.iconProps,x=t.renderTrigger,C=t.renderTriggerIcon,T=t.activeDescendant,k=!(!E||!Array.isArray(b))&&b.length>0,j=_||S&&S.glyph?void 0:"arrow",P=!_||S&&S.type?void 0:"carets-v";return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Trigger,w=t.Icon;return a.a.createElement(f.a,{components:[[u,x],[w,C]]},(function(t,u){return a.a.createElement("span",{ref:Object(l.a)(e.innerRef,e.props.innerRef),className:v({disabled:s},[o])},r,a.a.createElement(t,{width:"max",role:"listbox","aria-haspopup":"true",disabled:s,className:v("Button"),innerRef:e.triggerRef,style:O,size:g,theme:y,checked:k,view:_,onClick:p,onKeyDown:h,onBlur:d,pressKeys:[c.a.SPACE],iconRight:function(e){return a.a.createElement(u,Object(i.__assign)({size:g,className:e,direction:m?"top":"bottom",type:j,glyph:P},S))},"aria-activedescendant":T,"aria-expanded":m,"aria-multiselectable":Array.isArray(b)},e.getButtonText()),n)}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t.prototype.getButtonText=function(){var e=this.props,t=e.value,n=e.options,r=e.showAlwaysPlaceholder,i=e.placeholder,o=[].concat(t).filter((function(e){return void 0!==e}));if(!r&&o.length>0){var a=this.getOptionsText(n,o);if(a.length>0)return a}return i},t.prototype.getOptionsText=function(e,t){return Object(m.a)((function(e){return e.items?e.items:e}),e).filter((function(e){return-1!==t.indexOf(e.value)})).map((function(e){return e.checkedText||e.content})).join(", ")},t})(o.PureComponent)).displayName=v(),r.defaultProps={placeholder:"—",value:""},r),y=new u.Registry({id:v()});y.set("Trigger",(function(){throw new Error('Для работы "Select" требуется установить компонент "Trigger" в реестр "'+v()+'".')})).set("Icon",(function(){throw new Error('Для работы "Select" требуется установить компонент "Icon" в реестр "'+v()+'".')})).set("Popup",(function(){throw new Error('Для работы "Select" требуется установить компонент "Popup" в реестр "'+v()+'".')})).set("Menu",(function(){throw new Error('Для работы "Select" требуется установить компонент "Menu" в реестр "'+v()+'".')}));var b,_=function e(t){return (function(e){return void 0!==e.items})(t)?a.a.createElement("optgroup",{key:t.title,label:t.title},t.items.map(e)):a.a.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},t.content)},O=["bottom-start","bottom-end","top-start","top-end"],w=((b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeDescendant:void 0},t.innerRef=Object(o.createRef)(),t.controlRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t.popupRef=Object(o.createRef)(),t.preventClosable=!1,t.subscribeToEvents=function(){document.addEventListener("mousedown",t.onDocumentMouseDown,!0),window.addEventListener("resize",t.onWindowChange),window.addEventListener("orientationchange",t.onWindowChange)},t.unsubscribeFromEvents=function(){document.removeEventListener("mousedown",t.onDocumentMouseDown,!0),window.removeEventListener("resize",t.onWindowChange),window.removeEventListener("orientationchange",t.onWindowChange)},t.onDocumentMouseDown=function(e){var n=t.popupRef.current;null!==n&&n.contains(e.target)&&(t.preventClosable=!0)},t.onClosePopup=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onWindowChange=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onBlur=function(e){t.preventClosable?t.preventClosable=!1:(requestAnimationFrame((function(){var e=t.popupRef.current;t.props.setOpened&&e&&!e.contains(document.activeElement)&&t.props.setOpened(!1)})),void 0!==t.props.onBlur&&t.props.onBlur(e))},t.onClick=function(e){6!==e.nativeEvent.mozInputSource&&(void 0!==t.props.setOpened&&t.props.setOpened(!t.props.opened),void 0!==t.props.onClick&&t.props.onClick(e))},t.onKeyDown=function(e){Object(c.b)(e.keyCode,[c.a.ENTER])&&e.preventDefault(),Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])&&(e.preventDefault(),void 0!==t.props.setOpened&&t.props.setOpened(!0)),Object(c.b)(e.keyCode,[c.a.SPACE])&&(void 0===t.props.setOpened||e.defaultPrevented||(e.preventDefault(),t.props.opened||t.props.setOpened(!0))),t.props.opened&&void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onActiveItemChange=function(e){t.setState({activeDescendant:e})},t.onMenuChange=function(e){if(t.controlRef.current){var n=e.target.value;e.target=t.controlRef.current,e.target.value=n}Object(s.unstable_batchedUpdates)((function(){void 0!==t.props.onChange&&t.props.onChange(e),void 0!==t.props.setOpened&&(Array.isArray(t.props.value)||t.props.setOpened(!1))})),t.preventClosable&&(t.preventClosable=!1)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.opened&&this.props.opened?this.subscribeToEvents():e.opened&&!this.props.opened&&this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=(t.maxHeight,t.opened),o=t.setOpened,s=t.options,c=(t.popupRef,t.size),h=t.theme,m=t.unsafe_scope,y=void 0===m?this.innerRef:m,b=t.value,w=t.view,E=t.renderControl,S=void 0!==E&&E,x=t.renderMenu,C=Object(i.__rest)(t,["addonAfter","maxHeight","opened","setOpened","options","popupRef","size","theme","unsafe_scope","value","view","renderControl","renderMenu"]);return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Popup,m=t.Menu;return a.a.createElement(f.b,{component:m,render:x},(function(t){return a.a.createElement(g,Object(i.__assign)({},C,{triggerRef:e.triggerRef,activeDescendant:e.state.activeDescendant,innerRef:Object(l.a)(e.innerRef,e.props.innerRef),onBlur:e.onBlur,onClick:e.onClick,onKeyDown:e.onKeyDown,options:s,size:c,theme:h,value:b,view:w,opened:r,setOpened:o,addonAfter:a.a.createElement(a.a.Fragment,null,S&&a.a.createElement("select",Object(i.__assign)({},C,{multiple:Array.isArray(b),tabIndex:-1,value:b,ref:e.controlRef,style:{display:"none"}}),s.map(_)),a.a.createElement(u,{target:"anchor",anchor:e.triggerRef,className:v("Popup"),direction:O,view:w,theme:h,visible:r,innerRef:Object(l.a)(e.popupRef,e.props.popupRef),onClose:e.onClosePopup,scope:y,modifiers:[d.a,Object(i.__assign)(Object(i.__assign)({},p.a),{options:{maxHeight:e.props.maxHeight}})]},a.a.createElement(t,{width:"max",className:v("Menu"),focused:r,items:s,onChange:e.onMenuChange,onActiveItemChange:e.onActiveItemChange,size:c,theme:h,value:b,view:w})),n)}))}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t})(o.PureComponent)).displayName=v()+"@desktop",b),E=Object(u.withRegistry)(y)(w),S=n(5),x=(n(1893),Object(S.withBemMod)(v(),{baseline:!0})),C=(n(1894),Object(S.withBemMod)(v(),{width:"max"})),T=n(762);n.d(t,"Select",(function(){return E})),n.d(t,"withBaseline",(function(){return x})),n.d(t,"withWidthMax",(function(){return C})),n.d(t,"cnSelect",(function(){return v})),n.d(t,"selectRegistry",(function(){return T.selectRegistry}))}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(5),o=n(270),a=n(170),s=n(171),u=n(102),c=Object(i.compose)(a.a,s.a)(o.a),l=new r.Registry({id:Object(u.b)()});l.set("Popup",c);var f=n(2),d=n(0),p=n.n(d),h=n(91),m=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];void 0!==e&&e.apply(void 0,Object(f.__spread)(n)),t.apply(void 0,Object(f.__spread)(n))}},v=n(429);var g=Object(r.withRegistry)(l)(u.a),y=Object(r.withRegistry)(l)((function(e){var t,n=e.children,r=e.content,i=e.defaultVisible,o=void 0!==i&&i,a=e.id,s=e.trigger,c=void 0===s?"hover":s,l=e.openDelay,g=e.closeDelay,y=Object(f.__rest)(e,["children","content","defaultVisible","id","trigger","openDelay","closeDelay"]),b=Object(v.a)("tooltip"),_=a||b,O=(function(e){var t=e.defaultVisible,n=void 0!==t&&t,r=e.openDelay,i=void 0===r?0:r,o=e.closeDelay,a=void 0===o?0:o,s=Object(f.__read)(Object(d.useState)(n),2),u=s[0],c=s[1],l=Object(d.useRef)(),p=Object(d.useRef)(),h=Object(d.useCallback)((function(e){var t=e?p:l,n=e?l:p,r=e?i:a;t.current&&(clearTimeout(t.current),t.current=void 0),r>0?n.current||(n.current=window.setTimeout((function(){n.current=void 0,c(e)}),r)):c(e)}),[i,a]),m=Object(d.useCallback)((function(){return h(!0)}),[h]),v=Object(d.useCallback)((function(){return h(!1)}),[h]),g=Object(d.useCallback)((function(){return h(!u)}),[u,h]);return Object(d.useEffect)((function(){return function(){clearTimeout(l.current),clearTimeout(p.current)}}),[]),{visible:u,open:m,close:v,toggle:g}})({openDelay:l,closeDelay:g,defaultVisible:o}),w=O.visible,E=O.open,S=O.close,x=O.toggle,C=Object(d.useRef)(null),T=d.Children.only(n),k=(Array.isArray(c)?c:[c]).reduce((function(e,t){switch(t){case"click":e.onClick=m(T.props.onClick,(function(){return x()}));break;case"focus":e.onFocus=m(T.props.onFocus,(function(){return E()})),e.onBlur=m(T.props.onBlur,(function(){return S()}));break;case"hover":e.onMouseEnter=m(T.props.onMouseEnter,(function(){return E()})),e.onMouseLeave=m(T.props.onMouseLeave,(function(){return S()}))}return e}),{}),j="string"==typeof T.type?"ref":"innerRef",P=void 0===T.props[j]?C:Object(h.b)(T.props[j],C);return p.a.createElement(p.a.Fragment,null,Object(d.cloneElement)(T,Object(f.__assign)(Object(f.__assign)({},k),((t={})[j]=P,t["aria-describedby"]=_,t))),p.a.createElement(u.a,Object(f.__assign)({},y,{id:_,visible:w,anchor:C,onClose:S}),r))})),b=n(389),_=n(390),O=n(391),w=n(392),E=n(748);n.d(t,"Tooltip",(function(){return g})),n.d(t,"TooltipStateful",(function(){return y})),n.d(t,"withSizeL",(function(){return b.a})),n.d(t,"withSizeM",(function(){return _.a})),n.d(t,"withSizeS",(function(){return O.a})),n.d(t,"withViewDefault",(function(){return w.a})),n.d(t,"cnTooltip",(function(){return u.b})),n.d(t,"tooltipRegistry",(function(){return E.registry}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=function(e){return Object(i.memo)((function(t){var n=t.opened,a=t.setOpened,s=Object(r.__read)(Object(i.useState)(Boolean(n)),2),u=s[0],c=s[1];Object(i.useEffect)((function(){"boolean"==typeof n&&u!==n&&c(n)}),[u,n]);var l=Object(i.useCallback)((function(e){c(e),a&&a(e)}),[a]);return o.a.createElement(e,Object(r.__assign)({},t,{opened:u,setOpened:l}))}))};n.d(t,"withTogglable",(function(){return a}))}),,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){var r;!(function(){return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}})()({1:[function(e,t,n){e(276),e(212),e(214),e(213),e(216),e(218),e(223),e(217),e(215),e(225),e(224),e(220),e(221),e(219),e(211),e(222),e(226),e(227),e(178),e(180),e(179),e(229),e(228),e(199),e(209),e(210),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(263),e(268),e(275),e(266),e(258),e(259),e(264),e(269),e(271),e(254),e(255),e(256),e(257),e(260),e(261),e(262),e(265),e(267),e(270),e(272),e(273),e(274),e(173),e(175),e(174),e(177),e(176),e(161),e(159),e(166),e(163),e(169),e(171),e(158),e(165),e(155),e(170),e(153),e(168),e(167),e(160),e(164),e(152),e(154),e(157),e(156),e(172),e(162),e(245),e(246),e(252),e(247),e(248),e(249),e(250),e(251),e(230),e(181),e(253),e(288),e(289),e(277),e(278),e(283),e(286),e(287),e(281),e(284),e(282),e(285),e(279),e(280),e(231),e(232),e(233),e(234),e(235),e(238),e(236),e(237),e(239),e(240),e(241),e(242),e(244),e(243),t.exports=e(50)},{152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,50:50}],2:[function(e,t,n){e(290),t.exports=e(50).Array.flatMap},{290:290,50:50}],3:[function(e,t,n){e(291),t.exports=e(50).Array.includes},{291:291,50:50}],4:[function(e,t,n){e(292),t.exports=e(50).Object.entries},{292:292,50:50}],5:[function(e,t,n){e(293),t.exports=e(50).Object.getOwnPropertyDescriptors},{293:293,50:50}],6:[function(e,t,n){e(294),t.exports=e(50).Object.values},{294:294,50:50}],7:[function(e,t,n){"use strict";e(230),e(295),t.exports=e(50).Promise.finally},{230:230,295:295,50:50}],8:[function(e,t,n){e(296),t.exports=e(50).String.padEnd},{296:296,50:50}],9:[function(e,t,n){e(297),t.exports=e(50).String.padStart},{297:297,50:50}],10:[function(e,t,n){e(299),t.exports=e(50).String.trimRight},{299:299,50:50}],11:[function(e,t,n){e(298),t.exports=e(50).String.trimLeft},{298:298,50:50}],12:[function(e,t,n){e(300),t.exports=e(149).f("asyncIterator")},{149:149,300:300}],13:[function(e,t,n){e(30),t.exports=e(16).global},{16:16,30:30}],14:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],15:[function(e,t,n){var r=e(26);t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{26:26}],16:[function(e,t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},{}],17:[function(e,t,n){var r=e(14);t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{14:14}],18:[function(e,t,n){t.exports=!e(21)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{21:21}],19:[function(e,t,n){var r=e(26),i=e(22).document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{22:22,26:26}],20:[function(e,t,n){var r=e(22),i=e(16),o=e(17),a=e(24),s=e(23),u=function(e,t,n){var c,l,f,d=e&u.F,p=e&u.G,h=e&u.S,m=e&u.P,v=e&u.B,g=e&u.W,y=p?i:i[t]||(i[t]={}),b=y.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(l=!d&&_&&void 0!==_[c])&&s(y,c)||(f=l?_[c]:n[c],y[c]=p&&"function"!=typeof _[c]?n[c]:v&&l?o(f,r):g&&_[c]==f?(function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t})(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{16:16,17:17,22:22,23:23,24:24}],21:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],23:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],24:[function(e,t,n){var r=e(27),i=e(28);t.exports=e(18)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{18:18,27:27,28:28}],25:[function(e,t,n){t.exports=!e(18)&&!e(21)((function(){return 7!=Object.defineProperty(e(19)("div"),"a",{get:function(){return 7}}).a}))},{18:18,19:19,21:21}],26:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],27:[function(e,t,n){var r=e(15),i=e(25),o=e(29),a=Object.defineProperty;n.f=e(18)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{15:15,18:18,25:25,29:29}],28:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],29:[function(e,t,n){var r=e(26);t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{26:26}],30:[function(e,t,n){var r=e(20);r(r.G,{global:e(22)})},{20:20,22:22}],31:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{14:14}],32:[function(e,t,n){var r=e(46);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},{46:46}],33:[function(e,t,n){var r=e(150)("unscopables"),i=Array.prototype;void 0==i[r]&&e(70)(i,r,{}),t.exports=function(e){i[r][e]=!0}},{150:150,70:70}],34:[function(e,t,n){"use strict";var r=e(127)(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{127:127}],35:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],36:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15,79:79}],37:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},{135:135,139:139,140:140}],38:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},{135:135,139:139,140:140}],39:[function(e,t,n){var r=e(138),i=e(139),o=e(135);t.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{135:135,138:138,139:139}],40:[function(e,t,n){var r=e(52),i=e(75),o=e(140),a=e(139),s=e(43);t.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var m,v,g=o(t),y=i(g),b=r(s,h,3),_=a(y.length),O=0,w=n?p(t,_):u?p(t,0):void 0;_>O;O++)if((d||O in y)&&(v=b(m=y[O],O,g),e))if(n)w[O]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:w.push(m)}else if(l)return!1;return f?-1:c||l?l:w}}},{139:139,140:140,43:43,52:52,75:75}],41:[function(e,t,n){var r=e(31),i=e(140),o=e(75),a=e(139);t.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),f=a(c.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in l&&(s=t(s,l[d],d,c));return s}},{139:139,140:140,31:31,75:75}],42:[function(e,t,n){var r=e(79),i=e(77),o=e(150)("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{150:150,77:77,79:79}],43:[function(e,t,n){var r=e(42);t.exports=function(e,t){return new(r(e))(t)}},{42:42}],44:[function(e,t,n){"use strict";var r=e(31),i=e(79),o=e(74),a=[].slice,s={};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?(function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)})(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},{31:31,74:74,79:79}],45:[function(e,t,n){var r=e(46),i=e(150)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{150:150,46:46}],46:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],47:[function(e,t,n){"use strict";var r=e(97).f,i=e(96),o=e(115),a=e(52),s=e(35),u=e(66),c=e(83),l=e(85),f=e(121),d=e(56),p=e(92).fastKey,h=e(147),m=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(t)}}},{115:115,121:121,147:147,35:35,52:52,56:56,66:66,83:83,85:85,92:92,96:96,97:97}],48:[function(e,t,n){"use strict";var r=e(115),i=e(92).getWeak,o=e(36),a=e(79),s=e(35),u=e(66),c=e(40),l=e(69),f=e(147),d=c(5),p=c(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},{115:115,147:147,35:35,36:36,40:40,66:66,69:69,79:79,92:92}],49:[function(e,t,n){"use strict";var r=e(68),i=e(60),o=e(116),a=e(115),s=e(92),u=e(66),c=e(35),l=e(79),f=e(62),d=e(84),p=e(122),h=e(73);t.exports=function(e,t,n,m,v,g){var y=r[e],b=y,_=v?"set":"add",O=b&&b.prototype,w={},E=function(e){var t=O[e];o(O,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||O.forEach&&!f((function(){(new b).entries().next()})))){var S=new b,x=S[_](g?{}:-0,1)!=S,C=f((function(){S.has(1)})),T=d((function(e){new b(e)})),k=!g&&f((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));T||((b=t((function(t,n){c(t,b,e);var r=h(new y,t,b);return void 0!=n&&u(n,v,r[_],r),r}))).prototype=O,O.constructor=b),(C||k)&&(E("delete"),E("has"),v&&E("get")),(k||x)&&E(_),g&&O.clear&&delete O.clear}else b=m.getConstructor(t,e,v,_),a(b.prototype,n),s.NEED=!0;return p(b,e),w[e]=b,i(i.G+i.W+i.F*(b!=y),w),g||m.setStrong(b,e,v),b}},{115:115,116:116,122:122,35:35,60:60,62:62,66:66,68:68,73:73,79:79,84:84,92:92}],50:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],51:[function(e,t,n){"use strict";var r=e(97),i=e(114);t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{114:114,97:97}],52:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17,31:31}],53:[function(e,t,n){"use strict";var r=e(62),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},{62:62}],54:[function(e,t,n){"use strict";var r=e(36),i=e(141);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},{141:141,36:36}],55:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],56:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18,62:62}],57:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19,68:68,79:79}],58:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],59:[function(e,t,n){var r=e(105),i=e(102),o=e(106);t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},{102:102,105:105,106:106}],60:[function(e,t,n){var r=e(68),i=e(50),o=e(70),a=e(116),s=e(52),u=function(e,t,n){var c,l,f,d,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,g=e&u.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)f=((l=!p&&y&&void 0!==y[c])?y:n)[c],d=g&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&a(y,c,f,e&u.U),b[c]!=f&&o(b,c,d),v&&_[c]!=f&&(_[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{116:116,50:50,52:52,68:68,70:70}],61:[function(e,t,n){var r=e(150)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{150:150}],62:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],63:[function(e,t,n){"use strict";e(246);var r=e(116),i=e(70),o=e(62),a=e(55),s=e(150),u=e(118),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]})();t.exports=function(e,t,n){var d=s(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var m=/./[d],v=n(a,d,""[e],(function(e,t,n,r,i){return t.exec===u?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},{116:116,118:118,150:150,246:246,55:55,62:62,70:70}],64:[function(e,t,n){"use strict";var r=e(36);t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{36:36}],65:[function(e,t,n){"use strict";var r=e(77),i=e(79),o=e(139),a=e(52),s=e(150)("isConcatSpreadable");t.exports=function e(t,n,u,c,l,f,d,p){for(var h,m,v=l,g=0,y=!!d&&a(d,p,3);g<c;){if(g in u){if(h=y?y(u[g],g,n):u[g],m=!1,i(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&f>0)v=e(t,n,h,o(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}g++}return v}},{139:139,150:150,52:52,77:77,79:79}],66:[function(e,t,n){var r=e(52),i=e(81),o=e(76),a=e(36),s=e(139),u=e(151),c={},l={};(n=t.exports=function(e,t,n,f,d){var p,h,m,v,g=d?function(){return e}:u(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>b;b++)if((v=t?y(a(h=e[b])[0],h[1]):y(e[b]))===c||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=i(m,y,h.value,t))===c||v===l)return v}).BREAK=c,n.RETURN=l},{139:139,151:151,36:36,52:52,76:76,81:81}],67:[function(e,t,n){t.exports=e(124)("native-function-to-string",Function.toString)},{124:124}],68:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],69:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23}],70:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{114:114,24:24,56:56,97:97}],71:[function(e,t,n){var r=e(68).document;t.exports=r&&r.documentElement},{68:68}],72:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{25:25,56:56,57:57,62:62}],73:[function(e,t,n){var r=e(79),i=e(120).set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},{120:120,79:79}],74:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],75:[function(e,t,n){var r=e(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{46:46}],76:[function(e,t,n){var r=e(86),i=e(150)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{150:150,86:86}],77:[function(e,t,n){var r=e(46);t.exports=Array.isArray||function(e){return"Array"==r(e)}},{46:46}],78:[function(e,t,n){var r=e(79),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{79:79}],79:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],80:[function(e,t,n){var r=e(79),i=e(46),o=e(150)("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{150:150,46:46,79:79}],81:[function(e,t,n){var r=e(36);t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{36:36}],82:[function(e,t,n){"use strict";var r=e(96),i=e(114),o=e(122),a={};e(70)(a,e(150)("iterator"),(function(){return this})),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{114:114,122:122,150:150,70:70,96:96}],83:[function(e,t,n){"use strict";var r=e(87),i=e(60),o=e(116),a=e(70),s=e(86),u=e(82),c=e(122),l=e(103),f=e(150)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,h,m,v,g){u(n,t,h);var y,b,_,O=function(e){if(!d&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==m,S=!1,x=e.prototype,C=x[f]||x["@@iterator"]||m&&x[m],T=C||O(m),k=m?E?O("entries"):T:void 0,j="Array"==t&&x.entries||C;if(j&&(_=l(j.call(new e)))!==Object.prototype&&_.next&&(c(_,w,!0),r||"function"==typeof _[f]||a(_,f,p)),E&&C&&"values"!==C.name&&(S=!0,T=function(){return C.call(this)}),r&&!g||!d&&!S&&x[f]||a(x,f,T),s[t]=T,s[w]=p,m)if(y={values:E?T:O("values"),keys:v?T:O("keys"),entries:k},g)for(b in y)b in x||o(x,b,y[b]);else i(i.P+i.F*(d||S),t,y);return y}},{103:103,116:116,122:122,150:150,60:60,70:70,82:82,86:86,87:87}],84:[function(e,t,n){var r=e(150)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},{150:150}],85:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],86:[function(e,t,n){t.exports={}},{}],87:[function(e,t,n){t.exports=!1},{}],88:[function(e,t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},{}],89:[function(e,t,n){var r=e(91),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(function(e){return e+1/o-1/o})(i/u/a)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},{91:91}],90:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],91:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],92:[function(e,t,n){var r=e(145)("meta"),i=e(79),o=e(69),a=e(97).f,s=0,u=Object.isExtensible||function(){return!0},c=!e(62)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},{145:145,62:62,69:69,79:79,97:97}],93:[function(e,t,n){var r=e(68),i=e(134).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==e(46)(a);t.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{134:134,46:46,68:68}],94:[function(e,t,n){"use strict";var r=e(31);t.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},{31:31}],95:[function(e,t,n){"use strict";var r=e(56),i=e(105),o=e(102),a=e(106),s=e(140),u=e(75),c=Object.assign;t.exports=!c||e(62)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,f=o.f,d=a.f;c>l;)for(var p,h=u(arguments[l++]),m=f?i(h).concat(f(h)):i(h),v=m.length,g=0;v>g;)p=m[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:c},{102:102,105:105,106:106,140:140,56:56,62:62,75:75}],96:[function(e,t,n){var r=e(36),i=e(98),o=e(58),a=e(123)("IE_PROTO"),s=function(){},u=function(){var t,n=e(57)("iframe"),r=o.length;for(n.style.display="none",e(71).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},{123:123,36:36,57:57,58:58,71:71,98:98}],97:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{141:141,27:27,36:36,56:56,72:72}],98:[function(e,t,n){var r=e(97),i=e(36),o=e(105);t.exports=e(56)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},{105:105,36:36,56:56,97:97}],99:[function(e,t,n){var r=e(106),i=e(114),o=e(138),a=e(141),s=e(69),u=e(72),c=Object.getOwnPropertyDescriptor;n.f=e(56)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{106:106,114:114,138:138,141:141,56:56,69:69,72:72}],100:[function(e,t,n){var r=e(138),i=e(101).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?(function(e){try{return i(e)}catch(e){return a.slice()}})(e):i(r(e))}},{101:101,138:138}],101:[function(e,t,n){var r=e(104),i=e(58).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{104:104,58:58}],102:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],103:[function(e,t,n){var r=e(69),i=e(140),o=e(123)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{123:123,140:140,69:69}],104:[function(e,t,n){var r=e(69),i=e(138),o=e(39)(!1),a=e(123)("IE_PROTO");t.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{123:123,138:138,39:39,69:69}],105:[function(e,t,n){var r=e(104),i=e(58);t.exports=Object.keys||function(e){return r(e,i)}},{104:104,58:58}],106:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],107:[function(e,t,n){var r=e(60),i=e(50),o=e(62);t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},{50:50,60:60,62:62}],108:[function(e,t,n){var r=e(56),i=e(105),o=e(138),a=e(106).f;t.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},{105:105,106:106,138:138,56:56}],109:[function(e,t,n){var r=e(101),i=e(102),o=e(36),a=e(68).Reflect;t.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},{101:101,102:102,36:36,68:68}],110:[function(e,t,n){var r=e(68).parseFloat,i=e(132).trim;t.exports=1/r(e(133)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},{132:132,133:133,68:68}],111:[function(e,t,n){var r=e(68).parseInt,i=e(132).trim,o=e(133),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},{132:132,133:133,68:68}],112:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],113:[function(e,t,n){var r=e(36),i=e(79),o=e(94);t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{36:36,79:79,94:94}],114:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{28:28}],115:[function(e,t,n){var r=e(116);t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{116:116}],116:[function(e,t,n){var r=e(68),i=e(70),o=e(69),a=e(145)("src"),s=e(67),u=(""+s).split("toString");e(50).inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},{145:145,50:50,67:67,68:68,69:69,70:70}],117:[function(e,t,n){"use strict";var r=e(45),i=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{45:45}],118:[function(e,t,n){"use strict";var r=e(64),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=(function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex})(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,n,a,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=a},{64:64}],119:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],120:[function(e,t,n){var r=e(79),i=e(36),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(t,n,r){try{(r=e(52)(Function.call,e(99).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}})({},!1):void 0),check:o}},{36:36,52:52,79:79,99:99}],121:[function(e,t,n){"use strict";var r=e(68),i=e(97),o=e(56),a=e(150)("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{150:150,56:56,68:68,97:97}],122:[function(e,t,n){var r=e(97).f,i=e(69),o=e(150)("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{150:150,69:69,97:97}],123:[function(e,t,n){var r=e(124)("keys"),i=e(145);t.exports=function(e){return r[e]||(r[e]=i(e))}},{124:124,145:145}],124:[function(e,t,n){var r=e(50),i=e(68),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e(87)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{50:50,68:68,87:87}],125:[function(e,t,n){var r=e(36),i=e(31),o=e(150)("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{150:150,31:31,36:36}],126:[function(e,t,n){"use strict";var r=e(62);t.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},{62:62}],127:[function(e,t,n){var r=e(137),i=e(55);t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},{137:137,55:55}],128:[function(e,t,n){var r=e(80),i=e(55);t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{55:55,80:80}],129:[function(e,t,n){var r=e(60),i=e(62),o=e(55),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},{55:55,60:60,62:62}],130:[function(e,t,n){var r=e(139),i=e(131),o=e(55);t.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var f=l-u,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},{131:131,139:139,55:55}],131:[function(e,t,n){"use strict";var r=e(137),i=e(55);t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{137:137,55:55}],132:[function(e,t,n){var r=e(60),i=e(55),o=e(62),a=e(133),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),u=i[e]=s?t(f):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};t.exports=l},{133:133,55:55,60:60,62:62}],133:[function(e,t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],134:[function(e,t,n){var r,i,o,a=e(52),s=e(74),u=e(71),c=e(57),l=e(68),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==e(46)(f)?r=function(e){f.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:d,clear:p}},{46:46,52:52,57:57,68:68,71:71,74:74}],135:[function(e,t,n){var r=e(137),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{137:137}],136:[function(e,t,n){var r=e(137),i=e(139);t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},{137:137,139:139}],137:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],138:[function(e,t,n){var r=e(75),i=e(55);t.exports=function(e){return r(i(e))}},{55:55,75:75}],139:[function(e,t,n){var r=e(137),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{137:137}],140:[function(e,t,n){var r=e(55);t.exports=function(e){return Object(r(e))}},{55:55}],141:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{29:29,79:79}],142:[function(e,t,n){"use strict";if(e(56)){var r=e(87),i=e(68),o=e(62),a=e(60),s=e(144),u=e(143),c=e(52),l=e(35),f=e(114),d=e(70),p=e(115),h=e(137),m=e(139),v=e(136),g=e(135),y=e(141),b=e(69),_=e(45),O=e(79),w=e(140),E=e(76),S=e(96),x=e(103),C=e(101).f,T=e(151),k=e(145),j=e(150),P=e(40),R=e(39),A=e(125),I=e(162),D=e(86),M=e(84),N=e(121),L=e(38),F=e(37),B=e(97),U=e(99),z=B.f,V=U.f,H=i.RangeError,W=i.TypeError,G=i.Uint8Array,$=Array.prototype,q=u.ArrayBuffer,Y=u.DataView,K=P(0),J=P(2),X=P(3),Z=P(4),Q=P(5),ee=P(6),te=R(!0),ne=R(!1),re=I.values,ie=I.keys,oe=I.entries,ae=$.lastIndexOf,se=$.reduce,ue=$.reduceRight,ce=$.join,le=$.sort,fe=$.slice,de=$.toString,pe=$.toLocaleString,he=j("iterator"),me=j("toStringTag"),ve=k("typed_constructor"),ge=k("def_constructor"),ye=s.CONSTR,be=s.TYPED,_e=s.VIEW,Oe=P(1,(function(e,t){return Ce(A(e,e[ge]),t)})),we=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Ee=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Se=function(e,t){var n=h(e);if(n<0||n%t)throw H("Wrong offset!");return n},xe=function(e){if(O(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ce=function(e,t){if(!(O(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return ke(A(e,e[ge]),t)},ke=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},je=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,i,o,a,s=w(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=T(s);if(void 0!=d&&!E(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=Ce(this,n);n>t;t++)i[t]=f?l(s[t],t):s[t];return i},Re=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Ae=!!G&&o((function(){pe.call(new G(1))})),Ie=function(){return pe.apply(Ae?fe.call(xe(this)):xe(this),arguments)},De={copyWithin:function(e,t){return F.call(xe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(xe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(xe(this),arguments)},filter:function(e){return Te(this,J(xe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(xe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(xe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(xe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(xe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(xe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(xe(this),arguments)},lastIndexOf:function(e){return ae.apply(xe(this),arguments)},map:function(e){return Oe(xe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(xe(this),arguments)},reduceRight:function(e){return ue.apply(xe(this),arguments)},reverse:function(){for(var e,t=xe(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return X(xe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(xe(this),e)},subarray:function(e,t){var n=xe(this),r=n.length,i=g(e,r);return new(A(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Me=function(e,t){return Te(this,fe.call(xe(this),e,t))},Ne=function(e){xe(this);var t=Se(arguments[1],1),n=this.length,r=w(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Le={entries:function(){return oe.call(xe(this))},keys:function(){return ie.call(xe(this))},values:function(){return re.call(xe(this))}},Fe=function(e,t){return O(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return Fe(e,t=y(t,!0))?f(2,e[t]):V(e,t)},Ue=function(e,t,n){return!(Fe(e,t=y(t,!0))&&O(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(U.f=Be,B.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Ue}),o((function(){de.call({})}))&&(de=pe=function(){return ce.call(this)});var ze=p({},De);p(ze,Le),d(ze,he,Le.values),p(ze,{slice:Me,set:Ne,constructor:function(){},toString:de,toLocaleString:Ie}),je(ze,"buffer","b"),je(ze,"byteOffset","o"),je(ze,"byteLength","l"),je(ze,"length","e"),z(ze,me,{get:function(){return this[be]}}),t.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&x(h),b=!h||!s.ABV,w={},E=h&&h.prototype,T=function(e,n){z(e,n,{get:function(){return (function(e,n){var r=e._d;return r.v[f](n*t+r.o,we)})(this,n)},set:function(e){return (function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,we)})(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,i){l(e,h,c,"_d");var o,a,s,u,f=0,p=0;if(O(n)){if(!(n instanceof q||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?ke(h,n):Pe.call(h,n);o=n,p=Se(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw H("Wrong length!");if((a=g-p)<0)throw H("Wrong length!")}else if((a=m(i)*t)+p>g)throw H("Wrong length!");s=a/t}else s=v(n),o=new q(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new Y(o)});f<s;)T(e,f++)})),E=h.prototype=S(ze),d(E,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&M((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return l(e,h,c),O(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Se(r,t),i):void 0!==r?new g(n,Se(r,t)):new g(n):be in n?ke(h,n):Pe.call(h,n):new g(v(n))})),K(y!==Function.prototype?C(g).concat(C(y)):C(g),(function(e){e in h||d(h,e,g[e])})),h.prototype=E,r||(E.constructor=h));var k=E[he],j=!!k&&("values"==k.name||void 0==k.name),P=Le.values;d(h,ve,!0),d(E,be,c),d(E,_e,!0),d(E,ge,h),(u?new h(1)[me]==c:me in E)||z(E,me,{get:function(){return c}}),w[c]=h,a(a.G+a.W+a.F*(h!=g),w),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(h,1)})),c,{from:Pe,of:Re}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",t),a(a.P,c,De),N(c),a(a.P+a.F*Ee,c,{set:Ne}),a(a.P+a.F*!j,c,Le),r||E.toString==de||(E.toString=de),a(a.P+a.F*o((function(){new h(1).slice()})),c,{slice:Me}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),c,{toLocaleString:Ie}),D[c]=j?k:P,r||j||d(E,he,P)}}else t.exports=function(){}},{101:101,103:103,114:114,115:115,121:121,125:125,135:135,136:136,137:137,139:139,140:140,141:141,143:143,144:144,145:145,150:150,151:151,162:162,35:35,37:37,38:38,39:39,40:40,45:45,52:52,56:56,60:60,62:62,68:68,69:69,70:70,76:76,79:79,84:84,86:86,87:87,96:96,97:97,99:99}],143:[function(e,t,n){"use strict";var r=e(68),i=e(56),o=e(87),a=e(144),s=e(70),u=e(115),c=e(62),l=e(35),f=e(137),d=e(139),p=e(136),h=e(101).f,m=e(97).f,v=e(38),g=e(122),y="prototype",b="Wrong index!",_=r.ArrayBuffer,O=r.DataView,w=r.Math,E=r.RangeError,S=r.Infinity,x=_,C=w.abs,T=w.pow,k=w.floor,j=w.log,P=w.LN2,R=i?"_b":"buffer",A=i?"_l":"byteLength",I=i?"_o":"byteOffset";function D(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?T(2,-24)-T(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===S?(i=e!=e?1:0,r=u):(r=k(j(e)/P),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*T(2,t),r+=c):(i=e*T(2,c-1)*T(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function M(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-S:S;r+=T(2,t),l-=a}return(c?-1:1)*r*T(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return D(e,52,8)}function z(e){return D(e,23,4)}function V(e,t,n){m(e[y],t,{get:function(){return this[n]}})}function H(e,t,n,r){var i=p(+n);if(i+t>e[A])throw E(b);var o=e[R]._b,a=i+e[I],s=o.slice(a,a+t);return r?s:s.reverse()}function W(e,t,n,r,i,o){var a=p(+n);if(a+t>e[A])throw E(b);for(var s=e[R]._b,u=a+e[I],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c((function(){_(1)}))||!c((function(){new _(-1)}))||c((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var G,$=(_=function(e){return l(this,_),new x(p(e))})[y]=x[y],q=h(x),Y=0;q.length>Y;)(G=q[Y++])in _||s(_,G,x[G]);o||($.constructor=_)}var K=new O(new _(2)),J=O[y].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(O[y],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[A]=t},O=function(e,t,n){l(this,O,"DataView"),l(e,_,"DataView");var r=e[A],i=f(t);if(i<0||i>r)throw E("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw E("Wrong length!");this[R]=e,this[I]=i,this[A]=n},i&&(V(_,"byteLength","_l"),V(O,"buffer","_b"),V(O,"byteLength","_l"),V(O,"byteOffset","_o")),u(O[y],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(H(this,4,e,arguments[1]))},getUint32:function(e){return N(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,L,t)},setUint8:function(e,t){W(this,1,e,L,t)},setInt16:function(e,t){W(this,2,e,F,t,arguments[2])},setUint16:function(e,t){W(this,2,e,F,t,arguments[2])},setInt32:function(e,t){W(this,4,e,B,t,arguments[2])},setUint32:function(e,t){W(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});g(_,"ArrayBuffer"),g(O,"DataView"),s(O[y],a.VIEW,!0),n.ArrayBuffer=_,n.DataView=O},{101:101,115:115,122:122,136:136,137:137,139:139,144:144,35:35,38:38,56:56,62:62,68:68,70:70,87:87,97:97}],144:[function(e,t,n){for(var r,i=e(68),o=e(70),a=e(145),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{145:145,68:68,70:70}],145:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],146:[function(e,t,n){var r=e(68).navigator;t.exports=r&&r.userAgent||""},{68:68}],147:[function(e,t,n){var r=e(79);t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{79:79}],148:[function(e,t,n){var r=e(68),i=e(50),o=e(87),a=e(149),s=e(97).f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{149:149,50:50,68:68,87:87,97:97}],149:[function(e,t,n){n.f=e(150)},{150:150}],150:[function(e,t,n){var r=e(124)("wks"),i=e(145),o=e(68).Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{124:124,145:145,68:68}],151:[function(e,t,n){var r=e(45),i=e(150)("iterator"),o=e(86);t.exports=e(50).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{150:150,45:45,50:50,86:86}],152:[function(e,t,n){var r=e(60);r(r.P,"Array",{copyWithin:e(37)}),e(33)("copyWithin")},{33:33,37:37,60:60}],153:[function(e,t,n){"use strict";var r=e(60),i=e(40)(4);r(r.P+r.F*!e(126)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],154:[function(e,t,n){var r=e(60);r(r.P,"Array",{fill:e(38)}),e(33)("fill")},{33:33,38:38,60:60}],155:[function(e,t,n){"use strict";var r=e(60),i=e(40)(2);r(r.P+r.F*!e(126)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],156:[function(e,t,n){"use strict";var r=e(60),i=e(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)(o)},{33:33,40:40,60:60}],157:[function(e,t,n){"use strict";var r=e(60),i=e(40)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("find")},{33:33,40:40,60:60}],158:[function(e,t,n){"use strict";var r=e(60),i=e(40)(0),o=e(126)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],159:[function(e,t,n){"use strict";var r=e(52),i=e(60),o=e(140),a=e(81),s=e(76),u=e(139),c=e(51),l=e(151);i(i.S+i.F*!e(84)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(d);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(n=new p(t=u(d.length));t>g;g++)c(n,g,v?m(d[g],g):d[g]);else for(f=y.call(d),n=new p;!(i=f.next()).done;g++)c(n,g,v?a(f,m,[i.value,g],!0):i.value);return n.length=g,n}})},{139:139,140:140,151:151,51:51,52:52,60:60,76:76,81:81,84:84}],160:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e(126)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},{126:126,39:39,60:60}],161:[function(e,t,n){var r=e(60);r(r.S,"Array",{isArray:e(77)})},{60:60,77:77}],162:[function(e,t,n){"use strict";var r=e(33),i=e(85),o=e(86),a=e(138);t.exports=e(83)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{138:138,33:33,83:83,85:85,86:86}],163:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=[].join;r(r.P+r.F*(e(75)!=Object||!e(126)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},{126:126,138:138,60:60,75:75}],164:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=e(137),a=e(139),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!e(126)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},{126:126,137:137,138:138,139:139,60:60}],165:[function(e,t,n){"use strict";var r=e(60),i=e(40)(1);r(r.P+r.F*!e(126)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],166:[function(e,t,n){"use strict";var r=e(60),i=e(51);r(r.S+r.F*e(62)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},{51:51,60:60,62:62}],167:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},{126:126,41:41,60:60}],168:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},{126:126,41:41,60:60}],169:[function(e,t,n){"use strict";var r=e(60),i=e(71),o=e(46),a=e(135),s=e(139),u=[].slice;r(r.P+r.F*e(62)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),f=new Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},{135:135,139:139,46:46,60:60,62:62,71:71}],170:[function(e,t,n){"use strict";var r=e(60),i=e(40)(3);r(r.P+r.F*!e(126)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],171:[function(e,t,n){"use strict";var r=e(60),i=e(31),o=e(140),a=e(62),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!e(126)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},{126:126,140:140,31:31,60:60,62:62}],172:[function(e,t,n){e(121)("Array")},{121:121}],173:[function(e,t,n){var r=e(60);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{60:60}],174:[function(e,t,n){var r=e(60),i=e(53);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{53:53,60:60}],175:[function(e,t,n){"use strict";var r=e(60),i=e(140),o=e(141);r(r.P+r.F*e(62)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{140:140,141:141,60:60,62:62}],176:[function(e,t,n){var r=e(150)("toPrimitive"),i=Date.prototype;r in i||e(70)(i,r,e(54))},{150:150,54:54,70:70}],177:[function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e(116)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},{116:116}],178:[function(e,t,n){var r=e(60);r(r.P,"Function",{bind:e(44)})},{44:44,60:60}],179:[function(e,t,n){"use strict";var r=e(79),i=e(103),o=e(150)("hasInstance"),a=Function.prototype;o in a||e(97).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{103:103,150:150,79:79,97:97}],180:[function(e,t,n){var r=e(97).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e(56)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{56:56,97:97}],181:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},{147:147,47:47,49:49}],182:[function(e,t,n){var r=e(60),i=e(90),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{60:60,90:90}],183:[function(e,t,n){var r=e(60),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{60:60}],184:[function(e,t,n){var r=e(60),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{60:60}],185:[function(e,t,n){var r=e(60),i=e(91);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{60:60,91:91}],186:[function(e,t,n){var r=e(60);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{60:60}],187:[function(e,t,n){var r=e(60),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{60:60}],188:[function(e,t,n){var r=e(60),i=e(88);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},{60:60,88:88}],189:[function(e,t,n){var r=e(60);r(r.S,"Math",{fround:e(89)})},{60:60,89:89}],190:[function(e,t,n){var r=e(60),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},{60:60}],191:[function(e,t,n){var r=e(60),i=Math.imul;r(r.S+r.F*e(62)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},{60:60,62:62}],192:[function(e,t,n){var r=e(60);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{60:60}],193:[function(e,t,n){var r=e(60);r(r.S,"Math",{log1p:e(90)})},{60:60,90:90}],194:[function(e,t,n){var r=e(60);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{60:60}],195:[function(e,t,n){var r=e(60);r(r.S,"Math",{sign:e(91)})},{60:60,91:91}],196:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S+r.F*e(62)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{60:60,62:62,88:88}],197:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{60:60,88:88}],198:[function(e,t,n){var r=e(60);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{60:60}],199:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(46),a=e(73),s=e(141),u=e(62),c=e(101).f,l=e(99).f,f=e(97).f,d=e(132).trim,p=r.Number,h=p,m=p.prototype,v="Number"==o(e(96)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var b,_=e(56)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;_.length>O;O++)i(h,b=_[O])&&!i(p,b)&&f(p,b,l(h,b));p.prototype=m,m.constructor=p,e(116)(r,"Number",p)}},{101:101,116:116,132:132,141:141,46:46,56:56,62:62,68:68,69:69,73:73,96:96,97:97,99:99}],200:[function(e,t,n){var r=e(60);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{60:60}],201:[function(e,t,n){var r=e(60),i=e(68).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{60:60,68:68}],202:[function(e,t,n){var r=e(60);r(r.S,"Number",{isInteger:e(78)})},{60:60,78:78}],203:[function(e,t,n){var r=e(60);r(r.S,"Number",{isNaN:function(e){return e!=e}})},{60:60}],204:[function(e,t,n){var r=e(60),i=e(78),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{60:60,78:78}],205:[function(e,t,n){var r=e(60);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{60:60}],206:[function(e,t,n){var r=e(60);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{60:60}],207:[function(e,t,n){var r=e(60),i=e(110);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{110:110,60:60}],208:[function(e,t,n){var r=e(60),i=e(111);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},{111:111,60:60}],209:[function(e,t,n){"use strict";var r=e(60),i=e(137),o=e(32),a=e(131),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(62)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),m="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=(function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t})(u*h(2,69,1))-69)<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+a.call("0",c);return v=c>0?m+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):m+v}})},{131:131,137:137,32:32,60:60,62:62}],210:[function(e,t,n){"use strict";var r=e(60),i=e(62),o=e(32),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{32:32,60:60,62:62}],211:[function(e,t,n){var r=e(60);r(r.S+r.F,"Object",{assign:e(95)})},{60:60,95:95}],212:[function(e,t,n){var r=e(60);r(r.S,"Object",{create:e(96)})},{60:60,96:96}],213:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperties:e(98)})},{56:56,60:60,98:98}],214:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperty:e(97).f})},{56:56,60:60,97:97}],215:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],216:[function(e,t,n){var r=e(138),i=e(99).f;e(107)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},{107:107,138:138,99:99}],217:[function(e,t,n){e(107)("getOwnPropertyNames",(function(){return e(100).f}))},{100:100,107:107}],218:[function(e,t,n){var r=e(140),i=e(103);e(107)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},{103:103,107:107,140:140}],219:[function(e,t,n){var r=e(79);e(107)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},{107:107,79:79}],220:[function(e,t,n){var r=e(79);e(107)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],221:[function(e,t,n){var r=e(79);e(107)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],222:[function(e,t,n){var r=e(60);r(r.S,"Object",{is:e(119)})},{119:119,60:60}],223:[function(e,t,n){var r=e(140),i=e(105);e(107)("keys",(function(){return function(e){return i(r(e))}}))},{105:105,107:107,140:140}],224:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],225:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],226:[function(e,t,n){var r=e(60);r(r.S,"Object",{setPrototypeOf:e(120).set})},{120:120,60:60}],227:[function(e,t,n){"use strict";var r=e(45),i={};i[e(150)("toStringTag")]="z",i+""!="[object z]"&&e(116)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},{116:116,150:150,45:45}],228:[function(e,t,n){var r=e(60),i=e(110);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},{110:110,60:60}],229:[function(e,t,n){var r=e(60),i=e(111);r(r.G+r.F*(parseInt!=i),{parseInt:i})},{111:111,60:60}],230:[function(e,t,n){"use strict";var r,i,o,a,s=e(87),u=e(68),c=e(52),l=e(45),f=e(60),d=e(79),p=e(31),h=e(35),m=e(66),v=e(125),g=e(134).set,y=e(93)(),b=e(94),_=e(112),O=e(146),w=e(113),E=u.TypeError,S=u.process,x=S&&S.versions,C=x&&x.v8||"",T=u.Promise,k="process"==l(S),j=function(){},P=i=b.f,R=!!(function(){try{var t=T.resolve(1),n=(t.constructor={})[e(150)("species")]=function(e){e(j,j)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof n&&0!==C.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}})(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(o=A(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){g.call(u,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_((function(){k?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=k||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,(function(){var t;k?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=A(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};R||(T=function(e){h(this,T,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(115)(T.prototype,{then:function(e,t){var n=P(v(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=P=function(e){return e===T||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!R,{Promise:T}),e(122)(T,"Promise"),e(121)("Promise"),a=e(50).Promise,f(f.S+f.F*!R,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!R),"Promise",{resolve:function(e){return w(s&&this===a?T:this,e)}}),f(f.S+f.F*!(R&&e(84)((function(e){T.all(e).catch(j)}))),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},{112:112,113:113,115:115,121:121,122:122,125:125,134:134,146:146,150:150,31:31,35:35,45:45,50:50,52:52,60:60,66:66,68:68,79:79,84:84,87:87,93:93,94:94}],231:[function(e,t,n){var r=e(60),i=e(31),o=e(36),a=(e(68).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!e(62)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},{31:31,36:36,60:60,62:62,68:68}],232:[function(e,t,n){var r=e(60),i=e(96),o=e(31),a=e(36),s=e(79),u=e(62),c=e(44),l=(e(68).Reflect||{}).construct,f=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),d=!u((function(){l((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},{31:31,36:36,44:44,60:60,62:62,68:68,79:79,96:96}],233:[function(e,t,n){var r=e(97),i=e(60),o=e(36),a=e(141);i(i.S+i.F*e(62)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},{141:141,36:36,60:60,62:62,97:97}],234:[function(e,t,n){var r=e(60),i=e(99).f,o=e(36);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{36:36,60:60,99:99}],235:[function(e,t,n){"use strict";var r=e(60),i=e(36),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e(82)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{36:36,60:60,82:82}],236:[function(e,t,n){var r=e(99),i=e(60),o=e(36);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},{36:36,60:60,99:99}],237:[function(e,t,n){var r=e(60),i=e(103),o=e(36);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{103:103,36:36,60:60}],238:[function(e,t,n){var r=e(99),i=e(103),o=e(69),a=e(60),s=e(79),u=e(36);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},{103:103,36:36,60:60,69:69,79:79,99:99}],239:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{has:function(e,t){return t in e}})},{60:60}],240:[function(e,t,n){var r=e(60),i=e(36),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},{36:36,60:60}],241:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{ownKeys:e(109)})},{109:109,60:60}],242:[function(e,t,n){var r=e(60),i=e(36),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},{36:36,60:60}],243:[function(e,t,n){var r=e(60),i=e(120);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{120:120,60:60}],244:[function(e,t,n){var r=e(97),i=e(99),o=e(103),a=e(69),s=e(60),u=e(114),c=e(36),l=e(79);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(l(d=o(t)))return e(d,n,s,p);h=u(0)}if(a(h,"value")){if(!1===h.writable||!l(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},{103:103,114:114,36:36,60:60,69:69,79:79,97:97,99:99}],245:[function(e,t,n){var r=e(68),i=e(73),o=e(97).f,a=e(101).f,s=e(80),u=e(64),c=r.RegExp,l=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(e(56)&&(!h||e(62)((function(){return p[e(150)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:f,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)m(v[g++]);f.constructor=c,c.prototype=f,e(116)(r,"RegExp",c)}e(121)("RegExp")},{101:101,116:116,121:121,150:150,56:56,62:62,64:64,68:68,73:73,80:80,97:97}],246:[function(e,t,n){"use strict";var r=e(118);e(60)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{118:118,60:60}],247:[function(e,t,n){e(56)&&"g"!=/./g.flags&&e(97).f(RegExp.prototype,"flags",{configurable:!0,get:e(64)})},{56:56,64:64,97:97}],248:[function(e,t,n){"use strict";var r=e(36),i=e(139),o=e(34),a=e(117);e(63)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=a(u,c));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:d}]}))},{117:117,139:139,34:34,36:36,63:63}],249:[function(e,t,n){"use strict";var r=e(36),i=e(140),o=e(139),a=e(137),s=e(34),u=e(117),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};e(63)("replace",2,(function(e,t,n,m){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=m(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var y=f.unicode;f.lastIndex=0}for(var b=[];;){var _=u(f,d);if(null===_)break;if(b.push(_),!g)break;""===String(_[0])&&(f.lastIndex=s(d,o(f.lastIndex),y))}for(var O="",w=0,E=0;E<b.length;E++){_=b[E];for(var S=String(_[0]),x=c(l(a(_.index),d.length),0),C=[],T=1;T<_.length;T++)C.push(h(_[T]));var k=_.groups;if(p){var j=[S].concat(C,x,d);void 0!==k&&j.push(k);var P=String(t.apply(void 0,j))}else P=v(S,d,x,C,k,t);x>=w&&(O+=d.slice(w,x)+P,w=x+S.length)}return O+d.slice(w)}];function v(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=d),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},{117:117,137:137,139:139,140:140,34:34,36:36,63:63}],250:[function(e,t,n){"use strict";var r=e(36),i=e(119),o=e(117);e(63)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},{117:117,119:119,36:36,63:63}],251:[function(e,t,n){"use strict";var r=e(80),i=e(36),o=e(125),a=e(34),s=e(139),u=e(117),c=e(118),l=e(62),f=Math.min,d=[].push,p=!l((function(){RegExp(4294967295,"y")}));e(63)("split",2,(function(e,t,n,l){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,l+"g");(o=c.call(h,i))&&!((a=h.lastIndex)>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&d.apply(u,o.slice(1)),s=o[0].length,f=a,u.length>=p));)h.lastIndex===o.index&&h.lastIndex++;return f===i.length?!s&&h.test("")||u.push(""):u.push(i.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):h.call(String(i),n,r)},function(e,t){var r=l(h,e,this,t,h!==n);if(r.done)return r.value;var c=i(e),d=String(this),m=o(c,RegExp),v=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),y=new m(p?c:"^(?:"+c.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var _=0,O=0,w=[];O<d.length;){y.lastIndex=p?O:0;var E,S=u(y,p?d:d.slice(O));if(null===S||(E=f(s(y.lastIndex+(p?0:O)),d.length))===_)O=a(d,O,v);else{if(w.push(d.slice(_,O)),w.length===b)return w;for(var x=1;x<=S.length-1;x++)if(w.push(S[x]),w.length===b)return w;O=_=E}}return w.push(d.slice(_)),w}]}))},{117:117,118:118,125:125,139:139,34:34,36:36,62:62,63:63,80:80}],252:[function(e,t,n){"use strict";e(247);var r=e(36),i=e(64),o=e(56),a=/./.toString,s=function(t){e(116)(RegExp.prototype,"toString",t,!0)};e(62)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},{116:116,247:247,36:36,56:56,62:62,64:64}],253:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},{147:147,47:47,49:49}],254:[function(e,t,n){"use strict";e(129)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},{129:129}],255:[function(e,t,n){"use strict";e(129)("big",(function(e){return function(){return e(this,"big","","")}}))},{129:129}],256:[function(e,t,n){"use strict";e(129)("blink",(function(e){return function(){return e(this,"blink","","")}}))},{129:129}],257:[function(e,t,n){"use strict";e(129)("bold",(function(e){return function(){return e(this,"b","","")}}))},{129:129}],258:[function(e,t,n){"use strict";var r=e(60),i=e(127)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{127:127,60:60}],259:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".endsWith;r(r.P+r.F*e(61)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},{128:128,139:139,60:60,61:61}],260:[function(e,t,n){"use strict";e(129)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},{129:129}],261:[function(e,t,n){"use strict";e(129)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},{129:129}],262:[function(e,t,n){"use strict";e(129)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},{129:129}],263:[function(e,t,n){var r=e(60),i=e(135),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{135:135,60:60}],264:[function(e,t,n){"use strict";var r=e(60),i=e(128);r(r.P+r.F*e(61)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{128:128,60:60,61:61}],265:[function(e,t,n){"use strict";e(129)("italics",(function(e){return function(){return e(this,"i","","")}}))},{129:129}],266:[function(e,t,n){"use strict";var r=e(127)(!0);e(83)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},{127:127,83:83}],267:[function(e,t,n){"use strict";e(129)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},{129:129}],268:[function(e,t,n){var r=e(60),i=e(138),o=e(139);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},{138:138,139:139,60:60}],269:[function(e,t,n){var r=e(60);r(r.P,"String",{repeat:e(131)})},{131:131,60:60}],270:[function(e,t,n){"use strict";e(129)("small",(function(e){return function(){return e(this,"small","","")}}))},{129:129}],271:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".startsWith;r(r.P+r.F*e(61)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},{128:128,139:139,60:60,61:61}],272:[function(e,t,n){"use strict";e(129)("strike",(function(e){return function(){return e(this,"strike","","")}}))},{129:129}],273:[function(e,t,n){"use strict";e(129)("sub",(function(e){return function(){return e(this,"sub","","")}}))},{129:129}],274:[function(e,t,n){"use strict";e(129)("sup",(function(e){return function(){return e(this,"sup","","")}}))},{129:129}],275:[function(e,t,n){"use strict";e(132)("trim",(function(e){return function(){return e(this,3)}}))},{132:132}],276:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(56),a=e(60),s=e(116),u=e(92).KEY,c=e(62),l=e(124),f=e(122),d=e(145),p=e(150),h=e(149),m=e(148),v=e(59),g=e(77),y=e(36),b=e(79),_=e(140),O=e(138),w=e(141),E=e(114),S=e(96),x=e(100),C=e(99),T=e(102),k=e(97),j=e(105),P=C.f,R=k.f,A=x.f,I=r.Symbol,D=r.JSON,M=D&&D.stringify,N=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,B=l("symbol-registry"),U=l("symbols"),z=l("op-symbols"),V=Object.prototype,H="function"==typeof I&&!!T.f,W=r.QObject,G=!W||!W.prototype||!W.prototype.findChild,$=o&&c((function(){return 7!=S(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(V,t);r&&delete V[t],R(e,t,n),r&&e!==V&&R(V,t,r)}:R,q=function(e){var t=U[e]=S(I.prototype);return t._k=e,t},Y=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},K=function(e,t,n){return e===V&&K(z,t,n),y(e),t=w(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:E(0,!1)})):(i(e,N)||R(e,N,E(1,{})),e[N][t]=!0),$(e,t,n)):R(e,t,n)},J=function(e,t){y(e);for(var n,r=v(t=O(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},X=function(e){var t=F.call(this,e=w(e,!0));return!(this===V&&i(U,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},Z=function(e,t){if(e=O(e),t=w(t,!0),e!==V||!i(U,t)||i(z,t)){var n=P(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=A(O(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==N||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=A(n?z:O(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(V,t)||o.push(U[t]);return o};H||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(z,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),$(this,e,E(1,n))};return o&&G&&$(V,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),C.f=Z,k.f=K,e(101).f=x.f=Q,e(106).f=X,T.f=ee,o&&!e(87)&&s(V,"propertyIsEnumerable",X,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=j(p.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=I(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=c((function(){T.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return T.f(_(e))}}),D&&a(a.S+a.F*(!H||c((function(){var e=I();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,M.apply(D,r)}}),I.prototype[L]||e(70)(I.prototype,L,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{100:100,101:101,102:102,105:105,106:106,114:114,116:116,122:122,124:124,138:138,140:140,141:141,145:145,148:148,149:149,150:150,36:36,56:56,59:59,60:60,62:62,68:68,69:69,70:70,77:77,79:79,87:87,92:92,96:96,97:97,99:99}],277:[function(e,t,n){"use strict";var r=e(60),i=e(144),o=e(143),a=e(36),s=e(135),u=e(139),c=e(79),l=e(68).ArrayBuffer,f=e(125),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,m=d.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*e(62)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),c=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return o}}),e(121)("ArrayBuffer")},{121:121,125:125,135:135,139:139,143:143,144:144,36:36,60:60,62:62,68:68,79:79}],278:[function(e,t,n){var r=e(60);r(r.G+r.W+r.F*!e(144).ABV,{DataView:e(143).DataView})},{143:143,144:144,60:60}],279:[function(e,t,n){e(142)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],280:[function(e,t,n){e(142)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],281:[function(e,t,n){e(142)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],282:[function(e,t,n){e(142)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],283:[function(e,t,n){e(142)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],284:[function(e,t,n){e(142)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],285:[function(e,t,n){e(142)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],286:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],287:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},{142:142}],288:[function(e,t,n){"use strict";var r,i=e(68),o=e(40)(0),a=e(116),s=e(92),u=e(95),c=e(48),l=e(79),f=e(147),d=e(147),p=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,m=Object.isExtensible,v=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=h(e);return!0===t?v(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,"WeakMap"),e,t)}},b=t.exports=e(49)("WeakMap",g,y,c,!0,!0);d&&p&&(u((r=c.getConstructor(g,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},{116:116,147:147,40:40,48:48,49:49,68:68,79:79,92:92,95:95}],289:[function(e,t,n){"use strict";var r=e(48),i=e(147);e(49)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},{147:147,48:48,49:49}],290:[function(e,t,n){"use strict";var r=e(60),i=e(65),o=e(140),a=e(139),s=e(31),u=e(43);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),e(33)("flatMap")},{139:139,140:140,31:31,33:33,43:43,60:60,65:65}],291:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("includes")},{33:33,39:39,60:60}],292:[function(e,t,n){var r=e(60),i=e(108)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{108:108,60:60}],293:[function(e,t,n){var r=e(60),i=e(109),o=e(138),a=e(99),s=e(51);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,t=c[f++]))&&s(l,t,n);return l}})},{109:109,138:138,51:51,60:60,99:99}],294:[function(e,t,n){var r=e(60),i=e(108)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{108:108,60:60}],295:[function(e,t,n){"use strict";var r=e(60),i=e(50),o=e(68),a=e(125),s=e(113);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},{113:113,125:125,50:50,60:60,68:68}],296:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{130:130,146:146,60:60}],297:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{130:130,146:146,60:60}],298:[function(e,t,n){"use strict";e(132)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},{132:132}],299:[function(e,t,n){"use strict";e(132)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},{132:132}],300:[function(e,t,n){e(148)("asyncIterator")},{148:148}],301:[function(e,t,n){for(var r=e(162),i=e(105),o=e(116),a=e(68),s=e(70),u=e(86),c=e(150),l=c("iterator"),f=c("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var v,g=h[m],y=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,g),u[g]=d,y))for(v in r)_[v]||o(_,v,r[v],!0)}},{105:105,116:116,150:150,162:162,68:68,70:70,86:86}],302:[function(e,t,n){var r=e(60),i=e(134);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{134:134,60:60}],303:[function(e,t,n){var r=e(68),i=e(60),o=e(146),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},{146:146,60:60,68:68}],304:[function(e,t,n){e(303),e(302),e(301),t.exports=e(50)},{301:301,302:302,303:303,50:50}],305:[function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=(function(e,t,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",h={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(k([])));_&&_!==n&&r.call(_,o)&&(y=_);var O=g.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return v.prototype=O.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(O),O[s]="Generator",O[o]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e})("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],306:[function(e,t,n){"use strict";e(307);var r=(function(e){return e&&e.__esModule?e:{default:e}})(e(13));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},{13:13,307:307}],307:[function(e,t,n){"use strict";e(1),e(3),e(2),e(9),e(8),e(11),e(10),e(12),e(5),e(6),e(4),e(7),e(304),e(305)},{1:1,10:10,11:11,12:12,2:2,3:3,304:304,305:305,4:4,5:5,6:6,7:7,8:8,9:9}]},{},[306])}),(function(e,t,n){"use strict";n(902),e.exports=n(144)}),(function(e,t,n){"use strict";var r=n(903),i=n(144);r({global:!0,forced:i.globalThis!==i},{globalThis:i})}),(function(e,t,n){"use strict";var r=n(144),i=n(582).f,o=n(596),a=n(920),s=n(473),u=n(927),c=n(938);e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,e)}}}),(function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r}),(function(e,t,n){"use strict";var r=n(177),i=n(201),o=n(906),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a}),(function(e,t,n){"use strict";var r=n(177),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}}),(function(e,t,n){"use strict";var r=n(470),i=n(288),o=n(589),a=n(911),s=n(914),u=n(915),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}}),(function(e,t,n){"use strict";var r=n(177);e.exports=r({}.isPrototypeOf)}),(function(e,t,n){"use strict";var r,i,o=n(144),a=n(910),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i}),(function(e,t,n){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""}),(function(e,t,n){"use strict";var r=n(912),i=n(586);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}}),(function(e,t,n){"use strict";var r=n(166),i=n(913),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}}),(function(e,t,n){"use strict";var r=String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}}),(function(e,t,n){"use strict";var r=n(470),i=n(166),o=n(288),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}}),(function(e,t,n){"use strict";var r=n(144),i=n(593),o=n(216),a=n(594),s=n(592),u=n(591),c=r.Symbol,l=i("wks"),f=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:f("Symbol."+e)),l[e]}}),(function(e,t,n){"use strict";e.exports=!1}),(function(e,t,n){"use strict";var r=n(585),i=Object;e.exports=function(e){return i(r(e))}}),(function(e,t,n){"use strict";var r=n(144),i=n(288),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}}),(function(e,t,n){"use strict";var r=n(215),i=n(201);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}),(function(e,t,n){"use strict";var r=n(166),i=n(474),o=n(921),a=n(473);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}}),(function(e,t,n){"use strict";var r=n(177),i=n(201),o=n(166),a=n(216),s=n(215),u=n(922).CONFIGURABLE,c=n(923),l=n(924),f=l.enforce,d=l.get,p=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),y=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=f(e);return a(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&d(this).source||c(this)}),"toString")}),(function(e,t,n){"use strict";var r=n(215),i=n(216),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}}),(function(e,t,n){"use strict";var r=n(177),i=n(166),o=n(472),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource}),(function(e,t,n){"use strict";var r,i,o,a=n(925),s=n(144),u=n(288),c=n(596),l=n(216),f=n(472),d=n(926),p=n(598),h=s.TypeError,m=s.WeakMap;if(a||f.state){var v=f.state||(f.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw h("Object already initialized");return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var g=d("state");p[g]=!0,r=function(e,t){if(l(e,g))throw h("Object already initialized");return t.facade=e,c(e,g,t),t},i=function(e){return l(e,g)?e[g]:{}},o=function(e){return l(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}}),(function(e,t,n){"use strict";var r=n(144),i=n(166),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))}),(function(e,t,n){"use strict";var r=n(593),i=n(594),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}}),(function(e,t,n){"use strict";var r=n(216),i=n(928),o=n(582),a=n(474);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||u(e,f,c(t,f))}}}),(function(e,t,n){"use strict";var r=n(590),i=n(177),o=n(929),a=n(937),s=n(597),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}}),(function(e,t,n){"use strict";var r=n(930),i=n(936).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}}),(function(e,t,n){"use strict";var r=n(177),i=n(216),o=n(471),a=n(931).indexOf,s=n(598),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}}),(function(e,t,n){"use strict";var r=n(471),i=n(932),o=n(934),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}}),(function(e,t,n){"use strict";var r=n(599),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}}),(function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:r)(t)}}),(function(e,t,n){"use strict";var r=n(935);e.exports=function(e){return r(e.length)}}),(function(e,t,n){"use strict";var r=n(599),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}}),(function(e,t,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),(function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols}),(function(e,t,n){"use strict";var r=n(201),i=n(166),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a}),(function(e,t){
/*! jQuery UI - v1.11.4 - 2015-06-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
!(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})((function(e){function t(t,r){var i,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:(function(){var e=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}})(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,n,i,o){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each((function(){e(this).css(i,a(this,t)+"px")}))},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each((function(){e(this).css(i,a(this,t,!0,r)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}})(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(function(t){return function(n,r){return"number"==typeof n?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),r&&r.call(t)}),n)})):t.apply(this,arguments)}})(e.fn.focus),disableSelection:(function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",(function(e){e.preventDefault()}))}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var r=0,i=Array.prototype.slice;e.cleanData=(function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(e){}t(n)}})(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,u={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(t,r){e.isFunction(r)?u[t]=(function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}})():u[t]=r})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},u,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),u=this;return a?this.each((function(){var n,i=e.data(this,r);return"instance"===o?(u=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}))),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.delegate(l,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}}));e.widget;
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */var o=!1;e(document).mouseup((function(){o=!1}));e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!(function(){e.ui=e.ui||{};var t,n,r=Math.max,i=Math.abs,o=Math.round,a=/left|center|right/,s=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,f=e.fn.position;function d(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),n=o.offsetWidth,i.css("overflow","scroll"),n===(r=o.offsetWidth)&&(r=i[0].clientWidth),i.remove(),t=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var l,h,m,v,g,y,b=e(t.of),_=e.position.getWithinInfo(t.within),O=e.position.getScrollInfo(_),w=(t.collision||"flip").split(" "),E={};return y=(function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}})(b),b[0].preventDefault&&(t.at="left top"),h=y.width,m=y.height,v=y.offset,g=e.extend({},v),e.each(["my","at"],(function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=a.test(r[0])?r.concat(["center"]):s.test(r[0])?["center"].concat(r):["center","center"]),r[0]=a.test(r[0])?r[0]:"center",r[1]=s.test(r[1])?r[1]:"center",e=u.exec(r[0]),n=u.exec(r[1]),E[this]=[e?e[0]:0,n?n[0]:0],t[this]=[c.exec(r[0])[0],c.exec(r[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=m:"center"===t.at[1]&&(g.top+=m/2),l=d(E.at,h,m),g.left+=l[0],g.top+=l[1],this.each((function(){var a,s,u=e(this),c=u.outerWidth(),f=u.outerHeight(),y=p(this,"marginLeft"),S=p(this,"marginTop"),x=c+y+p(this,"marginRight")+O.width,C=f+S+p(this,"marginBottom")+O.height,T=e.extend({},g),k=d(E.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=c:"center"===t.my[0]&&(T.left-=c/2),"bottom"===t.my[1]?T.top-=f:"center"===t.my[1]&&(T.top-=f/2),T.left+=k[0],T.top+=k[1],n||(T.left=o(T.left),T.top=o(T.top)),a={marginLeft:y,marginTop:S},e.each(["left","top"],(function(n,r){e.ui.position[w[n]]&&e.ui.position[w[n]][r](T,{targetWidth:h,targetHeight:m,elemWidth:c,elemHeight:f,collisionPosition:a,collisionWidth:x,collisionHeight:C,offset:[l[0]+k[0],l[1]+k[1]],my:t.my,at:t.at,within:_,elem:u})})),t.using&&(s=function(e){var n=v.left-T.left,o=n+h-c,a=v.top-T.top,s=a+m-f,l={target:{element:b,left:v.left,top:v.top,width:h,height:m},element:{element:u,left:T.left,top:T.top,width:c,height:f},horizontal:o<0?"left":n>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};h<c&&i(n+o)<h&&(l.horizontal="center"),m<f&&i(a+s)<m&&(l.vertical="middle"),r(i(n),i(o))>r(i(a),i(s))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,u=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?u>0&&c<=0?(n=e.left+u+t.collisionWidth-a-o,e.left+=u-n):e.left=c>0&&u<=0?o:u>c?o+a-t.collisionWidth:o:u>0?e.left+=u:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,u=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?u>0&&c<=0?(n=e.top+u+t.collisionHeight-a-o,e.top+=u-n):e.top=c>0&&u<=0?o:u>c?o+a-t.collisionHeight:o:u>0?e.top+=u:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,r,o=t.within,a=o.offset.left+o.scrollLeft,s=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,l=c-u,f=c+t.collisionWidth-s-u,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];l<0?((n=e.left+d+p+h+t.collisionWidth-s-a)<0||n<i(l))&&(e.left+=d+p+h):f>0&&((r=e.left-t.collisionPosition.marginLeft+d+p+h-u)>0||i(r)<f)&&(e.left+=d+p+h)},top:function(e,t){var n,r,o=t.within,a=o.offset.top+o.scrollTop,s=o.height,u=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,l=c-u,f=c+t.collisionHeight-s-u,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];l<0?((r=e.top+d+p+h+t.collisionHeight-s-a)<0||r<i(l))&&(e.top+=d+p+h):f>0&&((n=e.top-t.collisionPosition.marginTop+d+p+h-u)>0||i(n)<f)&&(e.top+=d+p+h)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},(function(){var t,r,i,o,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");for(a in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[a]=i[a];t.appendChild(u),(r=s||document.documentElement).insertBefore(t,r.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=e(u).offset().left,n=o>10&&o<11,t.innerHTML="",r.removeChild(t)})()})();e.ui.position;
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))}))},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,(function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,i))}))},drag:function(t,n,r){e.each(r.sortables,(function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i}))),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=o=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,r){var i,o,a,s,u,c,l,f,d,p,h=r.options,m=h.snapTolerance,v=n.offset.left,g=v+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)c=(u=r.snapElements[d].left-r.margins.left)+r.snapElements[d].width,f=(l=r.snapElements[d].top-r.margins.top)+r.snapElements[d].height,g<u-m||v>c+m||b<l-m||y>f+m||!e.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(l-b)<=m,o=Math.abs(f-y)<=m,a=Math.abs(u-g)<=m,s=Math.abs(c-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),p=i||o||a||s,"outer"!==h.snapMode&&(i=Math.abs(l-y)<=m,o=Math.abs(f-b)<=m,a=Math.abs(u-v)<=m,s=Math.abs(c-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||a||s||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,a=e.makeArray(e(o.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each((function(t){e(this).css("zIndex",i+t)})),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}});e.ui.draggable;
/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return i=!0,!1})),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=(function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,u=a+t.helperProportions.height,c=n.offset.left,l=n.offset.top,f=c+n.proportions().width,d=l+n.proportions().height;switch(r){case"fit":return c<=o&&s<=f&&l<=a&&u<=d;case"intersect":return c<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<f&&l<a+t.helperProportions.height/2&&u-t.helperProportions.height/2<d;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,c,n.proportions().width);case"touch":return(a>=l&&a<=d||u>=l&&u<=d||a<l&&u>d)&&(o>=c&&o<=f||s>=c&&s<=f||o<c&&s>f);default:return!1}}})(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===a&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(i=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===i}))).length&&((r=e(o[0]).droppable("instance")).greedyChild="isover"===s)),r&&"isover"===s&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),r&&"isout"===s&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;
/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r,i=n&&"left"===n?"scrollLeft":"scrollTop";return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,r,i,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),(i=e("<div class='ui-resizable-handle "+("ui-resizable-"+r)+"'></div>")).css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,a;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover((function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())})).mouseleave((function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,a=t.pageX-i.left||0,s=t.pageY-i.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,a,s,u,c=this.options;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=r?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-i},s=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,u=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:u,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),r&&c&&(e.left=s-t.maxWidth),a&&l&&(e.top=u-t.minHeight),i&&l&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),a=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,u={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(u,l&&c?{top:l,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,a,s,u=e(this).resizable("instance"),c=u.options,l=u.element,f=c.containment,d=f instanceof e?f.get(0):/parent/.test(f)?l.parent().get(0):f;d&&(u.containerElement=e(d),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){n[e]=u._num(t.css("padding"+r))})),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=u.containerOffset,i=u.containerSize.height,o=u.containerSize.width,a=u._hasScroll(d,"left")?d.scrollWidth:o,s=u._hasScroll(d)?d.scrollHeight:i,u.parentData={element:d,left:r.left,top:r.top,width:a,height:s}))},resize:function(t){var n,r,i,o,a=e(this).resizable("instance"),s=a.options,u=a.containerOffset,c=a.position,l=a._aspectRatio||t.shiftKey,f={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(f=u),c.left<(a._helper?u.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-u.left:a.position.left-f.left),l&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?u.left:0),c.top<(a._helper?u.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-u.top:a.position.top),l&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?u.top:0),i=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),i&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-f.left:a.offset.left-u.left)),r=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-f.top:a.offset.top-u.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,l&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,l&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),u=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,a=r.originalPosition,s={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0};e(i.alsoResize).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(i[t]=n||null)})),t.css(i)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,u="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=u[0]||1,l=u[1]||1,f=Math.round((i.width-o.width)/c)*c,d=Math.round((i.height-o.height)/l)*l,p=o.width+f,h=o.height+d,m=r.maxWidth&&r.maxWidth<p,v=r.maxHeight&&r.maxHeight<h,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>h;r.grid=u,g&&(p+=c),y&&(h+=l),m&&(p-=c),v&&(h-=l),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=h):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=h,n.position.top=a.top-d):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=h,n.position.left=a.left-f):((h-l<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),h-l>0?(n.size.height=h,n.position.top=a.top-d):(h=l-t.height,n.size.height=h,n.position.top=a.top+o.height-h),p-c>0?(n.size.width=p,n.position.left=a.left-f):(p=c-t.width,n.size.width=p,n.position.left=a.left+o.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))})),e(t.target).parents().addBack().each((function(){var r,i=e.data(this,"selectable-item");if(i)return r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,u=t.pageY;return o>s&&(n=s,s=o,o=n),a>u&&(n=u,u=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?c=!(n.left>s||n.right<o||n.top>u||n.bottom<a):"fit"===i.tolerance&&(c=n.left>o&&n.right<s&&n.top>a&&n.bottom<u),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})})),e(".ui-selecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,u=s+e.height,c=this.offset.click.top,l=this.offset.click.left,f="x"===this.options.axis||r+c>s&&r+c<u,d="y"===this.options.axis||t+l>o&&t+l<a,p=f&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<u},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!r&&(this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,a=[],s=[],u=this._connectWith();if(u&&t)for(n=u.length-1;n>=0;n--)for(r=(i=e(u[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){a.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,a,s,u,c,l=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=(i=e(d[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(f.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(a=f[n][1],r=0,c=(s=f[n][0]).length;r<c;r++)(u=e(s[r])).data(this.widgetName+"-item",a),l.push({item:u,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){n&&!r.forcePlaceholderSize||(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each((function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,r,i,o,a,s,u,c,l,f,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,o=null,a=(l=d.floating||this._isFloating(this.currentItem))?"left":"top",s=l?"width":"height",f=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(u=this.items[r].item.offset()[a],c=!1,t[f]-u>this.items[r][s]/2&&(c=!0),Math.abs(t[f]-u)<i&&(i=Math.abs(t[f]-u),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===r?o=!0:i=r+i,n=this._filterMenuItems(i),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):i+s>a&&this.activeMenu.scrollTop(o+i-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r-i<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,r,i;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r+i>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return r.test(e.trim(e(this).text()))}))}})
/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */;
/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),o="textarea"===i,a="input"===i;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",i);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case o.UP:t=!0,this._keyEvent("previous",i);break;case o.DOWN:t=!0,this._keyEvent("next",i);break;case o.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case o.TAB:this.menu.active&&this.menu.select(i);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()}))}))},menufocus:function(t,n){var r,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(r=n.item.attr("aria-label")||i.value)&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||r)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,(function(e,n){r._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return r.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});e.ui.autocomplete;
/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */var a,s="ui-button ui-widget ui-state-default ui-corner-all",u="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter((function(){return!this.form}))),i};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){n.disabled||this===a&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){n.disabled||e(this).removeClass(i)})).bind("click"+this.eventNamespace,(function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];l(r).not(r).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),a=this,t.document.one("mouseup",(function(){a=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(n.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+u).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?l(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(u),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var f;
/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */e.ui.button;function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=p(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",h)}function h(){e.datepicker._isDisabledDatepicker(f.inline?f.dpDiv.parent()[0]:f.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function m(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}}),e.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return m(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;i="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),i)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(r=this._get(n,"showOn"))&&"both"!==r||t.focus(this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[s?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,o){var a,s,u,c,l,f=this._dialogInst;return f||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(f=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",f)),m(f.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(f,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(s=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,u/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),f===i&&(f=null))},_enableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,o,a,s,u=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null;i=n||{},"string"==typeof n&&((i={})[n]=r),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),s=this._getMinMaxDate(u,"max"),m(u.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(n=e.datepicker._get(o,"onSelect"))?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,i,o,a,s,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(m(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))})),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",(function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0})(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),u):n.dpDiv[s||"show"](s?u:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,f=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&h.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>u&&u>i?Math.abs(n.left+i-u):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,r,i,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),r=this._get(a,"duration"),i=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),r,i):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===r?this._get(o,"showCurrentAtPos"):0),r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,a=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(o).each((function(){e(this).val(i)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,o,a,s,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),f=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,d=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,h=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,g=-1,y=-1,b=!1,_=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},O=function(e){var t=_(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?r:1)+","+r+"}"),o=n.substring(u).match(i);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},w=function(t,r,i){var o=-1,a=e.map(_(t)?i:r,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return o=t[0],u+=r.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+u},E=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(b)"'"!==t.charAt(i)||_("'")?E():b=!1;else switch(t.charAt(i)){case"d":g=O("d");break;case"D":w("D",f,d);break;case"o":y=O("o");break;case"m":v=O("m");break;case"M":v=w("M",p,h);break;case"y":m=O("y");break;case"@":m=(s=new Date(O("@"))).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"!":m=(s=new Date((O("!")-this._ticksTo1970)/1e4)).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"'":_("'")?E():b=!0;break;default:E()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=l?0:-100)),y>-1)for(v=1,g=y;;){if(g<=(o=this._getDaysInMonth(m,v-1)))break;v++,g-=o}if((s=this._daylightSavingAdjust(new Date(m,v-1,g))).getFullYear()!==m||s.getMonth()+1!==v||s.getDate()!==g)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(u(e))for(;r.length<n;)r="0"+r;return r},l=function(e,t,n,r){return u(e)?r[t]:n[t]},f="",d=!1;if(t)for(r=0;r<e.length;r++)if(d)"'"!==e.charAt(r)||u("'")?f+=e.charAt(r):d=!1;else switch(e.charAt(r)){case"d":f+=c("d",t.getDate(),2);break;case"D":f+=l("D",t.getDay(),i,o);break;case"o":f+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",t.getMonth()+1,2);break;case"M":f+=l("M",t.getMonth(),a,s);break;case"y":f+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":f+=t.getTime();break;case"!":f+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?f+="'":d=!0;break;default:f+=e.charAt(r)}return f},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,a=this._getFormatConfig(e);try{o=this.parseDate(n,r,a)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?(function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o))}u=s.exec(n)}return new Date(i,o,a)})(n):"number"==typeof n?isNaN(n)?r:(function(e){var t=new Date;return t.setDate(t.getDate()+e),t})(n):new Date(n.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,r,i,o,a,s,u,c,l,f,d,p,h,m,v,g,y,b,_,O,w,E,S,x,C,T,k,j,P,R,A,I,D,M,N,L,F,B,U=new Date,z=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),V=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),G=this._get(e,"navigationAsDateFormat"),$=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==$[0]||1!==$[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-q,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-$[0]*$[1]+1,Z.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=G?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-Y,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=G?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q+Y,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?J:z,a=G?this.formatDate(a,s,this._getFormatConfig(e)):a,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?u:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,f=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),h=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;w<$[0];w++){for(E="",this.maxRows=4,S=0;S<$[1];S++){if(x=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),C=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",$[1]>1)switch(S){case 0:T+=" ui-datepicker-group-first",C=" ui-corner-"+(V?"right":"left");break;case $[1]-1:T+=" ui-datepicker-group-last",C=" ui-corner-"+(V?"left":"right");break;default:T+=" ui-datepicker-group-middle",C=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===w?V?o:r:"")+(/all|right/.test(C)&&0===w?V?r:o:"")+this._generateMonthYearHeader(e,Q,ee,X,Z,w>0||S>0,h,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",k=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",O=0;O<7;O++)j=(O+l)%7,k+="<th scope='col'"+((O+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[j]+"'>"+p[j]+"</span></th>";for(T+=k+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),R=(this._getFirstDayOfMonth(ee,Q)-l+7)%7,A=Math.ceil((R+P)/7),I=K&&this.maxRows>A?this.maxRows:A,this.maxRows=I,D=this._daylightSavingAdjust(new Date(ee,Q,1-R)),M=0;M<I;M++){for(T+="<tr>",N=f?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(D)+"</td>":"",O=0;O<7;O++)L=v?v.apply(e.input?e.input[0]:null,[D]):[!0,""],B=(F=D.getMonth()!==Q)&&!y||!L[0]||X&&D<X||Z&&D>Z,N+="<td class='"+((O+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(D.getTime()===x.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===D.getTime()&&b.getTime()===x.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+L[1]+(D.getTime()===J.getTime()?" "+this._currentClass:"")+(D.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":B?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===z.getTime()?" ui-state-highlight":"")+(D.getTime()===J.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);T+=N+"</tr>"}++Q>11&&(Q=0,ee++),E+=T+="</tbody></table>"+(K?"</div>"+($[0]>0&&S===$[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=E}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var u,c,l,f,d,p,h,m,v=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!v)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(u=r&&r.getFullYear()===n,c=i&&i.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;l<12;l++)(!u||l>=r.getMonth())&&(!c||l<=i.getMonth())&&(_+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+s[l]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&v&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),h=(p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(f[0]),m=Math.max(h,p(f[1]||"")),h=r?Math.max(h,r.getFullYear()):h,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h<=m;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&v&&g?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(n=u.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new d,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,(function(){r._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){i.focus()})),t.preventDefault()):(this._delay((function(){r.focus()})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,(function(n,r){var i,o;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},o={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(o).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function r(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,o){var a=o.offset.left-t.document.scrollLeft(),s=o.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:t.window},e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",i,r(o))}})},_makeResizable:function(){var t=this,n=this.options,r=n.resizable,i=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,a(r))},resize:function(e,n){t._trigger("resize",e,a(n))},stop:function(r,i){var o=t.uiDialog.offset(),s=o.left-t.document.scrollLeft(),u=o.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(u>=0?"+":"")+u,of:t.window},e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,a(i))}}).css("position",i)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,a,s,u,c=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(r-c.values(t));(i>n||i===n&&(t===c._lastChangedValue||c.values(t)===l.min))&&(i=n,o=e(this),a=t)})),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,o;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>r||1===t&&n<r)&&(n=r),n!==this.values(t)&&((i=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,i,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,o,a=this.options.range,s=this.options,u=this,c=!this._animateOff&&s.animate,l={};this.options.values&&this.options.values.length?this.handles.each((function(r){n=(u.values(r)-u._valueMin())/(u._valueMax()-u._valueMin())*100,l["horizontal"===u.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](l,s.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===r&&u.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===r&&u.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](l,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})
/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */;
/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function v(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function r(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,r.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return n=e-(t=null!==r.min?r.min:0),e=t+(n=Math.round(n/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:v((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:v((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:v((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:v((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:v((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());v(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var e=/#.*$/;return function(t){var n,r;n=(t=t.cloneNode(!1)).href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return t.hash.length>1&&n===r}})(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each((function(n,i){if(e(i).attr("aria-controls")===r)return t=n,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",r)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){var r=this.tabs.length-1;for(;-1!==e.inArray((t>r&&(t=0),t<0&&(t=r),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,r){var i,o,a,s=e(r).uniqueId().attr("id"),u=e(r).closest("li"),c=u.attr("aria-controls");t._isLocal(r)?(a=(i=r.hash).substring(1),o=t.element.find(t._sanitizeSelector(i))):(i="#"+(a=u.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(i)).length||(o=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)!0===t||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget).closest("li"),o=i[0]===r[0],a=o&&n.collapsible,s=a?e():this._getPanelForTab(i),u=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:u,newTab:a?e():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.tabs.index(i),this.active=o?e():i,this.xhr&&this.xhr.abort(),u.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,c))},_toggle:function(t,n){var r=this,i=n.newPanel,o=n.oldPanel;function a(){r.running=!1,r._trigger("activate",t,n)}function s(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,a):(i.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&o.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),s={tab:i,panel:a},u=function(e,t){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(e,t,i){setTimeout((function(){a.html(e),r._trigger("load",n,s),u(i,t)}),1)})).fail((function(e,t){setTimeout((function(){u(e,t)}),1)}))))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,o){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;if("disabled"===t)return this[n?"_disable":"_enable"](),void(this.options[t]=n);this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){r._updateContent(t.element)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each((function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))})),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,o=t?t.type:null;if("string"==typeof r)return this._open(t,e,r);(n=r.call(e[0],(function(n){i._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))}))})))&&this._open(t,e,n)},_open:function(t,n,r){var i,o,a,s,u=e.extend({},this.options.position);function c(e){u.of=e,o.is(":hidden")||o.position(u)}r&&((i=this._find(n))?i.tooltip.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),i=this._tooltip(n),o=i.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(s=r.clone()).removeAttr("id").find("[id]").removeAttr("id"):s=r,e("<div>").html(s).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(c(u.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),o=this._find(i);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){r._removeTooltip(e(this))})),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]})),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur"),o=r.element;i.target=i.currentTarget=o[0],t.close(i,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})
/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */;var g=e;e.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(e,t){var n,r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},c=e("<p>")[0],l=e.each;function f(e,t,n){var r=s[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(t){var r=o(),s=r._rgba=[];return t=t.toLowerCase(),l(i,(function(e,n){var i,o=n.re.exec(t),u=o&&n.parse(o),c=n.space||"rgba";if(u)return i=r[c](u),r[a[c].cache]=i[a[c].cache],s=r._rgba=i._rgba,!1})),s.length?("0,0,0,0"===s.join()&&e.extend(s,n.transparent),r):n[t]}function p(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=c.style.backgroundColor.indexOf("rgba")>-1,l(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),o.fn=e.extend(o.prototype,{parse:function(t,r,i,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var u=this,c=e.type(t),p=this._rgba=[];return void 0!==r&&(t=[t,r,i,s],c="array"),"string"===c?this.parse(d(t)||n._default):"array"===c?(l(a.rgba.props,(function(e,n){p[n.idx]=f(t[n.idx],n)})),this):"object"===c?(l(a,t instanceof o?function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}:function(n,r){var i=r.cache;l(r.props,(function(e,n){if(!u[i]&&r.to){if("alpha"===e||null==t[e])return;u[i]=r.to(u._rgba)}u[i][n.idx]=f(t[e],n,!0)})),u[i]&&e.inArray(null,u[i].slice(0,3))<0&&(u[i][3]=1,r.from&&(u._rgba=r.from(u[i])))}),this):void 0},is:function(e){var t=o(e),n=!0,r=this;return l(a,(function(e,i){var o,a=t[i.cache];return a&&(o=r[i.cache]||i.to&&i.to(r._rgba)||[],l(i.props,(function(e,t){if(null!=a[t.idx])return n=a[t.idx]===o[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return l(a,(function(n,r){t[r.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=a[r],u=0===this.alpha()?o("transparent"):this,c=u[i.cache]||i.to(u._rgba),d=c.slice();return n=n[i.cache],l(i.props,(function(e,r){var i=r.idx,o=c[i],a=n[i],u=s[r.type]||{};null!==a&&(null===o?d[i]=a:(u.mod&&(a-o>u.mod/2?o+=u.mod:o-a>u.mod/2&&(o-=u.mod)),d[i]=f((a-o)*t+o,r)))})),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=o(t)._rgba;return o(e.map(n,(function(e,t){return(1-r)*i[t]+r*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,i,o),u=Math.min(r,i,o),c=s-u,l=s+u,f=.5*l;return t=u===s?0:r===s?60*(i-o)/c+360:i===s?60*(o-r)/c+120:60*(r-i)/c+240,n=0===c?0:f<=.5?c/l:c/(2-l),[Math.round(t)%360,n,f,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;return[Math.round(255*p(a,o,t+1/3)),Math.round(255*p(a,o,t)),Math.round(255*p(a,o,t-1/3)),i]},l(a,(function(t,n){var i=n.props,a=n.cache,s=n.to,u=n.from;o.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var n,r=e.type(t),c="array"===r||"object"===r?t:arguments,d=this[a].slice();return l(i,(function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=f(n,t)})),u?((n=o(u(d)))[a]=d,n):o(d)},l(i,(function(n,i){o.fn[n]||(o.fn[n]=function(o){var a,s=e.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[u](),l=c[i.idx];return"undefined"===s?l:("function"===s&&(o=o.call(this,l),s=e.type(o)),null==o&&i.empty?this:("string"===s&&(a=r.exec(o))&&(o=l+parseFloat(a[2])*("+"===a[1]?1:-1)),c[i.idx]=o,this[u](c)))})}))})),o.hook=function(t){var n=t.split(" ");l(n,(function(t,n){e.cssHooks[n]={set:function(t,r){var i,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(i=d(r)))){if(r=o(i||r),!u.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return l(["Top","Right","Bottom","Left"],(function(n,r){t["border"+r+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(g),(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)"string"==typeof i[n=i[r]]&&(o[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,o,a,s){var u=e.speed(o,a,s);return this.queue((function(){var o,a=e(this),s=a.attr("class")||"",c=u.children?a.find("*").addBack():a;c=c.map((function(){return{el:e(this),start:r(this)}})),(o=function(){e.each(t,(function(e,t){i[t]&&a[t+"Class"](i[t])}))})(),c=c.map((function(){return this.end=r(this.el[0]),this.diff=(function(t,r){var i,o,a={};for(i in r)o=r[i],t[i]!==o&&(n[i]||!e.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a})(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),r=e.extend({},u,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()})),e.when.apply(e,c.get()).done((function(){o(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),u.complete.call(a[0])}))}))},e.fn.extend({addClass:(function(t){return function(n,r,i,o){return r?e.effects.animateClass.call(this,{add:n},r,i,o):t.apply(this,arguments)}})(e.fn.addClass),removeClass:(function(t){return function(n,r,i,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,o):t.apply(this,arguments)}})(e.fn.removeClass),toggleClass:(function(t){return function(n,r,i,o,a){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,o)}})(e.fn.toggleClass),switchClass:function(t,n,r,i,o){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,o)}})})(),(function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;r<t.length;r++)null!==t[r]&&(void 0===(n=e.data("ui-effects-"+t[r]))&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,(function(e,n){var o=t.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])})),i}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),r=n.mode,i=n.queue,o=e.effects.effect[n.effect];if(e.fx.off||!o)return r?this[r](n.duration,n.complete):this.each((function(){n.complete&&n.complete.call(this)}));function a(t){var r=e(this),i=n.complete,a=n.mode;function s(){e.isFunction(i)&&i.call(r[0]),e.isFunction(t)&&t()}(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),s()):o.call(r[0],n,s)}return!1===i?this.each(a):this.queue(i||"fx",a)},show:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}})(e.fn.show),hide:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}})(e.fn.hide),toggle:(function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}})(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])})),r}})})(),(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,n){t[n]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}}))})();e.effects}))}),(function(e,t,n){!(function(e){function t(e){for(var t=Array.prototype.slice.call(arguments,1),r={},i=0,o=t.length;i<o;i++){n(e,r,t[i])}return r}function n(e,t,r){for(var i in r){var o=r[i],a=t[i];e&&t==o||(e&&"object"==typeof o&&a?n(e,a,o):void 0!=o&&(t[i]=r[i]))}return t}e.externals["_nb-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!1,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-deep-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!0,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-wrap"]=function(e,t){var n={};return t&&t.length&&(n[e]=1==t.length?t[0].data:(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o&&o[t];a&&n.push(a)}return n})(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]},e.externals["_nb-uniq"]=(function(){var e=0;return function(){return e++}})(),e.externals["_nb-warn"]=function(e){console.log("%c"+e,"color:#ffcc00")}})("undefined"==typeof yr?n(541):yr)}),(function(e,t,n){(function(e,t){!(function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:(function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}})()?(function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}})():e.MessageChannel?(function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}})():s&&"onreadystatechange"in s.createElement("script")?(function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}})():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!(function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}})(t)}finally{c(e),a=!1}}}}})("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(131),n(289))}),(function(e,t){Vow.Promise.prototype.__reject=Vow.Promise.prototype.reject,Vow.Promise.prototype.reject=function(e){e instanceof Error&&ns.log.exception("promise.exception",e),this.__reject(e)}}),(function(e,t,n){var r=r||n(408);r.de&&(n(600),e.exports=r),(function(){function e(e){this.data=e}function t(t,r){if(r instanceof e)return n(r,t.scalar());for(var i=r.nodes,o=t.scalar(),a=0;a<i.length;a++)if(o==i[a].scalar())return!0;return!1}function n(t,n){var r=t.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(new e(r[i]).scalar()==n)return!0;return!1}return t.scalar()==n}function i(){this.nodes=[]}e.prototype.empty=new i,e.prototype.isEmpty=function(){return!1},e.prototype.nametest=function(t,n){var r=this.data;if(!r)return this.empty;if(Array.isArray(r)){n||(n=new i);for(var o=0;o<r.length;o++)new e(r[o]).nametest(t,n);return n}var a=r[t];if(void 0===a)return this.empty;var s=new e(a);return n?n.push(s):s},e.prototype.startest=function(t){t||(t=new i);var n=this.data;if(Array.isArray(n))for(var r=0;r<n.length;r++)new e(n[r]).startest(t);else for(var o in n)this.nametest(o,t);return t},e.prototype.pred=function(t,n,r,o){var a=this.data;if(Array.isArray(a)){for(var s=new i,u=0;u<a.length;u++){var c=new e(a[u]);t(c,n,r,o)&&s.push(c)}return s}return t(this,n,r,o)?this:this.empty},e.prototype.index=function(t,n,r,i){var o=this.data;if(Array.isArray(o)){var a=o[t(this,n,r,i)];return void 0!==a?new e(a).toNodeset():this.empty}return 0===t?this:this.empty},e.prototype.toArray=function(){return[this.data]},e.prototype.toNodeset=function(){return(new i).push(this)},e.prototype.scalar=function(){var e=this.data;return"object"==typeof e?"":e},e.prototype.boolean=function(){var e=this.data;return Array.isArray(e)?e.length>0:!!e},e.prototype.cmpN=function(n){var r=this.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(t(new e(r[i]),n))return!0;return!1}return t(this,n)},e.prototype.cmpS=function(e){return n(this,e)},i.prototype.empty=e.prototype.empty,i.prototype.isEmpty=function(){return!this.nodes.length},i.prototype.push=function(e){return this.nodes.push(e),this},i.prototype.nametest=function(e,t){var n=this.nodes;t||(t=new i);for(var r=0;r<n.length;r++)n[r].nametest(e,t);return t},i.prototype.startest=function(e){var t=this.nodes;e||(e=new i);for(var n=0;n<t.length;n++)t[n].startest(e);return e},i.prototype.pred=function(e,t,n,r){for(var o=this.nodes,a=new i,s=0;s<o.length;s++){var u=o[s];e(u,t,n,r)&&a.push(u)}return a},i.prototype.index=function(e){var t=this.nodes[e];return void 0!==t?(new i).push(t):this.empty},i.prototype.toArray=function(){for(var e=[],t=this.nodes,n=0;n<t.length;n++)e.push(t[n].data);return e},i.prototype.scalar=function(){var e=this.nodes;return e.length?e[0].scalar():""},i.prototype.boolean=function(){var e=this.nodes;return!!e.length&&e[0].boolean()},i.prototype.cmpN=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpN(e))return!0;return!1},i.prototype.cmpS=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpS(e))return!0;return!1},r.JNode=e,r.JNodeset=i;var o="scalar",a="nodeset",s="boolean",u={"*":6,"/":6,"%":6,"+":5,"-":5,"<=":4,">=":4,"<":4,">":4,"==":3,"!=":3,"&&":2,"||":1},c={SELF:/^\.(?![a-zA-Z_*.[])/,ROOT:/^\/(?![.[])/,BINOP:/^(?:\+|-|\*|\/|%|==|!=|<=|>=|<|>|&&|\|\|)/,UNOP:/^(?:\+|-|!)/,DIGIT:/^[0-9]/,ID:/^[a-zA-Z_][a-zA-Z0-9-_]*/,NUMBER:/^[0-9]+(?:\.[0-9]+)?/,CHARS:/^[^"{}\\]+/},l={expr:function(){var e,t=[],n=[this.parse("unary")];this.skip();for(var r=0;e=this.test("BINOP");){this.move(e.length),this.skip();var i=u[e];i<=r&&a(i),t.unshift(e),n.unshift(this.parse("unary")),this.skip(),r=i}return a(0),n[0];function a(e){for(var r,i,a;(r=t[0])&&u[r]>=e;)a=n.shift(),i=n.shift(),n.unshift({_id:"binop",_type:"+-*/%".indexOf(r)>-1?o:s,_local:i._local||a._local,op:t.shift(),left:i,right:a})}},unary:function(){var e;if(e=this.test("UNOP")){this.move();var t=this.parse("unary");return{_id:"unop",_type:"!"===e?s:o,_local:t._local,op:e,expr:t}}return this.parse("primary")},primary:function(){switch(this.la()){case'"':return this.parse("string");case".":case"/":return this.parse("jpath");case"(":return this.parse("subexpr")}if(this.test("DIGIT"))return{_id:"number",_type:o,value:this.match("NUMBER")};var e=this.match("ID");if(this.test("."))return{_id:"filter",_type:a,name:e,jpath:this.parse("jpath")};if(this.test("(")){this.move(),this.skip();var t=[];if(!this.test(")"))for(t.push(this.parse("expr")),this.skip();this.test(",");)this.move(),this.skip(),t.push(this.parse("expr")),this.skip();return this.match(")"),{_id:"func",_type:o,name:e,args:t}}return{_id:"var",_type:a,name:e}},subexpr:function(){this.move(),this.skip();var e=this.parse("expr");return this.skip(),this.match(")"),{_id:"subexpr",_type:e._type,_local:e._local,expr:e}},jpath:function(){if(this.test("SELF"))return this.move(),{_id:"self",_type:a,_local:!0};if(this.test("ROOT"))return this.move(),{_id:"root",_type:a};var e;this.test("/")&&(this.move(),e=!0);for(var t=[];;){var n=this.la();if("."===n)t.push(this.parse("step"));else{if("["!==n)break;var r=this.parse("pred");"guard"===r._id?t.unshift(r):t.push(r)}}return{_id:"jpath",_type:a,_local:!e,abs:e,steps:t}},step:function(){this.move();var e=this.la();return"["===e?this.parse("pred"):"*"===e?(this.move(),{_id:"star"}):{_id:"nametest",nametest:this.match("ID")}},pred:function(){this.move(),this.skip();var e=this.parse("expr");this.skip(),this.match("]");var t="index";return e._local?t="pred":e._type===s&&(t="guard"),{_id:t,expr:e}},string:function(){this.match('"');var e=this.parse("string_content");return this.match('"'),e}},f={"{{":"{","}}":"}",'\\"':'"',"\\\\":"\\"};l.string_content=function(){for(var e,t=[],n="";this.s;)if(e=f[this.la(2)])n+=e,this.move(2);else{if('"'===(e=this.la()))break;"\\"===e?(n+=e,this.move()):"{"===e?(r(),this.move(),this.skip(),t.push(this.parse("expr")),this.skip(),this.match("}")):n+=this.match("CHARS")}return r(),t.length||t.push(i("")),{_id:"string",_type:o,value:t};function r(){n&&(t.push(i(n)),n="")}function i(e){return{_id:"string_literal",_type:o,value:e}}};var d=new r.Parser(l,c),p={};function h(e,t){var n=e+"::"+t,i=p[n];return i||(i=p[n]=(function(e){for(var t=[],n="jpath"===e._id?v(e,t):m(e,t),i="",o=0;o<=n;o++)i+="function t"+o+"(node, root, vars, funcs) {\n"+t[o]+"\n}\n\n";return i+="return function(data, vars, funcs) {\nvar node = new no.JNode(data);\nreturn t"+n+"(node, node, vars, funcs);\n}\n",Function("no",i)(r)})(d.start(e,t))),i}function m(e,t){var n="return ("+g(e,t)+");";return t.push(n)-1}function v(e,t){var n="";e.abs&&(n+="node = root;\n");for(var r=e.steps,i=0,a=r.length;i<a;i++){var u=r[i],c=u._id;switch(c){case"nametest":n+='node = node.nametest("'+u.nametest+'");\n';break;case"star":n+="node = node.startest();\n";break;case"pred":case"index":u.expr._as="pred"===c?s:o,n+="node = node."+c+"(t"+m(u.expr,t)+", root, vars, funcs);\n";break;case"guard":n+="if (!("+g(u.expr,t)+")) { return node.empty; }\n"}"guard"!==c&&(n+="if (node.isEmpty()) { return node.empty; }\n")}return n+="return node;",t.push(n)-1}function g(e,t){var n;switch(e._id){case"root":n="root";break;case"self":n="node";break;case"number":n=e.value;break;case"string_literal":n=JSON.stringify(e.value);break;case"string":n="("+e.value.map((function(e){return e._as=o,g(e,t)})).join(" + ")+")";break;case"var":n='(new no.JNode(vars["'+e.name+'"]))';break;case"func":n='funcs["'+e.name+'"](';for(var r=0,i=e.args.length;r<i;r++){var u=e.args[r];u._as=o,n+=r?",":"",n+=g(u,t)}n+=")";break;case"unop":e.expr._as="!"===e.op?s:o,n=e.op+"("+g(e.expr,t)+")";break;case"binop":i=e.left;var c,l=e.right,f=i._type,d=l._type,p=e.op;switch(p){case"&&":case"||":c=f===s&&d===s?s:o;break;case"==":case"!=":f===d||f!==s&&d!==s||(c=s);break;default:c=o}c&&(i._as=l._as=c);var h=g(i,t),m=g(l,t);if("=="===p||"!="===p){if(f===a||d===a){if(f===o){var y=m;m=h,h=y}n="("+h+").cmp"+(f===d?"N":"S")+"("+m+")"}n&&"!="===p&&(n="!("+n+")")}void 0===n&&(n="("+h+" "+e.op+" "+m+")");break;case"subexpr":n="("+g(e.expr,t)+")";break;case"jpath":n="t"+v(e,t)+"(node, root, vars, funcs)";break;case"filter":n="t"+v(e.jpath,t)+'(new no.JNode(vars["'+e.name+'"]), root, vars, funcs)'}return e._as&&e._as!==e._type&&(e._type===a?n="("+n+")."+e._as+"()":e._type===o&&(n="!!("+n+")")),n}r.jpath=function(e,t,n,i){return r.jpath.toScalar(r.jpath.expr(e)(t,n,i))},r.jpath.raw=function(e,t,n,i){return r.jpath.expr(e)(t,n,i)},r.jpath.scalar=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toScalar(t(e,n,i))}},r.jpath.boolean=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toBoolean(t(e,n,i))}},r.jpath.string=function(e){return h(e,"string_content")},r.jpath.expr=function(e){var t=typeof e;return"string"===t?h(e,"expr"):e&&"object"===t?Array.isArray(e)?(function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(r.jpath.expr(e[i]));return function(e,i,o){for(var a=[],s=0;s<n;s++)a.push(r.jpath.toScalar(t[s](e,i,o)));return a}})(e):(function(e){var t={};for(var n in e)t[n]=r.jpath.expr(e[n]);return function(e,n,i){var o={};for(var a in t)o[a]=r.jpath.toScalar(t[a](e,n,i));return o}})(e):function(){return e}},r.jpath.toScalar=function(t){return t instanceof e?t.data:t instanceof i?t.isEmpty()?void 0:t.toArray():t},r.jpath.toBoolean=function(t){return t instanceof e||t instanceof i?t.boolean():t};var y={};r.jpath.set=function(e,t,n){return(y[e]||(y[e]=(function(e){for(var t=e.split("."),n=1,r=t.length-1,i="var r = data; var t;";n<r;n++)i+='t = r["'+t[n]+'"];',i+='if (t == null) { t = r["'+t[n]+'"] = {}; }',i+="r = t;";return i+='r["'+t[n]+'"] = value;',i+="return data;",new Function("data","value",i)})(e)))(t,n)}})()}),(function(e,t,n){var r=n(945);window.ns=r,n(946),n(947),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956),n(957),n(958),n(959),n(960),n(961),n(962),n(963),n(964),n(965),n(966),n(967),n(968),n(969),n(970)}),(function(e,t){var n={todo:function(){throw new Error("Unimplemented")},parseQuery:function(e){var t={};return e.split("&").forEach((function(r){var i=r.split("="),o=i.shift();if(o){var a=i.join("=");if(void 0===a)a="";else try{a=decodeURIComponent(a)}catch(t){a="",n.log.info("ns.parseQuery.invalid-param",{query:e,chunk:r})}o in t?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(a)):t[o]=a}})),t},renderString:function(e,t,n){return yr.run(n||"main",e,t)},renderNode:function(e,t,r){var i=n.html2node(n.renderString(e,t,r));return i?i.firstChild:null},init:function(){n.action.init(),n.router.init(),n.history.init(),n.initMainView()},initMainView:function(){var e=n.View.create("app");e._setNode(document.getElementById("app")),e.invalidate(),n.MAIN_VIEW=e},assert:function(e,t,r){e||n.assert.fail.apply(this,Array.prototype.slice.call(arguments,1))}};n.assert.fail=function(e,t){for(var n=Array.prototype.slice.call(arguments,2),r=0;r<n.length;r++)t=t.replace("%s",n[r]);throw new Error("["+e+"] "+t)},n.key=function(e,t){var n=e;for(var r in t=t||{})n+="&"+r+"="+encodeURIComponent(t[r]);return n},n.params2query=function(e){var t,n,r=[];for(t in e)if(n=e[t],Array.isArray(n))for(var i=0;i<n.length;i++)r.push(encodeURIComponent(t)+"="+encodeURIComponent(n[i]));else r.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return r.join("&")},n.reset=function(){n.action&&n.action._reset(),n.router._reset(),n.layout._reset(),n.Model._reset(),n.View._reset(),n.request._reset(),n.page._reset(),n.page.history.reset(),n.MAIN_VIEW=null},e.exports=n}),(function(e,t){ns.VERSION="0.8.12"}),(function(e,t){ns.L={},ns.L.VIEW="view",ns.L.ASYNC="async",ns.L.BOX="box",ns.V={},ns.V.STATUS={NONE:"none",LOADING:"loading",OK:"ok",INVALID:"invalid"},ns.M={},ns.M.STATUS={ERROR:"error",INITED:"inited",NONE:"none",OK:"ok",INVALID:"invalid"},ns.R={NOT_APP_URL:"ns-router-not-app",NOT_FOUND:"not-found",REDIRECT:"ns-router-redirect"},ns.U={},ns.U.STATUS={MODELS:"models",EXPIRED:"expired"},ns.U.EXEC={GLOBAL:"global",ASYNC:"async",PARALLEL:"parallel"},ns.DEBUG=!1,ns.H={DEFAULTS:{dataType:"json",type:"POST"}}}),(function(e,t){ns.V.EVENTS={click:"click",dblclick:"dblclick",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"},ns.V.DOM_EVENTS=["blur","change","input","click","dblclick","dragstart","dragenter","dragover","dragleave","drag","drop","dragend","focus","focusin","focusout","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","submit"],ns.V.NS_EVENTS=["ns-view-async","ns-view-destroyed","ns-view-init","ns-view-htmlinit","ns-view-show","ns-view-touch","ns-view-hide","ns-view-htmldestroy"]}),(function(e,t){!(function(e){e.replaceNode=function(e,t){return e===t||!!e.parentNode&&(e.parentNode.replaceChild(t,e),!0)},e.removeNode=function(e){var t=e.parentNode;t&&t.removeChild(e)},e.html2node=function(e){if(!e)return null;var t=document.createElement("div");return t.innerHTML=e,t},e.childrenIterator=function(e){return (function(e){var t=-1;return{getNext:function(){return e[++t]||null}}})(e.children)};var t=/[\t\r\n]/g;"undefined"!=typeof document&&document.createElement("div").classList?e.hasClass=function(e,t){return e.classList.contains(t)}:e.hasClass=function(e,n){return n=" "+n+" ",1===e.nodeType&&(" "+e.className+" ").replace(t," ").indexOf(n)>=0},"undefined"!=typeof document&&document.getElementsByClassName?e.byClass=function(e,t){return(t=t||document).getElementsByClassName(e)}:e.byClass=function(e,t){return t=t||document,$(t).find("."+e)}})(ns)}),(function(e,t){!(function(e){var t=/[&<>"'\/]/g,n=(function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return function(t){return e[t]}})();e.entityify=function(e){return String(e).replace(t,n)};var r=/&([^&;]+);/g,i=(function(){var e={amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x2F":"/"};return function(t,n){return e[n]||t}})();e.deentityify=function(e){return String(e).replace(r,i)}})(ns)}),(function(e,t){ns.Events={},ns.Events.on=function(e,t){var n=this._nsevents_handlers||(this._nsevents_handlers={});return ns.assert("function"==typeof t,"ns.Events",'Handler for event "%s" in not a function.',e),(n[e]||(n[e]=[])).push(t),this},ns.Events.once=function(e,t){var n=this,r=function(){n.off(e,r),t.apply(this,arguments)};return r.__original=t,this.on(e,r),this},ns.Events.off=function(e,t){var n;if(t){if(n=this._nsevents_handlers&&this._nsevents_handlers[e])for(var r=0,i=n.length;r<i;r++)if(n[r]===t||n[r].__original===t){n.splice(r,1);break}}else(n=this._nsevents_handlers)&&(n[e]=null);return this},ns.Events.trigger=function(e,t){var n=this._nsevents_handlers&&this._nsevents_handlers[e];if(n)for(var r=0,i=(n=n.slice()).length;r<i;r++)try{n[r].apply(this,arguments)}catch(t){ns.log.exception("ns.events",t,{name:e})}return this},ns.Events.atrigger=function(e,t){var n=this,r=arguments;no.next((function(){n.trigger.apply(n,r)}))},ns.Events.forward=function(e,t){return this.on(e,(function(e,n){t.trigger(e,n)}))},ns.events=no.extend({},ns.Events)}),(function(e,t){!(function(){function e(e){return"function"==typeof e}ns.history={},ns.history.init=function(){$(window).on("popstate",(function(e){e.preventDefault(),e.stopPropagation(),ns.history.onpopstate(e)})),$(document).on(ns.V.EVENTS.click,"a",ns.history._onAnchorClick)},ns.history.pushState=function(t,n){e(window.history.pushState)&&window.history.pushState(null,n||ns.page.title(t),t)},ns.history.replaceState=function(t,n){e(window.history.replaceState)&&window.history.replaceState(null,n||ns.page.title(t),t)},ns.history.onpopstate=function(){ns.page.go("",!0)},ns.history.followAnchorHref=function(e,t){return ns.page.go(e)},ns.history._onAnchorClick=function(e){var t=e.currentTarget;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return!0;if(t.protocol&&!/^https?:/.test(t.protocol))return!0;if(t.hostname&&t.hostname!==window.location.hostname)return!0;if(ns.router.baseDir){var n=t.pathname,r=ns.router.baseDir;if(n.substr(0,r.length)!==r)return!0}var i=t.getAttribute("href");if(!i||t.getAttribute("target"))return!0;var o=ns.history.followAnchorHref(i,t);return Vow.isPromise(o)?(e.preventDefault(),!0):void 0}})()}),(function(e,t){ns.http=function(e,t,n){(n=no.extend({},ns.H.DEFAULTS,n)).url=e,n.data=t;var r=new Vow.Promise;return $.ajax(n).done((function(e){r.fulfill(e)})).fail((function(e,t,n){var i=n||t||"unknown error";r.reject({error:i,xhr:e})})),r}}),(function(e,t){ns.object={},ns.object.clone=function(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t.push(ns.object.clone(e[n]))}else for(var r in t={},e)t[r]=ns.object.clone(e[r]);return t}return e},ns.object.isEmpty=function(e){for(var t in e)return!1;return!0}}),(function(e,t){ns.profile={},ns.profile.startTimer=function(e){this._profileTimes||(this._profileTimes={}),ns.assert(!this._profileTimes[e],"ns.profile","Timer '%s' is in use",e),this._profileTimes[e]=Date.now()},ns.profile.stopTimer=function(e){return this._profileTimes||(this._profileTimes={}),ns.assert(this._profileTimes[e],"ns.profile","Timer '%s' haven't been started",e),this._profileTimes[e]=Date.now()-this._profileTimes[e],this._profileTimes[e]},ns.profile.switchTimer=function(e,t){this.stopTimer(e),this.startTimer(t)},ns.profile.getTimer=function(e){this._profileTimes||(this._profileTimes={});var t=this._profileTimes[e];return"number"==typeof t?t:NaN},ns.profile.getTimers=function(){return no.extend({},this._profileTimes)}}),(function(e,t){!(function(e,t){e.action={};var n={},r=!1;e.action.define=function(e,t){if(e in n)throw new Error("[ns.action] Can't redefine '"+e+"'");n[e]=t},e.action.copy=function(e,t){if(t in n)throw new Error("[ns.action] Can't redefine '"+t+"'");if(!(e in n))throw new Error("[ns.action] '"+e+"' is not defined");n[t]=n[e]},e.action.run=function(t,r,i,o){var a=n[t];e.assert(a,"ns.action","%s is not defined",t);try{return a(t,r,i,o)}catch(t){e.log.exception("ns.action",t)}},e.action.getParams=function(e){var t=e.getAttribute("data-params");if(t&&"{"===t.charAt(0))try{return JSON.parse(t)}catch(e){}return{}},e.action.init=function(){if(!r){r=!0;var t=$("body"),n=[e.V.EVENTS.click,e.V.EVENTS.dblclick].join(" ");t.on(n,".ns-action",this._process)}},e.action._process=function(t){var n=t.currentTarget,r="dblclick"===t.type?n.getAttribute("data-dblclick-action"):n.getAttribute("data-click-action"),i=!0;return r&&(i=e.action.run(r,e.action.getParams(n),n,t)),void 0!==i&&!Vow.isPromise(i)&&i},e.action._reset=function(){n={}}})(ns)}),(function(e,t){!(function(){ns.Model=function(){},no.extend(ns.Model.prototype,ns.Events);var e={},t={},n={},r=0;ns.Model.prototype.STATUS=ns.M.STATUS,ns.Model.prototype.RETRY_LIMIT=3,ns.Model.prototype.status=ns.M.STATUS.NONE,ns.Model.prototype.key=null,ns.Model.prototype.params=null,ns.Model.prototype._errorFixingPromise=null,ns.Model.prototype._init=function(e,t){this.id=e,this._reset(),this.info=ns.Model.info(e),no.extend(this,ns.Model.getKeyAndParams(e,t,this.info)),this._reinit()},ns.Model.prototype._reinit=function(){this.status===this.STATUS.NONE&&(this._bindEvents(),this.status=this.STATUS.INITED,this.trigger("ns-model-init"))},ns.Model.prototype._reset=function(e){this.data=null,this.error=null,this._softReset(e),this._version=0},ns.Model.prototype._softReset=function(e){this.status=e||this.STATUS.NONE,this.retries=0},ns.Model.prototype._bindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.on(e,this._prepareCallback(t[n]))}},ns.Model.prototype._unbindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.off(e,this._prepareCallback(t[n]))}},ns.Model.prototype._prepareCallback=function(e){return"string"==typeof e&&(e=this[e]),ns.assert("function"==typeof e,"ns.Model","Can't find method '%s' in '%s' to bind event",e,this.id),e},ns.Model.prototype.invalidate=function(){this._softReset(this.STATUS.INVALID)},ns.Model.prototype.destroy=function(){this.trigger("ns-model-before-destroyed"),this._reset(this.STATUS.NONE),this.trigger("ns-model-destroyed"),this._unbindEvents()},ns.Model.prototype.isValid=function(){return this.status===this.STATUS.OK},ns.Model.prototype.getData=function(){return this.data},ns.Model.prototype.get=function(e){var t=this.data;if(t)return no.jpath(e,t)},ns.Model.prototype.select=function(e){var t=this.data;return t?no.jpath.raw(e,t).toArray():[]},ns.Model.prototype.set=function(e,t,n){var r=this.data;if(this.isValid()&&r&&(no.jpath.set(e,r,t),(n=n||{}).jpath=e,this.touch(n),!n.silent))for(var i=e.split("."),o=i.length;o>1;){var a=i.slice(0,o).join(".");this.trigger("ns-model-changed"+a,a,e),o--}},ns.Model.prototype.setData=function(e,t){return this._reinit(),!e||this.isValid()&&!this.hasDataChanged(e)||(this.data=this._beforeSetData(this.preprocessData(e),t),this.status=this.STATUS.OK,this.error=null,this.touch(t)),this},ns.Model.prototype.hasDataChanged=function(e){return!!e},ns.Model.prototype.getError=function(){return this.error},ns.Model.prototype.setError=function(e){this.isErrorCanBeFixed(e)?this._errorFixingPromise=this.fixError(e):(this.data=null,this.error=e,this.status=this.STATUS.ERROR)},ns.Model.prototype.isErrorCanBeFixed=function(e){return!1},ns.Model.prototype.fixError=function(e){return Vow.resolve()},ns.Model.prototype._beforeSetData=function(e,t){return e},ns.Model.prototype.preprocessData=function(e){return e},ns.Model.prototype.getRequestParams=function(){return ns.Model._getKeyParams(this.id,this.params,this.info)},ns.Model.prototype._canRequest=function(){return this.canRequest()&&(!this.retries||!this.isDo())&&this.retries<this.RETRY_LIMIT},ns.Model.prototype.canRequest=no.true,ns.Model.prototype.extractData=function(e){if(e)return e.data},ns.Model.prototype.extractError=function(e){if(e)return e.error},ns.Model.prototype.isDo=function(){return this.info.isDo},ns.Model.prototype.getVersion=function(){return this._version},ns.Model.prototype._incVersion=function(){this._version++},ns.Model.prototype.touch=function(e){if(!(e=e||{}).silent){this._incVersion(),this.trigger("ns-model-touched");var t=e.jpath||"";this.trigger("ns-model-changed",t)}},ns.Model.prototype.prepareRequest=function(e){return this.requestID=e,this.retries++,this.promise=new Vow.Promise,this},ns.Model.prototype.finishRequest=function(){this._errorFixingPromise?this._errorFixingPromise.then(this.__finishRequest,this.__finishRequest,this):this.__finishRequest()},ns.Model.prototype.__finishRequest=function(){this._errorFixingPromise&&(this._errorFixingPromise=null,this.retries=0),this.promise.fulfill()},ns.Model.prototype.destroyWith=function(e){ns.Model.destroyWith(this,e)},ns.Model.get=function(t,r){var i=this._find(t,r);i||((i=new(0,e[t]))._init(t,r),i.isDo()||(n[t][i.key]=i));return i._reinit(),i},ns.Model.getValid=function(e,t){var n=this._find(e,t);return n&&n.isValid()?n:null},ns.Model._find=function(e,r){ns.assert(e in t,"ns.Model","'%s' is not defined",e);var i=ns.Model.key(e,r);return n[e][i]||null},ns.Model.destroy=function(e){if(!e.isDo()){var t=e.id,r=e.key;n[t][r]&&e.destroy()}},ns.Model.isValid=function(e,t){return!!ns.Model.getValid(e,t)},ns.Model.define=function(r,i,o){ns.assert(!(r in t),"ns.Model","Can't redefine '%s'",r),void 0===(i=i||{}).isCollection&&(i.isCollection=!!i.split);var a=o;"string"==typeof o?(a=e[o],ns.assert(a,"ns.Model","Can't find '%s' to extend '%s'",o,r)):o||(a=i.uniq?ns.ModelUniq:i.isCollection?ns.ModelCollection:ns.Model);var s=i.ctor||function(){};return s=no.inherit(s,a,i.methods),i.ready=!1,t[r]=i,e[r]=s,n[r]={},s},ns.Model._reset=function(){n={},e={},t={}},ns.Model._clear=function(){for(var e in t)n[e]={}},ns.Model.info=function(e){var t=ns.Model.infoLite(e);return t.ready||(t.params=t.params||{},t.events=t.events||{},t.isDo=/^do-/.test(e),t.ready=!0),t},ns.Model.infoLite=function(e){var n=t[e];return ns.assert(n,"ns.Model","'%s' is not defined",e),n},ns.Model.key=function(e,t,n){return ns.Model.getKeyAndParams(e,t,n).key},ns.Model.getKeyAndParams=function(e,t,n){if((n=n||ns.Model.info(e)).isDo)return{key:"do-"+e+"-"+r++,params:t};var i="model="+e,o=ns.Model._getKeyParams(e,t,n);return{key:ns.key(i,o),params:o}},ns.Model._getKeyParams=function(e,t,n){if(t=t||{},"function"==typeof(n=n||ns.Model.info(e)).params)return n.params(t);for(var r=n.params,i=n.pNames||(n.pNames=Object.keys(n.params)),o={},a=0,s=i.length;a<s;a++){var u=i[a],c=t[u];null!=(c=void 0===c?r[u]:c)&&(o[u]=c)}return"function"==typeof n.paramsRewrite&&(o=n.paramsRewrite(o)),o},ns.Model.invalidate=function(e,t){t=t||function(){return!0};var r=n[e];for(var i in r){var o=r[i];t(o)&&o.invalidate()}},ns.Model.destroyWith=function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++){var i=t[n];ns.assert(i instanceof ns.Model,"ns.Model","destroyWith called for '%s' while one of the withModels is not instance of ns.Model",e.id),i.on("ns-model-destroyed",(function(){ns.Model.destroy(e)}))}},ns.Model.isCollection=function(e){return(e.info||ns.Model.infoLite(e.id)).isCollection},ns.Model.traverse=function(e,t){ns.Model.infoLite(e),ns.assert("function"==typeof t,"ns.Model.traverse","callback must be a function");var r=n[e];for(var i in r)t(r[i])},ns.ModelUniq=function(){},no.inherit(ns.ModelUniq,ns.Model),ns.ModelUniq.prototype.__superInit=ns.ModelUniq.prototype._init,ns.ModelUniq.prototype._init=function(e){var t=ns.Model.info(e);t.events.changed=t.events.changed||[];var n=t.events.changed,r=function(){var e=this,t=this.params[this.uniqName];this.uniqCached||(this.uniqCached={}),t.forEach((function(t,n){e.uniqCached[n]=!0}))};Array.isArray(n)?n.unshift(r):t.events.changed=[r,t.events.changed],this.__superInit.apply(this,arguments)},ns.ModelUniq.prototype._superIsValid=ns.Model.prototype.isValid,ns.ModelUniq.prototype.isValid=function(){return-1===this.key.indexOf("&"+this.uniqName+"=")||this._superIsValid()},ns.ModelUniq.prototype.uniqName="",ns.ModelUniq.prototype.uniqPath="",ns.ModelUniq.prototype.uniqCached=null,ns.ModelUniq.prototype.uniq=function(e,t){var n=this,r=this.uniqName,i=no.extend({},e);if(this.uniqCached||(this.uniqCached={}),t)for(var o in e)t[o]=o===r?[]:e[o];return i[r]=[].concat(i[r]).map((function(e){return n.uniqCached[e]?(t&&t[r].push(e),null):e})),i[r].length||delete i[r],t&&!t[r].length&&delete t[r],i},ns.ModelUniq.prototype.uniqFromKey=function(e){return((e.split(this.uniqName+"=")[1]||"").split("&")[0]||"").split(",")},ns.ModelUniq.prototype.uniqFromJSON=ns.todo,ns.ModelUniq.prototype.getData=function(e){var t=this.uniqPath,r=[].concat(e[this.uniqName]),i={};i[t]=[];var o=n[this.id];for(var a in o)for(var s=o[a],u=this.uniqFromKey(a),c=0,l=r.length;c<l;c++)if(u.indexOf(r[c])>-1){var f=this.uniqFromJSON(s.data,r[c]);f&&i[t].push(f),r.splice(c,1),c--}return i}})()}),(function(e,t){ns.ModelCollection=function(){},no.inherit(ns.ModelCollection,ns.Model),ns.ModelCollection.prototype.DEFAULT_ITEMS_SPLIT=".items",ns.ModelCollection.prototype._init=function(){this._modelsEvents={},this.models=[],ns.Model.prototype._init.apply(this,arguments)},ns.ModelCollection.prototype.getData=function(){if(this.isValid()){var e;e=this.info.split?this.info.split.items:this.info.jpathItems?this.info.jpathItems:this.DEFAULT_ITEMS_SPLIT,this.data||(this.data={}),"/"===e?this.data=[]:no.jpath.set(e,this.data,[]);var t=no.jpath(e,this.data);this.models.forEach((function(e){t.push(e.getData())}))}return this.data},ns.ModelCollection.prototype._reset=function(){ns.Model.prototype._reset.apply(this,arguments),this.clear()},ns.ModelCollection.prototype._beforeSetData=function(e,t){var n=this.info.split;if(n){var r=no.jpath(n.items||this.DEFAULT_ITEMS_SPLIT,e),i=this._splitModels(r,t),o=this.__filterExistsModels(this.models,i),a=this.__filterExistsModels(i,this.models);this.__removeModels(a),this.__insertModels(o,0),this.models=i}else this.clear();return e},ns.ModelCollection.prototype._splitModels=function(e,t){for(var n=this.info.split,r=[],i=0,o=e.length;i<o;i++){var a,s=e[i],u={};for(var c in n.params)u[c]=no.jpath(n.params[c],s);(a="function"==typeof n.model_id?n.model_id(s,u):n.model_id)&&r.push(ns.Model.get(a,u).setData(s,t))}return r},ns.ModelCollection.prototype._subscribeSplit=function(e){var t=this;this.bindModel(e,"ns-model-changed",(function(n,r){t.onItemChanged(n,e,r)})),this.bindModel(e,"ns-model-touched",(function(n){t.onItemTouched(n,e)})),this.bindModel(e,"ns-model-before-destroyed",(function(n){t.onItemDestroyed(n,e)}))},ns.ModelCollection.prototype.__filterExistsModels=function(e,t){for(var n=this.__buildModelsHash(e),r=[],i=0,o=t.length;i<o;i++){var a=t[i];n.hasOwnProperty(a.key)||r.push(a)}return r},ns.ModelCollection.prototype.__buildModelsHash=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].key]=0;return t},ns.ModelCollection.prototype.bindModel=function(e,t,n){var r=this._modelsEvents[e.key]||(this._modelsEvents[e.key]={});e.on(t,n),r[t]=n},ns.ModelCollection.prototype.unbindModel=function(e,t){var n=this._modelsEvents[e.key];n&&n[t]&&(e.off(t,n[t]),delete n[t])},ns.ModelCollection.prototype.onItemChanged=function(e,t,n){this.trigger("ns-model-changed",{model:t,jpath:n})},ns.ModelCollection.prototype.onItemTouched=function(e,t){this._version++},ns.ModelCollection.prototype.onItemDestroyed=function(e,t){this.remove(t)},ns.ModelCollection.prototype.getSelfVersion=function(){return this._versionSelf},ns.ModelCollection.prototype._incVersion=function(){ns.Model.prototype._incVersion.apply(this,arguments),this._versionSelf=this._version},ns.ModelCollection.prototype._unsubscribeSplit=function(e){if(e.key in this._modelsEvents){var t=this._modelsEvents[e.key];for(var n in t)e.off(n,t[n]);delete this._modelsEvents[e.key]}},ns.ModelCollection.prototype.clear=function(){var e=this.models;if(this.models=[],e&&e.length){var t=this;e.forEach((function(e){t._unsubscribeSplit(e)})),this.trigger("ns-model-remove",e)}},ns.ModelCollection.prototype.insert=function(e,t){this._reinit(),isNaN(t)&&(t=this.models.length),Array.isArray(e)||(e=[e]);for(var n=[],r=this.__buildModelsHash(e),i=0,o=e.length;i<o;i++){var a=e[i];0===r[a.key]&&(n.push(a),r[a.key]++)}var s=this.__filterExistsModels(this.models,n);return this.__insertModels(s,t)},ns.ModelCollection.prototype.__insertModels=function(e,t){for(var n=0,r=e.length;n<r;n++)this.models.splice(t+n,0,e[n]),this._subscribeSplit(e[n]);return e.length>0&&(this.status=this.STATUS.OK,this.trigger("ns-model-insert",e),!0)},ns.ModelCollection.prototype.remove=function(e){Array.isArray(e)||(e=[e]);for(var t=this._modelsIndexToInstance(e),n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=this.models.indexOf(o);a>-1&&(o._itemToRemoveIndex=a,n.push(o))}return this.__removeModels(n)},ns.ModelCollection.prototype.__removeModels=function(e){for(var t=0,n=(e=e.sort((function(e,t){return t._itemToRemoveIndex-e._itemToRemoveIndex}))).length;t<n;t++)this._unsubscribeSplit(e[t]),this.models.splice(e[t]._itemToRemoveIndex,1);return!!e.length&&(this.trigger("ns-model-remove",e),!0)},ns.ModelCollection.prototype._modelsIndexToInstance=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if("number"==typeof i){var o=this.models[i];this.models[i]&&t.push(o)}else t.push(i)}return t}}),(function(e,t){!(function(){ns.layout={};var e={},t=/\s+/;function n(e){var t=e.substr(-1);return"@"===t?ns.L.BOX:"&"===t?ns.L.ASYNC:ns.L.VIEW}function r(e){if(t.test(e))return e;var n=e.slice(-1);return"@"!==n&&"&"!==n||(e=e.slice(0,-1)),e}ns.layout.define=function(t,n,r){if(e[t])throw new Error("[ns.layout] Can't redefine '"+t+"'");e[t]={layout:n,parent_id:r}},ns.layout.undefine=function(t){delete e[t]},ns.layout._reset=function(){e={}},ns.layout.page=function(i,o){var a=e[i];if(!a)throw new Error("[ns.layout] '"+i+"' is not defined");var s=(function e(t,i){var o={};if("string"==typeof t)o[t]=!0,t=o;else if(Array.isArray(t)){for(var a=0,s=t.length;a<s;a++)o[t[a]]=!0;t=o}var u={};for(var c in t){var l=c;c.indexOf("{")>-1&&(l=no.jpath.string(c)(i));var f,d=t[c];switch(typeof d){case"function":f=e(d(i),i);break;case"object":case"string":f=e(d,i);break;default:f={}}u[r(l)]={type:n(l),views:f}}return u})(a.layout,o);a.parent_id&&(s=(function(e,i){var o=ns.object.clone(i);for(var a in e){var s=a.split(t),u=s.length;if(n(s[u-1])!==ns.L.BOX)throw new Error("[ns.layout] Can't overwrite view layout '"+s[u-1]+"'");for(var c=o,l=0;l<u-1;l++)if(!(c=c[r(s[l])].views))throw new Error('[no.layout] Path "'+s.slice(0,l).join(" ")+'" is undefined in this layout and cannot be extended');c[r(s[u-1])]=e[a]}return o})(s,ns.layout.page(a.parent_id,o)));return s},ns.layout.generateSimple=function(t,n){var r=(n=n||"ns-auto-layout-")+t;if(r in e)return r;var i={};return i[t]={},ns.layout.define(r,i),r}})()}),(function(e,t){!(function(e){e.log={},e.log.debug=function(e){console.log.apply(console,arguments)},e.log.info=function(e,t,n){},e.log.error=function(e,t,n){},e.log.exception=function(e,t,n){}})(ns)}),(function(e,t){!(function(){function e(e){return ns.events.trigger("ns-page-after-load",e),e}function t(e){return ns.events.trigger("ns-page-error-load",e),Vow.reject(e)}ns.page={},ns.page.current={},ns.page.currentUrl=null,ns.page.DEFAULT_HISTORY_ACTION="push",ns.page.go=function(e,n){if(n?!0===n&&(n="replace"):n=ns.page.DEFAULT_HISTORY_ACTION,e=e||ns.page.getCurrentUrl(),!ns.page.block.check(e))return e!==ns.page.currentUrl&&ns.history.replaceState(ns.page.currentUrl),Vow.reject("block");var r=ns.router(e);return r.page===ns.R.NOT_APP_URL?("replace"===n?window.location.replace(r.redirect):window.location=r.redirect,new Vow.Promise):(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page.followRoute(r).then((function(){return ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.page.startUpdate(r))}),t))},ns.page.followRoute=function(e){return Vow.fulfill()},ns.page.startUpdate=function(n){var r=ns.layout.page(n.page,n.params);return new ns.Update(ns.MAIN_VIEW,r,n.params).start().then(e,t)},ns.page._setCurrent=function(e,t){ns.page.current=e,ns.page.currentUrl=t},ns.page._fillHistory=function(e,t){switch(t){case"init":ns.page.history.push(e);break;case"push":ns.history.pushState(e),ns.page.history.push(e);break;case"replace":ns.history.replaceState(e),ns.page.history.replace(e);break;case"redirect":ns.history.replaceState(e),ns.page.history.redirect(e)}},ns.page.redirect=function(e){return ns.history.replaceState(e),ns.page.go(e,"redirect")},ns.page.title=function(){document.title="NoScript app "+ns.page.currentUrl.url},ns.page._reset=function(){this.current={},this.currentUrl=""},ns.page.getDefaultUrl=function(){return ns.router.url("/")},ns.page.getCurrentUrl=function(){return window.location.pathname+window.location.search}})()}),(function(e,t){ns.page.block={},ns.page.block._checkers=[],ns.page.block.add=function(e){return ns.page.block._checkers.push(e),this},ns.page.block.remove=function(e){var t=ns.page.block._checkers,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},ns.page.block.clear=function(){return ns.page.block._checkers=[],this},ns.page.block.check=function(e){for(var t=ns.page.block._checkers,n=0,r=t.length;n<r;n++)if(!1===t[n](e))return!1;return!0}}),(function(e,t){ns.page.history={},ns.page.history._current=null,ns.page.history._history=[],ns.page.history.push=function(e){var t=ns.page.history;t._current&&t._current!==e&&(ns.page.history.getPrevious()===e?t._history.pop():t._history.push(t._current)),t._current=e},ns.page.history.replace=function(e){var t=ns.page.history,n=t._history.pop(),r=t._current;n!==e&&r!==e&&t._history.push(e),t._current=e},ns.page.history.redirect=function(e){var t=ns.page.history;t._current=e,t._previous=t.getPrevious()},ns.page.history.back=function(){var e=ns.page.history,t=e.getPrevious();return t?e._history.pop():t=ns.page.getDefaultUrl(),e._current=t,ns.page.go(t)},ns.page.history.getPrevious=function(e){e=e||0;var t=ns.page.history._history;return t[t.length-e-1]},ns.page.history.reset=function(){ns.page.history._current=null,ns.page.history._history=[]}}),(function(e,t){!(function(){ns.request=function(e,t,n){return ns.request.models(r(e,t),n)},ns.forcedRequest=function(e,t,n){return(n=n||{}).forced=!0,ns.request.models(r(e,t),n)},ns.request.models=function(e,n){return e=e.map((function(e){return e.getRequest?e.getRequest():e})),new t(e,n).start()},ns.request.requestParams={},ns.request.addRequestParams=function(e){no.extend(e,ns.request.requestParams)},ns.request.URL="/models/",ns.request.canProcessResponse=function(){return!0},ns.request._reset=function(){ns.request.manager._keys={}},ns.request.extractModel=function(e,t){var n,r;t?(n=e.extractData(t))||(r=e.extractError(t))||(r={id:"INVALID_FORMAT",reason:"response should contain result or error"}):r={id:"NO_DATA",reason:"Server returned no data"},n?e.setData(n):e.setError(r)};var e=0,t=function(t,n){this.id=e++,this.models=t,this.options=n||{},this.promise=new Vow.Promise};function n(e){return e.promise}function r(e,t){"string"==typeof e&&(e=[e]),"string"==typeof e[0]&&(e=(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push({id:e[r],params:t});return n})(e,t=t||{}));for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o instanceof ns.Model?n.push(o):o.model&&o.model instanceof ns.Model?n.push(o.model):n.push(ns.Model.get(o.id,o.params))}return n}function i(e){return e.id}t.prototype.start=function(){for(var e=[],t=[],n=this.models,r=0,i=n.length;r<i;r++){var o=n[r],a=ns.request.manager.add(o,this.id,this.options.forced);!0===a?t.push(o):a instanceof ns.Model&&e.push(o)}return this.request(e,t),this.promise},t.prototype.request=function(e,t){var r,o=[];if(t.length){var a=[],s=[];if(t.forEach((function(e){if("function"==typeof e.request){var t=e.request().then((function(){ns.request.manager.done(e)}),(function(){ns.request.manager.done(e)}));e.promise=t,s.push(t)}else a.push(e)})),o=o.concat(s),a.length){var u=(function(e){for(var t={},n=0,r=e.length;n<r;n++){var i="."+n,o=e[n];t["_model"+i]=o.id;var a=o.getRequestParams();for(var s in a)t[s+i]=a[s]}return t})(a),c=a.map(i);ns.request.addRequestParams(u),r=ns.http(ns.request.URL+"?_m="+c.join(","),u),o=o.concat(a.map(n))}}if(e.length&&(o=o.concat(e.map(n))),o.length){var l=this;r&&r.then((function(e){!1===ns.request.canProcessResponse(e)?(ns.request.manager.clean(l.models),l.promise.reject({error:"CANT_PROCESS",invalid:l.models,valid:[]})):l.extract(a,e)}),(function(e){ns.log.error("ns.request.http",e);var t=a.map((function(){return{error:{id:"HTTP_"+e.xhr.status}}}));l.extract(a,{models:t})})),Vow.all(o).then(this.start.bind(this))}else{ns.request.manager.clean(this.models);for(var f=[],d=[],p=0,h=this.models.length;p<h;p++){var m=this.models[p];m.isValid()?f.push(m):d.push(m)}d.length?this.promise.reject({invalid:d,valid:f}):this.promise.fulfill(this.models)}},t.prototype.extract=function(e,t){for(var n=t&&t.models||[],r=0,i=e.length;r<i;r++){var o=e[r],a=n[r];o.requestID>this.id||(ns.request.extractModel(o,a),ns.request.manager.done(o),o.finishRequest())}}})()}),(function(e,t){ns.request.manager={STATUS:{LOADING:0,FAILED:1,DONE:2},_keys:{},add:function(e,t,n){var r=this.STATUS,i=e.key,o=this._keys[i];return o?!(e.isValid()&&!n)&&(o.status===r.LOADING?e.isDo()?o.model:n?(o.model.requestID=t,!0):o.model:o.status===r.FAILED?o.model._canRequest()?(this._createRequest(e,t),!0):(e.status=e.STATUS.ERROR,this.done(e,!0),!1):!e.isValid()&&(!!e._canRequest()&&(this._createRequest(e,t),!0))):e.isValid()?!(!n||e.requestID===t)&&(this._createRequest(e,t),!0):!!e.canRequest()&&(this._createRequest(e,t),!0)},done:function(e,t){var n=this._keys[e.key];n&&(e.isValid()||t?n.status=this.STATUS.DONE:n.status=this.STATUS.FAILED)},clean:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.retries=0,delete this._keys[r.key]}},_createRequest:function(e,t){this._keys[e.key]={status:this.STATUS.LOADING,model:e},e.prepareRequest(t)}}}),(function(e,t){ns.router=function(e){var t=ns.router.baseDir,n=ns.router._routes;if(0!==e.indexOf(t))return{page:ns.R.NOT_APP_URL,params:{},redirect:e};(e=e.substring(t.length))||(e="/");var r=ns.router._processRedirect(n.redirect,e);if(r)return{page:ns.R.REDIRECT,params:{},redirect:t+r};var i=e.split("?"),o=i.shift();if(o in n.rewriteUrl){var a=i.join("?");e=n.rewriteUrl[o]+(a?"?"+a:"")}for(var s=n.route,u=0,c=s.length;u<c;u++){var l=s[u],f=ns.router._parseUrl(l,e);if(f)return l.page in n.rewriteParams&&(f=n.rewriteParams[l.page](f)),{page:l.page,params:f}}return{page:ns.R.NOT_FOUND,params:{}}},ns.router.encodeParamValue=encodeURIComponent,ns.router.decodeParamValue=decodeURIComponent,ns.router.URL_FIRST_SYMBOL="/",ns.router._getParamsRouteFromUrl=function(e,t){for(var n,r=e.params,i={},o=r.length,a=0;a<o;a++){n=r[a];var s=t[a+1];if(s)try{s=ns.router.decodeParamValue(s,n.name)}catch(e){s=""}s||(s=n.default_value),i[n.name]=s}return i},ns.router._parseUrl=function(e,t){var n=e.regexp.exec(t);if(n){var r=ns.router._getParamsRouteFromUrl(e,n),i=n[e.params.length+1];return i&&no.extend(r,ns.parseQuery(i)),r}return null},ns.router._processRedirect=function(e,t){for(var n,r=0,i=e.length;r<i;r++){var o=e[r];if("function"==typeof o.path){var a=ns.router._parseUrl(o,t);a&&(n=o.path(a,t))}else o.regexp.test(t)&&(n=o.path);if(n)return n}return null},ns.router.init=function(){var e=ns.router.routes;for(var t in ns.router._regexps={},ns.router.regexps)ns.router._regexps[t]=new RegExp("^"+ns.router.regexps[t]+"$");var n={};n.redirect=e.redirect||{},n.rewriteUrl=e.rewriteUrl||{},n.rewriteParams=e.rewriteParams||{};var r=e.route||{},i=[],o={};for(var a in r){var s=r[a];(f=ns.router.compile(a)).page=s,i.push(f),o[s]=o[s]||[],o[s].push(f)}n.route=i,n.routeHash=o;var u=e.redirect||{},c=[];for(var l in u){var f=ns.router.compile(l);c.push({regexp:f.regexp,path:u[l],params:f.params})}n.redirect=c,ns.router._routes=n},ns.router.url=function(e){return ns.router.baseDir+e||"/"},ns.router.generateUrl=function(e,t){var n,r=ns.router._routes.routeHash[e];t=t||{},ns.assert(r&&r.length,"ns.router","Could not find route with id '%s'!",e);for(var i=0;i<r.length&&null===(n=ns.router._generateUrl(r[i],t));i++);return ns.assert(null!==n,"ns.router","Could not generate url for layout id '%s'!",e),ns.router.url(n)},ns.router._generateUrl=function(e,t){for(var n,r,i,o,a,s=[],u=no.extend({},t),c=ns.router._routes.rewriteUrl,l=0;l<e.sections.length;l++){r=e.sections[l],i="";for(var f=0;f<r.items.length;f++)if((a=r.items[f]).name){o=t[a.name];var d=a.name in t;if(a.is_optional&&!d&&(o=a.default_value),a.is_filter&&o!==a.filter_value)return null;if(!a.is_optional&&!d)return null;if(a.is_optional&&!d)continue;if(o=ns.router.encodeParamValue(o,a.name),!ns.router._isParamValid(o,a.type))return null;i+=o,delete u[a.name]}else i+=a.default_value;!i&&r.is_optional||s.push(i)}n=(n=s.join("/"))?ns.router.URL_FIRST_SYMBOL+n:"";for(var p=!0;p;)for(var h in p=!1,c){var m=c[h],v=m.length;if(n.substr(0,v)===m){var g=n.charAt(v);"/"!==g&&"?"!==g&&g||(n=h+n.substr(m.length),p=!0)}}var y=ns.params2query(u);return y?n+"?"+y:n},ns.router.compile=function(e){(e=e.replace(/\/$/,""))[0]===ns.router.URL_FIRST_SYMBOL&&(e=e.substr(1));var t=e.split("/").map(ns.router._parseSection),n=t.map(ns.router._generateSectionRegexp);"/"===n[0][0]&&(n[0]=ns.router.URL_FIRST_SYMBOL+n[0].substr(1));var r=n.join(""),i=[];return t.forEach((function(e){i=i.concat(e.items.filter((function(e){return!!e.name})))})),r="^"+r+"/?(?:\\?(.*))?$",{regexp:new RegExp(r),params:i,sections:t}},ns.router._parseSection=function(e){for(var t=0,n=-1,r=-1,i=[];!((n=e.indexOf("{",t))<0);)r=e.indexOf("}",n),ns.assert(r>0,"ns.router","could not parse parameter in url section: %s",e),n>t&&i.push({default_value:e.substr(t,n-t)}),i.push(ns.router._parseParam(e.substr(n+1,r-n-1))),t=r+1;return t<e.length&&i.push({default_value:e.substr(t)}),{is_optional:i.length&&i.filter((function(e){return e.is_optional})).length===i.length,items:i}},ns.router._parseParam=function(e){var t,n,r,i,o,a,s=!1,u=(t=e.split("="))[0].split(":");return a=u[0],n=u[1]||"id",3===t.length?(i=!1,s=!0,o=t[2],ns.assert(o,"ns.router","Parameter '%s' value must be specified",a),ns.assert(ns.router._isParamValid(o,n),"ns.router","Wrong value for '%s' parameter",a)):(i=2===t.length,r=t[1]),{name:a,type:n,default_value:r,is_optional:i,is_filter:s,filter_value:o}},ns.router._generateSectionRegexp=function(e){var t="";return e.items.forEach((function(e){t+=ns.router._generateParamRegexp(e)})),t=e.is_optional?"(?:/(?!/)"+t+")?":"/"+t},ns.router._generateParamRegexp=function(e){var t,n=ns.router.regexps;return e.default_value&&!e.name?e.default_value:(e.type&&ns.assert(e.type in n,"ns.router","Could not find regexp for type '%s'!",e.type),e.is_filter&&e.filter_value?t="("+e.filter_value+")":(t="("+(t=n[e.type])+")",e.is_optional&&(t="(?:"+t+")?")),t)},ns.router._isParamValid=function(e,t){var n=ns.router._regexps[t];return ns.assert(n,"ns.router","Could not find regexp for type '%s'!",t),n.test(e)},ns.router._reset=function(){this.baseDir="",this._routes=null,this.routes={},this.regexps={id:"[A-Za-z_][A-Za-z0-9_-]*",int:"[0-9]+"}},ns.router._reset()}),(function(e,t){!(function(){ns.Update=function(e,n,r,i){if(this.view=e,!(this.view.id in n))throw new Error("[ns.Update] Can't find view layout");this.layout=n[this.view.id],this.params=r,this.id=++t,this.promise=new Vow.Promise,i=i||{},this.EXEC_FLAG=i.execFlag||ns.U.EXEC.GLOBAL,this.parentUpdate=i.parentUpdate,this.log("created instance",this,"with layout",this.layout,"and params",this.params),this.startTimer("full"),i.timers&&(this._profileTimes.__parent=i.timers),ns.Update._addToQueue(this)||this.abort()},no.extend(ns.Update.prototype,ns.profile);var e=[],t=-1;function n(e){for(var t={},n=[],r=0,i=e.length;r<i;r++){var o=e[r].models;for(var a in o){var s=o[a],u=s.key;t[u]||(n.push(s),t[u]=!0)}}return n}function r(e){return e.parentUpdate?r(e.parentUpdate):e.EXEC_FLAG===ns.U.EXEC.PARALLEL}ns.Update.prototype.STATUS=ns.U.STATUS,ns.Update.prototype._EVENTS_ORDER=["ns-view-hide","ns-view-htmldestroy","ns-view-htmlinit","ns-view-async","ns-view-show","ns-view-touch"],ns.Update.prototype._requestCount=0,ns.Update.prototype.log=function(){if(ns.DEBUG){var e=Array.prototype.slice.apply(arguments);"generated html"===e[0]&&(e[1]=ns.html2node(e[1])),ns.log.debug.apply(ns.log,["[ns.Update]",this.id].concat(e))}},ns.Update.prototype._requestModels=function(e){var t="requestModels."+this._requestCount;if(this.startTimer(t),this.log("started models request",e),!this._checkModelsInvalid(e))return this.stopTimer(t),this.log("received models",e),Vow.fulfill(e);var n=ns.request.models(e);return n.always((function(){this.stopTimer(t)}),this),n.then(this._onRequestModelsOK,this._onRequestModelsError,this)},ns.Update.prototype._onRequestModelsOK=function(e){return this.log("received models",e),e},ns.Update.prototype._onRequestModelsError=function(e){this.log("failed to receive models",e);var t={error:this.STATUS.MODELS,expired:this._expired(),invalidModels:e.invalid,validModels:e.valid};return ns.Update.handleError(t,this)?[].concat(e.invalid,e.valid):Vow.reject(t)},ns.Update.prototype._checkModelsInvalid=function(e){return(e||[]).some((function(e){return!e.isValid()}))},ns.Update.prototype._getActiveViews=function(){var e="collectModels."+this._requestCount;this.startTimer(e);var t={sync:[],async:[],hasPatchLayout:!1};return this.view.destroyed||this.view._getRequestViews(t,this.layout,this.params),this.stopTimer(e),this.log("collected incomplete views",t),t},ns.Update.prototype._requestSyncModels=function(){var e=this._getActiveViews(),t=n(e.sync);return this.log("collected needed models",t),this._requestModels(t).then((function(t){if(e.hasPatchLayout&&!this._checkModelsInvalid(t))return this._requestCount++,this._requestSyncModels()}),null,this)},ns.Update.prototype._requestAllModels=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=new Vow.Promise,t=this._getActiveViews(),r=n(t.sync);this.log("collected needed models",r);var i=this._requestModels(r),o=t.async.map((function(e){return e.updateAfter(this.promise,this.params,this)}),this);return i.then((function(n){if(t.hasPatchLayout&&!this._checkModelsInvalid(n))return this._requestCount++,void e.sync(this._requestAllModels());e.fulfill({async:o})}),(function(t){e.reject(t)}),this),e},ns.Update.prototype._applyLayout=function(){this._getActiveViews()},ns.Update.prototype._generateHTML=function(){return this._expired()?this._rejectWithStatus(this.STATUS.EXPIRED):Vow.fulfill(this._renderUpdateTree())},ns.Update.prototype._renderUpdateTree=function(){this.startTimer("collectViews");var e,t={views:{}};return this.view.destroyed||this.view._getUpdateTree(t),this.log("created render tree",t),this.stopTimer("collectViews"),ns.object.isEmpty(t.views)||(this.startTimer("generateHTML"),e=this.applyTemplate(t,this.params,this.layout),this.log("generated html",e),this.stopTimer("generateHTML")),e},ns.Update.prototype._insertNodes=function(e){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);this.startTimer("triggerHideEvents");var t={"ns-view-hide":[],"ns-view-htmldestroy":[]};this.view.destroyed||this.view.beforeUpdateHTML(t,!1),this._triggerViewEvents(t);var n={"ns-view-async":[],"ns-view-htmlinit":[],"ns-view-show":[],"ns-view-touch":[]};return this.switchTimer("triggerHideEvents","insertNodes"),this.view.destroyed||this.view._updateHTML(e,{toplevel:!0},n),this.switchTimer("insertNodes","triggerEvents"),this._triggerViewEvents(n),this.stopTimer("triggerEvents"),Vow.fulfill()},ns.Update.prototype._triggerViewEvents=function(e){for(var t=this.getTimers(),n=0,r=this._EVENTS_ORDER.length;n<r;n++)for(var i=this._EVENTS_ORDER[n],o=e[i]||[],a=o.length-1;a>=0;a--)o[a].trigger(i,this.params,t)},ns.Update.prototype._updateDOM=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=this._renderUpdateTree();this.startTimer("html2node");var t=ns.html2node(e||"");this.stopTimer("html2node"),this._insertNodes(t)},ns.Update.prototype.prefetch=function(){return this.log("started `prefetch` scenario"),this._requestSyncModels().then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.generateHTML=function(){return this.log("started `generateHTML` scenario"),Vow.invoke(this._requestSyncModels.bind(this)).then(this._generateHTML,null,this).then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.prerender=function(){return this.log("started `prerender` scenario"),ns.todo(),this.promise},ns.Update.prototype.render=function(){return this._expired()?(this._reject({error:this.STATUS.EXPIRED}),this.promise):(this.log("started `render` scenario"),Vow.invoke(this._requestAllModels.bind(this)).then((function(e){this._updateDOM(),this._fulfill(e)}),this._reject,this).then(null,this._reject,this),this.promise)},ns.Update.prototype.start=ns.Update.prototype.render,ns.Update.prototype.reconstruct=function(e){return this.log("started `reconstruct` scenario"),this._applyLayout(),Vow.invoke(this._insertNodes.bind(this),e).then((function(){this._fulfill({async:[]})}),this._reject,this),this.promise},ns.Update.prototype.applyTemplate=function(e,t,n){return ns.renderString(e,null,"")},ns.Update.prototype._expired=function(){return this.promise.isResolved()||-1===e.indexOf(this)},ns.Update.prototype.abort=function(){this._reject({error:ns.U.STATUS.EXPIRED})},ns.Update.prototype._fulfill=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.fulfill(e),this.perf(this.getTimers()),this.log("successfully finished scenario"))},ns.Update.prototype._reject=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.reject(e),this.log("scenario was rejected with reason",e))},ns.Update.prototype._rejectWithStatus=function(e){return Vow.reject({error:e})},ns.Update.prototype.isGlobal=function(){return this.EXEC_FLAG===ns.U.EXEC.GLOBAL},ns.Update.prototype.perf=function(e){},ns.Update.handleError=function(e,t){return!1},ns.Update._removeFromQueue=function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},ns.Update._addToQueue=function(t){var n,i,o=e,a=ns.U.EXEC,s=a.GLOBAL,u=a.ASYNC,c=t.EXEC_FLAG;if(c===s){var l=[];for(n=o.length-1;n>=0;n--){var f=o[n];r(f)?l.push(f):f.abort()}e=l}else if(c===u&&!r(t))for(n=0,i=o.length;n<i;n++)if(o[n].EXEC_FLAG===s)return!1;return e.push(t),!0}})()}),(function(e,t){!(function(){var e=0,t=/ns-view-id-\d+/;ns.View=function(){},no.extend(ns.View.prototype,ns.Events),ns.View.prototype.STATUS=ns.V.STATUS,ns.View.prototype._$document="undefined"==typeof document?null:$(document),ns.View.prototype._$window="undefined"==typeof window?null:$(window),ns.View.prototype.key=null,ns.View.prototype.params=null,ns.View.prototype.node=null,ns.View.prototype.$node=null,ns.View.prototype.views=null,ns.View.prototype.id=null,ns.View.prototype._visible=!1,ns.View.prototype.__uniqueId=null,ns.View.prototype.__modelsEventsBinded=!1,ns.View.prototype._init=function(e,t,n){this.id=e,this.__setUniqueId(),this.async=n,this.info=ns.View.info(e),no.extend(this,ns.View.getKeyAndParams(this.id,t||{},this.info)),this._initModels(),this._modelsVersions={},this.views={},this.status=this.STATUS.NONE,this.destroyed=!1,this.__customInit(),this._bindCreateEvents(),this.trigger("ns-view-init")},ns.View.prototype.__setUniqueId=function(){this.__uniqueId||(this.__uniqueId="ns-view-id-"+ ++e)},ns.View.prototype.__customInit=no.nop,ns.View.prototype._initModels=function(){for(var e in this.models={},this._modelsHandlers={},this.info.models)if(!this.models[e]){var t=ns.Model.get(e,this.params);this.models[e]=t,this._modelsHandlers[t.key]={}}},ns.View.prototype._getView=function(e){return this.views[e]},ns.View.prototype._addView=function(e,t,n){var r=this._getView(e);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.id]=r),r},ns.View.prototype.__onHtmldestroy=function(){this._unbindEvents("init")},ns.View.prototype._htmlinit=function(e){this._bindEvents("init"),e.push(this)},ns.View.prototype.hideAndUnbindEvents=function(){this.__onHide()},ns.View.prototype.__onHide=function(){!this.isLoading()&&!0===this._visible&&this._unbindEvents("show"),this._visible=!1},ns.View.prototype._show=function(e){return!this.isLoading()&&!this._visible&&(this.__modelsEventsBinded||this.__bindModelsEvents(),this._bindEvents("show"),this._visible=!0,e&&e.push(this),!0)},ns.View.prototype.__bindModelsEvents=function(){this.__modelsEventsBinded=!0;var e=this.models;for(var t in e){var n=e[t];this.__bindModelEvents(n)}},ns.View.prototype.__bindModelEvents=function(e){var t=this.info.models[e.id];for(var n in t){var r=t[n],i=this[r]||t[n];ns.View.assert("function"==typeof i,4,[this.id,r,e.id]),i===this.keepValid&&(i=no.nop),this.__bindModelEvent(e,n,this._invokeModelHandler.bind(this,i,e))}},ns.View.prototype._invokeModelHandler=function(e,t){return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.View.prototype.__bindModelEvent=function(e,t,n){e.on(t,n),this._modelsHandlers[e.key][t]=n},ns.View.prototype.__unbindModelsEvents=function(){var e=this.models;for(var t in e){var n=e[t];this.__unbindModelEvent(n)}},ns.View.prototype.__unbindModelEvent=function(e){var t=this._modelsHandlers[e.key];for(var n in t)e.off(n,t[n]),delete t[n]},ns.View.prototype._prepareCallback=function(e){if("string"==typeof e){var t=this[e];return ns.View.assert(!!t,5,[e,this.id]),t}return e},ns.View.prototype._bindEventHandlers=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=[].concat(o);a[t]=this._prepareCallback(o[t]).bind(this),n.push(a)}return n},ns.View.prototype._getEvents=function(e){var t="_"+e+"Events";if(!this[t]){var n=this.info[e+"Events"],r=this.info[e+"Nsevents"];this[t]={bind:this._bindEventHandlers(n.bind,2),delegate:this._bindEventHandlers(n.delegate,2),nsevents:this._bindEventHandlers(r,1)}}return this[t]},ns.View.prototype._bindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].on(r[0],r[2]):r[1]?i.on(r[0],r[1],r[2]):i.on(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).on(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.on(r[0],r[1])},ns.View.prototype._bindCreateEvents=function(){for(var e=0,t=this.info.createEvents.length;e<t;e++){var n=this.info.createEvents[e];this.on(n[0],this._prepareCallback(n[1]))}},ns.View.prototype._unbindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].off(r[0],r[2]):r[1]?i.off(r[0],r[1],r[2]):i.off(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).off(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.off(r[0],r[1])},ns.View.prototype.invalidate=function(){for(var e=this._getDescendantsAndSelf(),t=0,n=e.length;t<n;t++){var r=e[t];r.status===this.STATUS.OK&&(r.status=this.STATUS.INVALID)}},ns.View.prototype.isOk=function(){return this.status===this.STATUS.OK},ns.View.prototype.isLoading=function(){return this.status===this.STATUS.LOADING},ns.View.prototype.isNone=function(){return this.status===this.STATUS.NONE},ns.View.prototype.isValid=function(){return this.isOk()&&this.isModelsValidWithVersions()},ns.View.prototype.isValidSelf=ns.View.prototype.isValid,ns.View.prototype.isValidWithDesc=function(){if(!this.isValid())return!1;for(var e in this.views)if(!this.views[e].isValidWithDesc())return!1;return!0},ns.View.prototype.isModelsValidWithVersions=function(){return this.isModelsValid(this._modelsVersions)},ns.View.prototype.isModelsValid=function(e){var t=this.models;for(var n in t){if(!t[n].isValid()||e&&this._getModelVersion(n)>e[n])return!1}return!0},ns.View.prototype.isVisible=function(){return this._visible},ns.View.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],n)},ns.View.prototype._saveLayout=function(e){this.layout={},this.layout[this.id]={views:e}},ns.View.prototype._getRequestViews=function(e,t,n){var r=this.__evaluateState();this.__registerInUpdate(r,e);var i=!1;r&&(i=!0,"function"==typeof this.patchLayout&&(this.isModelsValid()?this.__patchLayout(t,n):(i=!1,e.hasPatchLayout=!0)));var o=t.views;if(this._saveLayout(o),i){for(var a in o)this._addView(a,n,o[a].type);var s=this.id;this._apply((function(t,r){var i=o[r];ns.View.assert(!!i,13,[s]),t._getRequestViews(e,i,n)}))}return e},ns.View.prototype.__patchLayout=function(e,t){e.views={};var n=this.patchLayout(t);ns.View.assert(!!n,11);var r=ns.layout.page(n,t);this.__checkPatchLayout(r),no.extend(e.views,r)},ns.View.prototype.__checkPatchLayout=function(e){for(var t in e)ns.View.assert(e[t].type===ns.L.BOX,12)},ns.View.prototype.__evaluateState=function(){this.asyncState=!1;var e=!0;return this.async?this.shouldBeSync||this.isModelsValid()?e=!0:(this.asyncState=!0,e=!1):(this.isValidSelf()||this.invalidate(),e=!0),this.shouldBeSync=!1,e},ns.View.prototype.__registerInUpdate=function(e,t){e?t.sync.push(this):t.async.push(this)},ns.View.prototype._getUpdateTree=function(e){return this.isValid()?this._apply((function(t){t._getUpdateTree(e)})):e.views[this.id]=this._getViewTree(),e},ns.View.prototype._getCommonTree=function(){var e={box:this.info.isBox,collection:this.info.isCollection,id:this.id,key:this.key,models:{},params:this.params,state:this.asyncState?"loading":"ok",tree:{},uniqueId:this.__uniqueId,views:{}};return e.tree[this.id]=!0,e},ns.View.prototype._getTree=function(){var e=this._getCommonTree(),t=this.patchTree(e);return t&&"object"==typeof t&&!Array.isArray(t)&&(e=no.extend(t,e)),e},ns.View.prototype._getViewTree=function(){var e=this._getTree();return e.models=this._getModelsForTree(),"loading"===e.state?e:(this.isModelsValid()?e.views=this._getDescViewTree():e.state="error",e)},ns.View.prototype.patchTree=no.nop,ns.View.prototype._getDescViewTree=function(){var e={};return this._apply((function(t,n){e[n]=t._getViewTree()})),e},ns.View.prototype._getPlaceholderTree=function(){var e=this._getTree();return e.state="placeholder",this.info.isCollection?e.views=this._getDescViewTree():this._apply((function(t){t._getUpdateTree(e)})),e},ns.View.prototype._getModelsForTree=function(){var e={},t=this.models;for(var n in t){var r=t[n];e[n]={},r.isValid()?(e[n].status="ok",e[n][n]=r.getData()):(e[n].status="error",e[n][n]=r.getError())}return e},ns.View.prototype.getModel=function(e){return this.models[e]},ns.View.prototype.getModelData=function(e,t){var n=this.getModel(e);return t?n.get(t):n.getData()},ns.View.prototype._getDescendantsAndSelf=function(e){return(e=e||[]).push(this),this._apply((function(t){t._getDescendantsAndSelf(e)})),e},ns.View.prototype._setNode=function(e){var t=this.STATUS;e?(this.node=e,this.$node=$(e),this.status=this.asyncState?t.LOADING:t.OK):this.status=t.NONE},ns.View.prototype._extractNodeByKey=function(e){var n=e.querySelector('[data-key="'+this.key+'"]');if(!n)return null;var r=n.className;return-1===r.indexOf(this.__uniqueId)&&(n.className=r.replace(t,this.__uniqueId)),n},ns.View.prototype._extractNode=function(e){var t=ns.byClass(this.__uniqueId,e)[0];return t&&t.getAttribute("data-key")===this.key||(t=this._extractNodeByKey(e)),t},ns.View.prototype._selfBeforeUpdateHTML=function(e,t){t?!0===this._visible&&!this.isLoading()&&e["ns-view-hide"].push(this):!this.isValidSelf()&&this.node&&!this.isLoading()&&(!0===this._visible&&e["ns-view-hide"].push(this),e["ns-view-htmldestroy"].push(this))},ns.View.prototype.beforeUpdateHTML=function(e,t){this._selfBeforeUpdateHTML(e,t),this.asyncState||this._apply((function(n){n.beforeUpdateHTML(e,t)}))},ns.View.prototype._updateHTML=function(e,t,n){var r,i;r=t.toplevel?no.extend({},t):t,!this.isValid()&&(i=this._extractNode(e),ns.View.assert(!!i,6,[this.id]),t.toplevel&&(this.node&&(ns.replaceNode(this.node,i),r.parent_added=!0),r.toplevel=!1),this.node&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),!this.node||t.parent_added||r.parent_added||ns.replaceNode(this.node,i),this._setNode(i),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this),this._saveModelsVersions()),this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this)),i=i||e,this.asyncState||this._apply((function(e){e._updateHTML(i,r,n)}))},ns.View.prototype._saveModelsVersions=function(){for(var e in this.models)this._saveModelVersion(e)},ns.View.prototype._getModelVersion=function(e){return this.models[e].getVersion()},ns.View.prototype._saveModelVersion=function(e){this._modelsVersions[e]=this._getModelVersion(e)},ns.View.prototype.keepValid=ns.View.prototype._saveModelsVersions,ns.View.prototype.updateAfter=function(e,t,n){this._asyncPromise=new Vow.Promise;var r=this;return e.then((function(){r.update(t,{parentUpdate:n,timers:n.getTimers()})})),this._asyncPromise},ns.View.prototype.update=function(e,t){this.shouldBeSync=!0;var n=this.params;if(e&&(n=no.extend({},this.params,e)),!this.layout){var r="ns-temp-layout-for-"+this.id,i={};i[this.id]={},ns.layout.define(r,i),this.layout=ns.layout.page(r,n),ns.layout.undefine(r)}(t=t||{}).execFlag=t.execFlag||ns.U.EXEC.ASYNC;var o=new ns.Update(this,this.layout,n,t).render();return this._asyncPromise&&this._asyncPromise.sync(o),o},ns.View.prototype.destroy=function(){this._apply((function(e){e.destroy()})),this.trigger("ns-view-destroyed"),this.views={},this.node&&!this.isLoading()&&(this.isVisible()&&(this.trigger("ns-view-hide"),this.hideAndUnbindEvents()),this.trigger("ns-view-htmldestroy"),this.__onHtmldestroy()),this.__unbindModelsEvents(),this.node&&(this.$node.off().removeData().remove(),this.node=null,this.$node=null),this.info=null,this.layout=null,this.models=null,this.params=null,this.status=this.STATUS.NONE,this.destroyed=!0,this._modelsHandlers=null};var n={},r={};ns.View.define=function(e,t,i){ns.View.assert(!(e in n),1,[e]),t=t||{};var o=this;"string"==typeof i?(o=r[i],ns.View.assert(!!o,2,[i,e])):"function"==typeof i&&(o=i);var a=t.ctor||function(){};return a=no.inherit(a,o,t.methods),t.models=this._formatModelsDecl(t.models||{}),t.events=t.events||{},t.isBox=!1,t.isCollection=!1,t.ready=!1,n[e]=t,r[e]=a,a},ns.View._reset=function(){r={},n={}},ns.View.infoLite=function(e){var t=n[e];return ns.View.assert(!!t,3,[e]),t},ns.View.info=function(e){var t=ns.View.infoLite(e);return t.ready||(ns.View._initInfoParams(t),ns.View._initInfoEvents(t),t.ready=!0),t},ns.View._initInfoParams=function(e){if(e.params){if(ns.View.assert(!e["params+"],7),ns.View.assert(!e["params-"],8),"function"==typeof e.params)return void(e.pGroups=[]);var t,n=[];t=Array.isArray(e.params)?e.params:[e.params];for(var r=0;r<t.length;r++){var i=t[r];n.push({pNames:Object.keys(i),pFilters:i,pDefaults:{}})}e.pGroups=n}else{var o={};for(var a in e.models){var s=ns.Model.info(a);ns.View.assert(!!s,9,[a]),"object"==typeof s.params&&no.extend(o,s.params)}var u=e["params-"];if(u){for(r=0;r<u.length;r++)delete o[u[r]];delete e["params-"]}e["params+"]&&(no.extend(o,e["params+"]),delete e["params+"]);var c=Object.keys(o);c.length?e.pGroups=[{pNames:c,pFilters:{},pDefaults:o}]:e.pGroups=[]}},ns.View._initInfoEvents=function(e){for(var t in e.createEvents=[],e.initEvents={bind:[],delegate:[]},e.showEvents={bind:[],delegate:[]},e.initNsevents=[],e.showNsevents=[],e.events){var n=t.split(" "),r=n.shift().split("@"),i=r.length>1?r.pop():"";i=!i||"init"!==i&&"show"!==i?"":i;var o=r.join("@"),a=n.join(" ");if(o){var s=e.events[t];if(ns.V.DOM_EVENTS.indexOf(o)>-1){var u=[o,a,e.events[t]],c="window"===a||"document"===a,l=c||!("scroll"===o&&a);i||(i=c?"show":"init"),e[i+"Events"][l?"delegate":"bind"].push(u)}else ns.V.NS_EVENTS.indexOf(o)>-1?e.createEvents.push([o,s]):e[(i=i||"show")+"Nsevents"].push([o,s])}}},ns.View.getKey=function(e,t,n){return this.getKeyAndParams(e,t,n).key},ns.View.getKeyAndParams=function(e,t,n){var r;return r="function"==typeof(n=n||ns.View.info(e)||{}).params?n.params(no.extend({},t)):ns.View._getKeyParams(e,t,n),"function"==typeof n.paramsRewrite&&(r=n.paramsRewrite(r)),ns.View.assert(!!r,10,[e]),{params:r,key:ns.key("view="+e,r)}},ns.View._getKeyParams=function(e,t,n){var r={},i=!1;for(var o in n.models){var a=ns.Model.info(o);"function"==typeof a.params&&(i=!0,no.extend(r,a.params(t)))}i&&(no.extend(r,t),t=r);var s=n.pGroups||[];if(!s.length)return i?t:{};for(var u=0;u<s.length;u++){for(var c=s[u],l=c.pNames||[],f=c.pFilters||{},d=c.pDefaults||{},p={},h=0,m=l.length;h<m;h++){var v=l[h],g=t[v],y=f[v],b=v in d;if(null!=(g=void 0===g?d[v]:g)||!b){if(null==g||y&&g!==y){p=null;break}p[v]=g}}if(p)return p}return null},ns.View.create=function(e,t,n){var i=r[e];ns.View.assert(!!i,3,[e]);var o=new i;return o._init(e,t,n),o},ns.View.assert=function(e,t,n){if(!e){n=Array.isArray(n)?n:[];var r=["ns.View",ns.View.ERROR_CODES[t]].concat(n);ns.assert.fail.apply(ns,r)}},ns.View.ERROR_CODES={1:"Can't redefine '%s'",2:"Can't find '%s' to extend '%s'",3:"'%s' is not defined",4:"'%s' can't find handler '%s' for model '%s'",5:"Can't find method '%s' in '%s'",6:"Can't find node for '%s'",7:"you cannot specify params and params+ at the same time",8:"you cannot specify params and params- at the same time",9:"Model %s is not defined!",10:"Could not generate key for view %s",11:"#patchLayout MUST returns valid layout ID",12:"#patchLayout MUST returns layout with ns.Box at top",13:'You cannot change children inside of a regular view. Maybe "%s" should be ns.Box.'},ns.View.defaultModelEvents={"ns-model-insert":"invalidate","ns-model-remove":"invalidate","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.View._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=no.extend({},this.defaultModelEvents);return t},ns.View._formatModelsDecl=function(e){var t=this._expandModelsDecl(e);for(var n in t){var r=i(t[n]),o=null;for(var a in"string"==typeof r&&(o=r,r={}),this.defaultModelEvents){var s=this.defaultModelEvents[a];void 0===r[a]?r[a]=o||s:r[a]=i(r[a])}t[n]=r}return t};var i=function(e){return!0===e?"invalidate":!1===e?"keepValid":e}})()}),(function(e,t){ns.ViewCollection=function(){},no.extend(ns.ViewCollection,ns.View),no.inherit(ns.ViewCollection,ns.View),ns.ViewCollection.define=function(e,t,n){t=t||{},n=n||this;var r=ns.View.define.call(this,e,t,n);if(ns.assert(t.split,"ns.ViewCollection","'%s'  must define 'split' section",e),ns.assert(!(t.split.intoViews&&t.split.intoLayouts),"ns.ViewCollection","'%s' can't define 'split.intoViews' and 'split.intoLayouts' sections at same time",e),"string"==typeof t.split.intoViews){var i=ns.layout.generateSimple(t.split.intoViews,"ns-auto-layout-"+e);delete t.split.intoViews,t.split.intoLayouts=new Function("",'return "'+i+'"')}else"function"==typeof t.split.intoViews&&(t.split.intoLayouts=function(n,r){var i=t.split.intoViews.call(this,n,r);return i?ns.layout.generateSimple(i,"ns-auto-layout-"+e):null});ns.assert(t.split.intoLayouts,"ns.ViewCollection","'%s'  must define 'split.intoLayouts' section",e),ns.assert(t.split.byModel,"ns.ViewCollection","'%s'  must define 'split.byModel' section",e);var o=t.split.byModel in t.models&&ns.Model.infoLite(t.split.byModel).isCollection;return ns.assert(o,"ns.ViewCollection","'%s'  must depend on ns.ModelCollection",e),t.isCollection=!0,t.modelCollectionId=t.split.byModel,r},ns.ViewCollection.prototype.__customInit=function(){this.__itemsToRemove=[],this.__model2View={},this.__view2ModelKey={}},ns.ViewCollection.eventsModelCollectionDefault={"ns-model-insert":"keepValid","ns-model-remove":"keepValid","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.ViewCollection._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];ns.Model.infoLite(i).isCollection?t[i]=no.extend({},this.eventsModelCollectionDefault):t[i]=no.extend({},this.defaultModelEvents)}return t},ns.ViewCollection.prototype._invokeModelHandler=function(e,t,n,r){if(!r||!r.model)return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.ViewCollection.prototype._getModelVersion=function(e){var t=this.models[e];return e===this.info.modelCollectionId?t.getSelfVersion():t.getVersion()},ns.ViewCollection.prototype.forEachItem=function(e){var t=this.models[this.info.modelCollectionId];if(t.isValid())for(var n=t.models,r=0,i=n.length;r<i;r++){var o=this.getItemByModel(n[r]);o&&e(o)}},ns.ViewCollection.prototype.getItemByModel=function(e){var t=e.key;return this.__model2View[t]},ns.ViewCollection.prototype.isValid=function(){return this.isValidSelf()&&this.isValidDesc()},ns.ViewCollection.prototype.isValidDesc=function(){for(var e in this.views)if(!this.views[e].isValid())return!1;return!0},ns.ViewCollection.prototype.invalidate=function(){this.status===this.STATUS.OK&&(this.status=this.STATUS.INVALID)},ns.ViewCollection.prototype.invalidateAll=ns.View.prototype.invalidate,ns.ViewCollection.prototype._getView=function(e,t){var n=ns.View.getKey(e,t);return this._getViewByKey(n)},ns.ViewCollection.prototype._getViewByKey=function(e){return this.views&&this.views[e]||null},ns.ViewCollection.prototype._addView=function(e,t,n){var r=this._getView(e,t);if(!r){var i=(r=ns.View.create(e,t)).key,o=n.key;this.views[i]=r,this.__model2View[o]=r,this.__view2ModelKey[i]=o}return r},ns.ViewCollection.prototype._deleteView=function(e){var t=e.key,n=this.__view2ModelKey[t];delete this.views[t],delete this.__model2View[n],delete this.__view2ModelKey[t]},ns.ViewCollection.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],t[n].id)},ns.ViewCollection.prototype._getRequestViews=function(e,t,n){var r=t.views,i=this.__evaluateState();if(this.__registerInUpdate(i,e),i){var o=this.models[this.info.modelCollectionId],a={};if(o.isValid()){for(var s=o.models,u=this.info.split.intoLayouts,c=[],l=0,f=s.length;l<f;l++){var d=s[l],p=no.extend({},n,d.params),h=u.call(this,d,p);if(h){var m=ns.layout.page(h,p);for(var v in c.push(m),m){var g=this._addView(v,p,d);g._getRequestViews(e,m[v],p),a[g.key]=null}}}r["ns-view-container"]=c,this.__collectInactiveViews(a)}else e.hasPatchLayout=!0}return this._saveLayout(r),e},ns.ViewCollection.prototype.__collectInactiveViews=function(e){var t=this;this._apply((function(n){n.key in e||(t._deleteView(n),t.__itemsToRemove.push(n))}))},ns.ViewCollection.prototype.__destroyInactiveViews=function(){for(var e=this.__itemsToRemove,t=0,n=e.length;t<n;t++)e[t].destroy();this.__itemsToRemove=[]},ns.ViewCollection.prototype._getUpdateTree=function(e){var t;return t=this.isValidSelf()?this._getPlaceholderTree():this._getViewTree(),e.views[this.id]=t,e},ns.ViewCollection.prototype._getDescViewTree=function(){var e={"ns-view-collection-container":[]},t=this.isValidSelf();return this.forEachItem((function(n){var r=null;if(t)if(n.info.isCollection&&n.isValidSelf())r=n._getPlaceholderTree();else if(n.isValid()){if(!n.isValidWithDesc()){var i={views:{}};return n._getUpdateTree(i),void e["ns-view-collection-container"].push(i.views)}}else r=n._getViewTree();else r=n.isValidSelf()?n._getPlaceholderTree():n._getViewTree();if(r){var o={};o[n.id]=r,e["ns-view-collection-container"].push(o)}})),e},ns.ViewCollection.prototype._updateHTML=function(e,t,n){var r,i=this._extractNode(e),o=$(i).hasClass("ns-view-placeholder");if(r=t.toplevel?no.extend({},t):t,this.isValidSelf())!t.toplevel&&o&&(ns.replaceNode(i,this.node),(r=no.extend({},t)).toplevel=!0,r.parent_added=!0);else{var a=!!this.node;if(!i)throw new Error("[ns.ViewCollection] Can't find node for '"+this.id+"'");t.toplevel?o?r.toplevel=!0:(this.node&&ns.replaceNode(this.node,i),r.toplevel=!1,r.parent_added=!0,this._setNode(i)):o?(ns.replaceNode(i,this.node),r.toplevel=!1,r.parent_added=!0):this._setNode(i),a&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this)}if(this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this),this._saveModelsVersions()),!this.isLoading()){var s,u={},c=this.__getContainer();i=i||this.node,this.forEachItem((function(e){if(o){var t=!e.isValid();e._updateHTML(i,r,n),t&&(s?$(s.node).after(e.node):$(c).prepend(e.node))}else{var a=e.isValid(),l=r;a&&((l=no.extend({},r)).toplevel=!0),e._updateHTML(i,l,n),a&&ns.replaceNode(e._extractNode(i),e.node)}u[e.key]=e,s=e}))}this.__destroyInactiveViews(),this.isLoading()||this.__sortViewItems()},ns.ViewCollection.prototype.__getContainer=function(){var e;return e=ns.hasClass(this.node,"ns-view-container-desc")?this.node:ns.byClass("ns-view-container-desc",this.node)[0],ns.assert(e,"ns.ViewCollection","Can't find descendants container (.ns-view-container-desc element) for '"+this.id+"'"),e},ns.ViewCollection.prototype.__sortViewItems=function(){var e=this.__getContainer(),t=ns.childrenIterator(e);this.forEachItem((function(n){var r=t.getNext();r!==n.node&&(r?e.insertBefore(n.node,r):e.appendChild(n.node))}))}}),(function(e,t){ns.Box=function(e,t){this.id=e,this.__setUniqueId(),this.params=t,this.views={},this.key=ns.Box.getKey(e),this.node=null,this.active={},this._visible=!1,this.destroyed=!1,this.info={isBox:!0,isCollection:!1}},ns.Box.prototype._getViewKey=function(e,t,n){return n===ns.L.BOX?ns.Box.getKey(e):ns.View.getKey(e,t)},ns.Box.prototype._getView=function(e,t,n){var r=this._getViewKey(e,t,n);return this.views[r]},ns.Box.prototype._addView=function(e,t,n){var r=this._getView(e,t,n);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.key]=r),r},ns.Box.prototype._getDescendantsAndSelf=function(e){var t=this.views;for(var n in e.push(this),t){t[n]._getDescendantsAndSelf(e)}return e},ns.Box.prototype._getRequestViews=function(e,t,n){var r=t.views,i={};for(var o in r){var a=r[o],s=this._addView(o,n,a.type);s._getRequestViews(e,a,n),i[o]=s.key}this.active=i},ns.Box.prototype._getUpdateTree=function(e){if(this.isNone())e.views[this.id]=this._getViewTree();else for(var t in this.active){var n=this.active[t];this.views[n]._getUpdateTree(e)}},ns.Box.prototype._getViewTree=function(){var e=this._getCommonTree();for(var t in this.active){var n=this.active[t];e.views[t]=this.views[n]._getViewTree()}return e},ns.Box.prototype.beforeUpdateHTML=function(e,t){for(var n in this.views){var r=this.views[n],i=t||this.active[r.id]!==r.key;r.beforeUpdateHTML(e,i)}},ns.Box.prototype._hideInactiveViews=function(){for(var e in this.views){var t=this.views[e];if(this.active[t.id]!==t.key){t.node&&ns.removeNode(t.node);for(var n=t._getDescendantsAndSelf([]),r=0,i=n.length;r<i;r++)n[r].hideAndUnbindEvents()}}},ns.Box.prototype._updateHTML=function(e,t,n){var r;if(!this.node||!t.toplevel){var i=ns.byClass("ns-view-"+this.id,e)[0];i&&(r=this.node,this.node=i,this._visible=!1)}if(!this.node)throw new Error("[ns.Box] Can't find node for '"+this.id+"'");this._hideInactiveViews();var o=this.views,a=this.active;for(var s in a){o[a[s]]._updateHTML(e,t,n)}this._transferViewsToNewNode(r),this._sortViewNodes(),this._show()},ns.Box.prototype._sortViewNodes=function(){var e=this.active,t=this.views,n=ns.childrenIterator(this.node);for(var r in e){var i=t[e[r]],o=n.getNext();o!==i.node&&(o?this.node.insertBefore(i.node,o):this.node.appendChild(i.node))}},ns.Box.prototype._transferViewsToNewNode=function(e){if(e){var t=this.views;for(var n in t){var r=t[n];if(this.active[r.id]!==r.key){var i=r.node;e.contains(i)&&this.node.appendChild(i)}}}},ns.Box.prototype._show=function(){return!1===this._visible&&(this._visible=!0),!1},ns.Box.prototype.hideAndUnbindEvents=function(){!0===this._visible&&(this._visible=!1)},ns.Box.prototype.isNone=function(){return!this.node},ns.Box.prototype.isValid=function(){return!!this.node},ns.Box.prototype.destroy=function(){var e=this.views;for(var t in e)e[t].destroy();this.node&&($(this.node).off().removeData().remove(),this.node=null,this.$node=null),this.active=null,this.key=null,this.params=null,this.views=null,this._visible=!1,this.destroyed=!0},ns.Box.prototype.__setUniqueId=ns.View.prototype.__setUniqueId,ns.Box.prototype._getCommonTree=ns.View.prototype._getCommonTree,ns.Box.prototype.isValidWithDesc=ns.View.prototype.isValidWithDesc,ns.Box.prototype.isOk=no.true,ns.Box.prototype.isLoading=no.false,ns.Box.getKey=function(e){return"box="+e}}),(function(e,t){!(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.c=t,n.p="",n(0)})([(function(e,t,n){n(1)(ns),n(2)(yr)}),(function(e,t){e.exports=function(e){e.View.prototype.patchTree=function(){return{bosphorus:this}}}}),(function(e,t){e.exports=function(e){function t(t,n,i,o,a,s,u){return r(e.nodeset2data(t).bosphorus[n](i,o,a,s,u))}function n(t,n,i,o,a,s,u,c){var l=e.nodeset2data(t).bosphorus,f=l.getModel(n);if(!f)throw new Error('[ns-bosphorus] Model "'+n+'" in not defined for View "'+[l.id,l.key].join("#")+'"');return r(f[i](o,a,s,u,c))}function r(t){return Array.isArray(t)?e.array2nodeset(t):e.object2nodeset(t)}e.externals["_ns-view-call"]=t,e.externals["_ns-view-call-scalar"]=t,e.externals["_ns-model-call"]=n,e.externals["_ns-model-call-scalar"]=n}})])}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){!(function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),r=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,r))){var i=new XMLHttpRequest;i.open("POST",n),i.send(r)}}Ya.Rum.send=function(r,i,o,a,s,u,c){clearTimeout(e);var l=Ya.Rum.getSetting("slots"),f=Ya.Rum.getSetting("experiments"),d=["/reqid="+Ya.Rum.getSetting("reqid"),c?"/"+c.join("/"):"",i?"/path="+i:"",s?"/events="+s:"",l?"/slots="+l.join(";"):"",f?"/experiments="+f.join(";"):"",o?"/vars="+o:"","/cts="+(new Date).getTime(),"/*"];t.push(d.join("")),t.length<42?e=setTimeout(n,15):n()}})()}),(function(e,t){!(function(e,t){if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")}))},e.setVars=function(t){Object.keys(t).forEach((function(n){e._vars[n]=t[n]})),A(),I()};var n,r,i="690.1033",o="690.2096.207",a="690.2096.2877",s="690.2096.2892",u="690.2096.2044",c="690.2096.361",l="690.2096.4004",f=10,d=3e3,p=2e4,h={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},m={visible:1,hidden:2,prerender:3},v={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},g={"first-paint":2793,"first-contentful-paint":2794},y=Object.keys(g).length,b=e.getTime,_=window.PerformanceObserver,O=window.performance||{},w=O.timing||{},E=O.navigation||{},S=navigator.connection,x={},C={},T=e._deltaMarks,k=document.createElement("link"),j=document.createElement("a"),P="function"==typeof O.getEntriesByType,R=w.navigationStart;function A(){n=e.getVarsList(),e.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function I(){r=n.concat(["143.2129="+R])}function D(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function M(){e.getSetting("disableOnLoadTasks")||(removeEventListener("load",M),(function(){var t=e.getSetting("periodicStatsIntervalMs");t||null===t||(t=15e3);t&&(L=setInterval(G,t));addEventListener("beforeunload",G)})(),(function(){if(!_)return;Y(O.getEntriesByType("navigation")),Y(O.getEntriesByType("resource"));try{new _(function(e){Y(e.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(e){}e._periodicTasks.push(J)})(),(function(){if(!_)return;try{new _(function(e,n){var r=e.getEntries()[0];if(r){var i=r.processingStart,o={duration:r.duration,js:r.processingEnd-i,name:r.name},a=r.target;if(a){var s=(a.tagName||"").toLowerCase(),u=a.className&&a.className.baseVal!==t?a.className.baseVal:a.className;u=u?(" "+u).replace(/\s+/g,"."):"",o.target=s+u}var c=i-r.startTime;H("first-input",c,o),n.disconnect()}}).observe({type:"first-input",buffered:!0})}catch(e){}})(),(function(){if(!P)return;var e=O.getEntriesByType("navigation")[0];if(e){var t=[];ue(t,e),ie(t);var r=O.getEntriesByName("yndxNavigationSource")[0];r&&t.push("2091.186="+r.value),le(s,n.concat(t))}})(),(function(){if(!_)return;var e=new _(function(e){var t=e.getEntries();null==$&&($=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||($+=r.value)}});try{e.observe({type:"layout-shift",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(e){}X()}})),addEventListener("beforeunload",X)})(),(function(){if(!_||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var t=new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];Z=r.renderTime||r.loadTime,Q=r}ee||(U("largest-loading-elem-paint",Z),ee=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}te()}})),addEventListener("beforeunload",te)})())}function N(){var t=w.domContentLoadedEventStart,r=w.domContentLoadedEventEnd;if(0!==t||0!==r){var o=0===w.responseStart?R:w.responseStart,a=0===w.domainLookupStart?R:w.domainLookupStart,s=n.concat(["2129="+R,"1036="+(a-R),"1037="+(w.domainLookupEnd-w.domainLookupStart),"1038="+(w.connectEnd-w.connectStart),w.secureConnectionStart&&"1383="+(w.connectEnd-w.secureConnectionStart),"1039="+(w.responseStart-w.connectEnd),"1040="+(w.responseEnd-o),"1040.906="+(w.responseEnd-a),"1310.2084="+(w.domLoading-o),"1310.2085="+(w.domInteractive-o),"1310.1309="+(r-t),"1310.1007="+(t-o),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(h).forEach((function(e){e in w&&w[e]&&s.push(h[e]+"="+ce(w[e],R))})),e.vsStart?(s.push("1484="+(m[e.vsStart]||2771)),e.vsChanged&&s.push("1484.719=1")):s.push("1484="+m.visible),E&&(E.redirectCount&&s.push("1384.1385="+E.redirectCount),1!==E.type&&2!==E.type||s.push("770.76="+E.type)),ie(s),le(i,s)}else setTimeout(N,50)}A(),I(),e.ajaxStart=0,e.ajaxComplete=0,D((function(){if(!R)return;setTimeout((function(){e.sendTimeMark=U,e.sendResTiming=W,e.timeEnd=V;for(var t=e._defRes;t.length;){var n=t.shift();W(n[0],n[1])}for(var r=e._defTimes;r.length;){var i=r.shift();U(i[0],i[1],!1,i[2])}Object.keys(T).forEach((function(e){H(e)})),N(),(function t(){if(!P||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var n=O.getEntriesByType("paint");for(var r=0;r<n.length;r++){var i=n[r],o=g[i.name];o&&!F[i.name]&&(F[i.name]=!0,B++,U("1926."+o,i.startTime))}if(B<y)try{new _(function(e,n){t(),n&&n.disconnect()}).observe({entryTypes:["paint"]})}catch(e){}})(),e.getSetting("sendAutoElementTiming")&&ne(),re(),"complete"===document.readyState?M():addEventListener("load",M)}),0)})),e._getCommonVars=function(){return n};var L,F={},B=0;function U(n,r,i,a){r===t&&(r=b()),i!==t&&!0!==i||e.mark(n,r);var s=se(n);if(s.push("207="+ce(r)),z(s,a)){le(o,s),x[n]=x[n]||[],x[n].push(r);var u=e._markListeners[n];u&&u.length&&u.forEach((function(e){e(r)}))}}function z(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce((function(e,t,n){"string"==typeof t&&(e[t.split("=")[0]]=n);return e}),{});Object.keys(n).forEach((function(i){if("function"!=typeof n[i]){var o=r[i],a=i+"="+n[i];o===t?e.push(a):e[o]=a}}))}return!0}function V(e,t){var n=T[e];n&&0!==n.length&&(n.push(b(),t),H(e))}function H(n,r,i){var o,s,u,c=T[n];if(void 0!==r?o=(s=e.getTime())-r:c&&(o=c[0],s=c[1],u=c[2]),o!==t&&s!==t){var l=se(n);l.push("207.2154="+ce(o),"207.1428="+ce(s),"2877="+ce(s-o)),z(l,i)&&z(l,u)&&(le(a,l),delete T[n])}}function W(t,n){oe(n,(function(r){if(r){var i=se(t);e.getSetting("sendUrlInResTiming")&&i.push("13="+encodeURIComponent(n)),ue(i,r[r.length-1]),le(u,i)}}))}function G(){var t=!1;e._periodicTasks.forEach((function(e){e()&&(t=!0)})),t||clearInterval(L)}e.getTimeMarks=function(){return x},e._periodicTasks=[];var $,q=0;function Y(e){if(e&&e.length)for(var t=C,n=0;n<e.length;n++){var r=K(e[n]);if(r){var i=r.domain+"-"+r.extension,o=t[i]=t[i]||{count:0,size:0};o.count++,o.size+=r.size}}}function K(e){var t=e.transferSize;if(null!=t){j.href=e.name;var n=j.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),i="";return-1!==r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(i=n.slice(r+1)),{size:t,domain:j.hostname,extension:i}}}}function J(){var t=e.getSetting("maxTrafficCounters")||250;if(q>=t)return!1;for(var r=Object.keys(C),i="",o=0;o<r.length;o++){var a=r[o],s=C[a];i+=encodeURIComponent(a)+"!"+s.count+"!"+s.size+";"}if(i.length){q++;var u=n.concat(["d="+i,"t="+ce(b())]);le(c,u)}return C={},q<t}function X(){if(null!=$){var e=Math.round(1e6*$)/1e6;le(l,n.concat("s="+e)),$=null}}var Z=null,Q=null,ee=!1;function te(){if(null!=Z){var t=e.getLCPAdditionalParams(Q);U("largest-contentful-paint",Z,!1,t),Z=null,Q=null}}var ne=_?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];U("element-timing."+r.identifier,r.startTime)}}).observe({type:"element",buffered:!0})}catch(e){}}:function(){};function re(t,n,r){if(e._tti){var i=b(),o=function(t,o,a){var s={2796.2797:ae(a,n),689.2322:ce(i)};r&&Object.keys(r).forEach((function(e){s[e]=r[e]})),U(t||"2795",o,!0,s),e._tti.fired=!0};!(function r(){var a,s=n||i,u=b(),c=e._tti.events||[],l=c.length;0!==l&&(a=c[l-1],s=Math.max(s,Math.floor(a.startTime+a.duration))),u-s>=d?o(t,s,c):u-s>=p?o(t,(n||i)+p,c):setTimeout(r,1e3)})()}}function ie(e){S&&e.push("2437="+(v[S.type]||2771),S.downlinkMax!==t&&"2439="+S.downlinkMax,S.effectiveType&&"2870="+S.effectiveType,S.rtt!==t&&"rtt="+S.rtt,S.downlink!==t&&"dwl="+S.downlink)}function oe(e,t){if(!P)return t(null);k.href=e;var n=k.href,r=0,i=100;setTimeout((function e(){var o=O.getEntriesByName(n);if(o.length)return t(o);r++<f?(setTimeout(e,i),i+=i):t(null)}),0)}function ae(e,t){return e=e||[],t=t||0,e.filter((function(e){return e.startTime-t>=-50})).map((function(e){var t=e.name?e.name.split("-").map((function(e){return e[0]})).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)})).join(".")}function se(t){return r.concat(["1701="+t,e.ajaxStart&&"1201.2154="+ce(e.ajaxStart),e.ajaxComplete&&"1201.2052="+ce(e.ajaxComplete)])}function ue(e,t){Object.keys(h).forEach((function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(h[n]+"="+ce(r))}}))}function ce(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function le(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var i=n.filter(Boolean).join(",");e.send(null,t,i)}e.sendTTI=re,e.sendHeroElement=function(e){U("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var i=!1;return{689.2322:ce(void 0!==n?n:b()),2924:t,2925:r,isCanceled:function(){return i},cancel:function(){i=!0}}},e._getLongtasksStringValue=ae,e.getResourceTimings=oe,e.pushConnectionTypeTo=ie,e.pushTimingTo=ue,e.normalize=ce,e.sendCounter=le,e.sendDelta=H,e.sendTrafficData=J,e.finalizeLayoutShiftScore=X,e.finalizeLargestContentfulPaint=te,e.onReady=D})(Ya.Rum)}),(function(e,t){!(function(){function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.src;if(!a){var s=getComputedStyle(o).backgroundImage;if(s){var u=s.match(/^url\(["']?(.*?)["']?\)$/);u&&(a=u[1])}}a&&t.sendResTiming(o.getAttribute("data-rCid"),a)}}Ya.Rum.enabled&&!Ya.Rum._onloadCounterInited&&(Ya.Rum._onloadCounterInited=!0,"complete"===document.readyState?e():addEventListener("load",e))})()}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(601);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={getClientResourceDialogUrl:function(e,t,n){return"/client".concat(e,"|").concat(n).concat(t)}}}),(function(e,t,n){"use strict";n.r(t);var r={timeZero:new Date,timers:{},timersCompleted:{},groupsTimers:[],LENGTH_URL_MAX:1e3,LENGTH_PART_MIN:150,COUNT_MAX:50,TIMELONG:2e3,send:function(e,t,n){var r=(n?"/stats/"+n+"/?":"/monitoring.txt?")+i(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e));if(t){var o={},a=this.LENGTH_URL_MAX-r.length,s=encodeURIComponent(t),u=s.length;if(a>=this.LENGTH_PART_MIN){var c=new RegExp(".{1,"+a+"}","g"),l=s.match(c);if(l){o.part_id=Math.floor(100*Math.random());for(var f=0,d=l.length;f<this.COUNT_MAX&&f<d;f++)o.part=f,this.query(r+"&"+i(o)+"&text="+l[f])}}else o.step=a,o.length=u,this.query(r+"&"+i(o))}else this.query(r)},time:function(e){this.timers[e]=new Date},timeEnd:function(e){var t=this.timers[e];void 0===t?t=this.timeZero:delete this.timers[e];var n=Date.now()-t;this.timersCompleted[e]=n,this.show("Time:",e,n),this.sendGroupsTimers()},sendTimers:function(e,t){t=t||{};for(var n=0,r=e.length;n<r;n++){var i=e[n],o=this.timersCompleted[i];t[i]=o||0}t.type="timings",this.send(t)},query:function(e){"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e):(new Image).src=e},addGroupTimers:function(e){var t=this;this.groupsTimers.push(e);var n=this.groupsTimers[this.groupsTimers.length-1];n.timeout=setTimeout((function(){t.sendTimers(n,{error:"long"})}),this.TIMELONG)},sendGroupsTimers:function(){for(var e=0,t=this.groupsTimers.length;e<t;e++){for(var n=this.groupsTimers[e],r=!0,i=0,o=n.length;i<o;i++){var a=n[i];if(void 0===this.timersCompleted[a]){r=!1;break}}r&&(clearTimeout(n.timeout),this.sendTimers(n))}}};function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}t.default=r}),(function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!(function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,d=38,p=700,h=72,m=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=c-l,w=Math.floor,E=String.fromCharCode;function S(e){throw new RangeError(_[e])}function x(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(b,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function k(e){return x(e,(function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)})).join("")}function j(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?w(e/p):e>>1,e+=w(e/t);e>O*f>>1;r+=c)e=w(e/O);return w(r+(O+1)*e/(e+d))}function A(e){var t,n,r,i,o,a,s,d,p,g,y=[],b=e.length,_=0,O=m,E=h;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=c;i>=b&&S("invalid-input"),((d=j(e.charCodeAt(i++)))>=c||d>w((u-_)/a))&&S("overflow"),_+=d*a,!(d<(p=s<=E?l:s>=E+f?f:s-E));s+=c)a>w(u/(g=c-p))&&S("overflow"),a*=g;E=R(_-o,t=y.length+1,0==o),w(_/t)>u-O&&S("overflow"),O+=w(_/t),_%=t,y.splice(_++,0,O)}return k(y)}function I(e){var t,n,r,i,o,a,s,d,p,g,y,b,_,O,x,C=[];for(b=(e=T(e)).length,t=m,n=0,o=h,a=0;a<b;++a)(y=e[a])<128&&C.push(E(y));for(r=i=C.length,i&&C.push(v);r<b;){for(s=u,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>w((u-n)/(_=r+1))&&S("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>u&&S("overflow"),y==t){for(d=n,p=c;!(d<(g=p<=o?l:p>=o+f?f:p-o));p+=c)x=d-g,O=c-g,C.push(E(P(g+x%O,0))),d=w(x/O);C.push(E(P(d,0))),o=R(n,_,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.4.1",ucs2:{decode:T,encode:k},decode:A,encode:I,toASCII:function(e){return C(e,(function(e){return y.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return C(e,(function(e){return g.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)})()}).call(this,n(178)(e),n(131))}),(function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}),(function(e,t,n){"use strict";t.decode=t.parse=n(994),t.encode=t.stringify=n(995)}),(function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,p,h,m=e[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),(function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}),(function(e,t){e.exports={replaceServiceTld:function(e,t){var n=(e.match(/(?:(?:https?\:)?\/\/)?[^\/]*/g)||[""])[0],r=n.replace(/(\w+|com\.tr|com\.am|com\.ge|co\.il)$/,t);return e.replace(n,r)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBasicProduct=t.getBasicProductForKey=t.findBasicProduct=t.findBestPrice=t.getMonthPrice=void 0;const r=n(109),i={amount:Number.MAX_VALUE,period:r.PaymentPeriod.month,period_count:1,price_id:"FAKE_PRICE",currency:r.Currency.RUB};t.getMonthPrice=((e,t)=>{let n=e.amount/e.period_count;return e.period===r.PaymentPeriod.year&&(n/=12),t?Math[t](n):n});t.findBestPrice=(e=>{if(!e.length)return;return[...e].sort((e,n)=>(0,t.getMonthPrice)(e)-(0,t.getMonthPrice)(n))[0]});t.findBasicProduct=(e=>{if(e.items)return[...e.items].sort((e,n)=>{const r=(0,t.findBestPrice)(e.prices)||i,o=(0,t.findBestPrice)(n.prices)||i;return(0,t.getMonthPrice)(r)-(0,t.getMonthPrice)(o)})[0]});t.getBasicProductForKey=((e,n)=>(0,t.findBasicProduct)(e[n]));t.getBasicProduct=(e=>Object.entries(e).reduce((e,[n,r])=>Object.assign(Object.assign({},e),{[n]:(0,t.findBasicProduct)(r)}),{}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBestOfferForKey=t.getBestOffers=void 0;const r=e=>e.items.find(e=>e.best_offer);t.getBestOffers=(e=>Object.entries(e).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:r(n)}),{}));t.getBestOfferForKey=((e,t)=>r(e[t]))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDiskSpace=t.getFeature=void 0;const r=n(109);t.getFeature=((e,t)=>e.features.find(e=>e.code===t));t.getDiskSpace=(e=>{var n;return null===(n=(0,t.getFeature)(e,r.ProductFeatureCode.DiskSpace))||void 0===n?void 0:n.value})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasSpecificProductFamilyForKey=t.hasSpecificProductFamily=t.getSpecificProductFamilyForKey=t.getSpecificProductFamily=void 0;const r=(e,t)=>e.items.filter(e=>e.product_id_family===t);t.getSpecificProductFamily=((e,t)=>Object.entries(e).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[n]:r(i,t)}),{}));t.getSpecificProductFamilyForKey=((e,t,n)=>r(e[n],t));t.hasSpecificProductFamily=((e,n)=>{const r=(0,t.getSpecificProductFamily)(e,n);return Object.values(r).some(e=>e.length>0)});t.hasSpecificProductFamilyForKey=((e,n,r)=>(0,t.getSpecificProductFamilyForKey)(e,n,r).length>0)}),(function(e,t,n){"use strict";function r(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.getPromoCodeActivation=t.getMostRelevantPromo=t.getPromosList=t.isDefined=void 0,t.isDefined=r;t.getPromosList=(e=>Object.entries(e).map(([e,t])=>t.active_promo?Object.assign(Object.assign({},t.active_promo),{product_set:e}):void 0).filter(r));t.getMostRelevantPromo=(e=>{const n=(0,t.getPromosList)(e);return n.sort((e,t)=>(e.order_num||0)-(t.order_num||0)),n.length?n[0]:void 0});t.getPromoCodeActivation=(e=>{const n=(0,t.getMostRelevantPromo)(e);return n&&n.promo_code_activation_date?{status:n.promo_code_activation_status||"active",date:new Date(n.promo_code_activation_date).getTime()}:void 0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrialForKey=t.getTrial=void 0;const r=e=>e.items.filter(e=>e.trial);t.getTrial=(e=>Object.entries(e).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:r(n)}),{}));t.getTrialForKey=((e,t)=>r(e[t]))}),(function(e,t){ns.Model.define("do-settings-set",{params:{key:null,value:null}})}),(function(e,t,n){"use strict";n.r(t);n(605);var r=ns.Model.define("operations",{isCollection:!0,methods:{getByType:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.models.filter((function(e){return t.includes(e.getType())}))}}});t.default=r}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(9),a=n.n(o),s=n(233),u=n(422);s.a.define("queueSync",{limit:3,methods:{TIMEOUT_RETRY_REQUEST:5e3,handlePortion:function(e){var t=this,n=a.a.reduce(e,(function(e,t){var n=ns.Model.key(t.item.id,t.item.params);return e[n]?e[n].promise&&e[n].promise.then((function(){t.promise.fulfill()}),(function(){t.promise.reject()})):e[n]=t,e}),{}),r=a.a.map(n,(function(e){return e.item})),o=ns.forcedRequest(r);return o.then((function(e){a.a.each(e,(function(e){var t=ns.Model.key(e.id,e.params);n[t].promise&&n[t].promise.fulfill(e)}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),o}}}),ns.Model.get("queueSync").setDataDefault()}),(function(e,t,n){var r=n(9),i={extendRouterRegs:function(e){r.extend(e.router.regexps,{path:"(?:\\/[^\\/\\?]+)+",slashOptional:"\\/?",pipe:"(?:\\||%7C)",query:"[^/]+",force:"force",any:"[^?]*"})}};e.exports=i}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDatabase",(function(){return l})),n.d(t,"closeDatabase",(function(){return f})),n.d(t,"processRecord",(function(){return d})),n.d(t,"removeCacheApiPromise",(function(){return h}));var r=n(806),i=n.n(r),o=4980736,a={},s=function(e){var t=e.databaseId,n=e.collectionId,r=void 0===n?"":n,i=e.context,o=void 0===i?"app":i;return"".concat(t,"_").concat(r,"_").concat(o)},u=function(e){return function(t){return"function"==typeof e?t.on("update",(function(){return e(t)})):t}},c=function(e){return function(t){throw delete a[e],t}};function l(e){var t=s(e),n=e.apiHost,r=e.databaseId,l=e.collectionId,f=void 0===l?"":l,d=e.context,h=void 0===d?"app":d,m=e.headers,v=e.token,g=e.scriptUrl,y=e.loadScriptCallback,b=e.withCredentials,_=void 0===b||b,O=e.useClientStorage,w=void 0!==O&&O,E=e.onUpdate,S=e.session;if(a[t])return a[t].then(u(E));var x={context:h,database_id:r,collection_id:f,with_credentials:_,use_client_storage:w,headers:m,token:v};return a[t]=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yastatic.net/s3/liza/data-sync/cloud-data-sync-api.min.js",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(p)return p;return p=new Promise(function(e,r){var o=window.ya;if(o&&o.cloud&&o.cloud.dataSyncApi)return e(o.cloud.dataSyncApi);i()(t,(function(t){t?(p=null,r({error:"Cannot load script"})):(n&&n(),e(window.ya.cloud.dataSyncApi))}))}).then((function(t){return new Promise(function(n){window.ya.modules.require(["cloud.dataSyncApi.config","localForage","cloud.dataSyncApi.syncEngine.PushEngine","cloud.dataSyncApi.http","component.xhr"],(function(i,a,s,u,c){var l=s.prototype._onPush;s.prototype._onPush=function(e){var t={};try{t=JSON.parse(e.data)}catch(e){}if("ping"===t.operation){var n=1e3*(Number(t["server-interval-sec"])||60)+1e4;this._pingTimer&&clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this.fail.bind(this,"Connection lost"),n)}l.call(this,e)},a.config({size:o/2}),i.apiHost=e,u.subscribe=function(t){var n=e+"v1/data/subscriptions/web?databases_ids="+encodeURIComponent(t.database_ids.join(","));return r&&(n+="&session="+r),c(n,{parse:!0,headers:{},withCredentials:!0})},n(t)}))})}))})(n,g,y,S).then((function(e){return e.openDatabase(x)})).then(u(E)).catch(c(t)),a[t]}function f(e){var t=s(e);if(a[t]){var n=a[t];delete a[t],n.then((function(e){e.close(),e._listeners=[]}))}}function d(e){return e.getFieldIds().reduce((function(t,n){return t[n]=e.getFieldValue(n).valueOf(),t}),{collectionId:e.getCollectionId(),recordId:e.getRecordId()})}var p=null;function h(){p=null}}),(function(e,t){var n={openableWithPreview:{mimetypes:["application/vnd.ms-excel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/x-vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet-template","application/msexcel","application/x-dos_ms_excel","application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/vnd.ms-powerpoint","application/powerpoint","application/x-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text","application/doc","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","text/rtf","application/vnd.oasis.opendocument.text","application/futuresplash","application/x-fictionbook+xml","image/vnd.djvu","image/x-djvu","application/djvu"],extnames:["xls","xlsx","ods","xlt","pdf","ppt","pptx","odp","rtf","doc","docx","odt","docm","dotx","dot","dotm","tiff","tif","log"]},openableWithoutPreview:{mimetypes:["application/gzip","application/x-gzip","application/x-gunzip","application/gzipped","application/x-tar","application/x-bzip2","application/x-bz2","application/zip","application/x-compressed","application/x-zip-compressed","application/rar","application/x-rar","application/x-rar-compressed","compressed/rar","application/x-xar","text/csv","text/comma-separated-values"],extnames:["zip","rar","cab","7z","chm","txt","csv","fb2"]}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=e||"",n.openableWithoutPreview.extnames.includes(t)||n.openableWithoutPreview.mimetypes.includes(e)||r&&n.openableWithPreview.extnames.includes(t)||r&&n.openableWithPreview.mimetypes.includes(e)}}),(function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(1011);e.exports=function(e){return r(e.delims&&e.delims.elem&&e.delims.mod,"@bem/sdk.naming.entity.stringify: convention should be an instance of BemNamingEntityConvention"),function(t){return (function(e,t){if(!e||!e.block)return"";var n=e.block;e.elem&&(n+=t.elem+e.elem);var r=e.mod,i=("string"==typeof r?r:r&&r.name)||!e.__isBemEntityName__&&e.modName;if(i){var o=r&&r.hasOwnProperty("val")||e.hasOwnProperty("modVal"),a=r&&r.val||!e.__isBemEntityName__&&e.modVal;!a&&0!==a&&o||(n+=t.mod.name+i),a&&!0!==a&&(n+=t.mod.val+a)}return n})(t,e.delims)}}}),(function(e,t,n){"use strict";(function(t){var r=n(1012);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(1013),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(c||!a.isFunction(e))return a.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||g(e,!0,t,"==",d.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),(function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),o=_(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),b(e,t,n);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!b(e[s],t[s],n,r))return!1;return!0})(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=(function(e){var t;try{e()}catch(e){t=e}return t})(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&a.isError(i),u=!e&&i&&!n;if((s&&o&&O(i,n)||u)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!O(i,n)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=(function(e){return m(v(e.actual),128)+" "+e.operator+" "+m(v(e.expected),128)})(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(d.AssertionError,Error),d.fail=g,d.ok=y,d.equal=function(e,t,n){e!=t&&g(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){w(!0,e,t,n)},d.doesNotThrow=function(e,t,n){w(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=r((function e(t,n){t||g(t,!0,n,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(131))}),(function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()?Object.assign:function(e,t){for(var n,a,s=(function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)})(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}}),(function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=(function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")})(e,n);if(o)return o;var a=Object.keys(n),s=(function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t})(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var c,_="",S=!1,x=["{","}"];(p(n)&&(S=!0,x=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),O(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?(function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o})(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,S)})),e.seen.pop(),(function(e,t,n){if(e.reduce((function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]})(c,_,x)):x[0]+_+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function O(e){return _(e)&&"[object Date]"===S(e)}function w(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=O,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(1014);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",(function(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")})(),t.format.apply(t,arguments))},t.inherits=n(1015),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(k&&e[k]){var t;if("function"!=typeof(t=e[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),k&&Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=k,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(j,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(289))}),(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}}),(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),(function(e,t,n){"use strict";e.exports={origin:n(1017),react:n(1018),"two-dashes":n(1019)}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"_",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"-",mod:{name:"_",val:"_"}},fs:{delims:{elem:""},pattern:"${layer?${layer}.}blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"--",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=n(1022);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}}),(function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),(function(e,t,n){"use strict";function r(e,t,n){var r,i,o,c=function(c){var l,f;return r=r||s.cn(e),i=i||r(),a.forwardRef((function(e,s){var d=(o=o||Object.keys(t)).every((function(n){var r=t[n],i=e[n];return r===i||"*"===r&&Boolean(i)})),p=Object.assign({},e,{ref:s});if(d){var h=o.reduce((function(e,n){return"*"!==t[n]&&(e[n]=t[n]),e}),{});return f=f||r(h),p.className=u.classnames(f,e.className).replace(i+" ",""),"function"==typeof n?void 0===l&&(l=n(c)):l=c,a.createElement(l,p)}return a.createElement(c,p)}))},l=n||{},f=l.__passToProps,d=void 0===f?1:f,p=l.__simple,h=void 0===p?0:p,m=Object.keys(t),v=m[0],g=t[m[0]];return(c.__isSimple=!n&&1===m.length||h)&&(c.__blockName=e,c.__mod=v,c.__value=g,c.__passToProps=d),c}function i(e){for(var t={},n={},r=s.cn(e[0].__blockName),i=0,o=e;i<o.length;i++){var u=o[i],l=u.__mod,f=u.__value,d=u.__passToProps;t[l]=t[l]||[],n[l]=n[l]||[],t[l].push(f),n[l].push(d)}var p=Object.keys(t);return function(e){return function(i){for(var o={},s=c({},i),u=0,l=p;u<l.length;u++){var f=l[u],d=t[f],h=i[f],m=d.indexOf(h);-1===m&&1==d[0]&&0==h&&(m=0),-1!==m?(o[f]=h,n[f][m]||delete s[f]):s.hasOwnProperty(f)&&void 0===h&&delete s[f]}return s.className=r(o,[i.className]),a.createElement(e,s)}}}function o(){for(var e=[],t=[],n=0,r=[].slice.call(arguments);n<r.length;n++){var o=r[n];o.__isSimple?e.push(o):t.push(o)}return(e.length?[i(e)].concat(t):t).reduce((function(e,t){return function(){return e(t.apply(0,arguments))}}),(function(e){return e}))}Object.defineProperty(t,"__esModule",{value:1});var a=n(0),s=n(34),u=n(1025),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.compose=o,t.composeU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(void 0,e)},t.createClassNameModifier=function(e,t){return r(e,t,{__passToProps:0,__simple:1})},t.withBemMod=r}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var f=o[l];1==f?u+=c+l:f&&(u+=c+l+r+f)}}if(void 0!==a)for(var d=0,p=a.length;d<p;d++){var h=a[d];if(h&&"string"==typeof h.valueOf())for(var m=h.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:1});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t,n){"use strict";e.exports=n(1026)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;t.canUseDOM=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonIcon=void 0;var r=n(2),i=n(476);n(1030);t.ButtonIcon=function(e){var t=e.side,n=e.provider,o=r.__rest(e,["side","provider"]);return n(i.cnButton("Icon",{side:t},[o.className]))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonText=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(476);n(1032);t.ButtonText=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnButton("Text",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1085),t.withViewClearInverse=r.withBemMod(i.cnButton(),{view:"clear-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1087),t.withViewDark=r.withBemMod(i.cnButton(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1089),t.withViewB2BBanner=r.withBemMod(i.cnButton(),{view:"b2b-banner"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1091),t.withViewTundora=r.withBemMod(i.cnButton(),{view:"tundora"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1093),t.withViewTransparent=r.withBemMod(i.cnButton(),{view:"transparent"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1095),t.withViewClearBlack=r.withBemMod(i.cnButton(),{view:"clear-black"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1097),t.withSizeXXXL=r.withBemMod(i.cnButton(),{size:"xxxl"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1099),t.withSizeXXS=r.withBemMod(i.cnButton(),{size:"xxs"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1101),t.withViewPseudoInverse=r.withBemMod(i.cnButton(),{view:"pseudo-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1103),t.withViewSuggest=r.withBemMod(i.cnButton(),{view:"suggest"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(118);n(1105),t.withCenteredIcon=r.withBemMod(i.cnButton(),{centeredIcon:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(793);n(1117),t.withViewDark=r.withBemMod(i.cnSpin(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(489);n.d(t,"useFocusTrap",(function(){return r.a}))}),(function(e,t,n){var r=n(1);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(625)(Object.keys,Object);e.exports=r}),(function(e,t,n){var r=n(220)(n(152),"DataView");e.exports=r}),(function(e,t,n){var r=n(626),i=n(1125),o=n(153),a=n(628),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}}),(function(e,t,n){var r=n(247),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}}),(function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}}),(function(e,t,n){var r=n(1126),i=(function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();e.exports=function(e){return!!i&&i in e}}),(function(e,t,n){var r=n(152)["__core-js_shared__"];e.exports=r}),(function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}}),(function(e,t,n){var r=n(220)(n(152),"Promise");e.exports=r}),(function(e,t,n){var r=n(220)(n(152),"WeakMap");e.exports=r}),(function(e,t,n){var r=n(246),i=n(179),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t){e.exports=function(){return!1}}),(function(e,t,n){var r=n(246),i=n(491),o=n(179),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(5),c=n(399),l=a(n(167)),f=o(n(634)),d=a(n(154)),p=a(n(132)),h=a(n(1185)),m=a(n(1237)),v=n(34);n(1249);var g=u.compose(c.withSizeM,c.withViewDefault)(c.Radiobox),y=v.cn("ShareDialogAccessAccordion"),b={disabled:"view",all:"edit all"},_=function(e){var t=e.lang,n=e.resourcePath,r=e.chooseTariffLink,o=e.setLinkSettings,a=e.pddOrgId,u=e.visible,c=e.onChangeSecuritySettings,l=e.userHasPublicSettingsFeature,f=e.externalOrganizationIds,d=e.countMetrikaFn,p=e.shouldRenderOrganizationScopeBlock,h=e.isSmartphone,v=e.isB2b,g=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.apply(void 0,i(["security settings","organization scope"],e))}),[d]);return p&&a?s.default.createElement(m.default,{lang:t,resourcePath:n,chooseTariffLink:r,setLinkSettings:o,pddOrgId:a,dialogVisible:u,onChangeSecuritySettings:c,hasFeature:l,externalOrganizationId:null===f||void 0===f?void 0:f[0],countMetrikaFn:g,isSmartphone:h,isB2b:v}):null};t.default=function(e){var t=e.isUserHasRightsToModifyAccess,n=e.isOverdraft,i=e.isVicariousDoc,o=e.officeAccessType,a=e.runChangeType,u=e.onAccessTypeChange,m=e.lang,v=e.isResourceTypeAvailableToEdit,O=e.resourceType,w=e.viewOnlyTooltipType,E=e.noViewOnlyTooltip,S=e.defaultExpanded,x=e.visible,C=e.resourceId,T=e.isTouch,k=e.deselectClass,j=e.countMetrikaFn,P=e.pddOrgId,R=e.externalOrganizationIds,A=s.useState(S),I=A[0],D=A[1],M=s.useState(o),N=M[0],L=M[1];s.useEffect((function(){L(o)}),[o]),s.useEffect((function(){x&&D(S)}),[x,S]);var F,B=s.useCallback((function(){D(!0),j("expand")}),[j]),U=s.useCallback((function(e){L(e);var t=a({resourceId:C,accessType:e}).catch((function(e){throw L(o),e}));null===u||void 0===u||u({newAccessType:e,promise:t}),j("change access",b[e])}),[a,C,o,u,j]);n?F=f.AccessStubType.Overdraft:i?F=f.AccessStubType.VicariousDoc:t||(F=f.AccessStubType.ReadOnlyRights);var z=Boolean(P&&parseInt(P,10)===(null===R||void 0===R?void 0:R[0]));return!v||F?s.default.createElement("div",{className:y()},s.default.createElement(f.default,{stubType:F,resourceType:O,lang:m,value:N,addonAfter:E||F?null:s.default.createElement(h.default,{lang:m,resourceType:O,viewOnlyTooltipType:w,isTouch:T,deselectClass:k}),isB2bSharingOn:z}),s.default.createElement(_,r({},e))):I?s.default.createElement("div",{className:y()},s.default.createElement(g,{size:"m",view:"default",value:N,onChange:function(e){return U(e.target.value)}},s.default.createElement(c.Radio,{value:"disabled"},s.default.createElement(f.default,{lang:m,value:"disabled",isB2bSharingOn:z})),s.default.createElement(c.Radio,{value:"all"},s.default.createElement(f.default,{lang:m,value:"all",isB2bSharingOn:z}))),s.default.createElement(_,r({},e))):s.default.createElement("div",{className:y()},s.default.createElement(f.default,{className:y("AccessType",{Expandable:!0}),resourceType:O,lang:m,value:N,onClick:B,addonAfter:s.default.createElement(p.default,{view:"clear",size:"l","aria-label":l.default(m,"access-type-expand"),icon:function(){return s.default.createElement(d.default,{name:"arrowBottom",className:y("Icon")})}}),isB2bSharingOn:z}),s.default.createElement(_,r({},e)))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=r.createContext({}),a=o.Provider,s=o.Consumer;var u=function(){return r.useContext(o)},c=(function(){function e(e){var t=e.id,n=e.overridable,r=void 0===n||n;this.components={},this.id=t,this.overridable=r}return e.prototype.set=function(e,t){return this.components[e]=t,this},e.prototype.get=function(e){return this.components[e]},e.prototype.snapshot=function(){return this.components},e.prototype.merge=function(t){var n=new e({id:this.id,overridable:this.overridable});return n.components=i({},this.components,t?t.snapshot():{}),n},e})();t.ComponentRegistryConsumer=function(e){return r.createElement(s,null,(function(t){return e.children(t[e.id].snapshot())}))},t.Registry=c,t.RegistryConsumer=s,t.registryContext=o,t.useComponentRegistry=function(e){return u()[e].snapshot()},t.useRegistries=u,t.withRegistry=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=function(n){return r.createElement(s,null,(function(o){var s=i({},o);return e.forEach((function(e){var t=o[e.id];s[e.id]=e.overridable?t?e.merge(t):e:e&&t?t.merge(e):e})),r.createElement(a,{value:s},r.createElement(t,i({},n)))}))};return n.displayName="RegistryResolver("+e.map((function(e){return e.id})).join(", ")+")",n}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxRadio=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(631),a=n(291),s=n(633);r.__exportStar(n(631),t),t.RadioboxRadio=s.withControl((function(e){var t=e.className,n=e.hovered,s=r.__rest(e,["className","hovered"]);return i.default.createElement(o.RadioboxRadio,r.__assign({},s,{className:a.cnRadiobox("Radio",{hovered:n},[t])}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxBox=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(291);n(1153);t.RadioboxBox=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnRadiobox("Box",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxControl=void 0;var r=n(2).__importDefault(n(0)),i=n(291);n(1155);t.RadioboxControl=function(e){var t=e.autoFocus,n=e.checked,o=e.controlRef,a=e.disabled,s=e.labelledBy,u=e.name,c=e.onChange,l=e.value;return r.default.createElement("input",{"aria-checked":n,"aria-labelledby":s,autoFocus:t,autoComplete:"off",checked:n,className:i.cnRadiobox("Control"),disabled:a,name:u,onChange:c,ref:o,type:"radio",value:l})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_web=t.yandex_disk_web||{},t.yandex_disk_web["share-dialog"]={"access-type-expand":function(e){return"Развернуть"},"access-type-org-subtitle_edit":function(e){return"Редактировать смогут только ваши коллеги, у которых есть ссылка"},"access-type-org-subtitle_view":function(e){return"Просматривать смогут только ваши коллеги, у которых есть ссылка"},"access-type-subtitle-vicarious-doc":function(e){return"У вас нет прав их изменять, этот файл не ваш"},"access-type-subtitle_edit":function(e){return"Редактировать смогут все, у кого есть ссылка"},"access-type-subtitle_no-edit-rights":function(e){return"Файлы в этой папке можно только просматривать"},"access-type-subtitle_overdraft":function(e){return"Файлы занимают больше места, чем у вас есть"},"access-type-subtitle_view":function(e){return"Просматривать смогут все, у кого есть ссылка"},"access-type-title-album_overdraft":function(e){return"Альбом по ссылке недоступен"},"access-type-title-file_overdraft":function(e){return"Файл по ссылке недоступен"},"access-type-title-folder_overdraft":function(e){return"Папка по ссылке недоступна"},"access-type-title-vicarious-doc":function(e){return"Настройки ссылки недоступны"},"access-type-title_edit":function(e){return"Редактирование"},"access-type-title_no-edit-rights":function(e){return"Настройки ссылки недоступны"},"access-type-title_view":function(e){return"Просмотр"},"album-link-title":function(e){return"Ссылка на альбом"},apply:function(e){return"Применить"},"available-to":function(e){return"Кому доступно"},"available-to-organization-only":function(e){return"Ссылка будет доступна только вашим коллегам"},"available-to-organization-only-label":function(e){return"Только внутри организации"},"b2b-promo-button":function(e){return"Выбрать тариф"},"b2b-promo-text":function(e){return"Доступно только на Оптимальном и Расширенном тарифах Яндекс 360 для бизнеса"},"b2c-promo-button":function(e){return"Подключить Премиум"},"b2c-promo-text":function(e){return"Пароль, срок действия и запрет на скачивание доступны в тарифах Яндекс 360 Премиум"},"choose-tariff":function(e){return"Выбрать тариф"},"close-menu":function(e){return"Закрыть"},"copy-link":function(e){return"Скопировать ссылку"},"copy-short":function(e){return"Скопировать"},"copy-short-success":function(e){return"Скопировано"},"copy-success":function(e){return"Ссылка скопирована"},"delete-link-confirm-cancel":function(e){return"Отмена"},"delete-link-confirm-submit":function(e){return"Удалить"},"delete-link-confirm-text-album":function(e){return"Доступ к альбому будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-file":function(e){return"Доступ к файлу будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-folder":function(e){return"Доступ к папке будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-title":function(e){return"Вы действительно хотите удалить ссылку?"},done:function(e){return"Готово"},"file-link-title":function(e){return"Ссылка на файл"},"folder-link-title":function(e){return"Ссылка на папку"},"forbid-download":function(e){return"Запретить скачивание"},"forbid-download-audio-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания для аудиофайла"},"forbid-download-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания, когда выбран доступ на редактирование"},"forbid-download-tooltip":function(e){return"Кнопки «Скачать» и «Сохранить на Яндекс Диск» будут недоступны"},"input-password":function(e){return"Введите пароль"},"link-expire":function(e){return"Срок действия ссылки"},"link-expire-addition":function(e){return"До "+e.datetime},"link-expire-choose":function(e){return"Выбрать дату и время"},"link-expire-day":function(e){return"Сутки"},"link-expire-month":function(e){return"Месяц"},"link-expire-no":function(e){return"Бессрочно"},"link-expire-tooltip":function(e){return"Когда срок действия закончится, ссылка удалится и файл будет недоступен пользователям"},"link-expire-week":function(e){return"Неделя"},months_genitive:function(e){return"янв|фев|мар|апр|мая|июн|июл|авг|сен|окт|ноя|дек"},"password-disabled-tooltip":function(e){return"Нельзя установить пароль, когда выбран доступ на редактирование"},"password-edit-title":function(e){return"Изменить пароль"},"password-min-len":function(e){return"От 4 символов"},"password-only-latin-letters-and-digits":function(e){return"Только латинские буквы и цифры"},"password-only-letters-and-digits":function(e){return"Только буквы и цифры"},"password-remember":function(e){return"Запомните этот пароль, потом посмотреть его не получится"},"password-set":function(e){return"Пароль установлен"},"password-title":function(e){return"Установить пароль"},"password-tooltip":function(e){return"Чтобы увидеть ваш файл по ссылке, пользователь должен будет ввести пароль"},"promo-title":function(e){return"Настройте безопасность ссылки на документы"},"qr-code-title":function(e){return"Скачать QR-код"},save:function(e){return"Сохранить"},"security-b2b-tooltip":function(e){return"Доступно только на Оптимальном и Расширенном тарифах Яндекс 360 для бизнеса"},"security-b2c-tooltip":function(e){return"Доступны для пользователей Яндекс 360 Премиум"},"security-desc-with-password":function(e){return"Установить пароль, срок действия ссылки и запретить скачивание"},"security-only-disable":function(e){return"Доступно только отключение платных настроек"},"security-title":function(e){return"Настройки безопасности"},"share-album-link-body":function(e){return"Посмотреть или скачать альбом «"+e.title+"»"},"share-album-link-subject":function(e){return"Ссылка на альбом «"+e.title+"» на Яндекс.Диске"},"share-file-link-body":function(e){return"Посмотреть или скачать файл «"+e.title+"»"},"share-file-link-subject":function(e){return"Ссылка на файл «"+e.title+"» на Яндекс.Диске"},"share-folder-link-body":function(e){return"Посмотреть или скачать папку «"+e.title+"»"},"share-folder-link-subject":function(e){return"Ссылка на папку «"+e.title+"» на Яндекс.Диске"},"share-link-body-edit":function(e){return"Посмотреть, скачать или отредактировать документ «"+e.title+"»"},"share-mail":function(e){return"Поделиться в письме"},"share-menu-title":function(e){return"Поделиться файлом"},"share-menu-title-album":function(e){return"Поделиться альбомом"},"share-menu-title-folder":function(e){return"Поделиться папкой"},"share-qr":function(e){return"Через QR-код"},"smth-wrong":function(e){return"Что-то пошло не так, повторите позже"},"to-all":function(e){return"Всем"},"trash-tooltip":function(e){return"Удалить ссылку"},"viewonly-tooltip":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы."},"viewonly-tooltip-album":function(e){return"Этот альбом доступен для просмотра. Совместно редактировать можно только документы."},"viewonly-tooltip-doc":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы DOCX, XLSX, PPTX."},"viewonly-tooltip-folder":function(e){return"Эта папка доступна для просмотра. Чтобы редактировать ее совместно, настройте общий доступ."}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(178)(e))}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.272 7.365C4 7.9 4 8.6 4 10v8c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C5.9 22 6.6 22 8 22h12c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092C24 20.1 24 19.4 24 18v-8c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C22.1 6 21.4 6 20 6H8c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093zM6.647 8h14.706a.5.5 0 0 1 .278.916l-7.075 4.732a1 1 0 0 1-1.112 0L6.369 8.916A.5.5 0 0 1 6.647 8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.5 12c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-5.344-3.755a1 1 0 0 0-1.41.099l-4.312 4.958-2.242-2.149a1 1 0 0 0-1.384 1.444l3.379 3.238a.5.5 0 0 0 .723-.033l5.345-6.146a1 1 0 0 0-.099-1.41z" fill="#66CC67"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.33 15.666a1.667 1.667 0 1 0 0-3.333 1.667 1.667 0 0 0 0 3.333zm6.667 0a1.667 1.667 0 1 0 0-3.333 1.667 1.667 0 0 0 0 3.333zM22.331 14a1.667 1.667 0 1 1-3.334 0 1.667 1.667 0 0 1 3.334 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.585l-4.793-4.79a1 1 0 1 0-1.414 1.415l5.5 5.496a1 1 0 0 0 1.414 0l5.5-5.496a1 1 0 0 0-1.414-1.415L12 13.585z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.293 4.293a1 1 0 0 1 1.414 0L6 6.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 12c0-2.25 3.75-7.5 10.5-7.5S22.5 9.75 22.5 12s-3.75 7.5-10.5 7.5S1.5 14.25 1.5 12zM12 16.75a4.75 4.75 0 1 0 0-9.5 4.75 4.75 0 0 0 0 9.5zM14.7 12a2.7 2.7 0 1 1-5.4 0 2.7 2.7 0 0 1 5.4 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M3.991 16.854l-1.314 3.504a.75.75 0 0 0 .966.965l3.503-1.314a3 3 0 0 0 1.068-.687L18.361 9.175s-.353-1.061-1.414-2.122c-1.06-1.06-2.121-1.414-2.121-1.414L4.679 15.786a3 3 0 0 0-.688 1.068zM16.24 4.224l1.384-1.383c.248-.248.578-.406.924-.348.487.08 1.232.322 1.935 1.025.702.703.944 1.447 1.025 1.934.057.346-.1.677-.349.925L19.776 7.76s-.354-1.06-1.415-2.12-2.121-1.415-2.121-1.415z" fill="currentColor" fill-rule="evenodd"></path></svg>'}),(function(e,t){e.exports='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.469 4.36a6.746 6.746 0 0 0-1.201-1.628 6.746 6.746 0 0 0-1.625-1.2l-.002-.002.92-.92c.495-.494 1.308-.812 2.475.354 1.166 1.167.848 1.98.353 2.475l-.92.92Zm-1.127 1.126L4.73 14.099a2.5 2.5 0 0 1-.861.562l-2.552.993a.75.75 0 0 1-.971-.97l.993-2.553a2.5 2.5 0 0 1 .562-.86l8.613-8.614a5.234 5.234 0 0 1 1.693 1.136c.5.5.88 1.077 1.135 1.693Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zM13 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 26c6.627 0 12-5.373 12-12S20.627 2 14 2 2 7.373 2 14s5.373 12 12 12zm-1.8-6.01c0-1.04.79-1.79 1.79-1.79 1.02 0 1.81.75 1.81 1.79s-.79 1.81-1.81 1.81c-1 0-1.79-.77-1.79-1.81zm.79-13.19a.583.583 0 0 0-.583.609l.369 8.433c.014.312.27.558.583.558h1.283c.312 0 .57-.246.583-.558l.369-8.433a.583.583 0 0 0-.583-.609H12.99z" fill="#FF4D4D"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-1.5-5.009c0-.867.659-1.491 1.491-1.491.85 0 1.509.624 1.509 1.491 0 .867-.659 1.509-1.509 1.509-.832 0-1.491-.642-1.491-1.509zM11.172 6a.5.5 0 0 0-.499.522l.306 7a.5.5 0 0 0 .5.478h1.043a.5.5 0 0 0 .5-.478l.305-7a.5.5 0 0 0-.5-.522h-1.655z" fill="#9397AD"></path></svg>'}),(function(e,t){e.exports='<svg width="17" height="17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.5 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0Zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0ZM7.36 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14ZM8.08 4h.842a.75.75 0 0 1 .747.825l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 8.08 4Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.038 20.528l.927-11.887h1.526a.4.4 0 0 0 .389-.495l-.285-1.168a.503.503 0 0 0-.485-.388h-2.741l-1.197-2.456A1.996 1.996 0 0 0 13.381 3h-2.764c-.757 0-1.45.439-1.789 1.134L7.632 6.59H4.89c-.229 0-.429.16-.485.388l-.284 1.168a.4.4 0 0 0 .389.495h1.526l.927 11.887c.021.267.238.472.499.472h9.077c.26 0 .478-.205.498-.472zM14.133 6.59H9.867l.612-1.255a.499.499 0 0 1 .447-.284h2.146c.19 0 .363.11.447.284l.613 1.255z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-a)"></path><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-b)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#F7F7FF" fill-opacity=".9"></path><defs><radialGradient id="security-lock-b2c-b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 23 -24.4584 0 11.931 21.333)"><stop offset=".322" stop-color="#FF7142"></stop><stop offset=".825" stop-color="#FF5525" stop-opacity="0"></stop></radialGradient><linearGradient id="security-lock-b2c-a" x1="0" y1="12.213" x2="23.968" y2="12.213" gradientUnits="userSpaceOnUse"><stop stop-color="#EB1C3F"></stop><stop offset="1" stop-color="#F4248E"></stop></linearGradient></defs></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.999 25.667c6.443 0 11.666-5.223 11.666-11.666 0-6.444-5.223-11.667-11.666-11.667-6.444 0-11.667 5.223-11.667 11.667 0 6.443 5.223 11.666 11.667 11.666z" fill="#222"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.715 11.938c.001.001-1.651 1.65-1.651 1.65l-.207-.206-.824.824.207.207c.455.455 1.19.458 1.648 0l1.652-1.651a1.163 1.163 0 0 0 0-1.649l-1.652-1.651a1.163 1.163 0 0 0-1.648 0l-1.651 1.651a1.163 1.163 0 0 0 0 1.649l.207.207.206.206-1.651 1.651a.585.585 0 0 0 0 .824c.23.23.597.228.825 0l1.65-1.65.827-.826a.585.585 0 0 0-.001-.824.581.581 0 0 0-.824-.001l-.826.826-.206-.206.824-.825-.206-.207c-.002-.002 1.651-1.65 1.651-1.65.001-.002 1.65 1.651 1.65 1.651zm-5.775 5.775c.001.001 1.65-1.652 1.65-1.652l-.206-.206.824-.824.207.207c.455.455.458 1.19 0 1.649l-1.651 1.651a1.163 1.163 0 0 1-1.649 0l-1.651-1.651a1.163 1.163 0 0 1 0-1.649l1.651-1.651a1.162 1.162 0 0 1 1.649 0l.207.207-.825.824-.207-.206c-.002-.002-1.65 1.651-1.65 1.651-.002.001 1.651 1.65 1.651 1.65z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22c-1.148 0-3.418-1.362-5.13-3.34C4.44 15.854 3 11.967 3 7a1 1 0 0 1 .629-.929c3.274-1.31 5.88-2.613 7.816-3.903a1 1 0 0 1 1.11 0c1.935 1.29 4.543 2.594 7.816 3.903A1 1 0 0 1 21 7c0 4.968-1.44 8.855-3.87 11.66C15.419 20.637 13.149 22 12 22Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M11.442 2.406a1.497 1.497 0 0 1 2.116 0L16.95 5.79c.39.39.39 1.03 0 1.42a.996.996 0 0 1-1.41 0l-.466-.466a10.006 10.006 0 0 1-1.407-1.768l-.216-.344-.205.207a10 10 0 0 1 .254 2.24V15a1 1 0 1 1-2 0V7.078a10 10 0 0 1 .254-2.24l-.206-.206-.215.344c-.4.64-.873 1.234-1.407 1.768l-.466.466a.996.996 0 0 1-1.41 0c-.39-.39-.39-1.03 0-1.42l3.392-3.384ZM20.5 11a1 1 0 0 0-1 1v6.077c0 .459-.022.571-.082.684a.363.363 0 0 1-.157.157c-.113.06-.225.082-.684.082H6.423c-.459 0-.571-.022-.684-.082a.363.363 0 0 1-.157-.157c-.06-.113-.082-.225-.082-.684L5.499 12a1 1 0 0 0-2 0v6.077c0 .76.083 1.185.32 1.627.223.42.558.754.977.978.442.236.866.318 1.627.318h12.154c.76 0 1.185-.082 1.627-.318.419-.224.753-.559.977-.978.237-.442.319-.866.319-1.627V12a1 1 0 0 0-1-1Z" clip-rule="evenodd"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M24.5 5.834a3.5 3.5 0 0 1-5.605 2.797l-8.431 4.864a3.54 3.54 0 0 1-.025 1.16l8.299 4.842a3.5 3.5 0 1 1-1.176 2.015l-8.3-4.84a3.5 3.5 0 1 1-.03-5.366l8.36-4.671a3.5 3.5 0 1 1 6.908-.8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.109 2.546C4 2.76 4 3.04 4 3.6V17a1 1 0 1 0 2 0V4.8c0-.28 0-.42.054-.527a.5.5 0 0 1 .219-.218C6.38 4 6.52 4 6.8 4H15a1 1 0 1 0 0-2H5.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437zm4 4C8 6.76 8 7.04 8 7.6v11.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C8.76 21 9.04 21 9.6 21h7.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C19 20.24 19 19.96 19 19.4V7.6c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C18.24 6 17.96 6 17.4 6H9.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 7.505a1.5 1.5 0 0 1-1.5 1.5h-3a1.5 1.5 0 0 1-1.5-1.5V4.5A1.5 1.5 0 0 1 16.5 3h3A1.5 1.5 0 0 1 21 4.5v3.005zM9 7.5V4.504a1.5 1.5 0 0 0-1.498-1.5l-3-.003A1.5 1.5 0 0 0 3 4.5V7.5A1.5 1.5 0 0 0 4.5 9h3A1.5 1.5 0 0 0 9 7.5zM5 7V5.001l2 .002V7H5zm-.502 8.004l3-.003A1.5 1.5 0 0 1 9 16.5V19.5A1.5 1.5 0 0 1 7.5 21h-3A1.5 1.5 0 0 1 3 19.5v-2.996c0-.828.67-1.5 1.498-1.5zM7 19H5v-1.997l2-.002V19zM19 5v2.005h-2V5h2zm0 11a1 1 0 1 1 2 0v3.5a1.5 1.5 0 0 1-1.498 1.5l-3.5.005a1 1 0 1 1-.003-2L19 19V16zM11 4v7H4a1 1 0 1 0 0 2h8a1 1 0 0 0 1-1V4a1 1 0 1 0-2 0zm2 16a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm3-3a1 1 0 0 0 1-1v-3h3a1 1 0 1 0 0-2h-4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656ZM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 2a1 1 0 0 0-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 0 0-.945.945C3.116 5.686 3 6.09 3 7.205v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.114 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 0 0-.945-.945C19.34 4.13 18.961 4.015 18 4V3a1 1 0 1 0-2 0v1H8V3a1 1 0 0 0-1-1ZM5 9v8.795c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h11.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849L19.004 9H5Zm8.75 4a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h2.5a.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75h-2.5Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 12.984c2.334 0 4.084-2.49 4.084-5.39C10.834 4.695 9.328 3 6.75 3 4.172 3 2.666 4.695 2.666 7.595c0 2.9 1.75 5.389 4.084 5.389Zm0 8.016C3.274 21 1.104 19.984.24 19.284A.71.71 0 0 1 0 18.696C.001 16.484 2.661 15 6.745 15c4.085 0 6.754 1.484 6.754 3.695a.712.712 0 0 1-.238.59c-.865.7-3.036 1.715-6.51 1.715Zm9.369-1.07c3.165.214 6.22-.27 7.666-1.187a.46.46 0 0 0 .211-.424c0-1.395-2.141-3.134-5.996-3.134-1.357 0-2.869.126-3.765.385 1.158.85 1.884 2.371 1.884 4.36ZM18 13.142c-1.96 0-3.353-2.155-3.353-4.666 0-2.511 1.189-3.979 3.353-3.979s3.351 1.468 3.351 3.98c0 2.51-1.392 4.665-3.351 4.665Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M15.997 4.404A3 3 0 1 1 18.72 9.75l-.746.38a1 1 0 0 0 .908 1.782l.746-.38a5 5 0 0 0-4.54-8.91 1 1 0 1 0 .908 1.782Zm-4.564 7.203a3 3 0 0 1-.373-3.88A1 1 0 0 0 9.42 6.582a5.001 5.001 0 0 0 .625 6.467 1 1 0 0 0 1.387-1.441Zm1.845 3.971a3 3 0 0 0 0-4.242 1 1 0 0 1 1.415-1.415 5 5 0 0 1 0 7.072l-3.5 3.5a5 5 0 1 1-7.07-7.074l1.672-1.66a1 1 0 1 1 1.41 1.42l-1.67 1.657a3 3 0 1 0 4.243 4.242l3.5-3.5Z" clip-rule="evenodd"></path></svg>'}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(154)),s=i(n(292)),u=i(n(308)),c=i(n(167)),l=n(34).cn("OnyViewInfo");n(1236);var f=function(e){var t=e.onClick;return o.default.createElement(a.default,{name:"info",onClick:t,className:l("Icon")})},d={file:"viewonly-tooltip",folder:"viewonly-tooltip-folder",album:"viewonly-tooltip-album",doc:"viewonly-tooltip-doc"},p=function(e,t){return c.default(e,d[t])},h=function(e){var t=e.lang,n=e.resourceType,r=e.deselectClass,i=o.useState(!1),a=i[0],s=i[1],d=o.useCallback((function(){s(!0)}),[]),h=o.useCallback((function(){s(!1)}),[]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(f,{onClick:d}),o.default.createElement(u.default,{visible:a,onClose:h,cancelButtonText:c.default(t,"close-menu"),zIndexGroupLevel:1,className:r},o.default.createElement("div",{className:l("TouchText")},p(t,n))))};t.default=function(e){var t=e.lang,n=e.resourceType,r=e.viewOnlyTooltipType,i=e.isTouch,a=e.deselectClass;return i?o.default.createElement(h,{lang:t,resourceType:n,viewOnlyTooltipType:r,deselectClass:a}):o.default.createElement(s.default,{tooltipContent:o.default.createElement("div",{className:l("Tooltip")},p(t,r)),direction:"right",hasTail:!0,size:"m"},o.default.createElement(f,null))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupTail=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(180);n(1204),t.PopupTail=i.forwardRef((function(e,t){var n=e.className,a=r.__rest(e,["className"]);return i.default.createElement("div",r.__assign({},a,{ref:t,className:o.cnPopup("Tail",null,[n])}),i.default.createElement("svg",{viewBox:"0 0 24 24",className:o.cnPopup("TailSvg")},i.default.createElement("path",{className:o.cnPopup("TailFill"),d:"M12 16C15 16 18 24 24 24H0C6 24 9 16 12 16Z",fill:"none"}),i.default.createElement("path",{className:o.cnPopup("TailBorder"),d:"M8.05888 18.9807C6.77697 20.3966 5.32977 21.9951 3.57172 23H0C2.53449 23 4.52121 21.3153 6.39546 19.3161C6.68742 19.0046 6.98315 18.6782 7.27806 18.3526L7.27807 18.3526C7.87384 17.6949 8.46631 17.0408 9.01776 16.5218C9.82327 15.7637 10.827 15 12 15C13.173 15 14.1767 15.7637 14.9822 16.5218C15.5337 17.0408 16.1262 17.6949 16.7219 18.3526L16.7219 18.3526L16.7222 18.3529C17.017 18.6783 17.3127 19.0047 17.6045 19.3161C19.4788 21.3153 21.4655 23 24 23H20.4283C18.6702 21.9951 17.223 20.3966 15.9411 18.9807C14.4853 17.3726 13.2426 16 12 16C10.7574 16 9.51472 17.3726 8.05888 18.9807Z",fill:"none"})))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directions=void 0;var r=n(2);r.__exportStar(n(180),t),r.__exportStar(n(641),t),r.__exportStar(n(501),t),r.__exportStar(n(1208),t),r.__exportStar(n(1210),t),r.__exportStar(n(500),t);var i=n(169);Object.defineProperty(t,"directions",{enumerable:!0,get:function(){return i.directions}})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeClear=void 0;var r=n(5),i=n(180);n(1209),t.withThemeClear=r.withBemMod(i.cnPopup(),{theme:"clear"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(5),i=n(180);n(1211),t.withThemeNormal=r.withBemMod(i.cnPopup(),{theme:"normal"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxClose=void 0;var r=n(2).__importDefault(n(0)),i=n(222);n(1213);t.MessageBoxClose=function(e){var t=e.closeText,n=void 0===t?"Закрыть":t,o=e.onClick;return r.default.createElement("button",{className:i.cnMessageBox("Close"),onClick:o,type:"button","aria-label":n},r.default.createElement("svg",{viewBox:"0 0 16 16"},r.default.createElement("path",{fill:"currentColor",d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"})))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxButtons=void 0;var r=n(2).__importDefault(n(0)),i=n(222);n(1215);t.MessageBoxButtons=function(e){var t=e.children;return r.default.createElement("div",{className:i.cnMessageBox("Buttons")},t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxTail=void 0;var r=n(2).__importDefault(n(0)),i=n(222);n(1217);t.MessageBoxTail=function(e){var t=e.innerRef,n=e.tailType;return r.default.createElement("div",{ref:t,className:i.cnMessageBox("Tail")},"default"===n?r.default.createElement("svg",{viewBox:"0 0 20 20"},r.default.createElement("path",{fill:"currentColor",d:"M20 20H0c5 0 7.949-3.872 10-9 2.051 5.128 5 9 10 9z"})):r.default.createElement("svg",{viewBox:"0 0 24 24"},r.default.createElement("path",{fill:"currentColor",d:"M12 16c3 0 6 8 12 8H0c6 0 9-8 12-8z"})))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxCorner=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(222);n(1220);var a={"bottom-left":function(e,t){return{left:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"bottom-right":function(e,t){return{right:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"top-left":function(e,t){return{left:-Math.floor(e/3),top:-Math.floor(t/3)}},"top-right":function(e,t){return{right:-Math.floor(e/3),top:-Math.floor(t/3)}}};t.MessageBoxCorner=function(e){var t=e.children,n=e.side,s=e.width,u=e.height;u||(u=s);var c=r.__assign({width:s,height:u},a[n](s,u));return i.default.createElement("span",{className:o.cnMessageBox("Corner"),style:c},t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxTextWrap=void 0;var r=n(2).__importDefault(n(0)),i=n(222);n(1222);t.MessageBoxTextWrap=function(e){var t=e.className,n=e.align,o=void 0===n?"left":n,a=e.children,s=e.leading,u=e.trailing;return r.default.createElement("div",{className:i.cnMessageBox("TextWrap",{align:o},[t])},s&&r.default.createElement("div",{className:i.cnMessageBox("TextLeft")},s),a&&r.default.createElement("div",{className:i.cnMessageBox("Text")},a),u&&r.default.createElement("div",{className:i.cnMessageBox("TextRight")},u))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(539),o=n(406),a=r.compose(i.withThemeNormal,o.withZIndex)(i.Modal);t.default=a}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(792);n(1233);var o=r.compose(i.withViewDefault)(i.Drawer);t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(167)),a=i(n(0)),s=r(n(154)),u=r(n(292)),c=r(n(502)),l=r(n(645)),f=r(n(646)),d=n(34);n(1247);var p=r(n(503)),h=d.cn("OrganizationScope");t.default=function(e){var t=e.lang,n=e.resourcePath,r=e.chooseTariffLink,i=e.hasFeature,d=void 0!==i&&i,m=e.pddOrgId,v=e.dialogVisible,g=e.externalOrganizationId,y=e.setLinkSettings,b=e.onChangeSecuritySettings,_=e.countMetrikaFn,O=e.isSmartphone,w=void 0!==O&&O,E=e.isB2b,S=void 0!==E&&E,x=a.useMemo((function(){return parseInt(m,10)}),[m]),C=a.useRef(null),T=a.useRef(null),k=a.useState(!1),j=k[0],P=k[1],R=a.useState(g===x),A=R[0],I=R[1],D=a.useState(!1),M=D[0],N=D[1],L=a.useState(d||A),F=L[0],B=L[1],U=a.useCallback((function(){d||j||F||(P(!0),_("stub tooltip","show"))}),[d,F,j,P,_]),z=a.useCallback((function(){P(!1),_("stub tooltip","hide")}),[P,_]),V=a.useCallback((function(){var e=A,t=A?"off":"on",r=A?null:x,i=null===r&&!d;_("restrict  organization",t);var o=y({path:n,external_organization_id:r}).catch((function(n){throw _("restrict  organization",t,"failed"),I(e),i&&N(!1),n}));I(null!==r),i&&N(!0),null===b||void 0===b||b("external_organization_id",r,o)}),[A,x,n,d,N,b,I,y,_]),H=a.useCallback((function(){_("choose tariff click")}),[_]);a.useEffect((function(){I(g===x)}),[g,x,I]),a.useEffect((function(){v&&(N(!1),B(d||A))}),[v,B,N]);var W=w?a.default.createElement(f.default,{visible:j,isB2b:S,onClose:z,onSubmtiClick:H,buttonText:o.default(t,"b2c-promo-button"),zIndexGroupLevel:1,buttonProps:{url:r},titleText:o.default(t,"promo-title"),mainText:o.default(t,"b2c-promo-text")}):a.default.createElement(l.default,{lang:t,anchor:T,visible:j,containerRef:C,chooseTariffLink:r,onGoToTariffs:H,onClose:z,isB2b:!0});return a.default.createElement("div",{className:h({Stub:!F,Disabled:M}),onClick:U,ref:C},a.default.createElement("div",{className:h("IconContainer")},a.default.createElement(s.default,{name:"group",className:h("Icon")})),a.default.createElement("div",{className:h("Text")},o.default(t,"available-to-organization-only-label")),F?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{hasFeature:d}),a.default.createElement(u.default,{tooltipContent:a.default.createElement("div",{className:h("TooltipContent")},o.default(t,"available-to-organization-only")),disabled:M||w,className:h("Controls",{WithoutFeature:!d}),direction:"right",size:"m",hasTail:!0},a.default.createElement(c.default,{size:"m",view:"default",checked:A,disabled:M,onChange:V}))):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:h("Controls")},a.default.createElement(s.default,{ref:T,name:"securityLockB2b",className:h("NoFeatureIcon",{Black:j})})),W))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(132)),u=o(n(154)),c=o(n(167)),l=o(n(1251)),f=o(n(1252)),d=n(34).cn("ShareDialogButtons");n(1253);var p=function(e){return function(){return a.default.createElement(u.default,{name:e,className:d("Icon")})}},h={file:{subject:"share-file-link-subject",body:{disabled:"share-file-link-body",all:"share-link-body-edit"}},folder:{subject:"share-folder-link-subject",body:"share-folder-link-body"},album:{subject:"share-album-link-subject",body:"share-album-link-body"}};t.default=function(e){var t=e.lang,n=e.visible,i=e.url,o=e.onCopyLinkClick,m=e.isOverdraft,v=e.blockActionOverdraft,g=e.onClickQR,y=e.mailOrigin,b=e.resourceTitle,_=e.resourceType,O=e.officeAccessType,w=e.isTouch,E=e.isAndroid,S=e.countMetrikaFn,x=e.shouldRenderRemoveLink,C=e.onDeleteConfirmOpen,T=a.useState(!1),k=T[0],j=T[1];a.useEffect((function(){n&&(m||l.default.copy(i))}),[n,i,m]);var P=a.useCallback((function(){var e=l.default.copy(i);o&&o(e),e&&(j(!0),setTimeout((function(){j(!1)}),2e3)),S("copyToClipboard")}),[i,o,S]),R=h[_],A=c.default(t,R.subject,{title:b}),I=c.default(t,"object"==typeof R.body?R.body[O]:R.body,{title:b}),D=a.useCallback((function(){v&&v()||(f.default.shareViaMail(i,y,A,I),S("socialShare","mail"))}),[i,y,A,I,S,v]),M=a.useMemo((function(){return k?c.default(t,x?"copy-short-success":"copy-success"):c.default(t,x?"copy-short":"copy-link")}),[k,x,t]),N=a.useMemo((function(){return function(e){return a.default.createElement(u.default,{name:k?"check":"copy",className:d("CopyIcon",[e])})}}),[k]),L=a.useCallback((function(){navigator.share({url:i,title:A,text:I})}),[i,A,I]),F={className:d("Button"),view:"pseudo",size:"xl"},B=null;w?"undefined"!=typeof navigator&&"function"==typeof navigator.share&&(B=a.default.createElement(s.default,r({},F,{icon:p(E?"androidShare":"touchShare"),onClick:L}))):B=a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,r({},F,{"aria-label":c.default(t,"share-mail"),icon:p("mail"),onClick:D})),a.default.createElement(s.default,r({},F,{"aria-label":c.default(t,"share-qr"),icon:p("qr"),onClick:g})));return a.default.createElement("div",{className:d()},a.default.createElement(s.default,{className:d("CopyButton",{removeLink:x&&!w}),view:k?"pseudo":"action",size:"xl",width:x&&!w?void 0:"max",iconLeft:N,onClick:P},M),B,x&&a.default.createElement(s.default,r({},F,{className:d("RemoveLinkButton",{touch:w},[F.className]),"aria-label":c.default(t,"trash-tooltip"),icon:p("brokenChain"),onClick:C})))}}),(function(e,t,n){"use strict";n.r(t);var r={copy:function(e,t){var n;t?(n=document.createElement("span")).appendChild(document.createTextNode(e)):(n=document.createElement("input")).value=e,n.style.position="absolute",n.style.top="-999px",n.style.left="-999px",n.style.opacity="0",document.body.appendChild(n);var r=!1;try{if(t){var i=document.createRange();i.selectNodeContents(n);var o=window.getSelection();o&&o.removeAllRanges(),o&&o.addRange(i)}else n.select();r=document.execCommand("copy")}catch(e){r=!1}return document.body.removeChild(n),r},isSupported:function(){return"undefined"!=typeof window&&Boolean(document.queryCommandSupported("copy"))}};t.default=r}),(function(e,t,n){"use strict";n.r(t);var r={mail:{width:1e3,height:600},vkontakte:{width:550,height:420},twitter:{width:650,height:520},odnoklassniki:{width:560,height:370},facebook:{width:800,height:500},moimir:{width:560,height:400},gplus:{width:560,height:370}};function i(e){var t=r[e],n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}t.default={shareViaSocial:function(e,t,n){var r=(function(e,t,n){e=encodeURIComponent(e);var r=n?"&amp;title="+encodeURIComponent(n):"";return"http://share.yandex.ru/go.xml?service=".concat(t,"&amp;url=").concat(e).concat(r)})(e,t,n);return window.open(r,"_blank",i(t))},shareViaMail:function(e,t,n,r,o){var a=(function(e,t,n,r,i){n=encodeURIComponent(n),r=encodeURIComponent(r+" - "+e);var o=i&&"0"!==i?"&uid="+i:"";return"".concat(t,"/compose?mode=html&body=").concat(r,"&subject=").concat(n).concat(o)})(e,t,n,r,o);return window.open(a,"_blank",i("mail"))}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(132)),s=n(34).cn("QR");n(1255);var u=function(e,t){return"//disk.yandex.net/qr/?text="+encodeURIComponent(e)+(t?"&download=1&format="+t:"")};t.default=function(e){var t=e.linkUrl,n=e.countMetrikaFn,r=o.useCallback((function(e){n("clickQRCode",e)}),[n]),i=o.useMemo((function(){return["png","svg","eps","pdf"].map((function(e){return o.default.createElement(a.default,{key:e,view:"default",size:"m",type:"link",url:u(t,e),target:"_blank",className:s("Button"),onClick:function(){return r(e)}},e.toUpperCase())}))}),[t,r]);return o.default.createElement("div",{className:s()},o.default.createElement("div",{className:s("Image-Wrapper")},o.default.createElement("div",{className:s("Image"),style:{backgroundImage:"url("+u(t)+")"}})),o.default.createElement("div",{className:s("Buttons")},i))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(154)),u=o(n(502)),c=i(n(634)),l=o(n(1257)),f=o(n(1316)),d=o(n(292)),p=o(n(645)),h=o(n(167)),m=o(n(646)),v=n(34);n(1376);var g=o(n(503)),y=v.cn("SecuritySettings");t.default=function(e){var t=e.lang,n=e.hasFeature,i=e.isB2b,o=e.chooseTariffLink,v=e.resourcePath,b=e.resourceMediaType,_=e.readOnlyValue,O=e.externalOrganizationIds,w=e.availableUntilValue,E=e.havePasswordValue,S=e.setLinkSettings,x=e.onChangeSecuritySettings,C=e.officeAccessType,T=e.isDialogVisible,k=e.countMetrikaFn,j=e.deselectClass,P=e.isSmartphone,R=void 0!==P&&P,A=e.isAndroid,I=void 0!==A&&A,D=e.datePickerScope,M=a.useRef(null),N=a.useRef(null),L=a.useRef(null),F=a.useState(!1),B=F[0],U=F[1],z=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k.apply(void 0,r(["security settings"],e))}),[k]),V=a.useCallback((function(){B||(z("tooltip","show"),U(!0))}),[B,U,z]),H=a.useCallback((function(){z("tooltip","hide"),U(!1)}),[z,U]),W=a.useCallback((function(){var e=!_,t=S({path:v,read_only:e}).catch((function(e){throw z("save error"),e}));null===x||void 0===x||x("read_only",e,t),z("forbid download",e?"on":"off")}),[S,v,_,x,z]),G=a.useCallback((function(e){var t=e?Number(e)/1e3:null;if(t&&Number(e)<=Date.now())null===x||void 0===x||x("available_until",t,Promise.reject());else{var n=S({path:v,available_until:t});null===x||void 0===x||x("available_until",t,n)}}),[v,S,x]),$=a.useState(!1),q=$[0],Y=$[1];a.useEffect((function(){if(T&&!n){var e=_||Boolean(w)||E;Y(e)}}),[T,n]),a.useEffect((function(){T&&z("show",n?"available":q?"only disable":"no feature")}),[T,z,n,q]);var K,J=a.useCallback((function(){z("choose tariff click")}),[z]),X="audio"===b,Z="all"===C||!n&&!_||X,Q=!n&&!w,ee="all"===C||!n&&!E;X?K=h.default(t,"forbid-download-audio-disabled-tooltip"):"all"===C?K=h.default(t,"forbid-download-disabled-tooltip"):Z||(K=h.default(t,"forbid-download-tooltip"));var te=Boolean(K)&&!R,ne=n||q,re=R?a.default.createElement(m.default,{visible:B,isB2b:i,onClose:H,onSubmtiClick:J,buttonText:h.default(t,(i?"b2b":"b2c")+"-promo-button"),zIndexGroupLevel:1,buttonProps:{url:o},titleText:h.default(t,"promo-title"),mainText:h.default(t,(i?"b2b":"b2c")+"-promo-text")}):a.default.createElement(p.default,{isB2b:i,lang:t,anchor:N,visible:B,containerRef:L,chooseTariffLink:o,onGoToTariffs:J,onClose:H});return a.default.createElement("div",{ref:M,className:y({stub:!ne})},ne?a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{className:y("Row",{disabled:ee}),iconClassName:y("Icon"),textClassName:y("Text"),rightClassName:y("Right",{WithoutFeature:!n}),tooltipClassName:y("Tooltip"),havePassword:E,lang:t,hasFeature:n,resourcePath:v,officeAccessType:C,isDialogVisible:T,setLinkSettings:S,onChangeSecuritySettings:x,countSecuritySettings:z,isSmartphone:R,deselectClass:j}),a.default.createElement("div",{className:y("Row",{disabled:Z})},a.default.createElement(s.default,{name:"download",className:y("Icon")}),a.default.createElement("span",{className:y("Text")},h.default(t,"forbid-download")),a.default.createElement(g.default,{hasFeature:n}),a.default.createElement("div",{className:y("Right",{WithoutFeature:!n})},a.default.createElement(d.default,{tooltipContent:te?a.default.createElement("div",{className:y("Tooltip")},K):null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:y("ForbidDownloadTooltip"),disabled:R},a.default.createElement(u.default,{size:"m",view:"default",checked:_,onChange:W,disabled:Z,className:y("ForbidDownloadTumbler"),labelAfter:h.default(t,"forbid-download")})))),a.default.createElement("div",{className:y("Row",{disabled:Q})},a.default.createElement(s.default,{name:"calendar",className:y("Icon")}),a.default.createElement("span",{className:y("Text")},h.default(t,"link-expire")),a.default.createElement("div",{className:y("Right")},a.default.createElement(l.default,{lang:t,availableUntilDate:w?new Date(1e3*w):null,onChange:G,tooltipClassName:y("Tooltip"),disabled:Q,hasFeature:n,readOnlyValue:_,externalOrganizationId:null===O||void 0===O?void 0:O[0],deselectClass:j,countSecuritySettings:z,isSmartphone:R,scope:D,isAndroid:I})))):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{onClick:V,ref:L},a.default.createElement(c.default,{lang:t,stubType:c.AccessStubType.SecurityWithPassword,addonAfter:a.default.createElement(s.default,{ref:N,className:y("StubIcon",{Black:B}),name:i?"securityLockB2b":"securityLockB2c"})})),re))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(132)),s=i(n(1258)),u=i(n(154)),c=i(n(1280)),l=i(n(657)),f=i(n(292)),d=i(n(133)),p=i(n(167)),h=n(34).cn("AvailableUntilDropdown");n(1315);var m,v=function(e){var t=e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/)?e+":00.000Z":e,n=new Date(t),r=6e4*n.getTimezoneOffset(),i=n.getTime();return new Date(i+r)},g=function(e,t){var n=e.getFullYear()===(new Date).getFullYear();return d.default(e,"D mmmm"+(n?"":" YYYY")+" HH:mm",void 0,p.default(t,"months_genitive").split("|"))};!(function(e){e.Unlimited="unlimited",e.Day="day",e.Week="week",e.Month="month",e.Custom="custom"})(m||(m={}));var y=function(e){var t=e.initialValue,n=e.onChange,r=e.isAndroid,i=o.useState(""),a=i[0],s=i[1],u=o.useCallback((function(e){e.target.value&&(r?n(v(e.target.value)):s(e.target.value))}),[n,r]),c=o.useCallback((function(){a&&n(v(a))}),[a,n]);return o.default.createElement("input",{className:h("DateTimeInput"),type:"datetime-local",value:t,onChange:u,onBlur:c})},b=function(e,t,n){var r;return o.default.createElement("div",{className:h("MenuItem",(r={},r[n]=!0,r))},o.default.createElement("div",{className:h("MenuItem_Left")},e),t?o.default.createElement("div",{className:h("MenuItem_Right")},t):null)},_=function(e){var t=e.lang,n=e.initialDateTime,r=e.onChoose,i=e.hasFeature,a=e.isSmartphone,c=e.isAndroid,l=o.useMemo((function(){var e={},s=new Date(n);s.setDate(s.getDate()+1),e[m.Day]=s;var l=new Date(n);l.setDate(l.getDate()+7),e[m.Week]=l;var f=new Date(n);return f.setDate(f.getDate()+30),e[m.Month]=f,{items:[{value:m.Unlimited,content:b(p.default(t,"link-expire-no"),void 0,"unlim")},{value:m.Day,content:b(p.default(t,"link-expire-day"),p.default(t,"link-expire-addition",{datetime:g(s,t)}),"day"),disabled:!i},{value:m.Week,content:b(p.default(t,"link-expire-week"),p.default(t,"link-expire-addition",{datetime:g(l,t)}),"week"),disabled:!i},{value:m.Month,content:b(p.default(t,"link-expire-month"),p.default(t,"link-expire-addition",{datetime:g(f,t)}),"month"),disabled:!i},{items:[{value:m.Custom,content:b(o.default.createElement("div",{className:h("MenuItem_Custom")},o.default.createElement(u.default,{name:"calendar",className:h("MenuItem_Icon")}),p.default(t,"link-expire-choose"),a?o.default.createElement(y,{isAndroid:c,initialValue:n.toISOString(),onChange:function(e){r(m.Custom,e)}}):null),void 0,"custom"),disabled:!i}]}],dateHash:e}}),[a,n,t,i,r,c]),f=l.items,d=l.dateHash,v=o.useCallback((function(e){e.target.value===m.Custom&&a||r(e.target.value,d[e.target.value]||null)}),[r,d,a]);return o.default.createElement(s.default,{size:"m",view:"default",items:f,onChange:v})};t.default=function(e){var t=e.lang,n=e.availableUntilDate,r=e.onChange,i=e.tooltipClassName,s=e.disabled,d=e.hasFeature,v=e.readOnlyValue,y=e.externalOrganizationId,b=e.countSecuritySettings,O=e.deselectClass,w=e.isSmartphone,E=e.isAndroid,S=e.scope,x=o.useState(!1),C=x[0],T=x[1],k=o.useState(new Date),j=k[0],P=k[1],R=o.useRef(null),A=o.useState(!1),I=A[0],D=A[1],M=o.useCallback((function(e,t){D(!1),e!==m.Custom?(r(t),b("available until","choose",e)):w?(r(t),b("available until","choose",e)):(T(!0),b("available until","calendar","open"))}),[r,b,w]);o.useEffect((function(){D(!1)}),[v,y]);var N=o.useCallback((function(e){r(e),T(!1),b("available until","choose",m.Custom)}),[r,b]),L=o.useCallback((function(){T(!1)}),[]),F=o.useCallback((function(){var e=!I;if(e){var t=new Date;t.setSeconds(0),t.setMilliseconds(0),P(t)}D(e),e&&b("available until","expand")}),[I,b]),B=o.useCallback((function(){D(!1)}),[]),U=o.default.createElement(a.default,{view:"clear",size:"s",className:h("Button",{Expanded:I}),addonAfter:o.default.createElement(u.default,{name:"arrowShort",className:h("Arrow")}),innerRef:R,onClick:F,disabled:s},o.default.createElement("span",{className:h("DateText")},n?p.default(t,"link-expire-addition",{datetime:g(n,t)}):p.default(t,"link-expire-no")));return o.default.createElement(o.default.Fragment,null,w?U:o.default.createElement(f.default,{tooltipContent:s?null:o.default.createElement("div",{className:i},p.default(t,"link-expire-tooltip")),direction:"right",hasTail:!0,size:"m"},U),o.default.createElement(l.default,{view:"default",target:"anchor",anchor:R,direction:["bottom-end","top-end"],visible:I,onClose:B,className:O,scope:S},o.default.createElement(_,{lang:t,onChoose:M,initialDateTime:j,hasFeature:d,isSmartphone:w,isAndroid:E})),o.default.createElement(c.default,{lang:t,visible:C,defaultDateTime:n||void 0,onChoose:N,onClose:L,approveI18n:p.default(t,"apply"),anchor:R,direction:["bottom-end","top-end"],mainOffset:-100,scope:"inplace",minDate:new Date}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(258),o=r.compose(i.withViewDefault,i.withSizeM)(i.Menu);t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuGroup=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(32),a=n(251);t.MenuGroup=function(e){var t=e.children,n=e.className,s=e.title,u=r.__rest(e,["children","className","title"]),c=o.useComponentRegistry(a.cnMenu()).Title;return i.default.createElement("div",r.__assign({},u,{role:"group",className:a.cnMenu("Group",null,[n])}),s&&i.default.createElement(c,null,s),t)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(32),a=n(251),s=n(1273);t.MenuItem=function(e){var t=e.needIconGlyph,n=e.children,u=e.innerRef,c=(e.value,r.__rest(e,["needIconGlyph","children","innerRef","value"])),l=o.useComponentRegistry(a.cnMenu()),f=l.Text,d=l.Icon,p=s.useMenuItem(c);return i.default.createElement("div",r.__assign({ref:u},p),t&&i.default.createElement(d,{glyph:"type-check"}),i.default.createElement(f,null,n))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMenuItem=void 0;var r=n(2),i=n(0),o=n(251);t.useMenuItem=function(e){var t=e.checked,n=e.className,a=e.disabled,s=e.hovered,u=e.type,c=void 0===u?"menuitem":u,l=e.id,f=e.index,d=e.onClick,p=e.onMouseEnter,h=e.onMouseLeave,m=r.__rest(e,["checked","className","disabled","hovered","type","id","index","onClick","onMouseEnter","onMouseLeave"]),v=i.useCallback((function(e){d&&d(e,f)}),[f,d]),g=i.useCallback((function(e){p&&p(e,f)}),[f,p]),y=i.useCallback((function(e){h&&h(e,f)}),[f,h]);return r.__assign(r.__assign({},m),{"aria-selected":t,"aria-disabled":a,id:l,role:c,className:o.cnMenu("Item",{checked:t,disabled:a,hovered:s,type:c},[n]),onClick:v,onMouseEnter:g,onMouseLeave:y})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuText=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(251);t.MenuText=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnMenu("Text",null,[n])}),t)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuTitle=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(251);t.MenuTitle=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("div",r.__assign({},a,{"aria-hidden":!0,className:o.cnMenu("Title",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withGlyphTypeCheck=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(5),a=n(252);n(649),n(1278),t.withGlyphTypeCheck=o.withBemMod(a.cnIcon(),{glyph:"type-check"},(function(e){return function(t){var n=t.className,o=r.__rest(t,["className"]);return i.default.createElement(e,r.__assign({},o,{className:a.cnIcon({hasGlyph:!0},[n])}),i.default.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},i.default.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"})))}}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(1281),s=n(2169),u=n(2188),c=i(n(1313)),l=i(n(657)),f=i(n(132)),d=n(34).cn("DateTimePickerPopup");n(1314);var p={hour:"2-digit",minute:"2-digit"};t.default=function(e){var t=e.lang,n=e.visible,r=e.onChoose,i=e.onClose,h=e.approveI18n,m=e.defaultDateTime,v=e.minDate,g=e.anchor,y=e.direction,b=e.mainOffset,_=e.scope,O=o.useState(new Date),w=O[0],E=O[1];o.useEffect((function(){if(n){var e=m||new Date;e.setSeconds(0),e.setMilliseconds(0),E(e)}}),[n,m]);var S=o.useCallback((function(){r(w)}),[w,r]),x=o.useCallback((function(e){var t=e.value,n=new Date(t);n.setHours(w.getHours()),n.setMinutes(w.getMinutes()),E(n)}),[w]),C=o.useCallback((function(e){var t=e.value,n=new Date(w);n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),E(n)}),[w]),T=o.useRef(),k=o.useState(n),j=k[0],P=k[1];return o.useEffect((function(){n?(T.current&&clearTimeout(T.current),P(!0)):T.current=setTimeout((function(){P(!1)}),500)}),[n]),o.default.createElement(l.default,{view:"default",visible:n,onClose:i,className:d(),target:"anchor",anchor:g,direction:y,mainOffset:b,scope:_},j&&o.default.createElement(u.Provider,{locale:t},o.default.createElement(a.Calendar,{view:"default",size:"s",autoFocus:!0,showOutsideDays:!0,showDaysOfWeek:!0,showWeekNumbers:!0,min:v,value:w,defaultFocusedDate:w,onChange:x})),o.default.createElement("div",{className:d("Row")},o.default.createElement("div",{className:d("Column")},o.default.createElement(s.DateTimeField,{view:"default",size:"s",addonAfter:o.default.createElement("div",{className:d("ClockIcon"),dangerouslySetInnerHTML:{__html:c.default}}),formatOptions:p,value:w,onChange:C,className:d("TimeField")})),o.default.createElement("div",{className:d("Column")},o.default.createElement(f.default,{onClick:S,size:"s",view:"action",width:"max"},h))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeCalendar=t.MultipleCalendar=t.Calendar=void 0;var r=n(2),i=n(5),o=n(790);r.__exportStar(n(790),t);var a=i.compose(i.composeU(o.withViewBrand,o.withViewDefault),i.composeU(o.withSizeS,o.withSizeM,o.withSizeL));t.Calendar=a(o.Calendar),t.MultipleCalendar=a(o.MultipleCalendar),t.RangeCalendar=a(o.RangeCalendar)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 12a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0zM12 .5C5.649.5.5 5.649.5 12S5.649 23.5 12 23.5 23.5 18.351 23.5 12 18.351.5 12 .5zM11 7a1 1 0 1 1 2 0v5h4a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1V7z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(292)),u=o(n(308)),c=o(n(502)),l=o(n(1317)),f=o(n(132)),d=o(n(154)),p=o(n(167)),h=n(1374),m=o(n(503)),v=n(34).cn("PasswordField");n(1375);var g=function(e){return a.default.createElement(d.default,{name:"penSmallGrey",className:e})};t.default=function(e){var t=e.className,n=e.iconClassName,i=e.textClassName,o=e.rightClassName,y=e.tooltipClassName,b=e.havePassword,_=e.lang,O=e.hasFeature,w=e.resourcePath,E=e.officeAccessType,S=e.isDialogVisible,x=e.setLinkSettings,C=e.onChangeSecuritySettings,T=e.countSecuritySettings,k=e.isSmartphone,j=void 0!==k&&k,P=e.deselectClass,R=a.useState(!1),A=R[0],I=R[1],D=a.useState(""),M=D[0],N=D[1],L=a.useState(!1),F=L[0],B=L[1],U=a.useState(!1),z=U[0],V=U[1];a.useEffect((function(){(S||"all"===E)&&(I(!1),N(""),B(!1),V(!1))}),[S,E]);var H=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];T.apply(void 0,r(["password"],e))}),[T]),W=a.useCallback((function(e){V(!1),B(!0);var t=x({path:w,password:e||null}).then((function(e){return B(!1),I(!1),N(""),e})).catch((function(e){throw H("save error"),B(!1),V(!0),e}));null===C||void 0===C||C("have_password",Boolean(e),t),H(e?"set":"remove")}),[H,C,w,x]),G=a.useCallback((function(){b?W(""):(I(!0),H("open"))}),[b,W,H]),$=a.useCallback((function(){I(!0),H("edit")}),[H]),q=a.useCallback((function(){W(M)}),[M,W]),Y=a.useCallback((function(){return I(!1)}),[]),K=a.useMemo((function(){return h.checkPasswordForSymbols(M)}),[M]),J=a.useCallback((function(e){N(e.target.value),V(!1)}),[]),X=M.length<4||!K,Z=a.useCallback((function(e){13!==e.keyCode||X||q()}),[X,q]),Q=v("InputWrap",[i]),ee=v("Right",[o]);if(A){var te=p.default(_,"password-remember"),ne=void 0;return K?z&&(ne=te=p.default(_,"smth-wrong")):ne=te=p.default(_,"password-only-latin-letters-and-digits"),a.default.createElement("div",{className:t},a.default.createElement(u.default,{title:p.default(_,"input-password"),visible:j&&A,onClose:Y,submitButtonText:p.default(_,"save"),submitButtonProps:{className:v("TouchSaveButton"),disabled:X,progress:F},onSubmit:q,zIndexGroupLevel:1,className:P},p.default(_,"password-remember"),a.default.createElement(l.default,{view:"default",size:"m",placeholder:p.default(_,"password-min-len"),value:M,className:v("TouchInput"),onChange:J,maxLength:256,state:!K||z?"error":void 0,hint:ne,autoFocus:!0,onKeyDown:Z})),a.default.createElement(d.default,{name:"shield",className:v("Icon",{withField:!0},[n])}),a.default.createElement("span",{className:Q},a.default.createElement(l.default,{view:"default",size:"m",placeholder:p.default(_,"password-min-len"),value:M,className:v("Input"),onChange:J,maxLength:256,state:!K||z?"error":void 0,hint:te,autoFocus:!0,onKeyDown:Z})),a.default.createElement("div",{className:ee},a.default.createElement(f.default,{size:"m",view:"raised",onClick:q,disabled:X,progress:F,className:v("ApplyButton")},p.default(_,"done"))))}var re,ie=!1;return"all"===E?(re=p.default(_,"password-disabled-tooltip"),ie=!0):O||b?re=p.default(_,"password-tooltip"):ie=!0,a.default.createElement("div",{className:t},a.default.createElement(d.default,{name:"shield",className:v("Icon",[n])}),a.default.createElement("span",{className:Q},b?a.default.createElement(a.default.Fragment,null,p.default(_,"password-set"),O?a.default.createElement(f.default,{size:"s",view:"clear",onClick:$,icon:g,className:v("EditButton"),title:p.default(_,"password-edit-title")}):null):p.default(_,"password-title")),a.default.createElement(m.default,{hasFeature:O}),a.default.createElement("div",{className:ee},a.default.createElement(s.default,{tooltipContent:re?a.default.createElement("div",{className:y},re):null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:v("Tooltip"),disabled:j},a.default.createElement(c.default,{size:"m",view:"default",checked:b,onChange:G,disabled:ie,className:v("Tumbler")}))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1318),o=n(459),a=r.compose(r.composeU(o.withViewDefault,i.withViewShareMenu),o.withSizeM)(o.Textinput);t.default=a}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(459);n(1373),t.withViewShareMenu=r.withBemMod(i.cnTextinput(),{view:"share-menu"})}),(function(e,t,n){"use strict";n(1320)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputControl=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(79);n(1323);t.TextinputControl=function(e){var t=e.autoComplete,n=void 0===t?"off":t,a=e.autoFocus,s=e.className,u=e.controlRef,c=e.defaultValue,l=e.disabled,f=e.id,d=e.inputMode,p=e.max,h=e.maxLength,m=e.min,v=e.name,g=e.onBlur,y=e.onChange,b=e.onFocus,_=e.onKeyDown,O=e.onKeyPress,w=e.onKeyUp,E=e.pattern,S=e.placeholder,x=e.readOnly,C=e.required,T=e.tabIndex,k=e.type,j=e.value,P=r.__rest(e,["autoComplete","autoFocus","className","controlRef","defaultValue","disabled","id","inputMode","max","maxLength","min","name","onBlur","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","pattern","placeholder","readOnly","required","tabIndex","type","value"]);return i.default.createElement("input",r.__assign({},P,{autoComplete:n,autoFocus:a,className:o.cnTextinput("Control",null,[s]),defaultValue:c,disabled:l,id:f,inputMode:d,max:p,maxLength:h,min:m,name:v,onBlur:g,onChange:y,onFocus:b,onKeyDown:_,onKeyPress:O,onKeyUp:w,pattern:E,placeholder:S,readOnly:x,ref:u,required:C,tabIndex:T,type:k,value:j}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputBox=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(79);n(1325);t.TextinputBox=function(e){var t=e.className,n=r.__rest(e,["className"]);return i.default.createElement("span",r.__assign({},n,{className:o.cnTextinput("Box",null,[t])}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputIcon=void 0;var r=n(2),i=n(0),o=n(79);n(1327),n(1328),n(1329);t.TextinputIcon=function(e){var t=e.component,n=e.side,a=r.__rest(e,["component","side"]);return i.cloneElement(t,r.__assign(r.__assign({},a),{className:o.cnTextinput("Icon",{side:n},[t.props.className])}))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputHint=void 0;var r=n(2).__importDefault(n(0)),i=n(79);n(1331);t.TextinputHint=function(e){var t=e.leave,n=e.onAnimationEnd,o=e.children,a=e.id;return r.default.createElement("span",{className:i.cnTextinput("Hint",{leave:t}),onAnimationEnd:n,id:a},o)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withAutoFocus=void 0;var r=n(2),i=r.__importStar(n(0)),o=n(495),a=n(219);t.withAutoFocus=function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=i.createRef(),e}return r.__extends(n,t),n.prototype.componentDidUpdate=function(e){null!==this.controlRef.current&&this.props.focused!==e.focused&&(this.props.focused?this.controlRef.current.focus():this.controlRef.current.blur())},n.prototype.render=function(){var t=this.props.controlRef,n=void 0===t?null:t;return i.default.createElement(e,r.__assign({},this.props,{controlRef:a.mergeAllRefs(this.controlRef,n)}))},n})(i.PureComponent)).displayName="withAutoFocus("+o.getDisplayName(e)+")",t}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textinputRegistry=void 0;var r=n(1335),i=n(378);t.textinputRegistry=i.textinputRegistry.set("Clear",r.TextinputClear)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputClear=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(32),a=n(5),s=n(252),u=n(1336),c=n(1338),l=n(1340),f=n(79);n(1342);var d=a.compose(l.withGlyphXSign,a.composeU(u.withTypeCross,c.withTypeCrossWebsearch))(s.Icon);t.TextinputClear=function(e){var t=e.visible,n=e.className,a=e.theme,s=e.view,u=e.icon,c=r.__rest(e,["visible","className","theme","view","icon"]),l=o.useComponentRegistry(f.cnTextinput()).Icon,p={className:f.cnTextinput("Clear",{visible:t},[n])},h=u?i.default.cloneElement(u,p):i.default.createElement(d,r.__assign({},(function(e,t){return"default"===t?{glyph:"x-sign"}:"websearch"===e?{type:"cross-websearch"}:{type:"cross"}})(a,s),p));return i.default.createElement(l,r.__assign({},c,{component:h}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeCross=void 0;var r=n(5),i=n(252);n(1337),t.withTypeCross=r.withBemMod(i.cnIcon(),{type:"cross"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeCrossWebsearch=void 0;var r=n(5),i=n(252);n(1339),t.withTypeCrossWebsearch=r.withBemMod(i.cnIcon(),{type:"cross-websearch"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withGlyphXSign=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(5),a=n(252);n(649),n(1341),t.withGlyphXSign=o.withBemMod(a.cnIcon(),{glyph:"x-sign"},(function(e){return function(t){var n=t.className,o=r.__rest(t,["className"]);return i.default.createElement(e,r.__assign({},o,{className:a.cnIcon({hasGlyph:!0},[n])}),i.default.createElement("svg",{viewBox:"0 0 20 20"},i.default.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(5),i=n(79);n(1356),t.withThemeNormal=r.withBemMod(i.cnTextinput(),{theme:"normal"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeWebsearch=void 0;var r=n(5),i=n(79);n(1359),t.withThemeWebsearch=r.withBemMod(i.cnTextinput(),{theme:"websearch"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n(1362)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(5),i=n(79);n(1364),t.withViewDefault=r.withBemMod(i.cnTextinput(),{view:"default"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n(1367)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewMaterial=void 0;var r=n(2),i=n(5),o=r.__importStar(n(0)),a=n(79),s=n(494),u=n(1370);n(1371),t.withViewMaterial=i.withBemMod(a.cnTextinput(),{view:"material"},(function(e){return s.withControl((function(t){var n=t.hint,i=t.onChange,s=t.className,c=t.label,l=t.variant,f=t.focused,d=t.addonBefore,p=r.__rest(t,["hint","onChange","className","label","variant","focused","addonBefore"]),h=p.defaultValue,m=p.view,v=p.state,g=r.__read(o.useState(h),2),y=g[0],b=g[1],_=Boolean(p.value)||Boolean(y)||f,O=Boolean(c);return o.default.createElement(o.default.Fragment,null,o.default.createElement(e,r.__assign({className:a.cnTextinput({variant:l},[s]),addonBefore:o.default.createElement(o.default.Fragment,null,d,O&&o.default.createElement(u.Label,{floated:_},c)),onChange:function(e){b(e.target.value),"function"==typeof i&&i(e)}},p)),n&&o.default.createElement("div",{className:a.cnTextinput("Hint",{view:m,state:v,variant:l})},n))}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var r=n(2),i=r.__importDefault(n(0)),o=n(79);t.Label=function(e){var t=e.floated,n=e.className,a=r.__rest(e,["floated","className"]);return i.default.createElement("label",r.__assign({className:o.cnTextinput("Label",{floated:t},[n])},a))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPasswordForSymbols=function(e){return/^[А-яёЁ!-~]*$/.test(e)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=(function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(j([])));O&&O!==n&&r.call(O,o)&&(b=O);var w=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e})(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),(function(e,t){ns.Model.define("do-get-user-info")}),(function(e,t){ns.Model.define("notification",e.exports={params:{notification:null}})}),(function(e,t){ns.Model.define("do-status-operation",{params:{oid:null},methods:{retryOffline:function(){return!0},shouldRetryFails:function(){return!0}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(15),o=n(17),a=n(67);n(106),n(1383),a.a.define("operationExcludeFromAlbum",{methods:{onStatusCreated:function(){var e=this.get(".idSrc"),t=(Object(o.getResourceData)(Object(r.default)().getState(),e,"meta.albums_exclusions")||[]).concat([this.get(".albumType")]);Object(r.default)().dispatch(Object(i.setResourceData)(e,t,"meta.albums_exclusions")),this.setStatus("started")},onStatusStarted:function(){this.doRequestExcludeFromAlbum()},doRequestExcludeFromAlbum:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-exclude-from-album",params:{idResource:this.get(".idSrc"),albumType:this.get(".albumType")}}).always(this.handleResponseExcludeFromAlbum,this)},handleResponseExcludeFromAlbum:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?(this.checkReasonFailed(t),this.setStatus("failed")):this.setStatus("done")},onStatusDone:function(){this.notify()},onStatusFailed:function(){this.notify();var e=Object(r.default)(),t=Object(o.getResourceData)(e.getState(),this.get(".idSrc"));e.dispatch(Object(i.excludeResourceFromAlbum)([t],this.get(".albumType"),!0))},notify:function(){return this.showNotification({src:Object(o.getResourceData)(Object(r.default)().getState(),this.get(".idSrc")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status")})}}})}),(function(e,t){ns.Model.define("do-exclude-from-album",{params:{idResource:null,albumType:null}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=void 0;let r=null;t.getConfig=(e=>(r||(r=e.fetchData()),r))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectPromo=void 0;const i=n(298),o=n(682);t.selectPromo=(e=>r(void 0,void 0,void 0,(function*(){const{queue:t,stage:n,logger:r,promos:a,project:s}=e;null===r||void 0===r||r.info(`Запуск проверок промок для стадии ${n}`),e.settingsService?null===r||void 0===r||r.info("Настройки: ",e.settingsService.rawData):null===r||void 0===r||r.info("Настройки не доступны"),null===r||void 0===r||r.info("Legacy promo names: ",e.legacyPromoNames);const u=i.getForcedPromoName(e.customQuery);if(u&&a[u])return null===r||void 0===r||r.info(`Форсированный показ промо ${u}`),a[u];for(const{name:i}of t){const u=a[i];if(null===r||void 0===r||r.info(`Проверяем промо ${i} для стадии ${n}`),!u){null===r||void 0===r||r.info(`Промо ${i} не найдено в конфиге промок`);continue}let c=!1;for(const t of o.CHECKERS)if(c=!(yield t(u,e,r))){u.promo.logYtForced&&(null===r||void 0===r||r.addForcedPromos(i));break}if(!c)return null===r||void 0===r||r.info(`Будет показано промо ${u.promo.name}`),null===r||void 0===r||r.sendToYt({candidate:u.promo.name,project:s,queue:t}),u;null===r||void 0===r||r.info(`Промо ${i} не прошло проверки для стадии ${n}`)}null===r||void 0===r||r.info(`Не найдено подходящего промо для показа для стадии ${n}`),null===r||void 0===r||r.sendToYt({project:s,queue:t})})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.anchor=void 0;const i=n(683);t.anchor=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!("anchor"in e.promo&&e.promo.anchor&&!i.getVisiblePromoAnchorElement(e.promo.anchor)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`наличие видимого anchor: ${e.promo.anchor}`,expected:!0,actual:!1}),1))})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.billingPromoKey=void 0;const i=n(264);t.billingPromoKey=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.billingPromoKey){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Акционное промо ${e.promo.name} присутствует в очереди, но не передан метод общения с биллингом`,expected:"метод с общением биллинга был передан",actual:"метод не был передан"}),!1;try{const r=yield t.getBillingData(),o=r?i.getMostRelevantPromo(r):void 0;if(!o||o.key!==e.promo.billingPromoKey)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"billingPromoKey",expected:e.promo.billingPromoKey,actual:o?o.key:null}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию billingPromoKey из-за ошибки получения данных из биллинга`,expected:"не должно быть ошибки",actual:"была ошибка в работе с биллингом"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.alreadyShownPromos=void 0;t.alreadyShownPromos=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;if(null===(r=e.promo.alreadyShownPromos)||void 0===r?void 0:r.length){const r=t.settingsService;if(!r)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указано условие alreadyShownPromos, для которого нужен доступ к настройкам датасинка`,expected:"получен датасинк",actual:"нет датасинка"}),!1;const i=e.promo.alreadyShownPromos.filter(e=>Boolean(r.getLastShowTimestampByPromo(e)));if(0===i.length)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"alreadyShownPromos",expected:`Any of [${e.promo.alreadyShownPromos.join()}] should be shown`,actual:"None was shown",additional:[`[${i.join()}] was showed`]}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.isYandexStaff=void 0;const i=n(507);t.isYandexStaff=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.isYandexStaff&&!i.compareTernary(e.promo.isYandexStaff,t.userInfo.isYandexStaff)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"isYandexStaff",expected:e.promo.isYandexStaff,actual:t.userInfo.isYandexStaff}),1))})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.legacy=void 0;t.legacy=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return!(t.onLegacyCheck&&(null===(r=t.legacyPromoNames)||void 0===r?void 0:r.includes(e.promo.name))&&!(yield t.onLegacyCheck(e.promo.name)))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"onLegacyCheck",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.plugin=void 0;t.plugin=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r,i,o,a;return!((null===(i=null===(r=t.plugins)||void 0===r?void 0:r[e.promo.name])||void 0===i?void 0:i.check)&&!(yield null===(a=(o=t.plugins[e.promo.name]).check)||void 0===a?void 0:a.call(o)))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"plugin.check",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.productFamily=void 0;const i=n(264);t.productFamily=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.productFamily){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указан productFamily, но не передан метод getBillingData`,expected:"метод getBillingData был передан",actual:"метод getBillingData не был передан"}),!1;try{const r=yield t.getBillingData();if(!r||!i.hasSpecificProductFamily(r,e.promo.productFamily))return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"productFamily",expected:e.promo.productFamily,actual:r}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию billingPromoKey из-за ошибки получения данных из биллинга`,expected:"данные из getBillingData получены",actual:"произошла ошибка при получении данных"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.promoCodeActivation=void 0;const i=n(264),o=n(299),a=n(298);t.promoCodeActivation=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.promoCodeActivationDays){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Акционное промо ${e.promo.name} присутствует в очереди, но не передан метод общения с биллингом`,expected:"метод с общением биллинга был передан",actual:"метод не был передан"}),!1;try{const r=yield t.getBillingData(),s=r?i.getPromoCodeActivation(r):void 0,u=s?t.now-s.date:0,c=e.promo.promoCodeActivationDays*o.DAY;if(!s)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:"Данные об активации промокода найдены",actual:"Данные об активации промокода не найдены"}),!1;if("active"!==s.status)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:'Статус: "active"',actual:`Статус: "${s.status}"`}),!1;if(u<c)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:`Прошло > ${a.humanReadableInterval(c)}`,actual:`Прошло ${a.humanReadableInterval(u)}`}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию promoCodeActivationDays из-за ошибки получения данных из биллинга`,expected:"не должно быть ошибки",actual:"была ошибка в работе с биллингом"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.projectSettings=void 0;const i=n(507);t.projectSettings=((e,t,n)=>r(void 0,void 0,void 0,(function*(){const r=e.promo.projectSettings[t.userInfo.project];return!r||!Object.entries(r).find(([r,o])=>{const a=t.userInfo.settings[r],s=!i.compareFilter(o,a);return s&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`projectSettings.${r}`,expected:o,actual:a})),s})})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.relatedPromos=void 0;t.relatedPromos=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;if(null===(r=e.promo.relatedPromos)||void 0===r?void 0:r.length){const r=t.settingsService;if(!r)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указано условие relatedPromos, для которого нужен доступ к настройкам датасинка`,expected:"получен доступ к датасинку",actual:"нет доступа к датасинку (не передан)"}),!1;const i=e.promo.relatedPromos.filter(e=>Boolean(r.getLastShowTimestampByPromo(e)));if(i.length>0)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"relatedPromos",expected:`None of [${e.promo.relatedPromos.join()}] should be shown`,actual:`[${i.join()}] was shown`}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showFrequency=void 0;const i=n(508),o=n(299),a=n(298);t.showFrequency=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r,s,u;if("off"!==e.promo.isNotAuthorized&&t.userInfo.isNotAuthorized)return!0;if(!t.settingsService)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} нужен доступ к настройкам датасинка`,expected:"доступ к настройкам датасинка получен",actual:"нет доступа к настройкам датасинка"}),!1;const c=t.settingsService.lastPromoShowTimestamp,l=i.getFrequencyInMilliseconds(t.commonConfig),f=t.commonConfig.frequencyInDaysForSamePromo&&t.commonConfig.frequencyInDaysForSamePromo*o.DAY,d=t.now-c,p=t.settingsService.getLastShowTimestampByPromo(e.promo.name),h=t.now-p,m=(null===(r=e.promo.showFrequency)||void 0===r?void 0:r.periodInDays)?e.promo.showFrequency.periodInDays*o.DAY:l,v=(null===(s=e.promo.showFrequency)||void 0===s?void 0:s.periodInDaysForSelf)?e.promo.showFrequency.periodInDaysForSelf*o.DAY:f;if(v&&h<v)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [periodInDaysForSelf]",expected:a.humanReadableInterval(v),actual:a.humanReadableInterval(h),additional:[", candidateLastShowTimestamp: ",new Date(p)]}),!1;if(d<m)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [periodInDays]",expected:a.humanReadableInterval(m),actual:a.humanReadableInterval(d),additional:[", lastPromoShowTimestamp: ",new Date(c)]}),!1;const g=t.settingsService.getLastShowTimestampByPromo(e.promo.name),y=(null===(u=e.promo.showFrequency)||void 0===u?void 0:u.maxCount)||1;if(g&&-1!==y){const r=t.settingsService.getShowCountByPromo(e.promo.name)||1;if(r>=y)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [maxCount]",expected:`< ${y}`,actual:r}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showPeriod=t.startOfDay=void 0;const i=n(299);t.startOfDay=(e=>{const t=new Date(e);return t.setHours(0,0,0,0),t});t.showPeriod=((e,n,o)=>r(void 0,void 0,void 0,(function*(){if(!e.promo.showPeriod)return!0;if(e.promo.showPeriod.from){const r=t.startOfDay(e.promo.showPeriod.from).getTime();if(n.now<r)return null===o||void 0===o||o.mismatch({promoName:e.promo.name,condition:"showPeriod(from)",expected:`>= ${e.promo.showPeriod.from}`,actual:new Date(n.now)}),!1}if(e.promo.showPeriod.to){const r=t.startOfDay(e.promo.showPeriod.to).getTime()+i.DAY;if(n.now>=r)return null===o||void 0===o||o.mismatch({promoName:e.promo.name,condition:"showPeriod(to)",expected:`< ${new Date(r).toISOString()}`,actual:new Date(n.now)}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tld=t.testids=t.userFamily=t.familyAdmin=t.subscription=t.stage=t.segment=t.promoEnabled=t.langs=t.auth=void 0;const o=i(n(1399)),a=n(379),s=n(507);t.auth=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!!s.compareTernary(e.promo.isNotAuthorized,t.userInfo.isNotAuthorized)||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"isNotAuthorized",expected:e.promo.isNotAuthorized,actual:t.userInfo.isNotAuthorized}),!1)})));t.langs=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return null===(r=e.promo.langs)||void 0===r||!r.length||-1!==e.promo.langs.indexOf(t.lang)||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"langs",expected:e.promo.langs,actual:t.lang}),!1)})));t.promoEnabled=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(t.userInfo.promoDisabled&&!e.promo.ignorePromoDisabled&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoDisabled",expected:!1,actual:t.userInfo.promoDisabled,additional:[`, ignorePromoDisabled: ${e.promo.ignorePromoDisabled}`]}),1))})));t.segment=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return e.promo.segment===a.whatever||e.promo.segment===t.userInfo.segment||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"segment",expected:e.promo.segment,actual:t.userInfo.segment}),!1)})));t.stage=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return"page-changed"===e.promo.stage&&"page-init"===t.stage||e.promo.stage===t.stage||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"stage",expected:e.promo.stage,actual:t.stage}),!1)})));t.subscription=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return e.promo.subscription===a.whatever||e.promo.subscription===t.userInfo.subscription||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"subscription",expected:e.promo.subscription,actual:t.userInfo.subscription}),!1)})));t.familyAdmin=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.showToFamilyAdminsOnly&&!t.userInfo.isFamilyAdmin&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showToFamilyAdminsOnly",expected:e.promo.showToFamilyAdminsOnly,actual:t.userInfo.isFamilyAdmin}),1))})));t.userFamily=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!e.promo.userFamily||e.promo.userFamily===a.whatever||e.promo.userFamily===t.userInfo.userFamily||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"userFamily",expected:e.promo.userFamily,actual:t.userInfo.userFamily}),!1)})));t.testids=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return null===(r=e.promo.testids)||void 0===r||!r.length||0!==o.default(e.promo.testids,t.userInfo.testids).length||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"testids",expected:e.promo.testids,actual:t.userInfo.testids}),!1)})));t.tld=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return!((null===(r=e.promo.tld)||void 0===r?void 0:r.length)&&!e.promo.tld.includes(t.userInfo.tld)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"tld",expected:e.promo.tld,actual:t.userInfo.tld}),1))})))}),(function(e,t,n){var r=n(254),i=n(1400),o=n(510),a=n(1428),s=o((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=s}),(function(e,t,n){var r=n(460),i=n(574),o=n(575),a=n(254),s=n(248),u=n(461),c=Math.min;e.exports=function(e,t,n){for(var l=n?o:i,f=e[0].length,d=e.length,p=d,h=Array(d),m=1/0,v=[];p--;){var g=e[p];p&&t&&(g=a(g,s(t))),m=c(g.length,m),h[p]=!n&&(t||f>=120&&g.length>=120)?new r(p&&g):void 0}g=e[0];var y=-1,b=h[0];e:for(;++y<f&&v.length<m;){var _=g[y],O=t?t(_):_;if(_=n||0!==_?_:0,!(b?u(b,O):l(v,O,n))){for(p=d;--p;){var w=h[p];if(!(w?u(w,O):l(e[p],O,n)))continue e}b&&b.push(O),v.push(_)}}return v}}),(function(e,t,n){var r=n(1402),i=n(381),o=n(490);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}}),(function(e,t,n){var r=n(1403),i=n(1404),o=n(1405),a=n(1406),s=n(1407);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(380);e.exports=function(){this.__data__=r?r(null):{},this.size=0}}),(function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}),(function(e,t,n){var r=n(380),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}}),(function(e,t,n){var r=n(380),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}}),(function(e,t,n){var r=n(380),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}}),(function(e,t){e.exports=function(){this.__data__=[],this.size=0}}),(function(e,t,n){var r=n(382),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}}),(function(e,t,n){var r=n(382);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}}),(function(e,t,n){var r=n(382);e.exports=function(e){return r(this.__data__,e)>-1}}),(function(e,t,n){var r=n(382);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}}),(function(e,t,n){var r=n(384);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}}),(function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}),(function(e,t,n){var r=n(384);e.exports=function(e){return r(this,e).get(e)}}),(function(e,t,n){var r=n(384);e.exports=function(e){return r(this,e).has(e)}}),(function(e,t,n){var r=n(384);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}}),(function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t,n){var r=n(1421),i=n(1422),o=n(1423);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}}),(function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}),(function(e,t){e.exports=function(e){return e!=e}}),(function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}}),(function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}}),(function(e,t,n){var r=n(1426),i=n(686),o=n(385),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a}),(function(e,t){e.exports=function(e){return function(){return e}}}),(function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}),(function(e,t,n){var r=n(687);e.exports=function(e){return r(e)?e:[]}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showSegments=t.hideSegments=void 0;const i=n(1430);t.hideSegments=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;const o=null!==(r=t.userInfo.customSegments)&&void 0!==r?r:[],a=e.promo.ytSegmentHideList;return!((null===a||void 0===a?void 0:a.length)&&i.matchSegments(a,o))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"hideSegments",expected:"User shouldn't have been a member of at least one promo segment",actual:`User segments: [${o.join()}], Promo hide segments: [${a.join()}]`}),!1)})));t.showSegments=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;const o=null!==(r=t.userInfo.customSegments)&&void 0!==r?r:[],a=e.promo.ytSegmentShowList;return!((null===a||void 0===a?void 0:a.length)&&!i.matchSegments(a,o))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showSegments",expected:"User should've been a member of at least one promo segment",actual:`User segments: [${o.join()}], Promo show segments: [${a.join()}]`}),!1)})))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchSegments=void 0;t.matchSegments=((e,t)=>{const n=new Set(e);return t.some(e=>n.has(e))})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.webpSupport=void 0;t.webpSupport=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.needWebpSupport&&!(yield t.hasWebpSupport))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"hasWebSupport",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectAllActivePromos=void 0;const i=n(682),o=n(298);t.selectAllActivePromos=(e=>r(void 0,void 0,void 0,(function*(){const{queue:t,stage:n,logger:r,promos:a}=e;null===r||void 0===r||r.info(`Запуск проверок персистентной очереди промок для стадии ${n}`),e.settingsService?null===r||void 0===r||r.info("Настройки: ",e.settingsService.rawData):null===r||void 0===r||r.info("Настройки не доступны"),null===r||void 0===r||r.info("Legacy promo names: ",e.legacyPromoNames);let s=[];for(const{name:o}of t){const t=a[o];if(null===r||void 0===r||r.info(`Проверяем промо ${o} для персистентной очереди для стадии ${n}`),!t){null===r||void 0===r||r.info(`Промо ${o} не найдено в конфиге промок`);continue}let u=!1;for(const n of i.CHECKERS)if(u=!(yield n(t,e,r)))break;u?null===r||void 0===r||r.info(`Промо ${o} не прошло проверки для персистентной очереди для стадии ${n}`):(null===r||void 0===r||r.info(`Промо ${t.promo.name} прошло проверки для персистентной очереди`),s.push(t))}return s=o.takeSinglePromoByFormat(s),null===r||void 0===r||r.info(`Выбраны следующие персистентное промо: [${s.map(e=>e.promo.name).join()}]`),s})))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsPromoDatasyncService=t.schema=void 0;const r=n(255),i=n(1439);t.schema=new Proxy({},{get:()=>r.FieldString()});t.PsPromoDatasyncService=class extends r.DatasyncService{constructor(e,n){super(e,n),this.schema=t.schema}get lastPromoShowTimestamp(){return Number(this.data[i.Keys.lastPromoShowTimestamp])||0}getLastShowTimestampByPromo(e){return Number(this.data[i.Keys.lastShowTimestamp(e)])||0}getShowCountByPromo(e){return Number(this.data[i.Keys.promoShowCount(e)])||0}get rawData(){return this.data}savePromoShow(e,t,n){this.setValues({[i.Keys.lastShowTimestamp(e)]:String(t),[i.Keys.lastPromoShowTimestamp]:String(t),[i.Keys.promoShowCount(e)]:String(n+1)})}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(689),a=(function(){function e(e){this.transport=e.transport,this.errorHandler=e.errorHandler}return e.prototype.logError=function(e){this.errorHandler&&this.errorHandler(e)},e.prototype.isNotFoundError=function(e){return 404===e.status},e.prototype.getValue=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.transport.getSingleKey(e)];case 1:return[2,n.sent().value];case 2:if(t=n.sent(),!this.isNotFoundError(t))throw this.logError(t),t;return[3,3];case 3:return[2]}}))}))},e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.transport.put(e,t)];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e.prototype.setValues=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.transport.putValues?[4,this.transport.putValues(e)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,Promise.all(Object.entries(e).map((function(e){var t=e[0],r=e[1];return n.transport.put(t,r)})))];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:throw t=r.sent(),this.logError(t),t;case 6:return[2]}}))}))},e.prototype.deleteKey=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.transport.delete(e)];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),this.isNotFoundError(t))return[2,!1];throw this.logError(t),t;case 3:return[2]}}))}))},e.prototype.getAll=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.transport.getCollection()];case 1:return t=r.sent().items,[2,(0,o.mapTypes)(t,e)];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e})();t.DatasyncClient=a;var s=(function(){function e(){}return e.prototype.getValue=function(){return Promise.resolve(void 0)},e.prototype.setValue=function(){return Promise.resolve()},e.prototype.deleteKey=function(){return Promise.resolve(!1)},e.prototype.getAll=function(){return Promise.resolve({})},e.prototype.setValues=function(e){return Promise.resolve()},e})();t.NoopDatasyncClient=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransportAdapter=void 0;var r=(function(){function e(e){this.transport=e.transport,this.db=e.db,this.collection=e.collection,this.uid=String(e.uid)}return Object.defineProperty(e.prototype,"dbUrl",{get:function(){return"/".concat("web_interfaces_360","/v1/personality/profile/").concat(this.db,"/").concat(this.collection)},enumerable:!1,configurable:!0}),e.prototype.getKeyUrl=function(e){return"".concat(this.dbUrl,"/").concat(e)},e.prototype.getRequestOptions=function(e){return void 0===e&&(e={}),Object.assign({headers:{"X-Uid":this.uid}},e)},e.prototype.getSingleKey=function(e){return this.transport.get(this.getKeyUrl(e),this.getRequestOptions())},e.prototype.getCollection=function(){return this.transport.get(this.dbUrl,this.getRequestOptions())},e.prototype.put=function(e,t){return this.transport.put(this.getKeyUrl(e),{value:t},this.getRequestOptions({maxAttempts:1}))},e.prototype.delete=function(e){return this.transport.delete(this.getKeyUrl(e),this.getRequestOptions())},e})();t.TransportAdapter=r}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=void 0;var o=(function(){function e(e,t){void 0===t&&(t={}),this.client=e,this.data=t}return e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data[e]=t,[2,this.client.setValue(String(e),this.schema[e].encode(t))]}))}))},e.prototype.getValue=function(e){return this.data[e]},e.prototype.setValues=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(i){for(t={},n=0,r=Object.entries(e);n<r.length;n++)o=r[n],a=o[0],s=o[1],this.data[a]=s,t[a]=this.schema[a].encode(s);return[2,this.client.setValues(t)]}))}))},e})();t.DatasyncService=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DateMapper=t.NullableMapper=t.JsonMappers=t.UnsupportedMapper=t.ObjectMapper=t.EnumMapper=t.SimpleMapper=void 0;var i=n(1438),o=n(691);function a(e){switch((0,o.realType)(e)){case o.JsonType.Array:return e.map(a);case o.JsonType.Object:return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=a(r),e}),{});default:return e}}var s=(function(){function e(e){this.schema=e,this.schemaType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n=(0,o.realType)(e);if(this.schemaType!==n)throw new i.JsonSerializerTypeMismatchError(this.schemaType,n,t);return e},e.prototype.fromJson=function(e){var t=(0,o.realType)(e);return this.schemaType===t?e:a(this.schema)},e})();t.SimpleMapper=s;var u=(function(){function e(e,t){this.values=e,this.fallback=t}return e.prototype.isValid=function(e){return this.values.includes(e)},e.prototype.toJson=function(e,t){if(!this.isValid(e))throw new i.JsonSerializerTypeMismatchError("one of [".concat(this.values.join(", "),"]"),'"'.concat(e,'"'),t);return e},e.prototype.fromJson=function(e){return this.isValid(e)?e:this.fallback},e})();t.EnumMapper=u;var c=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){var a=this,s=(0,o.realType)(e);if(s!==o.JsonType.Object)throw new i.JsonSerializerTypeMismatchError(o.JsonType.Object,s,n);for(var u=Object.keys(this.schema),c=new Set(Object.keys(e)),l=0,f=u;l<f.length;l++){var d=f[l];if(!(d in e))throw new i.JsonSerializerMissingKeyError(r(r([],n,!0),[d],!1));c.delete(d)}return c.size>0&&c.forEach((function(e){throw new i.JsonSerializerExtraKeyError(r(r([],n,!0),[e],!1))})),u.reduce((function(i,o){var s=t.JsonMappers.toJson(e[o],a.schema[o],r(r([],n,!0),[String(o)],!1));return i[o]=s,i}),{})},e.prototype.fromJson=function(e){var n=this,r=new Set(Object.keys(this.schema)),i=Object.keys(e||{}).filter((function(e){return r.has(e)})).reduce((function(r,i){return r[i]=t.JsonMappers.fromJson(e[i],n.schema[i]),r}),{});return r.forEach((function(e){if(!(e in i)){var r=t.JsonMappers.selectMapperBySchema(n.schema[e]);i[e]=r.fromJson(void 0)}})),i},e})();t.ObjectMapper=c;var l=(function(){function e(e){this.schema=e,this.expectedType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n="constructor"in e?"class ".concat(e.constructor.name):"unknown";throw new i.JsonSerializerTypeMismatchError(this.expectedType,n,t)},e.prototype.fromJson=function(e){return t.JsonMappers.selectMapperBySchema(this.schema).fromJson(e)},e})();t.UnsupportedMapper=l,t.JsonMappers={isJsonMapper:function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJson&&"function"==typeof e.fromJson},selectMapper:function(e,n){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(n)===o.JsonType.Unsupported?new l(e):t.JsonMappers.selectMapperBySchema(e)},selectMapperBySchema:function(e){if(t.JsonMappers.isJsonMapper(e))return e;switch((0,o.realType)(e)){case o.JsonType.Object:return new c(e);default:return new s(e)}},toJson:function(e,n,r){return void 0===r&&(r=["$"]),t.JsonMappers.selectMapper(n,e).toJson(e,r)},fromJson:function(e,n){return t.JsonMappers.selectMapper(n,e).fromJson(e)}};var f=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){return null===e?null:t.JsonMappers.selectMapper(this.schema,e).toJson(e,n)},e.prototype.fromJson=function(e){return null===e||void 0===e?null:t.JsonMappers.selectMapper(this.schema,e).fromJson(e)},e})();t.NullableMapper=f;var d=(function(){function e(e){this.defaultValue=e}return e.prototype.toJson=function(e,t){if(!(e instanceof Date))throw new i.JsonSerializerTypeMismatchError("Date",(0,o.realType)(e),t);return e.getTime()},e.prototype.fromJson=function(e){return(0,o.realType)(e)!==o.JsonType.Number?new Date(this.defaultValue):new Date(e)},e})();t.DateMapper=d}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializerExtraKeyError=t.JsonSerializerMissingKeyError=t.JsonSerializerTypeMismatchError=t.JsonSerializerError=void 0;var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="JsonSerializerError",t}return r(t,e),t})(Error);t.JsonSerializerError=i;var o=(function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="Expected ".concat(t,", received ").concat(n," at path ").concat(r.join(".")),i.name="JsonSerializerTypeMismatchError",i}return r(t,e),t})(i);t.JsonSerializerTypeMismatchError=o;var a=(function(e){function t(t){var n=e.call(this)||this;return n.message="Missing key at path ".concat(t.join(".")),n.name="JsonSerializerMissingKeyError",n}return r(t,e),t})(i);t.JsonSerializerMissingKeyError=a;var s=(function(e){function t(t){var n=e.call(this)||this;return n.message="Extra key at path ".concat(t.join(".")),n.name="JsonSerializerExtraKeyError",n}return r(t,e),t})(i);t.JsonSerializerExtraKeyError=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,t.Keys={lastPromoShowTimestamp:"lastPromoShowTimestamp",lastShowTimestamp:e=>`promo_${e}_lastShowTimestamp`,promoShowCount:e=>`promo_${e}_showCount`}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorLogger=void 0;const i=n(692),o=n(693),a=n(1472),s=200;t.SelectorLogger=class{constructor({logger:e,uid:t,apiUrl:n}){this.ytData=[],this.forcedPromos=[],this.logger=e,this.uid=null!==t&&void 0!==t?t:"",this.apiUrl=n}warn(...e){var t;null===(t=this.logger)||void 0===t||t.warn(...e)}info(...e){var t;null===(t=this.logger)||void 0===t||t.info(...e)}error(e){var t;null===(t=this.logger)||void 0===t||t.error(e)}mismatch(e){var t;const{promoName:n,condition:r,expected:i,actual:o,additional:a}=e,s=Array.isArray(a)?a:[];null===(t=this.logger)||void 0===t||t.info(`Промо ${n} не прошло по условию ${r}. Expected:`,i,", actual:",o,...s),this.ytData.push({promo_id:n,reason:`${r}; Expected: ${i}, actual: ${o}`})}addForcedPromos(e){this.forcedPromos.push(e)}sendToYt({candidate:e,project:t,queue:n}){var i;return r(this,void 0,void 0,(function*(){try{const r=yield this.getLoggerApi();if(!r)return;e&&(yield r({type:a.YTLoggerType.PROMO_WAS_SHOWED,data:{promo_id:e,project:t}}));const o=this.ytData,s=this.forcedPromos;for(let e=o.length+1;e<n.length;e+=1)o.push({promo_id:n[e].name,reason:null});if(yield r({type:a.YTLoggerType.PROMO_WAS_NOT_SHOWED,data:{project:t,promos:o}}),s&&s.length){const e=[];s.forEach(n=>{var i,s;const u=null!==(s=null===(i=o.find(e=>e.promo_id===n))||void 0===i?void 0:i.reason)&&void 0!==s?s:null;e.push(r({type:a.YTLoggerType.PROMO_WAS_NOT_SHOWED_FORCED,data:{promo_id:n,reason:u,project:t}}))}),yield Promise.all(e)}}catch(e){null===(i=this.logger)||void 0===i||i.error(e)}}))}getLoggerApi(){return r(this,void 0,void 0,(function*(){const e=this.apiUrl;return e&&e.trim()&&this.uid?t=>r(this,void 0,void 0,(function*(){var n;try{this.isNeedLogPromo(t)&&(this.webApi||(this.webApi=yield o.createWebApiClient({apiUrl:null!==e&&void 0!==e?e:"",uid:this.uid,getCkey:i.getCkey,setCkey:i.setCkey,skipCkey:!0})),yield this.webApi.request([{name:"promozavr-log",params:t}]))}catch(e){null===(n=this.logger)||void 0===n||n.error(e)}})):null}))}isNeedLogPromo(e){return e.type!==a.YTLoggerType.PROMO_WAS_NOT_SHOWED||!this.uid||(parseInt(this.uid)||0)%s==0}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s={maxCount:3};t.makeRetryInterceptor=function(e,t,n){return function(u,c,l){return i(this,void 0,void 0,(function(){var i,f,d;return o(this,(function(o){switch(o.label){case 0:return(i=u.reduce((function(n,i,o){if(c.isModelRejected(i.result)){var a=i.params;a.retryOptions=r(r(r({},s),t[i.params.name]),a.retryOptions),a.retryOptions.maxCount>=0&&e(i,c)&&(n.push({index:o,modelParams:i.params}),a.retryOptions.maxCount-=1)}return n}),[])).length?n?[4,n(l,c)]:[3,2]:[2,u];case 1:o.sent(),o.label=2;case 2:return[4,c.request(i.map((function(e){return e.modelParams})))];case 3:return f=o.sent(),d=a(u),f.forEach((function(e,t){var n=i[t].index;d[n].result=e})),[2,d]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logModelsErrorInterceptor=t.passportAuthRedirectInterceptor=void 0;const r=n(1443),i=n(1449);t.passportAuthRedirectInterceptor=r.makePassportAuthRedirectInterceptor("https://passport.yandex.ru","AUTH_NO_AUTH"),t.logModelsErrorInterceptor=i.makeLogErrorInterceptor(()=>{})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1444),i=n(1448);t.makePassportAuthRedirectInterceptor=function(e,t){return i.makeRedirectInterceptor((function(e,n){if(n.isModelRejected(e)){if("string"==typeof e.error)return e.error===t;if("code"in e.error)return e.error.code===t}return!1}),(function(){var t=window.location,n=t.origin,i=t.pathname,o=t.search,a=r.parse(o),s=encodeURIComponent(""+n+i+"?"+r.stringify(a)),u=new URL(e);return u.searchParams.set("retpath",s),u.toString()}))}}),(function(e,t,n){"use strict";const r=n(1445),i=n(1446),o=n(1447);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=(function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}})(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=(function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t})(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=d,t.stringify=((e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&(e=>null===e||void 0===e)(e[n])||t.skipEmptyString&&""===e[n],r=(function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}})(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let u=t.stringify(a,n);u&&(u=`?${u}`);let l=(function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t})(e.url);return e.fragmentIdentifier&&(l=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${l}`})}),(function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}),(function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return (function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var u=o[s];e=e.replace(new RegExp(u,"g"),t[u])}return e})(e)}}}),(function(e,t,n){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRedirectInterceptor=function(e,t,n){return function(o,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return o.some((function(t){return e(t.result,a)}))?n?[4,n()]:[3,2]:[3,3];case 1:r.sent(),r.label=2;case 2:window.location.href=t(),r.label=3;case 3:return[2,o]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLogErrorInterceptor=function(e){return function(t,n,r){return t.forEach((function(t){n.isModelRejected(t.result)&&e(t.result,r)})),Promise.resolve(t)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;const r=n(512),i=n(1471);class o{logError(){}}t.createApiClient=function({apiUrl:e,uid:t,getAdditionalHeaders:n,getAdditionalBodyFields:a,interceptors:s}){const u=new r.Api(e,{getAdditionalHeaders:()=>Object.assign({},n()),getAdditionalBodyFields:()=>{const e=a();return t&&(e._uid=t),e}},new o);return new r.ModelsApi(u,{modelsQueryParameter:"_models"},{response:i.composeResponseInterceptors(...s)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1452)),c=s(n(1453)),l=n(694),f={min:100,max:500,factor:2,jitter:.1,maxAttempts:3},d=(function(){function e(e,t,n,r){void 0===r&&(r=f),this.baseUri=e,this.retryOptions=r,this.defaultOptions={mode:"cors",credentials:"include",headers:{Accept:"application/json"}},this.config=t,this.logger=n}return e.prototype.getHeaders=function(e){var t,n=r(r(r({},this.defaultOptions.headers),(null===(t=this.config)||void 0===t?void 0:t.getAdditionalHeaders)?this.config.getAdditionalHeaders():{}),e.headers);return this.isDefaultContentType(n)&&!e.autoContentType?r(r({},n),{"Content-Type":"application/json"}):n},e.prototype.isDefaultContentType=function(e){return e instanceof Headers?Boolean(!e.get("content-type")):Array.isArray(e)?Boolean(!e.find((function(e){return"content-type"===e[0].toLowerCase()}))):!e["Content-Type"]},e.prototype.getBody=function(e){var t;if(e.body){if(e.body instanceof FormData)return e.body;var n=Object.assign({},(null===(t=this.config)||void 0===t?void 0:t.getAdditionalBodyFields)?this.config.getAdditionalBodyFields():{},e.body||{});return JSON.stringify(n)}},e.prototype.request=function(e,t,n){var s;return void 0===n&&(n={}),i(this,void 0,void 0,(function(){var i,f,d,p,h,m,v;return o(this,(function(o){switch(o.label){case 0:i=n.maxAttempts,f=a(n,["maxAttempts"]),d=new u.default(this.retryOptions),p=r(r(r({},this.defaultOptions),f),{headers:this.getHeaders(f),body:this.getBody(f),cache:"no-cache",method:e}),h=i||this.retryOptions.maxAttempts,m=1,o.label=1;case 1:if(!(m<=h))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fetch(""+this.baseUri+t,p).then((function(e){if(!e.ok)throw new l.ResponseError(e);return e.json()}))];case 3:return[2,o.sent()];case 4:if(v=o.sent(),m>=h)throw null===(s=this.logger)||void 0===s||s.logError(v),v;return[4,c.default(d.duration())];case 5:return o.sent(),[3,6];case 6:return m++,[3,1];case 7:return[2,Promise.reject()]}}))}))},e.prototype.post=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("POST",e,r)]}))}))},e.prototype.put=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("PUT",e,r)]}))}))},e.prototype.get=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("GET",e,t)]}))}))},e.prototype.delete=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("DELETE",e,t)]}))}))},e})();t.Api=d}),(function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1455)),u=a(n(1458)),c=n(1470),l=(function(){function e(e,t,n){this.modelsQueryParameter=t.modelsQueryParameter,this.cache=new c.ApiCache,this.responseInterceptor=null===n||void 0===n?void 0:n.response,this.api=e}return e.prototype.postFormData=function(e,t,n,i){var o=this;return void 0===i&&(i={}),i.headers=r(r({},i.headers),{"x-yandex-header-params":JSON.stringify(n)}),i.autoContentType=!0,this.api.post("?"+this.modelsQueryParameter+"="+e,t,i).then((function(t){return o.handleMultiResponse([{name:e,params:n}],t,i)})).then((function(e){return e[0]}))},e.prototype.getModelKey=function(e){return this.cache.key(e.name,e.params)},e.prototype.request=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.getModelsResultImplementation(e,t)]}))}))},e.prototype.getModelsResultImplementation=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,c,l,f,d,p,h=this;return o(this,(function(o){switch(o.label){case 0:return t||(t={}),n=e.reduce((function(e,t){return e[h.getModelKey(t)]=t,e}),{}),r=Object.keys(n),i={},t.cache&&Object.entries(n).reduce((function(e,t){var n=t[0],r=t[1];return h.cache.has(n,r.params)&&(e[h.getModelKey(r)]={data:h.cache.get(r.name,r.params)}),e}),i),r.length===Object.keys(i).length?[2,e.map((function(e){var t=h.getModelKey(e);return i[t]}))]:(a=u.default(n,s.default(r,Object.keys(i))),c=Object.values(a),l=c.map((function(e){return e.name})),[4,this.api.post("?"+this.modelsQueryParameter+"="+l.join(","),{models:c},t).then((function(e){return{modelResults:h.handleMultiResponse(c,e,t),response:e}}))]);case 1:return(f=o.sent()).modelResults.forEach((function(e,t){var n=c[t];i[h.getModelKey(n)]=e})),d=e.map((function(e){var t=h.getModelKey(e);return i[t]})),this.responseInterceptor?(p=e.reduce((function(e,t,n){var r={params:t,result:d[n]};return e.push(r),e}),[]),[4,this.responseInterceptor(p,this,f.response)]):[3,3];case 2:p=o.sent(),d=p.map((function(e){return e.result})),o.label=3;case 3:return[2,d]}}))}))},e.prototype.isModelRejected=function(e){return this.isNotNullObject(e)&&"error"in e},e.prototype.isModelResolved=function(e){return this.isNotNullObject(e)&&"data"in e},e.prototype.isNotNullObject=function(e){return"object"==typeof e&&null!==e},e.prototype.handleMultiResponse=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=t.models[i],a=e[i],s=o;n.cache&&"data"in o&&this.cache.set(a.name,a.params,o.data),r.push(s)}return r},e})();t.ModelsApi=l}),(function(e,t,n){var r=n(1456),i=n(513),o=n(510),a=n(687),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s}),(function(e,t,n){var r=n(460),i=n(574),o=n(575),a=n(254),s=n(248),u=n(461),c=200;e.exports=function(e,t,n,l){var f=-1,d=i,p=!0,h=e.length,m=[],v=t.length;if(!h)return m;n&&(t=a(t,s(n))),l?(d=o,p=!1):t.length>=c&&(d=u,p=!1,t=new r(t));e:for(;++f<h;){var g=e[f],y=null==n?g:n(g);if(g=l||0!==g?g:0,p&&y==y){for(var b=v;b--;)if(t[b]===y)continue e;m.push(g)}else d(t,y,l)||m.push(g)}return m}}),(function(e,t,n){var r=n(247),i=n(367),o=n(145),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}}),(function(e,t,n){var r=n(1459),i=n(697)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i}),(function(e,t,n){var r=n(1460),i=n(696);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}}),(function(e,t,n){var r=n(300),i=n(1466),o=n(256);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}}),(function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(1462)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=o}),(function(e,t,n){var r=n(1463),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}}),(function(e,t,n){var r=n(509),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o}),(function(e,t,n){var r=n(1465);e.exports=function(e){return null==e?"":r(e)}}),(function(e,t,n){var r=n(247),i=n(254),o=n(145),a=n(301),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}}),(function(e,t,n){var r=n(516),i=n(256),o=n(386),a=n(153),s=n(257);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,f=l-1,d=e;null!=d&&++c<l;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=f){var m=d[p];void 0===(h=u?u(m,p,d):void 0)&&(h=a(m)?m:o(t[c+1])?[]:{})}r(d,p,h),d=d[p]}return e}}),(function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}}),(function(e,t,n){var r=n(256),i=n(367),o=n(145),a=n(386),s=n(491),u=n(257);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}}),(function(e,t,n){var r=n(513);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.cache={}}return e.prototype.set=function(e,t,n){var r=this.key(e,t);this.cache[r]=n},e.prototype.get=function(e,t){var n=this.key(e,t);return this.cache[n]},e.prototype.has=function(e,t){return this.key(e,t)in this.cache},e.prototype.key=function(e,t){return["url="+e].concat(Object.keys(t||{}).sort().map((function(e){return e+"="+JSON.stringify(t[e])}))).join("&")},e})();t.ApiCache=r}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.composeResponseInterceptors=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,o){return r(this,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:r=t,a=0,s=e,i.label=1;case 1:return a<s.length?[4,(0,s[a])(t,n,o)]:[3,4];case 2:r=i.sent(),i.label=3;case 3:return a++,[3,1];case 4:return[2,r]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YTLoggerType=void 0,(function(e){e.PROMO_WAS_SHOWED="promo-was-showed",e.PROMO_WAS_NOT_SHOWED="promo-was-not-showed",e.PROMO_WAS_NOT_SHOWED_FORCED="promo-was-not-showed-forced"})(t.YTLoggerType||(t.YTLoggerType={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasWebpSupport=void 0;t.hasWebpSupport=(()=>new Promise(e=>{let t=new Image;t.onload=t.onerror=function(){e(t.width>0&&t.height>0)},t.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareBunkerDataToSsr=t.getActualKeysetsByQueues=void 0;const r=n(508);function i(e,t,n=!0){const r={};for(const i of t)n?e.config.persistentQueues[i]&&(r[i]=e.config.persistentQueues[i]):e.config.queues[i]&&(r[i]=e.config.queues[i]);return r}const o=e=>e.promo.keysetId||e.promo.name;function a(e,t,n,a=!0){const s=i(e,t,a),u=r.getPromosWithFormat(e.config),c=t.reduce((e,t)=>{if(!s[t])return e;const n=(s[t]||[]).map(e=>o(u[e.name]));return e.push(...n),e},[]);if(n){const e=o(u[n]);c.includes(e)||c.push(e)}const l=e.translations.keysets,f=Object.keys(l),d=c.filter(e=>f.includes(e)||f.includes(`promo_${e}`)).reduce((e,t)=>(e[t]=l[t]||l[`promo_${t}`],e),{});return d.promo_common=l.promo_common,Object.keys(d).reduce((e,t)=>{const n=Object.keys(d[t].keys).reduce((e,n)=>{const r=Object.keys(d[t].keys[n].translations).reduce((e,r)=>(e[r]={form:d[t].keys[n].translations[r].form},e),{});return e[n]={translations:r},e},{});return e[t]={keys:n},e},{})}t.getActualKeysetsByQueues=a,t.prepareBunkerDataToSsr=function(e,t,n,r,o=!0){if(!(e&&e.config&&e.config.promos&&e.config.persistentQueues&&e.translations&&e.translations.keysets))return null;const s=(function(e,t){const n={popup:[],tooltip:[],custom:[],fullscreen:[],topline:[],banner:[]};for(const r of t)e.config.promos[r]&&(n[r]=e.config.promos[r]);return n})(e,t),u=i(e,n,o),c=a(e,n,r,o),l={config:{promos:s,queues:{},persistentQueues:{},common:e.config.common},translations:{keysets:c}};return l.config[o?"persistentQueues":"queues"]=u,l}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestDatasyncClient=t.RestDatasyncTransportAdapter=void 0;const r=n(512),i=n(255);t.RestDatasyncTransportAdapter=class extends i.TransportAdapter{constructor(e,t){super({collection:"promo",db:"ps",transport:new r.Api(e),uid:t})}};t.RestDatasyncClient=class extends i.DatasyncClient{constructor(e,t){super({transport:e,errorHandler:t})}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=n(1603),u=(function(){function e(e){this.id="paymentProblemGracePopup",this.Component=s.GracePopup,this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_grace,t=o.isPaymentProblemGracePopup(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGracePopup тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGracePopup тарифы те"}])]}))}))},e})();t.PaymentProblemGrace=u}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=t.PopupContent=t.PopupImage=t.PopupDescription=t.PopupCancelButton=t.PopupActionButton=t.PopupButtons=t.PopupTitle=t.PopupTexts=void 0;const c=o(n(0)),l=u(n(151)),f=n(699),d=n(302),p=n(518),h=n(1518),m=n(519),v=n(298),g=n(119),y=u(n(1534));t.PopupTexts=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement("div",Object.assign({className:l.default(t,y.default.texts)},n))});t.PopupTitle=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(d.Text,Object.assign({className:l.default(t,y.default.title),typography:"subheader-xl",as:"h2",align:"center",weight:"medium"},n))});t.PopupButtons=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement("div",Object.assign({className:l.default(t,y.default.buttons)},n))});t.PopupActionButton=(e=>{var{className:t}=e,n=s(e,["className"]);const r=n.url?{type:"link",target:"_blank",rel:"noopener"}:{};return c.default.createElement(p.Button,Object.assign({className:l.default(t,y.default.button,y.default.actionButton),view:"brand",size:"l"},r,n))});t.PopupCancelButton=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(p.Button,Object.assign({className:l.default(t,y.default.button,y.default.cancelButton),view:"pseudo",size:"l"},n))});t.PopupDescription=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(d.Text,Object.assign({className:l.default(t,y.default.description),color:"secondary",typography:"body-short-xl",align:"center"},n))});t.PopupImage=(e=>{var{image:t,className:n}=e,r=s(e,["image","className"]);return c.default.createElement(m.Image,Object.assign({alt:"Image",className:l.default(y.default.image,n),src:null===t||void 0===t?void 0:t.src,srcSet:null===t||void 0===t?void 0:t.srcSet,stub:c.default.createElement("div",{className:y.default.imageStub}),"aria-hidden":!0,height:"100%"},r))});t.PopupContent=(e=>{var{image:n,children:r}=e,i=s(e,["image","children"]);return c.default.createElement("div",Object.assign({},i),n&&c.default.createElement(t.PopupImage,{image:n}),r)});t.Popup=(e=>{var{visible:t,className:n,background:r,children:i,onCloseClick:o,onClose:u}=e,d=s(e,["visible","className","background","children","onCloseClick","onClose"]);const b=c.useCallback(e=>c.default.createElement(h.Icon,{className:e,glyph:"type-cross-websearch"}),[]),[_,O]=c.useState(!0),w=c.useCallback((e,n)=>a(void 0,void 0,void 0,(function*(){void 0===t&&(O(!1),yield v.delay(v.CLOSE_DELAY)),null===u||void 0===u||u(e,n)})),[u,t]),E=c.useCallback(e=>a(void 0,void 0,void 0,(function*(){void 0===t&&(O(!1),yield v.delay(v.CLOSE_DELAY)),null===o||void 0===o||o(e)})),[o,t]),S=g.useCloseButtonTitleText();return c.default.createElement(f.Modal,Object.assign({visible:null!==t&&void 0!==t?t:_,className:l.default(n,y.default.modal),theme:"normal",onClose:u?w:void 0},d),c.default.createElement("div",{className:y.default.root},r&&c.default.createElement(m.Image,{alt:"Background",className:y.default.background,src:r.src,srcSet:r.srcSet,stub:c.default.createElement("div",{className:y.default.backgroundStub}),"aria-hidden":!0,height:"100%"}),i,o&&c.default.createElement("div",{className:y.default.close},c.default.createElement(p.Button,{view:"clear",size:"l",icon:b,onClick:E,"aria-label":S}))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;const r=n(5),i=n(338);t.Icon=r.compose(r.composeU(i.withGlyphTypeCrossWebsearch))(i.Icon)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(1535);t.default={popupWidth:"566px",popupHeight:"560px",imageHeight:"336px",modal:"Popup_modal_24TLt",root:"Popup_root_sl2fL",background:"Popup_background_ayMCi",backgroundStub:"Popup_backgroundStub_FIpZC",image:"Popup_image_ZDRfG",imageStub:"Popup_imageStub_PUqSc",texts:"Popup_texts_PN1uS",buttons:"Popup_buttons_52MeV",title:"Popup_title_f-XE0",description:"Popup_description_W-lNx",close:"Popup_close_7KCm4",actionButton:"Popup_actionButton_4072-",button:"Popup_button_4834A",cancelButton:"Popup_cancelButton_CkF-3"}}),(function(e,t,n){}),(function(e,t,n){var r=n(513),i=n(1537),o=n(510),a=n(1568),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s}),(function(e,t,n){var r=n(254),i=n(300),o=n(1538),a=n(1559),s=n(1565),u=n(248),c=n(1566),l=n(385),f=n(145);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,u(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}}),(function(e,t,n){var r=n(1539),i=n(1554),o=n(385),a=n(145),s=n(1556);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}}),(function(e,t,n){var r=n(1540),i=n(1553),o=n(713);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}}),(function(e,t,n){var r=n(520),i=n(521),o=1,a=2;e.exports=function(e,t,n,s){var u=n.length,c=u,l=!s;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){var d=(f=n[u])[0],p=e[d],h=f[1];if(l&&f[2]){if(void 0===p&&!(d in e))return!1}else{var m=new r;if(s)var v=s(p,h,d,e,t,m);if(!(void 0===v?i(h,p,o|a,s,m):v))return!1}}return!0}}),(function(e,t,n){var r=n(381);e.exports=function(){this.__data__=new r,this.size=0}}),(function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}}),(function(e,t){e.exports=function(e){return this.__data__.get(e)}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t,n){var r=n(381),i=n(490),o=n(509),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}}),(function(e,t,n){var r=n(520),i=n(706),o=n(1548),a=n(1550),s=n(290),u=n(145),c=n(368),l=n(492),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=u(e),_=u(t),O=b?p:s(e),w=_?p:s(t),E=(O=O==d?h:O)==h,S=(w=w==d?h:w)==h,x=O==w;if(x&&c(e)){if(!c(t))return!1;b=!0,E=!1}if(x&&!E)return y||(y=new r),b||l(e)?i(e,t,n,v,g,y):o(e,t,O,n,v,g,y);if(!(n&f)){var C=E&&m.call(e,"__wrapped__"),T=S&&m.call(t,"__wrapped__");if(C||T){var k=C?e.value():e,j=T?t.value():t;return y||(y=new r),g(k,j,n,v,y)}}return!!x&&(y||(y=new r),a(e,t,n,v,g,y))}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}),(function(e,t,n){var r=n(247),i=n(707),o=n(383),a=n(706),s=n(1549),u=n(843),c=1,l=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",O="[object DataView]",w=r?r.prototype:void 0,E=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,S,x){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case f:case d:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var C=s;case g:var T=r&c;if(C||(C=u),e.size!=t.size&&!T)return!1;var k=x.get(e);if(k)return k==t;r|=l,x.set(e,t);var j=a(C(e),C(t),r,w,S,x);return x.delete(e),j;case b:if(E)return E.call(e)==E.call(t)}return!1}}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}}),(function(e,t,n){var r=n(708),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=n&i,l=r(e),f=l.length;if(f!=r(t).length&&!c)return!1;for(var d=f;d--;){var p=l[d];if(!(c?p in t:o.call(t,p)))return!1}var h=u.get(e),m=u.get(t);if(h&&m)return h==t&&m==e;var v=!0;u.set(e,t),u.set(t,e);for(var g=c;++d<f;){var y=e[p=l[d]],b=t[p];if(a)var _=c?a(b,y,p,t,e,u):a(y,b,p,e,t,u);if(!(void 0===_?y===b||s(y,b,n,a,u):_)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var O=e.constructor,w=t.constructor;O!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w)&&(v=!1)}return u.delete(e),u.delete(t),v}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}),(function(e,t,n){var r=n(712),i=n(303);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}}),(function(e,t,n){var r=n(521),i=n(1555),o=n(696),a=n(515),s=n(712),u=n(713),c=n(257),l=1,f=2;e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,l|f)}}}),(function(e,t,n){var r=n(300);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}}),(function(e,t,n){var r=n(1557),i=n(1558),o=n(515),a=n(257);e.exports=function(e){return o(e)?r(a(e)):i(e)}}),(function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}}),(function(e,t,n){var r=n(300);e.exports=function(e){return function(t){return r(t,e)}}}),(function(e,t,n){var r=n(1560),i=n(221);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}}),(function(e,t,n){var r=n(1561),i=n(1564)(r);e.exports=i}),(function(e,t,n){var r=n(1562),i=n(303);e.exports=function(e,t){return e&&r(e,t,i)}}),(function(e,t,n){var r=n(1563)();e.exports=r}),(function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}}),(function(e,t,n){var r=n(221);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}}),(function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}}),(function(e,t,n){var r=n(1567);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}}),(function(e,t,n){var r=n(301);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,u=null===t,c=t==t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}}),(function(e,t,n){var r=n(383),i=n(221),o=n(386),a=n(153);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}}),(function(e,t,n){var r=n(520),i=n(1570),o=n(516),a=n(1571),s=n(1572),u=n(1575),c=n(1576),l=n(1577),f=n(1578),d=n(708),p=n(715),h=n(290),m=n(1579),v=n(1580),g=n(1585),y=n(145),b=n(368),_=n(1587),O=n(153),w=n(1589),E=n(303),S=n(523),x=1,C=2,T=4,k="[object Arguments]",j="[object Function]",P="[object GeneratorFunction]",R="[object Object]",A={};A[k]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[R]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[j]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,I,D,M,N){var L,F=n&x,B=n&C,U=n&T;if(I&&(L=M?I(t,D,M,N):I(t)),void 0!==L)return L;if(!O(t))return t;var z=y(t);if(z){if(L=m(t),!F)return c(t,L)}else{var V=h(t),H=V==j||V==P;if(b(t))return u(t,F);if(V==R||V==k||H&&!M){if(L=B||H?{}:g(t),!F)return B?f(t,s(L,t)):l(t,a(L,t))}else{if(!A[V])return M?t:{};L=v(t,V,F)}}N||(N=new r);var W=N.get(t);if(W)return W;N.set(t,L),w(t)?t.forEach((function(r){L.add(e(r,n,I,r,t,N))})):_(t)&&t.forEach((function(r,i){L.set(i,e(r,n,I,i,t,N))}));var G=z?void 0:(U?B?p:d:B?S:E)(t);return i(G||t,(function(r,i){G&&(r=t[i=r]),o(L,i,e(r,n,I,i,t,N))})),L}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}),(function(e,t,n){var r=n(304),i=n(303);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t,n){var r=n(304),i=n(523);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t,n){var r=n(153),i=n(366),o=n(1574),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}}),(function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}),(function(e,t,n){(function(e){var r=n(152),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(178)(e))}),(function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}),(function(e,t,n){var r=n(304),i=n(522);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t,n){var r=n(304),i=n(714);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}),(function(e,t,n){var r=n(525),i=n(1581),o=n(1582),a=n(1583),s=n(1584),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",p="[object Set]",h="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",x="[object Uint16Array]",C="[object Uint32Array]";e.exports=function(e,t,n){var T=e.constructor;switch(t){case v:return r(e);case u:case c:return new T(+e);case g:return i(e,n);case y:case b:case _:case O:case w:case E:case S:case x:case C:return s(e,n);case l:return new T;case f:case h:return new T(e);case d:return o(e);case p:return new T;case m:return a(e)}}}),(function(e,t,n){var r=n(525);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}),(function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}),(function(e,t,n){var r=n(247),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}}),(function(e,t,n){var r=n(525);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}),(function(e,t,n){var r=n(1586),i=n(524),o=n(366);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}}),(function(e,t,n){var r=n(153),i=Object.create,o=(function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();e.exports=o}),(function(e,t,n){var r=n(1588),i=n(248),o=n(493),a=o&&o.isMap,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(290),i=n(179),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(1590),i=n(248),o=n(493),a=o&&o.isSet,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(290),i=n(179),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(256),i=n(1592),o=n(1593),a=n(257);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}}),(function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}}),(function(e,t,n){var r=n(300),i=n(1594);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}}),(function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}}),(function(e,t,n){var r=n(1596);e.exports=function(e){return r(e)?void 0:e}}),(function(e,t,n){var r=n(246),i=n(524),o=n(179),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.enabled=!1,this.enabled="undefined"!=typeof window&&Boolean(new URLSearchParams(window.location.search).get("debug"))}return e.prototype.log=function(e,t){this.enabled&&console[e].apply(console,t)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log("info",e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log("warn",e)},e})();t.DebugModelClass=r,t.DebugModel=new r}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1604));t.GracePopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(125),o=r.connect((function(e){return{url:e.config.urlsBase.yandex360+"/premium-plans#manage"}}));t.default=o(i.GracePopup)}),(function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l}),(function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(548);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=a(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=p}),[p]),l(p),p}}),(function(e,t,n){"use strict";e.exports=n(1608)}),(function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case v:case c:return e;default:return t}}case o:return t}}}function E(e){return w(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===_||e.$$typeof===O||e.$$typeof===y)},t.typeOf=w}),(function(e,t,n){"use strict";
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case u:case s:case p:case h:return e;default:switch(e=e&&e.$$typeof){case f:case l:case d:case v:case m:case c:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===d},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p},t.isSuspenseList=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===s||e===p||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=y}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=n(1611),u=(function(){function e(e){this.id="paymentProblemHoldAdPopup",this.Component=s.HoldAdPopup,this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldAdPopup(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldAdPopup тариф на холде"},{actual:t,expected:!0,message:"paymentProblemHoldAdPopup тариф старый"}])]}))}))},e})();t.PaymentProblemHoldAd=u}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1612));t.HoldAdPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(125),o=r.connect((function(e){return{url:e.config.urlsBase.yandex360+"/premium-plans#manage"}}));t.default=o(i.HoldAdPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=n(1614),u=(function(){function e(e){this.id="paymentProblemHoldPopup",this.Component=s.HoldPopup,this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldPopup(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldPopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldPopup нужные тарифы пришли"}])]}))}))},e})();t.PaymentProblemHold=u}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1615));t.HoldPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(125),o=n(109),a=r.connect((function(e){var t=e.config,n=t.urlsBase.yandex360,r=t.data.locale;return{url:n+"/premium-plans#manage",features:[{featureCode:o.ProductFeatureCode.DiskSpace},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds},{featureCode:o.ProductFeatureCode.IncreasedFileLimit}],lang:r}}));t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=n(1617),u=(function(){function e(e){this.id="paymentProblemHoldStorePopup",this.Component=s.HoldAppStore,this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldStorePopup(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStorePopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStorePopup тариф из стора"}])]}))}))},e})();t.PaymentProblemAppStore=u}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1618));t.HoldAppStore=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(125),o=n(109),a=r.connect((function(e){var t=e.config,n=t.urlsBase.support,r=t.data.locale;return{url:n+("app_store"===i.getMobile(e.billingProducts.paymentProblem.items)?"/disk-app-ios/buy-space.html#manage":"/disk-app-android/buy-space.html#manage"),features:[{featureCode:o.ProductFeatureCode.DiskSpace},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds},{featureCode:o.ProductFeatureCode.IncreasedFileLimit}],lang:r}}));t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=(function(){function e(e){this.id="paymentProblemHoldStoreAndroid",this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldStoreAndroid(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStoreAndroid тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStoreAndroid тариф android"}])]}))}))},e})();t.PaymentProblemHoldAndroid=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=(function(){function e(e){this.id="paymentProblemHoldStoreApple",this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldStoreApple(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStoreApple тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStoreApple тариф apple"}])]}))}))},e})();t.PaymentProblemHoldApple=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=(function(){function e(e){this.id="paymentProblemGraceStoreAndroid",this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_grace,t=o.isPaymentProblemGraceStoreAndroid(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGraceStoreAndroid тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGraceStoreAndroid тариф grace android"}])]}))}))},e})();t.PaymentProblemGraceAndroid=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=(function(){function e(e){this.id="paymentProblemGraceStoreApple",this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_grace,t=o.isPaymentProblemGraceStoreApple(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGraceStoreApple тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGraceStoreApple тарифа grace apple"}])]}))}))},e})();t.PaymentProblemGraceApple=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),a=n(182),s=n(1624),u=(function(){function e(e){this.id="paymentProblemHoldFamilyPopup",this.Component=s.HoldFamilyPopup,this.paymentProblem=e}return e.prototype.check=function(){return r(this,void 0,Promise,(function(){var e,t;return i(this,(function(n){return e=this.paymentProblem.have_hold,t=o.isPaymentProblemHoldFamilyPopup(this.paymentProblem.items),[2,a.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldFamilyPopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldFamilyPopup тариф семейный"}])]}))}))},e})();t.PaymentProblemHoldFamily=u}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1625));t.HoldFamilyPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(125),o=n(109),a=r.connect((function(e){var t=e.config,n=t.urlsBase.yandex360,r=t.data.locale;return{url:n+"/premium-plans#manage",features:[{featureCode:"family_disk_size"},{featureCode:"family"},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds}],lang:r}}));t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),o=n(15);t.fetchResourceSaga=function(e){var t,n,a=e.payload.id;return r(this,(function(e){switch(e.label){case 0:return[4,i.getContext("rawFetchModel")];case 1:return t=e.sent(),[4,i.call(t,"resource",{id:a})];case 2:return n=e.sent(),[4,i.put(o.setResourceData(a,n))];case 3:return e.sent(),[2]}}))}}),(function(e,t){e.exports={getParamSource:function(e,t,n){return[e,t,n].filter(Boolean).join("_")},getParamOrigin:function(e,t){return["disk",e,t].join("_")}}}),(function(e,t){e.exports={getNameContext:function(e){var t="files";return 0===e.indexOf("/photo")&&(t="photo"),0===e.indexOf("/album")&&(t="album"),0===e.indexOf("/public")&&(t="public"),t}}}),(function(e,t,n){(function(t){if(t.window){var n,r,i="onorientationchange"in window?"orientationchange":"resize";"matchMedia"in window?(window.matchMedia("(orientation: portrait)").matches&&(n=window.innerWidth,r=window.innerHeight),window.matchMedia("(orientation: landscape)").matches&&(n=window.innerHeight,r=window.innerWidth)):(n=Math.min(window.innerWidth,window.innerHeight),r=Math.max(window.innerWidth,window.innerHeight)),e.exports={nameEventOrientation:i,deviceWidth:n,deviceHeight:r}}}).call(this,n(131))}),(function(e,t){e.exports=function(e){return"mailru"===e?"moimir":e}}),(function(e,t,n){"use strict";n.r(t);var r=n(214);r.default.addTest("audiomp3",(function(){var e=document.createElement("audio");try{return!!e.canPlayType("audio/mpeg;").replace(/no/,"")}catch(e){return!1}})),r.default.addTest("uploaddrag",(function(){return r.default.draganddrop&&r.default.filereader})),r.default.addTest("webkit",(function(){return new RegExp(" AppleWebKit/").test(navigator.userAgent)})),r.default.addTest("clipboard",(function(){var e=!1;try{document.queryCommandSupported("copy")&&(document.queryCommandEnabled("copy"),e=!0)}catch(e){}return e}))}),(function(e,t,n){(function(e){e.nb.bindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).on(t,n)}))},e.nb.unbindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).off(t,n)}))},e.nb.findBlocks=function(t,n){n||(n=e.document);var r=n.querySelectorAll(t);return[].slice.call(r).map((function(e){return nb.block(e)}))}}).call(this,n(131))}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n(67),o=n(23),a=n(17),s=n(15),u=n(20),c=n(13),l=n(51);n(106),n(718);var f=n(22),d=n(35);i.a.define("operationCreateFolder",{methods:{init:function(){var e=this.get(".nameFolderDst")||this.DEFAULT_FOLDER_NAME,t=this.get(".idDst");t&&(this.set(".idFolderDst",f.dirname(t)),Object(a.isExistsResource)(Object(c.default)().getState(),t)||(e=f.basename(t),this.createDst(e))),this._canCreateFolderInCurrentContext()&&this.createSrc(e)},run:function(){return this.get(".nameFolderDst")?this.setStatus("validating"):this.get(".idDst")?this.setStatus("determined"):this._canCreateFolderInCurrentContext()?this.setStatus("created"):this.setStatus("selectFolder"),this},createSrc:function(e){var t=f.join(this.get(".idFolderDst"),"."+Date.now()+e);return this.set(".idSrc",t),Object(c.default)().dispatch(Object(s.createResource)({id:t,name:e,type:"dir",state:{hidden:!0}},{part:!0}))},createDst:function(e){return Object(c.default)().dispatch(Object(s.createResource)({id:this.get(".idDst"),name:e,type:"dir",state:{hidden:!0}},{part:!0}))},onStatusCreated:function(){this.doRename()},doRename:function(){var e=this,t=Object(c.default)();this.get(".creatingFamilyFolder")?t.dispatch(Object(o.openDialog)("familyFolderCreation",{onSubmit:function(n){t.dispatch(Object(o.updateDialog)("familyFolderCreation",{message:"",progress:!0})),e.set(".nameFolderDst",n),e.setStatus("validating")},onClose:function(){e.setStatus("canceled"),t.dispatch(Object(o.closeDialog)("familyFolderCreation"))}})):t.dispatch(Object(o.openDialog)("rename",{title:"Укажите название папки",resourceId:this.get(".idSrc"),onSubmit:function(n){var r={progress:!0};"error"===t.getState().dialogs.rename.state&&(r.message=""),t.dispatch(Object(o.updateDialog)("rename",r)),e._keepOnError=!0,e.set(".nameFolderDst",n),e.setStatus("validating")},onClose:function(){e.setStatus("canceled"),t.dispatch(Object(o.closeDialog)("rename"))}}))},onStatusValidating:function(){var e=this.get(".nameFolderDst"),t=f.join(this.get(".idFolderDst"),e),n=r.default.validateName(e);return n?(this.set(".reason",n),this.setStatus("failed")):Object(a.isExistsResource)(Object(c.default)().getState(),t)?this.setStatus("exists"):(this.set(".idDst",t),this.createDst(e),void this.setStatus("determined"))},onStatusDetermined:function(){Object(c.default)().dispatch(Object(s.hideResource)(this.get(".idSrc"))),this.doRequestCreate()},doRequestCreate:function(){ns.Model.get("queueRequest").push({id:"do-resource-create-folder",params:{id:this.get(".idDst"),force:this.get(".force")}}).always(this.handleResponseCreate,this)},handleResponseCreate:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.handleErrorCreate(t):(this.setStatus("completed"),f.dirname(t.params.id)===ns.page.current.params.idContext&&Object(c.default)().dispatch(Object(s.setScrollToResource)(t.params.id)))},getResourcePathKeyForLockError:function(){return".idFolderDst"},handleErrorCreate:function(e){var t=this.extractErrorFromResponse(e)||{};this.getErrorType(t.id)===d.STATUS_CREATE_FOLDER.EXISTS?this.setStatus("exists"):(this.checkReasonFailed(e),this.set(".verboseReason",t),this.setStatus("failed"))},getErrorType:function(e){return"HTTP_412"===e||"HTTP_405"===e?d.STATUS_CREATE_FOLDER.EXISTS:d.STATUS_CREATE_FOLDER.UNKNOWN},onStatusCanceled:function(){var e=Object(c.default)();this.notify(),e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),e.dispatch(Object(s.removeResource)(this.get(".idDst"))),e.dispatch(Object(o.closeDialog)(this._getDialogName()))},onStatusFailed:function(){var e,t=this.get(".reason"),n=this.get(".reasonText");if(t===r.NAME_VALIDATION_ERRORS.NAME_HAS_SLASH)e="Название папки не может содержать символ «/»";else if(n){e=n;var i=this.get("reasonTextAux");i&&(e+=" "+i)}else e=t===r.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"Название папки не может быть длиннее 255 символов":"Не удалось создать папку «"+yr.externals.entityify(this.get(".nameFolderDst"))+"»";var a=Object(c.default)();a.dispatch(Object(o.updateDialog)(this._getDialogName(),{progress:!1,message:e})),a.dispatch(Object(s.removeResource)(this.get(".idDst"))),this.notify()},onStatusExists:function(){Object(c.default)().dispatch(Object(o.updateDialog)(this._getDialogName(),{progress:!1,message:"Папка с именем «"+this.get(".nameFolderDst")+"» уже существует"})),this.notify("failed")},onStatusCompleted:function(){var e=Object(c.default)(),t=this.get(".idDst");e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),t&&Object(a.isExistsResource)(e.getState(),t)&&this.fetchResource(t,!0)},onStatusSelectFolder:function(){var e=this,t=this.get(".creatingFamilyFolder")?"Выберите место для новой семейной папки":"Выберите место для новой папки";Object(c.default)().dispatch(Object(l.add)("select-folder",{operation:this,dialogParams:{title:t,type:"create-folder",creatingSharedFolder:this.get(".creatingSharedFolder"),creatingFamilyFolder:this.get(".creatingFamilyFolder")},onSubmit:function(t){var n=t.folderId,r=t.name;if(e.set(".idDst",n),e.get(".creatingFamilyFolder")){e.set(".idFolderDst",n);var i=e.get(".nameFolderDst")||e.DEFAULT_FOLDER_NAME;e.createSrc(i),e.setStatus("created")}else e.createDst(r),e.setStatus("completed")},onReject:function(){e.setStatus("canceled")}}))},handleSyncResource:function(){Object(c.default)().dispatch(Object(s.showResource)(this.get(".idDst"))),this.setStatus("done")},onStatusDone:function(){this.notify(),this.get(".isRemote")||Object(c.default)().dispatch(Object(o.closeDialog)(this._getDialogName()))},notify:function(e){var t=Object(c.default)().getState();return this.showNotification({operation:"createFolder",nameFolderDst:this.get(".nameFolderDst"),src:Object(a.getResourceData)(t,this.get(".idSrc")),dst:Object(a.getResourceData)(t,this.get(".idDst")),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux"),status:e||this.get(".status"),committer:this.get(".committer")})},_canCreateFolderInCurrentContext:function(){var e=this.get(".idFolderDst"),t=Object(c.default)().getState(),n=this.get(".creatingFamilyFolder")?u.CREATE_SHARED_INSIDE:u.CREATE_INSIDE;return Object(a.isExistsResource)(t,e)&&Object(u.can)(n,Object(a.getResourceData)(t,e),t)},_getDialogName:function(){return this.get(".creatingFamilyFolder")?"familyFolderCreation":"rename"},DEFAULT_FOLDER_NAME:"Новая папка"}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(9),o=n.n(i),a=n(13),s=n(78),u=n(17),c=n(15),l=n(51),f=n(96);n(106),n(719),r.a.define("operationLeaveFolder",{methods:{init:function(){},onStatusCreated:function(){var e=this,t=Object(a.default)(),n=Object(u.getResourceData)(t.getState(),this.get(".idSrc"));t.dispatch(Object(l.add)("confirmation",{operation:this,dialogParams:{title:Object(f.capitalize)("удаление"),text:"".concat("Вы потеряете доступ к файлам в папке «"+yr.externals.entityify(n.name)+"». Она будет удалена с вашего Диска.","\n").concat("Вы уверены?"),submitButtonText:"Удалить",submitAllButtonText:"Удалить все"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}}))},onStatusStarted:function(){Object(a.default)().dispatch(Object(c.hideResource)(this.get(".idSrc"))),this.doRequestLeave()},onStatusRejected:function(){this.remove()},doRequestLeave:function(){ns.Model.get("queueRequest").push({id:"do-resource-leave",params:{gid:Object(u.getResourceData)(Object(a.default)().getState(),this.get(".idSrc"),"meta.group.gid")}}).then(this.handleResponseLeave,this.handleResponseLeave,this)},handleResponseLeave:function(e){this.extractErrorFromResponse(e)?this.handleErrorLeaveFolder(e):this.setStatus("completed")},handleErrorLeaveFolder:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=Object(a.default)(),t=Object(u.getResourceData)(e.getState(),this.get(".idSrc"));if(this.get(".isRemote")&&("owner"===this.get(".role")||"user"===this.get(".role"))){if(t){var n=ns.Model.getValid("usersFolder",{idFolder:t.id,gidFolder:o.a.get(t,"meta.group.gid")});n&&n.fetch()}return"owner"===this.get(".role")&&this.showNotification({nameFolder:this.get(".nameFolder"),nameUser:this.get(".nameUser"),operation:this.getType(),role:this.get(".role"),status:this.get(".status")}),void this.setStatus("done")}e.dispatch(Object(s.a)()),t&&(this.notify(),e.dispatch(Object(c.removeResource)(t.id))),this.setStatus("done")},remove:function(){ns.Model.destroy(this)},onStatusFailed:function(){Object(a.default)().dispatch(Object(c.showResource)(this.get(".idSrc"))),this.notify(),this.remove()},onStatusDone:function(){this.remove()},notify:function(){var e=Object(a.default)();return this.showNotification({src:Object(u.getResourceData)(e.getState(),this.get(".idSrc")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(33),a=n(67),s=n(13),u=n(28),c=n(54),l=n(92),f=n(17),d=n(148),p=n(27),h=n(15),m=n(78),v=n(51),g=n(108),y=n(22),b=n.n(y),_=n(14),O=n(96),w=n(20),E=n(25);n(106),n(719),n(1636),a.a.define("operationDelete",{methods:{init:function(){var e,t=Object(s.default)(),n=t.getState(),r=this.get(".idSrc");if(e=Object(f.isExistsResource)(n,r)?Object(f.getResourceData)(n,r):t.dispatch(Object(h.createResource)({id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}},{silent:!0,part:!0})),this.set(".srcType",e.type),!b.a.isParent("/trash",r)){var i=this.get(".idDst");i||(i=o.default.getIdUnique(b.a.join(Object(E.isPathInsideVirtualDiskFiles)(r)?Object(E.getCurrentVirtualDiskTrash)(r):"trash",e.name)),this.set(".idDst",i)),t.dispatch(Object(h.createResource)({id:i,name:e.name,type:e.type},{part:!0}))}},initFromMessage:function(e){var t=e.data.path&&b.a.normalize(e.data.path),n=b.a.extname(t)?"file":"dir";this.set(".typeSrc",n),this.set(".idSrc",t),this.init(),Object(s.default)().dispatch(Object(h.hideResource)(t)),this.setStatus("progressing")},onStatusCreated:function(){var e,t,n,r,a=this,u=Object(s.default)(),c=Object(f.getResourceData)(u.getState(),this.get(".idSrc")),l=Object(O.capitalize)("удаление"),d=!1;i.a.get(c,"meta.group.is_root")&&i.a.get(c,"meta.group.is_owned")&&(t="".concat("Папка «"+yr.externals.entityify(c.name)+"» будет перемещена в Корзину. Все, кто имеет доступ к этой папке, потеряют его.","\n").concat("Вы уверены?")),b.a.isParent("/attach/YaFotki",c.id)&&(l="Ссылки на фото исчезнут",e=c.name,t="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",n="Не удалять",d=!0,r="cancel"),o.default.isCamera(c.id)&&(t="Папка «"+yr.externals.entityify(c.name)+"» будет перемещена в Корзину. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(c.name)+"»."),t?u.dispatch(Object(v.add)("confirmation",{operation:this,dialogParams:{title:l,fotkiResourceName:e,text:t,submitButtonText:"Удалить",cancelButtonText:n,cancelAll:d,submitAllButtonText:"Удалить все",actionButton:r},onSubmit:function(){a.setStatus("started")},onReject:function(){a.setStatus("rejected")}})):this.setStatus("started")},onStatusStarted:function(){var e=Object(s.default)(),t=e.getState(),n=Object(f.getResourceData)(t,this.get(".idSrc")),r=Object(f.getResourceData)(t,this.get(".idDst"));i.a.get(n,"meta.group.is_root")&&i.a.get(n,"meta.group.is_owned")&&_.default.count("actions","shared folders","revoke access for all","by deleting"),r&&e.dispatch(Object(h.moveClonedResource)(n,r)),e.dispatch(Object(h.hideResource)(n.id)),this.doRequestDelete()},onStatusRejected:function(){var e=this.get(".idDst");e&&Object(s.default)().dispatch(Object(h.removeResource)(e)),this.remove()},doRequestDelete:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-delete",params:{id:this.get(".idSrc")}}).always(this.handleResponseDelete,this)},handleResponseDelete:function(e){var t=e.valueOf(),n=t&&t.get(".oid");n?(this.set(".oid",n),this.setStatus("progressing")):(this.extractErrorFromResponse(t)||Object(g.log)({operation:JSON.stringify({type:"delete",response:{error:t&&t.getError(),data:t&&t.getData()}})},"response_delete_without_oid"),this.handleErrorDelete(t))},handleErrorDelete:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("done")):this.handleErrorDelete(e)},onStatusCompleted:function(){var e=this.get(".idDst");e?this.fetchResource(e):this.setStatus("done")},handleSyncResource:function(){this.setStatus("done")},remove:function(){ns.Model.destroy(this)},finishDeleteFromTrash:function(e){if(b.a.isParent("/trash",this.get(".idSrc"))){var t=Object(s.default)(),n=this.get(".gid"),r=this.get(".id");if(n){var i=ns.Model.get("operations").models;if(!i.some((function(e){return e.get(".gid")===n&&e.get(".id")!==r&&!e.isCompleted()})))(e||i.some((function(e){return e.get(".gid")===n&&e.get(".id")!==r&&"done"===e.get(".status")})))&&t.dispatch(Object(m.d)())}else t.dispatch(Object(m.d)())}},onStatusDone:function(){var e=this,t=Object(s.default)(),n=t.getState(),r=this.get(".idSrc"),a=this.get(".idDst");if(a&&this.result&&this.result.resource){var v=t.dispatch(Object(h.replaceResource)(a,this.result.resource));a!==v.id&&this.set(".idDst",v.id)}this.finishDeleteFromTrash(!0);var g=this.getNotificationData(),y=Object(E.getVdHash)(a);t.dispatch(y?Object(m.b)(y):Object(m.a)()).then((function(){e.notify(g)}));var _=Object(f.getResourceData)(n,r);if(_&&(n.page.idContext.startsWith(r)&&t.dispatch(Object(p.goToUrl)("/client"+b.a.dirname(r))),(i.a.get(_,"meta.group.is_root")||i.a.get(_,"meta.with_shared"))&&o.default.updateParentsOf(_.id),this.get(".isRemote")||!Object(d.d)(n,_.id)&&i.a.get(_,"state.hidden"))){t.dispatch(Object(h.removeResource)(r));var O=Object(u.getAlbumsData)(n,"faces");if(O&&r===O.previewResourceId)t.dispatch(Object(l.fetchSingleFaces)()),t.dispatch(Object(c.fetchAlbum)(O.previewAlbumId));else if(Object(w.can)(w.ADD_TO_ALBUM,_))for(var S in n.personalAlbums.albumsByIds){r===(S.coverResourceId||i.a.get(S,"cover.object.id"))&&t.dispatch(Object(c.fetchAlbum)(S.id))}}},onStatusFailed:function(){var e=Object(s.default)(),t=e.getState(),n=Object(f.getResourceData)(t,this.get(".idSrc")),r=Object(f.getResourceData)(t,this.get(".idDst"));this.finishDeleteFromTrash(!1),n&&r&&e.dispatch(Object(h.cancelMoveClonedResource)(n,r)),e.dispatch(Object(h.showResource)(n.id)),r&&e.dispatch(Object(h.removeResource)(r.id)),(n.clusterId||n.albumIds)&&e.dispatch(Object(h.restoreDeletedItem)(n)),this.notify()},getNotificationData:function(){var e=Object(s.default)().getState(),t=this.get(".idDst");return{src:Object(f.getResourceData)(e,this.get(".idSrc")),dst:Object(f.getResourceData)(e,t),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux"),vdTrashPath:Object(E.getCurrentVirtualDiskTrash)(t)}},notify:function(e){return this.showNotification(e||this.getNotificationData())}}})}),(function(e,t){ns.Model.define("do-resource-delete",{params:{id:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(33),a=n(22),s=n.n(a),u=n(133),c=n.n(u),l=n(67),f=n(20),d=n(13),p=n(43),h=n(17),m=n(148),v=n(15),g=n(51),y=n(117);n(106),n(720);l.a.define("operationMove",{methods:{init:function(){var e,t=Object(d.default)(),n=t.getState(),r=this.get(".idSrc");if(Object(h.isExistsResource)(n,r))e=Object(h.getResourceData)(n,r);else{var i={id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}};this.get(".nameSrc")&&(i.name=this.get(".nameSrc")),e=t.dispatch(Object(v.createResource)(i,{silent:!0,part:!0}))}this.set(".srcType",e.type);var o=this.get(".idDst");o&&(this.set(".idFolderDst",s.a.dirname(o)),this.createDst())},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=e.data.source_data;r?(this.set(".nameSrc",r.name),this.set(".typeSrc",r.type)):this.set(".typeSrc",s.a.extname(t)?"file":"dir"),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("moving")},onStatusCreated:function(){var e,t,n,r,i,a=this,u=Object(d.default)(),c=Object(h.getResourceData)(u.getState(),this.get(".idSrc")),l=!1;s.a.isParent("/attach/YaFotki",c.id)&&(e="Ссылки на фото исчезнут",t=c.name,n="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",r="Не перемещать",l=!0,i="cancel"),o.default.isCamera(c.id)&&(n="Папка «"+yr.externals.entityify(c.name)+"» будет перемещена. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(c.name)+"»."),n?u.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{title:e,fotkiResourceName:t,text:n,submitButtonText:"Переместить",cancelButtonText:r,cancelAll:l,submitAllButtonText:"Переместить все",actionButton:i},onSubmit:function(){a.setStatus("approved")},onReject:function(){a.setStatus("rejected")}})):this.setStatus("approved")},onStatusApproved:function(){var e=this;if(this.get(".idFolderDst"))this.setStatus("determined");else{var t=Object(d.default)(),n=Object(h.getResourceData)(t.getState(),this.get(".idSrc")),r=this.get(".gid"),i=t.getState().statesContext.selected,o=(r?i:[n.id]).some((function(e){return s.a.isParent("/photounlim",e)}));t.dispatch(Object(g.add)("select-folder",{operation:this,dialogParams:{type:"move",resourceId:r?void 0:this.get(".idSrc"),title:r?"Куда переместить "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(i.length)+" объект",yr.externals.entityify(i.length)+" объекта",yr.externals.entityify(i.length)+" объектов"],yr.externals.entityify(i.length))+"?":"Куда переместить «"+yr.externals.entityify(n.name)+"»?",unlimWarningText:o?"После перемещения файлы займут дополнительное место на Диске":null,submitButtonText:"Переместить"},onSubmit:function(t){var n=t.folderId;e.set(".idFolderDst",n),e.setStatus("determined")},onReject:function(){e.setStatus("rejected")}}))}},onStatusDetermined:function(){var e=Object(d.default)().getState(),t=Object(h.getResourceData)(e,this.get(".idSrc")),n=s.a.join(this.get(".idFolderDst"),this.get(".nameNew")||t.name);if(n===this.get(".idSrc"))return this.setStatus("canceled");this.set(".idDst",n),Object(h.isExistsResource)(e,n)?this.setStatus("exists"):(this.createDst(),Object(f.can)(f.MOVE,t,e)?this.setStatus("started"):this.setStatus("failed"))},createDst:function(){var e=Object(d.default)(),t=Object.assign({},Object(h.getResourceData)(e.getState(),this.get(".idSrc")));delete t.state,delete t.parents,delete t.children;var n={id:this.get(".idDst"),state:(function(){var e=Object(d.default)().getState(),t=Object(p.getPage)(e);return["remember-block","photo","album"].includes(t)})()?{part:!0}:{hidden:!0}};return e.dispatch(Object(v.createResource)(Object.assign({},t,n),{part:!0}))},removeDst:function(){var e=Object(d.default)(),t=this.get(".idDst");Object(h.getResourceData)(e.getState(),t,"state.part")&&e.dispatch(Object(v.removeResource)(t))},onStatusStarted:function(){Object(d.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!0,"state.disabled")),this.doRequestMove()},onStatusRejected:function(){this.removeDst(),this.remove()},remove:function(){ns.Model.destroy(this)},doRequestMove:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-move",params:{src:this.get(".idSrc"),force:this.get(".force")||0,dst:this.get(".idDst")}}).always(this.handleResponseMove,this)},handleResponseMove:function(e){var t=e.valueOf(),n=t&&t.get(".oid");n?(this.set(".oid",n,this),this.setStatus("moving")):this.handleError(t)},moveClonedResource:function(){var e=Object(d.default)(),t=e.getState(),n=Object(h.getResourceData)(t,this.get(".idSrc")),r=Object(h.getResourceData)(t,this.get(".idDst"));return"/photo"===ns.page.current.params.idContext&&e.dispatch(Object(y.deselectResources)(n.id)),this.get(".force")&&n.clusterId!==r.clusterId&&e.dispatch(Object(v.removeResource)(r.id)),e.dispatch(Object(v.moveClonedResource)(n,r))},handleError:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusMoving:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("done")):this.handleError(e)},isActive:function(){return i.a.includes(["started","determined","moving"],this.get(".status"))},onStatusExists:function(){var e=this,t=Object(d.default)(),n=t.getState(),r=Object(h.getResourceData)(n,this.get(".idSrc")),i=Object(h.getResourceData)(n,this.get(".idDst"));"dir"===r.type?t.dispatch(Object(g.add)("prompt",{operation:this,dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(i.name)+"» уже существует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Введите новое имя.",nameSuffix:c()(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0},onSubmit:function(t){var n=t.name;e.set(".nameNew",n),e.removeDst(),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}})):t.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{text:"Файл «"+yr.externals.entityify(i.name)+"» уже cуществует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Заменить?"},onSubmit:function(){e.setStatus("forced")},onReject:function(){e.setStatus("canceled")}},this))},onStatusForced:function(){this.set(".force",1),this.doRequestMove()},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=this;this.notify();var t=Object(d.default)(),n=t.getState(),r=Object(h.getResourceData)(n,this.get(".idSrc")),a=Object(h.getResourceData)(n,this.get(".idDst"));if(t.dispatch(Object(v.showResource)(a.id)),(i.a.get(r,"meta.group.is_root")||i.a.get(r,"meta.with_shared"))&&(o.default.updateParentsOf(r.id),o.default.updateParentsOf(a.id)),this.result&&this.result.resource){var s=t.dispatch(Object(v.replaceResource)(a.id,this.result.resource));s.id!==a.id&&this.set(".idDst",s.id)}var u=this.get(".idSrc");Object(m.d)(t.getState(),u)&&t.dispatch(Object(v.setResourceData)(u,!0,"state.reuploaded")),this.moveClonedResource().then((function(){var n=t.getState();(e.get(".isRemote")||!Object(h.getResourceData)(n,u,"state.reuploaded")&&Object(h.getResourceData)(n,u,"state.disabled"))&&t.dispatch(Object(v.removeResource)(r.id))}))},onStatusCanceled:function(){Object(d.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},onStatusFailed:function(){this.notify(),Object(d.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},notify:function(){var e=Object(d.default)().getState();this.showNotification({src:Object(h.getResourceData)(e,this.get(".idSrc")),dst:Object(h.getResourceData)(e,this.get(".idDst")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),copied:this.get(".copied"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);n(106),n(1639),n(1640);var r=n(9),i=n.n(r),o=n(22),a=n.n(o),s=n(133),u=n.n(s),c=n(67),l=n(13),f=n(17),d=n(15),p=n(78),h=n(51);c.a.define("operationCopy",{methods:{init:function(){var e,t=Object(l.default)(),n=t.getState(),r=this.get(".idSrc");if(Object(f.isExistsResource)(n,r))e=Object(f.getResourceData)(n,r);else{var i={id:r,type:this.get(".typeSrc")};this.get(".nameSrc")&&(i.name=this.get(".nameSrc")),e=t.dispatch(Object(d.createResource)(i,{part:!0}))}this.set(".srcType",e.type);var o=this.get(".idDst");o&&(this.set(".idFolderDst",a.a.dirname(o)),this.set(".dst",this.createDst()))},initFromMessage:function(e){var t=e.data.source&&a.a.normalize(e.data.source),n=e.data.target&&a.a.normalize(e.data.target),r=e.data.source_data;r?(this.set(".nameSrc",r.name),this.set(".typeSrc",r.type)):this.set(".typeSrc",a.a.extname(t)?"file":"dir"),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("progressing")},run:function(){return this.get(".idFolderDst")?this.setStatus("determined"):this.setStatus("created"),this},removeDst:function(){var e=Object(l.default)(),t=this.get(".idDst");Object(f.getResourceData)(e.getState(),t,"state.part")&&e.dispatch(Object(d.removeResource)(t))},onStatusCreated:function(){var e=this,t=Object(l.default)(),n=Object(f.getResourceData)(t.getState(),this.get(".idSrc")),r=this.get(".gid"),i=t.getState().statesContext.selected,o=(r?i:[n.id]).some((function(e){return a.a.isParent("/photounlim",e)}));t.dispatch(Object(h.add)("select-folder",{operation:this,dialogParams:{type:"copy",resourceId:r?void 0:this.get(".idSrc"),title:r?"Куда копировать "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(i.length)+" объект",yr.externals.entityify(i.length)+" объекта",yr.externals.entityify(i.length)+" объектов"],yr.externals.entityify(i.length))+"?":"Куда копировать «"+yr.externals.entityify(n.name)+"»?",unlimWarningText:o?"Копии файлов займут дополнительное место на Диске":null,submitButtonText:"Копировать"},onSubmit:function(t){var n=t.folderId;e.set(".idFolderDst",n),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}}))},onStatusDetermined:function(){var e=Object(l.default)().getState(),t=Object(f.getResourceData)(e,this.get(".idSrc")),n=a.a.join(this.get(".idFolderDst"),this.get(".nameNew")||t.name);this.set(".idDst",n),!Object(f.isExistsResource)(e,n)||this.get(".force")?(this.createDst(),this.doRequestCopy()):this.setStatus("exists")},createDst:function(){var e=Object(l.default)(),t=Object(f.getResourceData)(e.getState(),this.get(".idSrc")),n=Object.assign({},t,{id:this.get(".idDst"),path:this.get(".idDst"),state:{hidden:!0}});return delete n.children,delete n.parents,delete n.publicSettings,e.dispatch(Object(d.createResource)(n,{part:!0}))},doRequestCopy:function(){var e=Object(l.default)().getState(),t=Object(f.getResourceData)(e,this.get(".idSrc")),n=Object(f.getResourceData)(e,this.get(".idDst")),r=this.get(".itemId"),i=this.get(".albumId"),o=this.get(".idFolderDst"),a=this.get(".nameNew");ns.Model.get("queueRequest").push(i?{isAction:!0,id:"do-album-resource-copy",params:{item_id:r,item_name:a||n.name,album_id:i,path:o,force:this.get(".force")||0}}:{isAction:!0,id:"do-resource-copy",params:{src:t.id,dst:n.id,force:this.get(".force")||0}}).then(this.handleResponseCopy,this.handleResponseCopy,this)},handleResponseCopy:function(e){var t=(e=e&&e.valueOf())&&e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorCopy(e)},handleErrorCopy:function(e){"HTTP_412"===(e&&e.get(".error")||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusExists:function(){var e=this,t=Object(l.default)(),n=t.getState(),r=Object(f.getResourceData)(n,this.get(".idSrc")),i=Object(f.getResourceData)(n,this.get(".idDst"));"dir"===r.type||i.path===r.path?t.dispatch(Object(h.add)("prompt",{operation:this,dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(i.name)+"» уже существует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Введите новое имя.",nameSuffix:u()(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0},onSubmit:function(t){var n=t.name;e.set(".nameNew",n),e.removeDst(),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}})):t.dispatch(Object(h.add)("confirmation",{operation:this,dialogParams:{text:"Файл «"+yr.externals.entityify(i.name)+"» уже cуществует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Заменить?"},onSubmit:function(){e.setStatus("forced")},onReject:function(){e.setStatus("canceled")}}))},onStatusForced:function(){this.set(".force",1),this.doRequestCopy()},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){if(this.extractErrorFromResponse(e))this.handleErrorStatus(e);else{var t=e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?this.setStatus("completed"):this.setStatus("failed")}},handleErrorStatus:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=this.get(".idDst");this.fetchResource(e,!0)},handleSyncResource:function(){Object(l.default)().dispatch(Object(d.showResource)(this.get(".idDst"))),this.setStatus("done")},onStatusCanceled:function(){this.removeDst()},onStatusDone:function(){Object(l.default)().dispatch(Object(p.a)()),this.notify()},onStatusFailed:function(){this.notify(),this.removeDst()},notify:function(){var e=Object(l.default)().getState();this.showNotification({operation:"copy",gid:this.get(".gid"),status:this.get(".status"),src:Object(f.getResourceData)(e,this.get(".idSrc")),dst:Object(f.getResourceData)(e,this.get(".idDst")),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-copy",{params:{src:null,dst:null,force:0}})}),(function(e,t){ns.Model.define("do-album-resource-copy",{params:{item_id:null,album_id:null,item_name:null,path:null,force:0}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(33),a=n(22),s=n.n(a),u=n(96),c=n(13),l=n(17),f=n(148),d=n(15),p=n(51),h=n(67);n(106),n(720),h.a.define("operationRename",{methods:{init:function(){var e,t=Object(c.default)(),n=t.getState(),r=this.get(".idSrc");if(e=Object(l.isExistsResource)(n,r)?Object(l.getResourceData)(n,r):t.dispatch(Object(d.createResource)({id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}},{silent:!0,part:!0})),this.set(".srcType",e.type),this.get(".idDst")){var i=this.createDst();t.dispatch(Object(d.moveClonedResource)(e,i)).then((function(){t.dispatch(Object(d.hideResource)(e.id))}))}else("dir"!==e.type||r!==n.page.idContext)&&r.startsWith(n.page.idContext)&&r.startsWith("/disk")||this.set(".srcContextId",n.page.idContext)},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=s.a.extname(t)?"file":"dir";this.set(".typeSrc",r),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("progressing")},onStatusCreated:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc"));this._oldName=n.name,function(e){var t=s.a.join(s.a.dirname(n.id),e),r=o.default.validateName(e);return r?(this.set(".reason",r),this.setStatus("failed"),!1):Object(l.isExistsResource)(Object(c.default)().getState(),t)?(this.setStatus(t===n.id?"canceled":"exists"),!1):(this.set(".idDst",t),!0)}.bind(this)(this.get(".nameProposed"))&&(o.default.isCamera(n.id)?Object(c.default)().dispatch(Object(p.add)("confirmation",{operation:this,dialogParams:{title:Object(u.capitalize)("переименование"),text:"Папка «"+yr.externals.entityify(n.name)+"» будет переименована. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(n.name)+"».",submitButtonText:"Переименовать"},onSubmit:function(){e.setStatus("approved")},onReject:function(){e.setStatus("canceled")}})):this.setStatus("approved"))},onStatusApproved:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc")),r=this.createDst();t.dispatch(Object(d.moveClonedResource)(n,r)).then((function(){t.dispatch(Object(d.hideResource)(n.id)),e.doRequestRename()}))},createDst:function(){var e=Object(c.default)(),t={id:this.get(".idDst"),name:this.get(".nameProposed")},n=Object.assign({},Object(l.getResourceData)(e.getState(),this.get(".idSrc")));return delete n.state,delete n.parents,delete n.children,e.dispatch(Object(d.createResource)(Object.assign({},n,t),{part:!0}))},doRequestRename:function(){ns.Model.get("queueRequest").push({id:"do-resource-move",params:{src:this.get(".idSrc"),dst:this.get(".idDst"),force:0}}).then(this.handleResponseRename,this.handleResponseRename,this)},handleResponseRename:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorRename(e)},handleErrorRename:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("completed")):this.handleErrorRename(e)},onStatusExists:function(){this.set(".reason","exists"),this.setStatus("failed")},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=Object(c.default)(),t=e.getState(),n=this.get(".idSrc");(this.get(".isRemote")||!Object(f.d)(t,n)&&Object(l.getResourceData)(t,n,"state.hidden"))&&(e.dispatch(Object(d.removeResource)(n)),delete this._oldName,this.notify())},onStatusCanceled:function(){this.restore()},onStatusFailed:function(){this.notify(),this.restore()},restore:function(){var e=Object(c.default)(),t=e.getState(),n=Object(l.getResourceData)(t,this.get(".idSrc")),r=Object(l.getResourceData)(t,this.get(".idDst"));n&&r&&e.dispatch(Object(d.cancelMoveClonedResource)(n,r)),n&&(this._oldName&&(e.dispatch(Object(d.setResourceData)(n.id,this._oldName,"name")),delete this._oldName),e.dispatch(Object(d.showResource)(n.id))),r&&i.a.get(r,"state.part")&&e.dispatch(Object(d.removeResource)(r.id))},notify:function(){var e=Object(c.default)().getState();return this.showNotification({src:Object(l.getResourceData)(e,this.get(".idSrc")),dst:Object(l.getResourceData)(e,this.get(".idDst")),operation:this.getType(),nameProposed:this.get(".nameProposed"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(33),a=n(67),s=n(13),u=n(17),c=n(15),l=n(51);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(106),n(1643),a.a.define("operationPublish",{methods:{init:function(){var e=this.get(".idSrc");Object(u.isExistsResource)(Object(s.default)().getState(),e)||this.setStatus("canceled")},onStatusCreated:function(){var e=this,t=Object(s.default)(),n=this.get(".idSrc");t.dispatch(Object(c.startPublishResource)(n)),!this.get(".reverse")&&o.default.isCamera(n)?t.dispatch(Object(l.add)("confirmation",{operation:this,dialogParams:{text:"Обратите внимание — по этой ссылке будут доступны все фото и видео, в том числе автоматически загружаемые с камеры или смартфона.",submitButtonText:"Опубликовать папку"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}})):this.setStatus("started")},onStatusStarted:function(){this.doRequestPublish()},onStatusRejected:function(){Object(s.default)().dispatch(Object(c.stopPublishResource)(this.get(".idSrc"))),this.remove()},onStatusCanceled:function(){this.remove()},remove:function(){ns.Model.destroy(this)},doRequestPublish:function(){var e=Object(u.getResourceData)(Object(s.default)().getState(),this.get(".idSrc")),t=this.get(".reverse");ns.Model.get("queueRequest").push({id:"do-resource-publish",params:(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({id:e.id,reverse:t,type:e.type},!t&&{allowDefaultSettingsAvailable:!0})}).then(this.handleResponsePublish,this.handleResponsePublish,this)},handleResponsePublish:function(e){var t=Object(s.default)(),n=this.get(".idSrc");this.extractErrorFromResponse(e)?this.handleErrorPublish(e):(this.get(".reverse")?t.dispatch(Object(c.unsetPublishResource)(n)):t.dispatch(Object(c.setPublishResource)(n,e.data)),t.dispatch(Object(c.stopPublishResource)(n)),this.setStatus("done"))},handleErrorPublish:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=this.get(".idSrc");Object(u.isExistsResource)(Object(s.default)().getState(),e)&&this.fetchResource(e)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){this.notify()},onStatusFailed:function(){Object(s.default)().dispatch(Object(c.stopPublishResource)(this.get(".idSrc"))),this.notify()},notify:function(){var e=Object(s.default)();return this.showNotification({src:Object(u.getResourceData)(e.getState(),this.get(".idSrc")),reverse:this.get(".reverse"),operation:this.getType(),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-publish",{params:{id:null,reverse:null,type:null,allowDefaultSettingsAvailable:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(13),o=n(78),a=n(17),s=n(15),u=n(25);n(106),n(1645);var c=n(9),l=n(22),f=n(96);r.a.define("operationRestore",{methods:{init:function(){var e,t=Object(i.default)(),n=t.getState(),r=this.get(".idSrc");e=Object(a.isExistsResource)(n,r)?Object(a.getResourceData)(n,r):t.dispatch(Object(s.createResource)({id:r,type:this.get(".typeSrc")},{silent:!0,part:!0})),this.set(".srcType",e.type);var o=this.get(".idDst");o&&t.dispatch(Object(s.createResource)({id:o,type:this.get(".typeSrc")},{part:!0}))},initFromMessage:function(e){var t=e.data.path&&l.normalize(e.data.path),n=l.extname(t)?"file":"dir";this.set(".typeSrc",n),this.set(".idSrc",t),this.init(),Object(i.default)().dispatch(Object(s.hideResource)(t)),this.setStatus("progressing")},onStatusCreated:function(){Object(i.default)().dispatch(Object(s.hideResource)(this.get(".idSrc"))),this.doRequestRestore()},doRequestRestore:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-restore",params:{id:this.get(".idSrc"),nameNew:this.get(".nameNew"),forced:this.get(".forced")}}).then(this.handleResponseRestore,this.handleResponseRestore,this)},handleResponseRestore:function(e){var t=e&&e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorRestore(e)},handleErrorRestore:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusExists:function(){var e=Object(a.getResourceData)(Object(i.default)().getState(),this.get(".idSrc"),"name"),t=l.extname(e,!0),n=e.replace(new RegExp(t+"$"),"-")+f.getUnique()+t;this.set(".nameNew",n),this.doRequestRestore()},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");if(c.includes(["EXECUTING","WAITING"],t))this.doRequestStatus();else if("DONE"===t){var n=e.get(".resource"),r=Object(i.default)().dispatch(Object(s.createResource)(n));this.set(".idDst",r.id),this.setStatus("done")}else this.handleErrorRestore(e)},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=Object(i.default)(),t=Object(u.getVdHash)(this.get(".idDst"));this.notify(),e.dispatch(t?Object(o.b)(t):Object(o.a)()),e.dispatch(Object(s.removeResource)(this.get(".idSrc")))},onStatusFailed:function(){Object(i.default)().dispatch(Object(s.showResource)(this.get(".isSrc"))),this.notify()},notify:function(){var e=Object(i.default)().getState();return this.showNotification({src:Object(a.getResourceData)(e,this.get(".idSrc")),dst:Object(a.getResourceData)(e,this.get(".idDst")),operation:"restore",gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-restore",{params:{id:null,nameNew:null,forced:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(75),i=n(46),o=n.n(i),a=n(22),s=n.n(a),u=n(14),c=n(96),l=n(67),f=n(13),d=n(17),p=n(15),h=n(78),m=n(51);n(106),n(1647),l.a.define("operationUnshare",{methods:{init:function(){},onStatusCreated:function(){var e=this,t=Object(d.getResourceData)(Object(f.default)().getState(),this.get(".idSrc"),"name"),n=Object(r.getIsNewAccessFolderExp)(Object(f.default)().getState());Object(f.default)().dispatch(Object(m.add)("confirmation",{operation:this,dialogParams:{title:n?"Вы действительно хотите закрыть доступ?":Object(c.capitalize)("Закрытие доступа"),text:n?"Папка «"+yr.externals.entityify(t)+"» будет доступна только вам и удалится у приглашённых участников.":"".concat("Закрытие доступа приведет к удалению папки «"+yr.externals.entityify(t)+"» у всех приглашенных вами участников.","\n").concat("Вы уверены?"),submitButtonText:n?"Закрыть доступ":"Закрыть доступ всем"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}}))},onStatusStarted:function(){u.default.count("actions","shared folders","revoke access for all","by button in dialog"),this.doRequestUnshare()},onStatusRejected:function(){this.remove()},remove:function(){ns.Model.destroy(this)},doRequestUnshare:function(){ns.Model.get("queueRequest").push({id:"do-resource-unshare",params:{gid:Object(d.getResourceData)(Object(f.default)().getState(),this.get(".idSrc"),"meta.group.gid")}}).always(this.handleResponseUnshare,this)},handleResponseUnshare:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.handleErrorUnshare(t):this.setStatus("completed")},handleErrorUnshare:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=Object(f.default)(),t=Object(d.getResourceData)(e.getState(),this.get(".idSrc"));if(this.get(".isRemote")&&"user"===this.get(".role"))return this.showNotification({nameFolder:this.get(".nameFolder"),operation:"unshare",role:this.get(".role"),status:this.get(".status")}),e.dispatch(Object(h.a)()),t&&(s.a.isParentOrEqualToCurrentFolder(t.id)&&o.a.go("/client/disk"),e.dispatch(Object(p.removeResource)(t.id))),void this.setStatus("done");t?(this.fetchResource(t.id),e.dispatch(Object(p.notifyChangedAccess)(t.id))):this.setStatus("done")},onStatusFailed:function(){var e=Object(f.default)().getState();return this.showNotification({src:Object(d.getResourceData)(e,this.get(".idSrc")),operation:this.getType(),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},handleSyncResource:function(){this.setStatus("done")}}})}),(function(e,t){ns.Model.define("do-resource-unshare",{params:{gid:null}})}),(function(e,t){ns.Model.define("do-resource-share-access",{params:{gid:null,userid:null,uid:null,service:null,status:null,rights:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(67),a=n(13),s=n(115),u=n(17),c=n(15);n(464),n(526),n(842),n(462),n(463),n(845),n(721),n(106),n(1652);var l=n(218);o.a.define("operationInviteFolder",{methods:{init:function(){var e,t,n,r=Object(a.default)().getState(),i=this.get(".idSrc");i&&Object(u.isExistsResource)(r,i)&&(e=Object(u.getResourceData)(r,i)),e&&(t=ns.Model.getValid("inviteesFolder",{idFolder:i}),this.set(".invitees",t));var o=this.get(".idInvitee"),s=this.get(".userid");o?n=ns.Model.getValid("inviteeFolder",{id:o,idFolder:i}):s&&(n=t.getItem(s)||t.getItemByEmail(s))&&s!==n.get(".id")&&this.set(".userid",n.get(".id")),n&&this.set(".invitee",n)},onStatusCreated:function(){var e=this.get(".idSrc"),t=this.get(".invitee"),n=this.get(".invitees");if(this.get(".idInvitee"))t.state.bindOperation(this);else{t&&n.remove(t);var r,i=l.normalize(this.get(".userid")),o=ns.Model.get("inviteeFolder",{id:i,idFolder:e});if(t)r=t.getData();else{var a=ns.Model.get("contact",{userid:this.get(".userIndex")}),s=a.get(".service")||"email";r={userid:this.get(".userid"),originid:this.get(".userid"),id:i,idFolder:e,rights:this.get(".rights"),service:s,is_ya_directory:"ya_directory"===s,type:a.get(".type"),summary:a.get(".summary"),name:a.get(".displayName")||a.get(".name"),mono:a.get(".mono"),color:a.get(".color"),avatarUrl:a.get(".avatar")||a.get(".avatarUrl")}}o.setData(r),o.state.setDataDefault(),o.state.bindOperation(this),n.insertItem(o,0),this.set(".inviteeNew",o)}this.doRequestInvite()},doRequestInvite:function(){var e=Object(a.default)(),t=Object(u.getResourceData)(e.getState(),this.get(".idSrc")),n=this.get(".invitee");ns.Model.get("queueRequest").push({id:"do-invite-folder",params:{gid:i.a.get(t,"meta.group.gid",""),path:t.path,rights:this.get(".rights"),userid:this.get(".idInvitee")||this.get(".userid"),service:this.get(".service")||"email",avatar:n?n.get(".avatar"):"",name:n?n.get(".name"):"",locale:Object(a.default)().getState().environment.session.locale}}).then(this.handleResponseInvite,this.handleResponseInvite,this)},handleResponseInvite:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorInvite(e)},handleErrorInvite:function(e){var t=this.extractErrorFromResponse(e)||{};if("HTTP_409"===t.id){var n=t.body&&t.body.code;if(112===n)return this.set(".userAlreadyAdded",!0),void this.setStatus("completed");if(124===n)this.set(".reason","limitFolders");else if(123===n)this.set(".reason","limitUsers");else{var r=t.body&&t.body.title;"token"===r?this.set(".reason","tokenExpired"):r&&(r.includes("captcha")||r.includes("flood"))&&this.set(".reason","flood")}}else this.checkReasonFailed(e);this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".error");if(t)"token"===t.message&&this.set(".reason","tokenExpired"),this.handleErrorInvite(e);else{var n=e.get(".status");i.a.includes(["EXECUTING","WAITING"],n)?this.doRequestStatus():"DONE"===n?this.setStatus("completed"):this.handleErrorInvite(e)}},onStatusCompleted:function(){var e=Object(a.default)();if(this.get(".isRemote")&&"actor"===this.get(".role"))e.dispatch(Object(s.c)(!0));else{var t=Object(u.getResourceData)(e.getState(),this.get(".idSrc"));if(t){var n=this.get(".invitees"),r=this.get(".invitee"),o=this.get(".inviteeNew"),f=i.a.get(t,"meta.group.gid");if(this.get(".isRemote"))f&&n.usersFolder.fetch();else if(r&&r.get(".groupid"))f&&n.usersFolder.fetch().then((function(){n.syncOrder()}));else if(o&&n.remove(o),!r||"contact"===r.get(".status")||o){var d=ns.Model.get("userFolder",{idFolder:t.id,userid:this.get(".idInvitee")||l.normalize(this.get(".userid"))});d.setData(i.a.extend({},(r||o).getData(),{status:this.get(".userAlreadyAdded")?"approved":"proposed",rights:this.get(".rights")})),n.usersFolder.insertItem(d);var p=ns.Model.getValid("contact",{userid:d.get(".id")});p||(p=d.toContact(),ns.Model.get("contacts").insertItem(p))}else r&&"proposed"===r.get(".status")&&ns.Model.get("userFolder",{idFolder:t.id,userid:r.get(".id")}).updateData({rights:this.get(".rights")});f?this.setStatus("done"):(this.fetchResource(t.id),e.dispatch(Object(c.notifyChangedAccess)(t.id)))}}},handleSyncResource:function(){this.setStatus("done")},onStatusFailed:function(){var e=this.get(".inviteeNew");e&&this.get(".invitees").remove(e),this.notifyFailed()},notifyFailed:function(){return this.showNotification({operation:"inviteFolder",status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},isFinalized:function(){return"failed"===this.get(".status")||"done"===this.get(".status")}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67);n(106),n(1651);var i=n(9);r.a.define("operationGetContacts",{methods:{onStatusCreated:function(){this.doRequestContacts()},doRequestContacts:function(){var e=this.handleResponseContacts.bind(this);ns.Model.get("queueRequest").push({id:"do-get-contacts",params:{}}).then(e,e)},handleResponseContacts:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorGetContacts(e)},onStatusProgressing:function(){this.doRequestStatus()},handleErrorGetContacts:function(e){this.checkReasonFailed(e),this.setStatus("failed")},handleResponseStatus:function(e){if(this.extractErrorFromResponse(e))this.handleErrorGetContacts(e);else{this.extractContacts(e);var t=e.get(".status");i.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?this.setStatus("done"):this.setStatus("failed")}},extractContacts:function(e){if(e.get(".stages")){var t=this.get(".contacts")||[];i.chain(e.get(".stages")).filter((function(e){return"email"===e.service||!e.service})).each((function(e){e.details&&i.each(e.details,(function(e){var n=e.group||e.user;t.push(i.extend(n,{service:n.is_ya_directory?"ya_directory":"email"}))}))})).value(),this.set(".contacts",t)}},onStatusDone:function(){i.defer(ns.Model.destroy,this)},onStatusFailed:function(){ns.Model.destroy(this)}}})}),(function(e,t){ns.Model.define("do-get-contacts",{})}),(function(e,t){ns.Model.define("do-invite-folder",{params:{gid:null,path:null,rights:null,userid:null,service:null,avatar:null,name:null,locale:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(17),o=n(15),a=n(9),s=n.n(a),u=n(67);n(106),u.a.define("operationChanged",{methods:{init:function(){var e=this.get(".idSrc");this.set(".src",Object(i.getResourceData)(Object(r.default)().getState(),e))},onStatusCreated:function(){},onStatusCompleted:function(){var e=this,t=Object(r.default)(),n=Object(i.getResourceData)(t.getState(),this.get(".idSrc"));n?(this.set(".srcOld",n),t.dispatch(Object(o.fetchSingleResource)(n.id,{insertOnlyIfPortionLoaded:!0})).then((function(){e.handleSyncResource()})).catch((function(){e.handleSyncResource()}))):this.setStatus("done")},handleSyncResource:function(){this.setStatus("done"),this.maybeExcludeResourceFromAlbum()},maybeExcludeResourceFromAlbum:function(){var e=Object(r.default)(),t=Object(i.getResourceData)(e.getState(),this.get(".idSrc"));if(t.clusterId){var n=s.a.difference(s.a.get(t,"meta.albums_exclusions",[]),s.a.get(this.get(".srcOld"),"meta.albums_exclusions",[]));n.length&&n.forEach((function(n){e.dispatch(Object(o.excludeResourceFromAlbum)([t],n))}))}}}})}),(function(e,t,n){n(1655),n(1656),n(1671),n(1674),n(1675),ns.action.define("popup.close",(function(){nb.trigger("popup-close")}))}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(9),o=n.n(i),a=n(13),s=n(90),u=[{service:"mail",width:1e3,height:600},{service:"vkontakte",width:550,height:420},{service:"twitter",width:650,height:520},{service:"odnoklassniki",width:560,height:370},{service:"facebook",width:800,height:500},{service:"mailru",width:560,height:400},{service:"gplus",width:560,height:370}];function c(e){var t,n;if("mail"===e.service)return"dir"===e.type?(n="Ссылка на папку «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать папку «"+yr.externals.entityify(e.title)+"»"]):"file"===e.type?(n="Ссылка на файл «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать файл «"+yr.externals.entityify(e.title)+"»"]):"album"===e.type&&(n="Ссылка на альбом «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть альбом «"+yr.externals.entityify(e.title)+"»"]),t.push(" — ",e.link),[s.links.mail,"/compose?mode=html&body="+encodeURIComponent(t.join("")),"&subject="+encodeURIComponent(n)].join("");var r=e.service;return"mailru"===r&&(r="moimir"),["http://share.yandex.ru/go.xml?service="+r,"&amp;url="+encodeURIComponent(e.link),e.title?"&amp;title="+encodeURIComponent(e.title):""].join("")}function l(e){var t=o.a.find(u,{service:e}),n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}ns.action.define("share.link",(function(e,t){var n=c({service:t.service,link:t.link});return window.open(n,"YaShare",l(t.service))})),ns.action.define("share.album",(function(e,t){var n=ns.Model.getValid("album",t),i=c({service:t.service,link:n.get(".public.short_url"),title:"Альбом «"+yr.externals.entityify(n.get(".title"))+"» на Яндекс.Диске",type:"album"});return r.default.count("actions","with albums","public","link","share",t.service),window.open(i,"YaShare",l(t.service)),!Object(a.default)().getState.environment.agent.isMobile}))}),(function(e,t,n){"use strict";n.r(t);var r=n(71),i=n(14),o=n(13),a=n(15),s=n(17),u=n(33),c=n(81),l=n(90),f=n(60),d=n(22);ns.action.define("resource.show-fullsize",(function(e,t){var n=window.open("about:blank","_blank");Object(o.default)().dispatch(Object(a.fetchSingleResource)(t.id)).then((function(){n.document.location=(function(){var e=Object(s.getResourceData)(Object(o.default)().getState(),t.id);return u.default.getDownloaderUrl(e,"ORIGINAL")||u.default.getDownloaderUrl(e,"XXXL")})(),n.focus()})).catch((function(){n.close()}))})),ns.action.define("resource.view-docviewer",(function(e,t){var o=t.isPublic?"ya-disk-public://":"ya-disk://",a=t.id;t.version&&(o="ya-disk-version://",a=t.version+":"+a);var s={url:o+a,name:t.name};t.version&&t.date&&(s.date=t.date);var u=(0,n(13).default)(),p=u.getState(),h=p.user.uid,m=p.page.currentUrl,v=p.environment.agent.BrowserName,g=Object(c.isCoverLayerEnabled)(p),y=f.getQueryParam(m,"test-id");return h&&(s.uid=h),y&&(s["test-id"]=y),d.isParent("/attach/yaruarchive",t.id)?i.default.count("interface elements","yaru","actions","open"):d.isParent("/attach",t.id)&&i.default.count("interface elements","mail attachments","/attach","actions","open"),(0,n(36).isDocsPage)(p)&&!(g&&"Safari"===v)?(ns.page.go(f.addParams("/docs/view",s)),u.dispatch(Object(r.c)())):window.open(f.addParams(l.urlsBase.docviewer,s),"_blank"),!0}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1662),n(1663);var r={color:"ps-light-transparent",root:"ps-light-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1665),n(1666);var r={color:"ps-dark-transparent",root:"ps-dark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1668),n(1669);var r={color:"ps-superdark-transparent",root:"ps-superdark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.NewYear2023ThemeCustomization=void 0,t.NewYear2023ThemeCustomization={customEnable:function(e){return r(r({},e),{isNewYear2023ThemeEnabled:!0})},customDisable:function(e){return r(r({},e),{isNewYear2023ThemeEnabled:!1})},isEnabled:function(e){return e.isNewYear2023ThemeEnabled},isAvailable:function(e){var t=e||new Date,n=new Date("12/19/2022"),r=new Date("01/31/2023");return t>n&&t<r}}}),(function(e,t,n){"use strict";n.r(t);n(457),n(1672),n(1673);var r=n(14),i=n(13),o=n(23),a=n(17),s=n(15),u=n(51),c=n(40),l=n(236),f=n(566),d=n(25),p=n(28),h=n(22),m=n(46);ns.action.define("resource.download",(function(e,t){var n=h.getIdApp(t.idResource);h.isParent("/attach/yaruarchive",t.idResource)?r.default.count("interface elements","yaru","actions","download"):h.isParent("/attach",t.idResource)&&r.default.count("interface elements","mail attachments","/attach","actions","download"),m.isSearch()&&r.default.count("about search","actions","download");var p=Object(i.default)(),v=function(){return(2===Object(a.getResourceData)(p.getState(),t.idResource,"meta.drweb")?new Promise(function(e,t){p.dispatch(Object(u.add)("confirmation",{dialogParams:{text:"Файл заражён вирусом и может нанести вред вашему компьютеру. Всё равно скачать?",submitButtonText:"Скачать"},onSubmit:e,onReject:t}))}):Promise.resolve()).then((function(){return Object(s.fetchResourceUrl)(t)})).then((function(e){e&&Object(l.a)(e)}),(function(){p.dispatch(Object(s.setDownloadLimitResource)(t.idResource)),p.dispatch(Object(c.notify)({operation:"download",status:"failed",type:Object(a.getResourceData)(p.getState(),t.idResource,"type")}))}))},g="Firefox"===p.getState().environment.agent.BrowserName;return"dir"===Object(a.getResourceData)(p.getState(),t.idResource,"type")?(p.dispatch(Object(s.setDownloadLimitResource)(t.idResource)),p.dispatch(Object(s.getDirSize)(t.idResource)).then((function(){!(function(){var e=p.getState(),n=Object(a.getResourceData)(e,t.idResource,"meta.size"),r=Object(a.getResourceData)(e,t.idResource,"meta.files_count");return Object(f.canDownloadFolder)({ua:e.environment.agent,resourceStats:{size:n,filesCount:r},forceDefaults:Object(d.isPathInsideVirtualDiskFiles)(t.idResource)||Boolean(e.environment.session.experiment.diskWebClientDownloadLimitExp)})})()?(p.dispatch(Object(s.setDownloadLimitResource)(t.idResource,"client"===n&&6e4)),v()):(r.default.count("interface elements","big folder","click download folder"),g?(r.default.count("interface elements","big folder","show notification"),p.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}))):(p.dispatch(Object(o.openDialog)("download-big-folder",{folderId:t.idResource})),p.dispatch(Object(s.resetDownloadLimitResource)(t.idResource))))}))):v(),!0})),ns.action.define("resources.download",(function(e,t){var n=Object(i.default)(),r=n.getState();if(t.idResources.map((function(e){return Object(a.getResourceData)(r,e,"meta.size")})).reduce((function(e,t){return e+t}),0)>=f.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT)return n.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}));var o={},s=Object(p.isCurrentAlbumFamily)(r);s?(o.albumId=t.albumId,o.itemIds=JSON.stringify(t.itemIds)):o.idsResources=JSON.stringify(t.idResources),ns.Model.get("queueRequest").push({id:s?"getAlbumBulkDownloadUrl":"do-get-resources-url",params:o}).then((function(e){Object(l.a)(e.get(".download_url"))}))}))}),(function(e,t){ns.Model.define("do-get-resources-url",{params:{idsResources:null}})}),(function(e,t){ns.Model.define("getAlbumBulkDownloadUrl",{params:{itemIds:null,albumId:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(22),o=n(46);ns.action.define("resource.view-slider",(function(e,t){var n=t.id;return i.isParent("/attach/yaruarchive",n)&&r.default.count("interface elements","yaru","actions","open"),o.isSearch()&&r.default.count("about search","actions","view"),ns.action.run("app.openSlider",{id:n,idContextSlider:t.idContextSlider}),!0}))}),(function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(53),o=n(147),a=n(17),s=n(37),u=n(9),c=n.n(u),l=n(46),f=n(22);ns.action.define("app.openSlider",(function(e,t){var n=f.getIdApp(t.idContext||ns.page.current.params.idContext),u=Object(r.default)(),d="album"===n?c.a.pick(ns.page.current.params,["albumId","test-id"]):ns.page.current.params,p=ns.router.generateUrl(ns.page.current.page,Object.assign({},d,{dialog:"slider",idDialog:t.id}));if("slider"!==ns.page.current.params.dialog){var h={sliderOpenedWithAction:!0};"scrollRestoration"in history&&(history.scrollRestoration="manual");var m=Object(a.getResourceData)(u.getState(),t.id);Object(o.resourceView)(m)===s.RESOURCE_VIEWS.VIDEO&&(h.videoAutoPlayId=t.id),u.dispatch(Object(i.updateSettings)(h))}l.go(p)}))}),(function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(53),o=n(46);ns.action.define("dialog.close",(function(){var e=o.getUrlBase();return ns.events.trigger("ufo-dialog-close"),"slider"===ns.page.current.params.dialog?(o.go(e,"replace"),Object(r.default)().getState().settings.sliderOpenedWithAction&&(history.back(),"scrollRestoration"in history&&setTimeout((function(){history.scrollRestoration="auto"}),0),Object(r.default)().dispatch(Object(i.updateSettings)({sliderOpenedWithAction:!1})))):o.go(e),!1}))}),(function(e,t,n){n(1678),n(1680);var r=n(88);ns.action.define("album.remove-resource",(function(e,t){r.create("removeResourceAlbum",{idSrc:t.id})}))}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(13),o=n(17),a=n(15);n(106),n(1679),r.a.define("operationRemoveResourceAlbum",{methods:{onStatusCreated:function(){this.setStatus("started")},onStatusStarted:function(){this.doRequestDelete()},doRequestDelete:function(){ns.Model.get("queueRequest").push({id:"do-remove-resource-album",params:{itemId:this.get(".itemId")}}).always(this.handleResponseDelete,this)},handleResponseDelete:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.setStatus("failed"):this.setStatus("done")},onStatusCompleted:function(){this.setStatus("done")},onStatusDone:function(){var e=this.getData(),t=e.resourceId,n=e.albumId,r=Object(i.default)(),s=r.getState();if(Object(o.isExistsResource)(s,t)){var u=Object(o.getResourceData)(s,t,"albumIds")||[];if(u.includes(n)){var c=u.filter((function(e){return e!==n}));r.dispatch(Object(a.setResourceData)(t,c,"albumIds"))}}this.notify()},onStatusFailed:function(){var e=Object(i.default)();e.dispatch(Object(a.restoreDeletedItem)(e.getState().resources[this.get(".resourceId")])),this.notify()},notify:function(){return this.showNotification({src:Object(o.getResourceData)(Object(i.default)().getState(),this.get(".resourceId")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status")})}}})}),(function(e,t){ns.Model.define("do-remove-resource-album",{params:{id:null,itemId:null}})}),(function(e,t){ns.Model.define("do-remove-album",{params:{id:null}})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(34),c=n(527),l=a(n(1687)),f=n(155),d=n(1690),p=n(528);n(1708);var h=n(528);t.Logo360=h.Logo360,t.LogoCorp=h.LogoCorp;var m=u.cn("PSHeader");t.default=function(e){var t=e.isLegoOnReact,n=e.LegoPopup,o=e.morePopupProps,a=e.useLegoV3,u=e.theme,h=e.popupTheme,v=e.hideCenter,g=e.currentService,y=e.leftContent,b=e.rightContent,_=e.tld,O=e.lang,w=e.userProps,E=e.isMailUserBlock,S=e.noUserName,x=e.LegoButton,C=e.onLoginClick,T=e.loginButtonProps,k=e.onCurrentServiceClick,j=e.onMorePopupChangeVisibility,P=e.yandex360Link,R=e.isB2bAdmin,A=e.isB2bUser,I=e.isB2BLogo,D=e.allServicesLink,M=e.getI18nFn,N=e.timeZone,L=e.calendarDay,F=e.className,B=e.countMetrikaFn,U=e.hideMore,z=e.customLogoUrl,V=e.onLogoClick,H=e.linkFromPrefix,W=e.refs,G=e.onlyUserHTMLInSSR,$=e.services,q=e.renderLogo,Y=e.mainServices,K=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B.apply(void 0,i(["interface elements","header"],e))}),[B]),J=s.useRef(null);s.useEffect((function(){if(J.current){var e=J.current.querySelectorAll("."+c.headerServiceClass()),t=Array.from(e).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.clientWidth)})).length-1,n=Y.slice(0,t);g&&!n.includes(g)&&(n[n.length-1]=g);var r=n.reduce((function(e,t){return e[t]="show",e}),{More:"show"});K("list of services",r)}}),[]);var X=null;if(w){var Z=!S&&!E;X=s.default.createElement(l.default,r({className:m("User",{noUserName:S,userNameAtLeft:Z},["promozavr-anchor-user"]),tld:_,lang:O,isMailUserBlock:E,onlyUserHTMLInSSR:G},w))}else C&&x&&(X=s.default.createElement(x,r({className:m("NoLoginButton"),size:"m",view:"action",onClick:C},T),M(O,"enter")));(null===W||void 0===W?void 0:W.servicesRefs)&&($=$.map((function(e){var t,n;return(null===(t=null===W||void 0===W?void 0:W.servicesRefs)||void 0===t?void 0:t[e.id])&&(e.forwardedRef=null===(n=null===W||void 0===W?void 0:W.servicesRefs)||void 0===n?void 0:n[e.id]),e})));var Q={getI18nFn:M,timeZone:N,lang:O,tld:_,theme:u,currentService:g,isLegoOnReact:Boolean(t),countMetrika:K,linkFromPrefix:H,isB2bAdmin:R,isB2bUser:A,isB2BLogo:I,calendarDay:L,useLegoV3:a,LegoPopup:n||function(){return null},morePopupProps:o||{},yandex360Link:P,onCurrentServiceClick:k,customLogoUrl:z};return s.default.createElement(f.HeaderContext.Provider,{value:Q},s.default.createElement("div",{className:m({theme:u,noCenter:Boolean(v)},[F]),ref:null===W||void 0===W?void 0:W.header},s.default.createElement("div",{className:m("Left")},q?q():s.default.createElement(p.Logo360,{onClick:V}),y),v?null:s.default.createElement("div",{className:m("Center"),ref:J},s.default.createElement(d.ServiceList,{currentService:g,hideMore:U,allServicesLink:D,onMorePopupChangeVisibility:j,services:$,popupTheme:h})),s.default.createElement("div",{className:m("Right")},b,X)))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(34);n(1685),t.headerServiceClass=o.cn("PSHeader-ServiceStub"),t.ServiceStub=function(e){var n=e.title,r=i.useMemo((function(){var e=n.split(" ");return e.length>1?[e[0],e[1]].map((function(e){return e.charAt(0).toUpperCase()})).join(""):n.length>1?[n.charAt(0),n.charAt(1)].map((function(e){return e.toUpperCase()})).join(""):n.toUpperCase()}),[n]);return i.default.createElement("div",{className:t.headerServiceClass()},r)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),r=n(1688).default,t.default=r}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shouldComponentUpdate=function(e){var t,n;return e.retpath!==this.props.retpath&&(null===(n=null===(t=window.Lego)||void 0===t?void 0:t.User2)||void 0===n||n.setRetpath(e.retpath)),!1},t.prototype.render=function(){var e=this.props,t=e.className,n=e.ariaLabel,r=document.querySelector("."+t.split(" ")[0]),i=null===r||void 0===r?void 0:r.querySelector("a.user-account");i&&(i.setAttribute("role","button"),n&&i.setAttribute("aria-label",n));var a=null===r||void 0===r?void 0:r.querySelector("a.legouser__a11y-exit");return a&&a.setAttribute("role","button"),r?o.default.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:r.innerHTML}}):null},t})(o.default.Component);t.default=a}),(function(e,t,n){(function(e){!(function(){var t=t||{};t["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-header"]={adminka:function(e){return"Управление организацией"},adminkaShort:function(e){return"Управление"},allServices:function(e){return"Все сервисы Яндекса"},calendar:function(e){return"Календарь"},contacts:function(e){return"Контакты"},disk:function(e){return"Диск"},documents:function(e){return"Документы"},enhance:function(e){return"Улучшить"},enhanceButton360Subscription:function(e){return"Подписка на Яндекс 360"},enhanceMail:function(e){return"Улучшить Почту 360"},enter:function(e){return"Войти"},fan:function(e){return"Рассылки"},mail:function(e){return"Почта"},messenger:function(e){return"Мессенджер"},more:function(e){return"Ещё"},notes:function(e){return"Заметки"},premium:function(e){return"Премиум"},serviceAbc:function(e){return"ABC"},serviceAt:function(e){return"Этушка"},serviceDoc:function(e){return"Документация"},serviceGolem:function(e){return"Golem"},serviceIdm:function(e){return"IDM"},serviceLego:function(e){return"Лего"},serviceLibrary:function(e){return"Библиотека"},serviceMagazine:function(e){return"Журнал"},serviceMaillists:function(e){return"Рассылки"},serviceMeetingRooms:function(e){return"Переговорки"},serviceStaff:function(e){return"Стафф"},serviceStartrek:function(e){return"Трекер"},serviceStat:function(e){return"Статистика"},serviceWiki:function(e){return"Вики"},subscription:function(e){return"Подписка"},telemost:function(e){return"Телемост"},yandex:function(e){return"Яндекс"},yandex360:function(e){return"Яндекс 360"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(178)(e))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(728);t.ServiceList=r.ServiceList}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(34),s=n(155);n(1692);var u=a.cn("PSHeader-MorePopup");t.MoreServicesPopup=function(e){var t=o.useContext(s.HeaderContext),n=t.isLegoOnReact,i=t.theme,a=t.countMetrika,c=t.LegoPopup,l=t.getI18nFn,f=t.lang,d=t.useLegoV3,p=t.morePopupProps,h=t.tld,m=e.popupTheme||i,v=u({theme:m});return o.default.createElement(c,r({view:"default",visible:e.visible,target:"anchor",mainOffset:4},n?{anchor:e.anchor.current,cls:v}:{anchor:e.anchor,ignoreRefs:[e.anchor],className:v},d?{onClose:e.onOutsideClick,direction:["bottom-end"]}:{onOutsideClick:e.onOutsideClick,directions:["bottom-right"],theme:"normal"},p),o.default.createElement("div",{className:u("content")},o.default.createElement("div",{className:u("services")},e.children),e.allServicesLink&&"com"!==h&&o.default.createElement("a",{className:u("all-services",["qa-PSHeader-MorePopup-all-services"]),href:e.allServicesLink,rel:"noopener noreferrer",onClick:function(){return a("more","all_services")}},l(f,"allServices"))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(155),s=n(729);t.MainServiceView=function(e){var t=e.currentService===e.description.id,n=o.useContext(a.HeaderContext),i=n.countMetrika,u=n.onCurrentServiceClick,c=e.description,l=e.onClick,f=c.id,d=c.href,p=o.useCallback((function(e){i("list of services",f),t&&u&&u(e),l&&l(e)}),[t,u,i,f,l]),h=o.useMemo((function(){return r(r({},c),{href:t&&u?void 0:d})}),[t,u,c,d]);return o.default.createElement(s.ServiceView,{forwardedRef:e.forwardedRef,className:e.className,hidePopup:e.hidePopup,description:h,onClick:p,isCurrentService:t,currentService:e.currentService})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(729),s=n(155);t.PopupServiceView=function(e){var t=o.useContext(s.HeaderContext).countMetrika,n=e.description,i=e.onClick,u=o.useCallback((function(e){i&&i(e),t("more",n.id,"click")}),[t,n.id,i]);return o.default.createElement(a.ServiceView,r({},e,{onClick:u}))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(155),s=n(527),u=n(730);t.MoreServicesButton=function(e){var t=o.useContext(a.HeaderContext),n=t.theme,i=t.timeZone,c=t.lang,l=t.getI18nFn,f=t.calendarDay,d={theme:n,timeZone:i,calendarDay:f,lang:c},p={theme:n,timeZone:i,lang:c,i18n:l(c,"more"),className:e.className,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:f,icon:o.default.createElement(u.BoundHeaderIcon,r({name:"More"},d))};return o.default.createElement(s.HeaderService,r({},p))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateInTZ=function(e){try{var t=new Date((new Date).toLocaleString("en-US",{timeZone:e}));if(isNaN(Number(t)))throw new Error("Invalid Date");return t}catch(e){return new Date}},t.getDayOfMonth=function(e){return t.getDateInTZ(e).getDate()},t.getAdjustedMonth=function(e){return t.getDateInTZ(e).getMonth()+1},t.getAdjustedDayOfWeek=function(e){return(t.getDateInTZ(e).getDay()+6)%7+1}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(155),s=n(731),u=n(732),c=n(733),l=n(734),f=i(n(1704)),d=n(529);t.Logo360=o.memo((function(e){var t=e.onClick,n=o.useContext(a.HeaderContext),r=n.lang,i=n.yandex360Link,p=n.getI18nFn,h=n.customLogoUrl,m=n.linkFromPrefix,v=n.isB2BLogo,g=u.useLogoMetrika().on360Click,y=o.useCallback((function(e){"function"==typeof t&&t(e),g()}),[g,t]),b=m?s.addFromToLink(i,m+"-header-360"):i,_=i.startsWith("http")?"_blank":"_self";return o.default.createElement(l.LogoContainer,null,o.default.createElement(c.LogoLink,{logoLink:b,title:p(r,"yandex"),target:_,onClick:y},h?o.default.createElement("img",{src:h,className:d.classes.root("CustomLogo")}):o.default.createElement(f.default,{lang:r,isB2b:v,size:"short"})))}))}),(function(e,t,n){"use strict";(function(t){var r=n(1701),i=n(1702),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function f(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function h(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new g(unescape(e.pathname),{});else if("string"===o)for(n in i=new g(e,{}),p)delete i[n];else if("object"===o){for(n in e)n in p||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=f(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):m(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&m(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||m(i),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=f(e)).replace(a,""),!(this instanceof g))return new g(e,t,n);var o,s,u,c,p,y,b=d.slice(),_=typeof t,O=this,w=0;for("object"!==_&&"string"!==_&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=h(t),o=!(s=v(e||"",t)).protocol&&!s.slashes,O.slashes=s.slashes||o&&t.slashes,O.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(O.protocol)))&&(b[3]=[/(.*)/,"pathname"]);w<b.length;w++)"function"!=typeof(c=b[w])?(u=c[0],y=c[1],u!=u?O[y]=e:"string"==typeof u?~(p="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof c[2]?(O[y]=e.slice(0,p),e=e.slice(p+c[2])):(O[y]=e.slice(p),e=e.slice(0,p))):(p=u.exec(e))&&(O[y]=p[1],e=e.slice(0,p.index)),O[y]=O[y]||o&&c[3]&&t[y]||"",c[4]&&(O[y]=O[y].toLowerCase())):e=c(e,O);n&&(O.query=n(O.query)),o&&t.slashes&&"/"!==O.pathname.charAt(0)&&(""!==O.pathname||""!==t.pathname)&&(O.pathname=(function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")})(O.pathname,t.pathname)),"/"!==O.pathname.charAt(0)&&m(O.protocol)&&(O.pathname="/"+O.pathname),r(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(p=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,p),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(p+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin="file:"!==O.protocol&&m(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}g.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<d.length;c++){var l=d[c];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},g.extractProtocol=v,g.location=h,g.trimLeft=f,g.qs=i,e.exports=g}).call(this,n(131))}),(function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}),(function(e,t,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,s=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=a(o),n=a(n),null===o||null===n)continue;s.push(o+"="+n)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"LANGUAGE",(function(){return s})),n.d(t,"RU_LOGO_LANGUAGES",(function(){return u})),n.d(t,"getLogoLang",(function(){return c})),n.d(t,"MushroomColor",(function(){return l})),n.d(t,"MushroomMonochrome",(function(){return f})),n.d(t,"Logo360",(function(){return d})),n.d(t,"LogoYaRu",(function(){return p})),n.d(t,"LogoYaEn",(function(){return h})),n.d(t,"LogoYaRuMonochrome",(function(){return m})),n.d(t,"LogoYaEnMonochrome",(function(){return v})),n.d(t,"LogoYandexRu",(function(){return g})),n.d(t,"LogoYandexEn",(function(){return y})),n.d(t,"CaptionRu",(function(){return b})),n.d(t,"CaptionEn",(function(){return _}));var r=n(0),i=n.n(r),o=n(429),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const s={RU:"ru",EN:"en",TR:"tr",BE:"be",KK:"kk",UK:"uk",UZ:"uz"},u=new Set([s.RU,s.KK,s.BE,s.UK]),c=e=>u.has(e)?"Ru":"En",l=e=>{const t=Object(o.a)("gradient-");return i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:`url(#${t})`,d:"M14.002 29.002c7.733 0 14.002-6.269 14.002-14.002 0-7.733-6.27-14.002-14.002-14.002C6.269.998 0 7.267 0 15c0 7.733 6.269 14.002 14.002 14.002Z"}),i.a.createElement("path",{fill:"#fff",d:"M14.001 23.124c2.63 0 4.761-3.636 4.761-8.121 0-4.486-2.131-8.122-4.76-8.122-2.63 0-4.762 3.636-4.762 8.121 0 4.486 2.132 8.122 4.761 8.122Z"}),i.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M5.075 8.558c-1.413-.072-3.116 2.885-3.116 6.44 0 3.557 1.703 6.513 3.116 6.44 1.401-.072 2.205-2.883 2.205-6.44 0-3.555-.804-6.367-2.205-6.44ZM22.927 21.439c1.413.072 3.116-2.884 3.116-6.44 0-3.556-1.703-6.513-3.116-6.44-1.401.072-2.205 2.884-2.205 6.44 0 3.556.804 6.367 2.205 6.44Z",clipRule:"evenodd"}),i.a.createElement("defs",null,i.a.createElement("radialGradient",{id:t,cx:"0",cy:"0",r:"1",gradientTransform:"matrix(0 17.9224 -23.2703 0 14.002 11.08)",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{stopColor:"#FF9A6F"}),i.a.createElement("stop",{offset:".61",stopColor:"#FF6427"}),i.a.createElement("stop",{offset:"1",stopColor:"#EB581E"}))))},f=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",transform:"translate(0 1)",d:"M28 14c0 7.732-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0s14 6.268 14 14Zm-9.24 0c0 4.485-2.13 8.12-4.76 8.12-2.629 0-4.76-3.636-4.76-8.12 0-4.485 2.131-8.12 4.76-8.12 2.63 0 4.76 3.635 4.76 8.12ZM5.076 7.56c-1.413-.073-3.115 2.883-3.115 6.439 0 3.555 1.702 6.511 3.115 6.438 1.401-.073 2.205-2.883 2.205-6.438 0-3.556-.804-6.366-2.205-6.44Zm20.965 6.439c0 3.555-1.703 6.511-3.116 6.438-1.4-.073-2.204-2.883-2.204-6.438 0-3.556.804-6.366 2.204-6.44 1.413-.072 3.116 2.884 3.116 6.44Z",clipRule:"evenodd"})),d=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M69.914 7.19h-6.74V4.184h11.142v1.853l-4.737 6.343c3.857.545 5.739 2.943 5.739 6.497s-2.217 6.708-7.345 6.708c-1.912 0-3.702-.516-5.069-1.275v-3.064c1.367.667 2.641 1.517 5.101 1.517s3.735-1.73 3.735-3.856c0-2.368-1.517-3.824-4.372-3.824h-2.033v-1.852l4.582-6.041h-.003Zm7.073 8.56c0-7.348 2.49-11.93 8.014-11.93 2.004 0 3.308.424 4.402.972V7.86c-1.245-.7-2.611-1.245-4.34-1.245-3.097 0-4.552 2.125-4.795 7.043.91-1.488 2.49-2.369 4.493-2.369 3.46 0 5.798 2.398 5.798 6.8 0 4.736-2.914 7.499-6.497 7.499-4.494 0-7.072-3.098-7.072-9.835m7.013-1.58c-2.034 0-3.37 1.61-3.37 4.188 0 2.822 1.274 4.402 3.127 4.402 1.974 0 3.127-1.547 3.127-4.431 0-2.884-1.275-4.159-2.885-4.159Zm15.543 11.415c-3.824 0-7.043-2.943-7.043-10.899 0-7.499 3.128-10.866 7.043-10.866 3.916 0 7.013 2.884 7.013 10.866 0 7.982-3.157 10.899-7.013 10.899Zm.03-18.914c-1.882 0-3.4 1.882-3.4 7.985 0 6.103 1.488 8.074 3.4 8.074 2.155 0 3.34-2.549 3.34-8.014 0-5.95-1.547-8.045-3.34-8.045Z"})),p=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("circle",{transform:"translate(0 1)",fill:"#FC3F1D",cx:"14",cy:"14",r:"14"}),i.a.createElement("path",{transform:"translate(0 1)",fill:"#fff",d:"M16.064 7.84h-1.416c-2.43 0-3.644 1.215-3.644 3.036 0 2.024.81 3.036 2.632 4.25l1.416 1.013-4.048 6.274H7.766l3.845-5.667c-2.226-1.62-3.44-3.036-3.44-5.667 0-3.239 2.226-5.465 6.477-5.465h4.25v16.799h-2.834V7.84Z"})),h=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("circle",{transform:"translate(0 1)",fill:"#FC3F1D",cx:"14",cy:"14",r:"14"}),i.a.createElement("path",{transform:"translate(-1 0)",d:"M15.3794 16.4462C16.1975 18.2382 16.4702 18.8615 16.4702 21.0138V23.8674H13.5485V19.0563L8.03613 7.06738H11.0845L15.3794 16.4462ZM18.9829 7.06738L15.4087 15.1898H18.3791L21.9631 7.06738H18.9829Z",fill:"white"})),m=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M28.033 14.018c0-7.73-6.27-14.015-14.014-14.015S.033 6.259.033 14.017c0 7.715 6.256 13.986 13.986 13.986 7.729 0 14.014-6.27 14.014-13.986ZM14.02 25.626c-6.33 0-11.434-5.119-11.434-11.623C2.585 7.513 7.69 2.38 14.02 2.38c6.373 0 11.433 5.148 11.433 11.623.03 6.519-5.06 11.623-11.433 11.623Z"}),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M15.857 8.281h-1.279c-2.193 0-3.29 1.096-3.29 2.741 0 1.827.732 2.741 2.376 3.837l1.28.914-3.655 5.665H8.365l3.472-5.117c-2.01-1.462-3.106-2.74-3.106-5.116 0-2.924 2.01-4.934 5.847-4.934h3.837v15.167h-2.558V8.28Z"})),v=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M27.9797 14.0044C27.9797 6.28087 21.7134 0 13.9753 0C6.23715 0 0 6.25172 0 14.0044C0 21.7134 6.25172 27.9797 13.9753 27.9797C21.6989 27.9797 27.9797 21.7134 27.9797 14.0044ZM13.9753 25.6044C7.65071 25.6044 2.55024 20.4893 2.55024 13.9899C2.55024 7.50498 7.65071 2.37536 13.9753 2.37536C20.3436 2.37536 25.4004 7.51955 25.4004 13.9899C25.4295 20.5039 20.3436 25.6044 13.9753 25.6044Z"}),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M14.3415 15.4526C15.0795 17.0692 15.3254 17.6314 15.3254 19.573V22.1474H12.6897V17.8072L7.7168 6.9917H10.4669L14.3415 15.4526ZM17.5922 6.9917L14.3678 14.3191H17.0474L20.2806 6.9917H17.5922Z"})),g=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{d:"M10.4906 6.08248H8.8293C5.78306 6.08248 4.18483 7.62062 4.18483 9.89779C4.18483 12.4814 5.29337 13.6831 7.57055 15.2212L9.44816 16.483L4.03162 24.5762H0L4.86077 17.3452C2.06087 15.3414 0.492686 13.4037 0.492686 10.1111C0.492686 5.98935 3.35267 3.18945 8.79926 3.18945H14.2128V24.5732H10.4906V6.08248ZM29.5371 9.09868V24.5762H25.845V18.1142H20.9542V24.5762H17.2921V9.09568H20.9542V15.2182H25.845V9.09568H29.5371V9.09868ZM46.0271 27.989H42.6444V24.5732H34.428V27.989H31.0422V21.6802H32.1808C33.4726 19.0966 33.719 14.2028 33.719 10.4175V9.09568H44.3958V21.6802H46.0271V27.989ZM40.7367 11.9887H36.8613V12.4514C36.8613 15.1281 36.585 19.3429 35.5695 21.6832H40.7397V11.9887H40.7367ZM54.2436 24.7565C49.566 24.7565 46.9194 22.1729 46.9194 16.8795C46.9194 12.235 49.0433 8.84933 53.5045 8.84933C57.1666 8.84933 59.5339 10.8501 59.5339 16.2036V18.1413H50.7046C50.8578 20.6347 51.9033 21.8635 54.55 21.8635C56.3345 21.8635 58.2722 21.2776 59.3807 20.5416V23.5248C58.3353 24.2338 56.5808 24.7565 54.2436 24.7565ZM50.7046 15.4345H55.8117V15.1281C55.8117 13.2204 55.259 11.7424 53.4414 11.7424C51.6239 11.7424 50.7948 13.0041 50.7016 15.4345M65.6535 16.9726V24.5732H61.9914V9.09568H65.6535V16.2336L70.8237 9.09568H74.5158L69.3456 16.2336L75.2218 24.5702H71.067L65.6504 16.9696L65.6535 16.9726ZM75.0055 16.8495C75.0055 12.172 77.4359 8.84933 82.1134 8.84933C83.9279 8.84933 85.2828 9.15576 86.0519 9.58836V12.6947C85.3128 12.232 83.9279 11.7424 82.5129 11.7424C80.1126 11.7424 78.7907 13.4337 78.7907 16.7563C78.7907 19.8957 79.8662 21.8635 82.4829 21.8635C84.021 21.8635 85.1296 21.4639 86.0519 20.818V23.8042C85.1596 24.4501 83.961 24.7565 82.2666 24.7565C77.3758 24.7565 75.0055 21.9265 75.0055 16.8495Z",fill:"currentColor"})),y=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{d:"M10.7291 24.8327V21.2051C10.7291 18.469 10.3909 17.6697 9.34565 15.3948L3.87353 3.4668H0L7.00924 18.715V24.8327H10.7291ZM13.1577 13.7962L17.7076 3.4668H13.9263L9.37639 13.7962H13.1577ZM52.0159 25.1401C53.7375 25.1401 55.1516 24.3408 56.1354 22.8344L56.3198 24.8327H59.7015V3.4668H56.0432V11.1831C55.1209 9.79971 53.7682 9.06189 52.1696 9.06189C48.6343 9.06189 46.1749 12.0439 46.1749 17.2086C46.1749 22.3118 48.5728 25.1401 52.0159 25.1401ZM74.4885 23.7874V20.8054C73.3511 21.574 71.4451 22.2503 69.662 22.2503C66.9874 22.2503 65.9729 20.9899 65.8192 18.4075H74.6423V16.4708C74.6423 11.0909 72.2751 9.06189 68.6168 9.06189C64.1591 9.06189 62.0379 12.4743 62.0379 17.1471C62.0379 22.527 64.6818 25.1401 69.3546 25.1401C71.691 25.1401 73.4126 24.5253 74.4885 23.7874ZM28.4674 14.2881C28.4674 10.5375 26.5613 9.12338 22.6878 9.12338C20.2899 9.12338 18.3531 10.1379 17.2464 10.9372V14.1036C18.4146 13.1506 20.1977 12.0439 22.2574 12.0439C24.0097 12.0439 24.809 12.6587 24.809 14.3188V15.3026H24.2249C18.6298 15.3026 16.1397 17.1164 16.1397 20.3443C16.1397 23.3263 18.0457 25.0479 20.874 25.0479C23.026 25.0479 23.9482 24.3408 24.6553 23.603H24.809C24.8398 24.0026 24.9627 24.5253 25.0857 24.8327H28.6518C28.5288 23.5722 28.4674 22.3118 28.4674 21.0514V14.2881ZM35.1077 13.7347C35.784 12.9047 36.86 12.1976 38.1819 12.1976C39.4731 12.1976 40.0572 12.751 40.0572 13.9192V24.8327H43.7155V13.5503C43.7155 10.476 42.4858 9.12338 39.5038 9.12338C37.3211 9.12338 36.0299 9.92268 35.2921 10.6605H35.1077L35.0155 9.36932H31.4493V24.8327H35.1077V13.7347ZM85.7402 24.8327H89.8597L84.8179 16.8704L89.1833 9.36932H85.525L82.8812 14.0421L79.9299 9.36932H75.8105L80.4833 16.7782L75.626 24.8327H79.3458L82.4508 19.6065L85.7402 24.8327ZM53.0919 11.9517C55.0594 11.9517 56.0432 13.5195 56.0432 17.0856C56.0432 20.6825 54.9979 22.2503 52.9382 22.2503C50.94 22.2503 49.9562 20.7132 49.9562 17.2086C49.9562 13.5503 51.0014 11.9517 53.0919 11.9517ZM68.5553 11.9517C70.3691 11.9517 70.9224 13.458 70.9224 15.3948V15.7022H65.8192C65.9114 13.2428 66.803 11.9517 68.5553 11.9517ZM24.809 21.1436C24.3479 21.8199 23.4871 22.3733 22.1959 22.3733C20.6588 22.3733 19.8903 21.4818 19.8903 20.1291C19.8903 18.3461 21.1507 17.7312 24.2864 17.7312H24.809V21.1436Z",fill:"currentColor"})),b=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M.672 42.68a1.81 1.81 0 0 0 .494-.755 5.51 5.51 0 0 0 .302-1.194 18.53 18.53 0 0 0 .165-1.688c.036-.64.068-1.372.096-2.195h5.214v5.831h1.07V46H6.627l-.124-2.03H1.591L1.468 46h-1.4v-3.32h.604Zm4.679 0v-4.542H3.1c-.046 1.125-.124 2.058-.234 2.799-.1.732-.27 1.313-.507 1.742h2.99ZM9.856 41.444c.1-.466.165-1.07.192-1.81.037-.75.055-1.68.055-2.786h5.118v7.121H13.63v-5.831h-2.072a44.894 44.894 0 0 1-.11 2.497c-.055.723-.17 1.336-.343 1.839-.165.494-.407.873-.727 1.138-.311.266-.732.398-1.263.398-.073 0-.146-.004-.22-.013-.063 0-.132-.005-.205-.014V42.5c.091.018.16.028.206.028a.732.732 0 0 0 .59-.261c.155-.183.279-.458.37-.824ZM16.942 39.18c0-.384.073-.722.219-1.015a2.03 2.03 0 0 1 .604-.727c.265-.201.58-.348.947-.44.375-.1.786-.15 1.234-.15h2.648v7.121h-1.591v-2.415h-1.015L18.3 43.97h-1.784l1.962-2.758c-.494-.146-.873-.384-1.139-.713-.265-.33-.397-.769-.397-1.317Zm4.06 1.112V38.11h-.932c-.44 0-.8.083-1.084.247-.274.165-.412.44-.412.824 0 .393.124.677.37.85.257.174.618.261 1.085.261h.974ZM34.077 40.43c0 .594-.091 1.12-.274 1.577a3.28 3.28 0 0 1-.755 1.153 3.113 3.113 0 0 1-1.125.713c-.43.156-.897.233-1.4.233-.512 0-.983-.087-1.413-.26-.43-.174-.8-.435-1.111-.782a3.988 3.988 0 0 1-.741-1.318c-.174-.53-.261-1.152-.261-1.866 0-.65.027-1.244.082-1.783a7.92 7.92 0 0 1 .275-1.455c.137-.43.32-.805.549-1.125.228-.33.52-.613.878-.85.42-.266.869-.435 1.344-.508.485-.073.98-.12 1.482-.137.558-.028.979-.074 1.263-.138.283-.073.526-.164.727-.274v1.413a2.07 2.07 0 0 1-.316.165c-.11.036-.238.068-.384.096-.146.027-.316.055-.508.082-.192.018-.416.037-.672.055-.466.046-.892.092-1.276.137a2.291 2.291 0 0 0-1.03.343 2.08 2.08 0 0 0-.768.988c-.164.42-.274.933-.329 1.537.457-1.034 1.34-1.55 2.648-1.55.421 0 .819.082 1.194.246a2.8 2.8 0 0 1 1.002.687c.283.301.507.672.672 1.11.165.44.247.943.247 1.51Zm-3.554 2.345c.558 0 1.016-.187 1.372-.562.366-.384.55-.97.55-1.756 0-.787-.184-1.368-.55-1.743-.356-.384-.814-.576-1.372-.576-.549 0-1.001.187-1.358.562-.348.375-.521.952-.521 1.73 0 .804.178 1.399.535 1.783.356.375.805.562 1.344.562ZM37.012 41.815l3.293-4.967h1.565v7.121h-1.578v-4.94l-3.266 4.94h-1.592v-7.121h1.578v4.967ZM48.903 41.925c0 .384-.082.713-.247.988a1.964 1.964 0 0 1-.658.686c-.275.174-.6.302-.975.384a5.558 5.558 0 0 1-1.193.123c-.604 0-1.098-.06-1.482-.178-.384-.128-.682-.256-.892-.384V42.24c.265.174.594.316.988.426.402.1.837.15 1.303.15.485 0 .87-.073 1.153-.219.283-.146.425-.393.425-.74 0-.33-.128-.563-.384-.7-.256-.147-.654-.22-1.194-.22h-1.001v-1.208h1.029c.43 0 .759-.073.988-.22.238-.145.356-.365.356-.658 0-.32-.132-.54-.398-.658-.256-.128-.59-.192-1.001-.192a4.1 4.1 0 0 0-1.208.164 3.57 3.57 0 0 0-.946.412v-1.304c.228-.146.54-.274.933-.384.393-.119.878-.178 1.454-.178.878 0 1.546.16 2.003.48.458.32.686.787.686 1.4 0 .466-.128.832-.384 1.097-.256.256-.631.444-1.125.563 1.18.183 1.77.74 1.77 1.674ZM55.052 40.964h-3.005v3.005h-1.592v-7.121h1.592v2.827h3.005v-2.827h1.591v7.121h-1.591v-3.005ZM64.383 43.448c-.101.064-.224.137-.37.22-.147.072-.321.141-.522.205a5.288 5.288 0 0 1-1.606.233c-1.308 0-2.286-.324-2.936-.974-.64-.65-.96-1.56-.96-2.73 0-.577.087-1.093.26-1.55.174-.458.417-.842.728-1.153.31-.32.681-.563 1.111-.727.43-.174.901-.261 1.413-.261.53 0 1.007.087 1.427.26.43.174.782.435 1.057.783.274.347.462.777.562 1.29.11.512.115 1.11.014 1.797h-4.926c.064.65.28 1.139.645 1.468.366.32.938.48 1.715.48.567 0 1.038-.068 1.413-.206.385-.146.71-.297.975-.452v1.317ZM61.5 37.973c-.466 0-.86.142-1.18.425-.32.284-.53.705-.63 1.263h3.347c.018-.577-.11-1.002-.384-1.276-.275-.275-.659-.412-1.153-.412ZM69.318 44.106a4.559 4.559 0 0 1-1.55-.247 3.365 3.365 0 0 1-1.167-.727 3.264 3.264 0 0 1-.74-1.166c-.175-.458-.261-.979-.261-1.564 0-.577.086-1.093.26-1.55a3.097 3.097 0 0 1 1.921-1.88c.467-.174.988-.261 1.564-.261.494 0 .924.055 1.29.164.375.11.672.247.892.412v1.317a3.607 3.607 0 0 0-.933-.425c-.33-.1-.713-.151-1.153-.151-1.472 0-2.209.791-2.209 2.374 0 1.582.723 2.373 2.168 2.373.467 0 .865-.05 1.194-.15.338-.11.65-.248.933-.412v1.317a3.869 3.869 0 0 1-.892.412c-.357.11-.796.164-1.317.164ZM77.095 42.72c-.073.165-.173.33-.301.495-.12.164-.27.315-.453.452a2.261 2.261 0 0 1-.631.316 2.737 2.737 0 0 1-.865.123c-.31 0-.599-.045-.864-.137a1.935 1.935 0 0 1-.7-.384 1.983 1.983 0 0 1-.467-.645 2.35 2.35 0 0 1-.164-.905c0-.778.288-1.359.864-1.743.577-.393 1.39-.59 2.443-.59h1.084v-.44c0-.466-.12-.786-.357-.96-.238-.182-.631-.274-1.18-.274-.467 0-.906.069-1.317.206-.403.128-.76.279-1.07.453v-1.331a5.774 5.774 0 0 1 1.124-.44 5.379 5.379 0 0 1 1.523-.205c.915 0 1.62.192 2.114.576.503.375.754.979.754 1.811v4.007c.01.1.014.206.014.315l.027.316c.01.091.019.17.028.233h-1.468a6.274 6.274 0 0 1-.083-.535 21.053 21.053 0 0 1-.04-.617l-.015-.096Zm-1.81.151c.338 0 .617-.068.836-.205.229-.147.412-.311.55-.494.136-.192.232-.38.287-.563.055-.183.082-.31.082-.384v-.48h-.987c-.632 0-1.093.1-1.386.302a.927.927 0 0 0-.44.823c0 .31.088.558.261.74.183.175.449.261.796.261Z"})),_=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M.865 43.86v-5.93H0v-1.312h.865v-.126c0-.865.251-1.54.754-2.023.502-.493 1.172-.74 2.01-.74.232 0 .427.014.585.042.168.019.317.047.447.084v1.367a4.104 4.104 0 0 0-.377-.097 2.314 2.314 0 0 0-.53-.056c-.39 0-.703.116-.935.349-.233.232-.349.59-.349 1.074v.126h2.037v1.312H2.47v5.93H.865ZM8.627 44c-.68 0-1.294-.144-1.842-.433A3.276 3.276 0 0 1 5.5 42.283c-.307-.558-.46-1.242-.46-2.05 0-.8.153-1.48.46-2.038a3.18 3.18 0 0 1 1.284-1.27 3.8 3.8 0 0 1 1.842-.447c.679 0 1.288.15 1.828.447.549.288.981.712 1.297 1.27.317.558.475 1.237.475 2.037 0 .81-.158 1.493-.475 2.051a3.25 3.25 0 0 1-1.297 1.284c-.54.289-1.15.433-1.828.433Zm0-1.354c.558 0 1.018-.195 1.381-.586.372-.39.558-1 .558-1.828 0-.819-.186-1.423-.558-1.814-.363-.4-.823-.6-1.381-.6-.559 0-1.024.2-1.396.6-.363.39-.544.995-.544 1.814 0 .828.181 1.438.544 1.828.372.39.837.586 1.396.586ZM17.614 38.18c-.549 0-1.033.094-1.451.28a2.04 2.04 0 0 0-.95.81v4.59h-1.618v-7.242h1.48l.111 1.521h.028c.242-.484.567-.865.977-1.144.418-.289.893-.46 1.423-.517v1.703ZM21.717 33.855h1.619l-.014 4.033c.242-.438.563-.782.963-1.033.4-.251.884-.377 1.451-.377a3.1 3.1 0 0 1 1.577.419c.484.27.87.684 1.158 1.242.298.549.447 1.247.447 2.093 0 .847-.149 1.55-.447 2.107-.288.559-.679.977-1.172 1.256a3.211 3.211 0 0 1-1.59.405c-.559 0-1.043-.13-1.452-.39-.4-.261-.721-.615-.963-1.061l-.042 1.311h-1.535V33.855Zm5.54 6.377c0-.8-.181-1.4-.544-1.8-.354-.41-.814-.614-1.382-.614-.567 0-1.046.2-1.437.6-.381.4-.572 1.005-.572 1.814 0 .819.19 1.428.572 1.828.39.39.865.586 1.424.586.567 0 1.032-.2 1.395-.6.363-.4.544-1.005.544-1.814ZM34.894 42.674a2.584 2.584 0 0 1-.879.95c-.381.25-.884.376-1.507.376-.68 0-1.237-.196-1.675-.586-.427-.39-.641-.986-.641-1.786v-5.01h1.646v4.968c0 .418.116.702.35.851.232.14.515.21.85.21.447 0 .814-.094 1.103-.28.297-.195.544-.456.74-.781v-4.968h1.618v7.242h-1.48l-.097-1.186h-.028ZM40.715 44a5.233 5.233 0 0 1-1.52-.223c-.484-.15-.875-.35-1.173-.6v-1.284c.289.26.67.47 1.145.628.483.149.981.223 1.493.223.986 0 1.479-.302 1.479-.907a.675.675 0 0 0-.14-.447c-.083-.12-.242-.218-.474-.293a7.075 7.075 0 0 0-1.005-.25c-.902-.159-1.544-.4-1.926-.727-.381-.325-.572-.804-.572-1.437 0-.688.26-1.228.782-1.619.52-.39 1.246-.586 2.177-.586.437 0 .86.051 1.27.154.418.093.748.214.99.363v1.284c-.52-.363-1.251-.545-2.19-.545-.53 0-.917.07-1.159.21-.242.13-.363.34-.363.627 0 .168.037.303.112.405.074.093.223.177.447.251.232.075.58.154 1.046.238.912.167 1.558.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.782 1.689-.52.4-1.242.6-2.163.6ZM45.803 35.697a1.03 1.03 0 0 1-.74-.28.977.977 0 0 1-.279-.697c0-.279.093-.516.28-.712.195-.195.441-.293.739-.293a.94.94 0 0 1 .712.293.969.969 0 0 1 .292.712c0 .27-.097.502-.293.698a.964.964 0 0 1-.711.279Zm-.81.92h1.62v7.243h-1.62v-7.242ZM51.972 37.818c-.465 0-.856.102-1.172.307-.307.205-.559.46-.754.767v4.968h-1.619v-7.242h1.535l.056 1.186h.028c.195-.381.488-.698.88-.949.4-.251.906-.377 1.52-.377.707 0 1.284.191 1.73.572.447.382.67.963.67 1.745v5.065h-1.618v-4.898c0-.418-.112-.711-.335-.879-.224-.177-.53-.265-.921-.265ZM60.107 44c-1.321 0-2.312-.33-2.973-.99-.66-.67-.99-1.596-.99-2.778 0-.781.153-1.451.46-2.01.307-.567.73-1 1.27-1.297.54-.298 1.154-.447 1.842-.447 1.163 0 2.019.377 2.568 1.13.558.754.74 1.778.544 3.07h-5.01c.065.661.284 1.159.656 1.494.382.325.963.488 1.744.488.866 0 1.675-.223 2.428-.67v1.34c-.707.447-1.553.67-2.54.67Zm-.391-6.238c-.474 0-.88.149-1.214.447-.326.288-.54.716-.642 1.283h3.419c.018-.558-.107-.986-.377-1.283-.27-.298-.665-.447-1.186-.447ZM66.649 44a5.232 5.232 0 0 1-1.521-.223c-.484-.15-.875-.35-1.172-.6v-1.284c.288.26.67.47 1.144.628.484.149.981.223 1.493.223.986 0 1.48-.302 1.48-.907a.675.675 0 0 0-.14-.447c-.084-.12-.242-.218-.475-.293a7.078 7.078 0 0 0-1.005-.25c-.902-.159-1.544-.4-1.925-.727-.382-.325-.573-.804-.573-1.437 0-.688.261-1.228.782-1.619.52-.39 1.247-.586 2.177-.586.437 0 .86.051 1.27.154.418.093.749.214.99.363v1.284c-.52-.363-1.25-.545-2.19-.545-.53 0-.917.07-1.159.21-.242.13-.362.34-.362.627 0 .168.037.303.111.405.075.093.224.177.447.251.232.075.581.154 1.046.238.912.167 1.559.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.781 1.689-.521.4-1.242.6-2.163.6ZM73.326 44c-.52 0-1.028-.075-1.52-.223-.485-.15-.875-.35-1.173-.6v-1.284c.288.26.67.47 1.144.628.484.149.982.223 1.493.223.987 0 1.48-.302 1.48-.907a.675.675 0 0 0-.14-.447c-.084-.12-.242-.218-.474-.293a7.078 7.078 0 0 0-1.005-.25c-.903-.159-1.544-.4-1.926-.727-.381-.325-.572-.804-.572-1.437 0-.688.26-1.228.782-1.619.52-.39 1.246-.586 2.176-.586.438 0 .86.051 1.27.154.419.093.75.214.991.363v1.284c-.52-.363-1.251-.545-2.19-.545-.531 0-.917.07-1.16.21-.241.13-.362.34-.362.627 0 .168.037.303.112.405.074.093.223.177.446.251.233.075.582.154 1.047.238.912.167 1.558.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.782 1.689-.52.4-1.242.6-2.163.6Z"}));t.default=(e=>{var{lang:t,isB2b:n,className:r,size:o,testId:s}=e,u=a(e,["lang","isB2b","className","size","testId"]);const O=c(t),w=n?f:l,E=Object.assign({className:r,dataTest:s,xmlns:"http://www.w3.org/2000/svg"},u);if("shortest"===o)return i.a.createElement("svg",Object.assign({width:"30",height:"30",fill:"none"},E),i.a.createElement(w,{transform:"translate(1 0)"}));if("short"===o){let e="Ru"===O?p:h;return n&&(e="Ru"===O?m:v),i.a.createElement("svg",Object.assign({width:"109",height:"30",fill:"none"},E),i.a.createElement(e,{transform:"translate(1 0)"}),i.a.createElement(w,{transform:"translate(31 0)"}),i.a.createElement(d,{transform:"translate(1 0)"}))}return"Ru"===O?i.a.createElement("svg",Object.assign({width:"170",height:"caption"===o?46:30,fill:"none"},E),i.a.createElement(g,{transform:"translate(1 0)"}),i.a.createElement(w,{transform:"translate(93 0)"}),i.a.createElement(d,{transform:"translate(62 0)"}),"caption"===o&&i.a.createElement(b,{transform:"translate(1 0)"})):i.a.createElement("svg",Object.assign({width:"173",height:"caption"===o?46:30,fill:"none"},E),i.a.createElement(y,{transform:"translate(1 0)"}),i.a.createElement(w,{transform:"translate(96 0)"}),i.a.createElement(d,{transform:"translate(65 0)"}),"caption"===o&&i.a.createElement(_,{transform:"translate(1 0)"}))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(1706),a=n(733),s=n(734);t.LogoCorp=i.memo((function(){return i.default.createElement(s.LogoContainer,null,i.default.createElement(a.LogoLink,{logoLink:"/"},i.default.createElement(o.YaLogo,null)))}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(735),a=n(155),s=n(1707);t.YaLogo=i.default.memo((function(){var e=i.useContext(a.HeaderContext).lang;return i.default.createElement(o.SvgYa,{logoLang:s.getLogoLang(e)})}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogoLang=function(e){return["en","tr","az","hy","ka","ro","uz"].includes(e)?"En":"Ru"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(727));t.default=function(e){return function(t){return o.default.createElement(e,r({getI18nFn:a.default},t))}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(731),s=n(730),u=n(728);t.withDefaultServices=function(){return function(e){return function(t){var n=t.getI18nFn,i=t.lang,c=t.tld,l=t.links,f=t.currentService,d=t.linkFromPrefix,p=void 0===d?null===f||void 0===f?void 0:f.toLocaleLowerCase():d,h=t.isB2bAdmin,m=t.isB2bUser,v=t.showDocuments,g=t.showFan,y=t.hideTuning,b=t.theme,_=t.timeZone,O=t.calendarDay,w=o.useCallback((function(e){return n(i,e)}),[n,i]),E=o.useMemo((function(){var e=p?a.addFromToLink(l.Premium,p+"_header"):l.Premium,t={};"Mail"===f&&(t={source:"tab-mail"}),"Disk"===f&&(t={from:"disk"});var n=a.addQueryParams(l.Telemost,t),u={theme:b,timeZone:_,calendarDay:O,lang:i},d={id:"Documents",title:w("documents"),href:l.Documents,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Documents"},u))},E={id:"Calendar",title:w("calendar"),href:l.Calendar,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Calendar"},u))},S={id:"Premium",title:w("premium"),href:e,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Premium"},u))},x={id:"Notes",title:w("notes"),href:l.Notes,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Notes"},u))},C={id:"Contact",title:w("contacts"),href:l.Contact,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Contact"},u))},T={id:"Messenger",title:w("messenger"),href:l.Messenger,target:"_blank",icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Messenger"},u))},k={id:"Fan",title:w("fan"),href:l.Fan,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Fan"},u))},j={id:"Admin",title:w("Admin"===f?"adminkaShort":"adminka"),href:l.Admin,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Admin"},u))},P={id:"Telemost",title:w("telemost"),href:n,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Telemost"},u))},R=[{id:"Mail",title:w("mail"),href:l.Mail,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Mail"},u))},{id:"Disk",title:w("disk"),href:l.Disk,icon:o.default.createElement(s.BoundHeaderIcon,r({name:"Disk"},u))}];return v&&R.push(d),R.push(E),m||y||"ru"!==c||R.push(S),R.push(P),m&&!y&&"ru"===c&&R.push(S),R.push(x),R.push(C),R.push(T),g&&R.push(k),(h||"Admin"===f)&&R.push(j),R}),[f,l,w,h,m,p,v,c,g,y,b,_,O,i]),S=o.useMemo((function(){var e=E.slice(0,u.MAIN_SERVICES_COUNT).map((function(e){return e.id}));return f&&!e.includes(f)&&(e[u.MAIN_SERVICES_COUNT-1]=f),e}),[E,f]);return o.default.createElement(e,r({},t,{mainServices:S,services:E,linkFromPrefix:p}))}}}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(305);n(1728),t.withViewNote=r.withBemMod(i.cnTextinput(),{view:"note"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(305);n(1730),t.withViewNormal=r.withBemMod(i.cnTextinput(),{view:"normal"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(305);n(1732),n(1733),t.withViewSearch=r.withBemMod(i.cnTextinput(),{view:"search"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(305);n(1735),t.withViewSuggestPsHeaderLight=r.withBemMod(i.cnTextinput(),{view:"suggest-ps-header-light"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(305);n(1737),t.withSizeNote=r.withBemMod(i.cnTextinput(),{size:"note"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(338);function s(e){if(e&&o.default.isValidElement(e))return o.default.cloneElement(e,{className:a.cnIcon(null,[e.props.className])})}t.withIconClassName=function(e){return function(t){var n=r(r({},t),{iconLeft:s(t.iconLeft),iconRight:s(t.iconRight)});return o.default.createElement(e,r({},n))}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(11)),s=n(1748),u=n(26),c=n(72),l=n(1749),f=n(1751),d=i(n(14));n(1802);var p=function(){return a.default()("settings-popup")};t.default=function(){var e=o.useState(!1),t=e[0],n=e[1],r=o.useRef(null),i=o.useCallback((function(){d.default.count("interface elements","header","settings"),t||d.default.count("interface elements","settings popup","show"),n(!t)}),[t,n]),a=o.useCallback((function(){n(!1)}),[n]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Button,{className:p().e("button").mix("promozavr-anchor-settingsButton"),view:"clear",size:"m","aria-label":"Настройки",onClick:i,innerRef:r,icon:s.settingsIconProvider}),o.default.createElement(c.Popup,{className:p().e("popup"),style:{width:452},view:"default",target:"anchor",anchor:r,direction:"bottom-start",hasTail:!0,tailSize:22,visible:t,onClose:a},o.default.createElement(l.SettingsPopupHeader,null),o.default.createElement(f.SettingsPopupThemes,null)))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsIcon",(function(){return g})),n.d(t,"settingsIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"m8.43 3.29.88 1.2c.27.36.62.67 1.09.8a1.85 1.85 0 0 0 1.41-.2 2 2 0 0 0 .84-1.05l.54-1.38a.75.75 0 0 1 .9-.45l.5.13.5.14a.75.75 0 0 1 .55.84l-.23 1.46c-.07.48-.02.95.2 1.34.25.41.64.73 1.14.87.47.12.93.02 1.36-.16l1.34-.59a.75.75 0 0 1 .95.31l.26.45.26.45a.75.75 0 0 1-.2.98l-1.2.88c-.37.27-.68.62-.8 1.09a1.85 1.85 0 0 0 .18 1.41c.23.4.6.67 1.06.84l1.38.55a.75.75 0 0 1 .45.89l-.13.5-.14.5a.75.75 0 0 1-.83.55l-1.47-.23a2.02 2.02 0 0 0-1.34.2c-.41.25-.73.64-.87 1.14-.12.47-.03.92.15 1.34l.6 1.36a.75.75 0 0 1-.31.95l-.45.26-.45.26a.75.75 0 0 1-.98-.2l-.85-1.15a2.1 2.1 0 0 0-1.12-.85 1.85 1.85 0 0 0-1.41.18c-.4.23-.67.6-.84 1.06l-.54 1.38a.75.75 0 0 1-.9.45l-.5-.13-.5-.13a.75.75 0 0 1-.55-.84l.23-1.47c.07-.48.02-.95-.2-1.34a1.85 1.85 0 0 0-1.13-.86 2.08 2.08 0 0 0-1.4.17l-1.31.57a.75.75 0 0 1-.95-.31L3.34 17l-.26-.44a.75.75 0 0 1 .2-.99l1.2-.88c.37-.27.68-.62.8-1.09a1.85 1.85 0 0 0-.18-1.41 2 2 0 0 0-1.06-.84l-1.38-.54a.75.75 0 0 1-.45-.9l.13-.5.14-.5a.75.75 0 0 1 .83-.54l1.47.22c.48.07.95.02 1.34-.2.41-.25.73-.64.87-1.13.12-.48.02-.94-.16-1.36l-.59-1.35a.75.75 0 0 1 .31-.95L7 3.34l.45-.26a.75.75 0 0 1 .98.2zm2.46 12.85a4.29 4.29 0 1 0 2.22-8.28 4.29 4.29 0 0 0-2.22 8.28z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11));n(1750);var a=function(){return o.default()("settings-popup-header")};t.SettingsPopupHeader=function(){return i.default.createElement("div",{className:a()},i.default.createElement("h3",{className:a().e("title")},"Настройки"))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1752);t.SettingsPopupThemes=r.default}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(81),s=n(1753),u=r(n(11)),c=n(388);n(1758);var l=r(n(1759)),f=r(n(1787)),d=n(183),p=n(1796),h=function(){return u.default()("settings-popup-themes")};t.default=function(){var e=s.useGeneralThemesI18n().i18n,t=o.useSelector(a.isNewYearThemeAvailable),n=[d.ThemeName.GeneralDefault,t?d.ThemeName.GeneralNewYear2023:null,d.ThemeName.GeneralFlow,d.ThemeName.GeneralDarkflow,d.ThemeName.GeneralGrass].filter((function(e){return null!==e}));return i.default.createElement(c.ExternalContext.Provider,{value:{i18n:e}},i.default.createElement("div",{className:h()},i.default.createElement("div",{className:h().e("header")},i.default.createElement("h4",{className:h().e("title")},"Тема оформления Яндекс 360"),i.default.createElement(p.GeneralThemesTooltip,null)),i.default.createElement(l.default,null),i.default.createElement(f.default,{themes:n})))}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(388),u=n(1755),c=o(n(13));t.useGeneralThemesI18n=function(){var e=this,t=c.default().getState().environment.session.locale,n=s.LANGS.includes(t)?t:"ru",o=a.useState(null),l=o[0],f=o[1];a.useEffect((function(){r(e,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,u.importLocale(n)];case 1:return t.sent(),e=u.getLocale(),f(e),[2]}}))}))}),[]);var d=a.useCallback((function(e){return null===l||void 0===l?void 0:l[e]}),[l]);return{i18n:l?d:null}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS=void 0;var i=r(n(0));t.LANGS=["be","en","kk","ru","tr","uz"],t.default=i.default.createContext({i18n:function(){return""}})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=null,s=null,u={ru:function(){return Promise.resolve().then((function(){return o(n(737))}))},en:function(){return Promise.resolve().then((function(){return o(n(1756))}))},tr:function(){return Promise.resolve().then((function(){return o(n(1757))}))},uk:function(){return Promise.resolve().then((function(){return o(n(737))}))}};t.importLocale=function(e){return r(this,void 0,Promise,(function(){var t;return i(this,(function(n){return a?[2,Promise.resolve(a)]:s?[2,s]:(t=u[e],[2,s=t().then((function(e){return a=e}))])}))}))},t.getLocale=function(){return a}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="One theme for Mail, \nDisk, and Telemost",t.toggleVideoBgLabel="Play animated backgrounds",t.toggleVideoBgTooltip="If you disable this function, \nthe background will be a still image"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Yandex Mail,\nDisk ve Telemost için ortak tema",t.toggleVideoBgLabel="Videolu duvar kağıdını oynat",t.toggleVideoBgTooltip="Devre dışı bırakıldığında, video duvar kağıdı \nyerine statik görseller olur"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(738)),u=n(743),c=n(744),l=i(n(14)),f={onVideoBgEnabled:u.enableVideoBg,onVideoBgDisabled:u.disableVideoBg},d=a.connect((function(e){return{ds:c.getDatasyncService(e)}}),f);t.default=d((function(e){var t=e.onVideoBgEnabled,n=e.onVideoBgDisabled,r=e.ds,i=o.useCallback((function(){l.default.count("interface elements","settings popup","videobackground","on"),t()}),[t]),a=o.useCallback((function(){l.default.count("interface elements","settings popup","videobackground","off"),n()}),[n]);return o.default.createElement(s.default,{ds:r,onVideoBgEnabled:i,onVideoBgDisabled:a})}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(0)),l=u(n(1761)),f=n(739),d=n(1764),p=n(740),h=n(388);t.default=function(e){var t=this,n=(0,f.useGeneralThemesDatasync)(e.ds),r=n.isVideoBgEnabled,i=n.toggleVideoBg,o=e.onVideoBgDisabled,u=e.onVideoBgEnabled,m=(0,c.useContext)(h.ExternalContext).i18n,v=(0,c.useCallback)((function(){return a(t,void 0,void 0,(function(){return s(this,(function(e){return r?null===o||void 0===o||o():null===u||void 0===u||u(),[2,i()]}))}))}),[r,i,u,o]);return c.default.createElement(p.TooltipStateful,{className:l.default.tooltip,content:null===m||void 0===m?void 0:m("toggleVideoBgTooltip"),view:"default",state:"warning",size:"s",direction:"top-start"},c.default.createElement("div",null,c.default.createElement(d.Tumbler,{checked:r,onChange:v,view:"default",size:"s",id:"general-themes-video-bg",labelAfter:null===m||void 0===m?void 0:m("toggleVideoBgLabel")})))}}),(function(e,t,n){"use strict";n.r(t);n(1762);t.default={tooltip:"VideoBgSwitch-m_tooltip_3MOsY",root:"VideoBgSwitch-m_root_tPkEC",label:"VideoBgSwitch-m_label_kWbK-"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGeneralThemesDatasync=void 0;var o=n(0);t.useGeneralThemesDatasync=function(e){var t=(0,o.useState)(e.getThemeName()),n=t[0],a=t[1],s=(0,o.useState)(e.isVideoBgEnabled()),u=s[0],c=s[1];(0,o.useEffect)((function(){var t=e.onEnableTheme(a),n=e.onSwitchVideoBg(c);return function(){t(),n()}}),[e,a,c]);var l=(0,o.useCallback)((function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(t){return u?[2,e.disableVideoBg()]:[2,e.enableVideoBg()]}))}))}),[e,u]);return{currentTheme:n,isVideoBgEnabled:u,setTheme:e.enableTheme.bind(e),unsetThemes:e.disableTheme.bind(e),toggleVideoBg:l}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tumbler=void 0;var r=n(5),i=n(795);t.Tumbler=(0,r.compose)(i.withSizeS,i.withViewDefault)(i.Tumbler)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaultDelay=t.TooltipStateful=void 0;var r=n(5),i=n(32),o=n(1766),a=n(2198),s=n(742),u=n(1778),c=new i.Registry({id:(0,a.cnTooltip)()});c.set("Popup",u.Popup),t.TooltipStateful=(0,r.compose)((0,r.composeU)(a.withSizeS),a.withViewDefault,(0,s.withDefaultDelay)(1e3),(0,i.withRegistry)(c))(o.TooltipStateful);var l=n(742);Object.defineProperty(t,"withDefaultDelay",{enumerable:!0,get:function(){return l.withDefaultDelay}})}),(function(e,t,n){"use strict";n.r(t);var r=n(741);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkFn=void 0;var r=n(2);t.forkFn=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];void 0!==e&&e.apply(void 0,r.__spread(n)),t.apply(void 0,r.__spread(n))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipBackdrop=void 0;var r=n(2).__importDefault(n(0)),i=n(530);n(1769);t.TooltipBackdrop=function(e){var t=e.children;return r.default.createElement("div",{className:i.cnTooltip("Backdrop")},t)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipState=void 0;var r=n(2),i=n(0);t.useTooltipState=function(e){var t=e.defaultVisible,n=void 0!==t&&t,o=e.openDelay,a=void 0===o?0:o,s=e.closeDelay,u=void 0===s?0:s,c=r.__read(i.useState(n),2),l=c[0],f=c[1],d=i.useRef(),p=i.useRef(),h=i.useCallback((function(e){var t=e?p:d,n=e?d:p,r=e?a:u;t.current&&(clearTimeout(t.current),t.current=void 0),r>0?n.current||(n.current=window.setTimeout((function(){n.current=void 0,f(e)}),r)):f(e)}),[a,u]),m=i.useCallback((function(){return h(!0)}),[h]),v=i.useCallback((function(){return h(!1)}),[h]),g=i.useCallback((function(){return h(!l)}),[l,h]);return i.useEffect((function(){return function(){clearTimeout(d.current),clearTimeout(p.current)}}),[]),{visible:l,open:m,close:v,toggle:g}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWithOutsideClick=t.Popup=t.LegoPopup=void 0;var a=o(n(0)),s=n(5),u=n(32),c=n(854),l=n(339),f=n(701),d=n(1779);function p(e){return a.default.createElement(t.LegoPopup,r({view:e.view||"default"},e))}t.LegoPopup=(0,s.compose)((0,u.withRegistry)(l.popupRegistry),c.withTargetAnchor,c.withViewDefault,f.withZIndex)(c.Popup),t.Popup=p,t.PopupWithOutsideClick=(0,d.withOutsideClick)((function(e){var t=e.targetRef,n=(e.onEscapeKeyDown,e.onOutsideClick,i(e,["targetRef","onEscapeKeyDown","onOutsideClick"]));return a.default.createElement(p,r({innerRef:t},n))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(540);n.d(t,"withOutsideClick",(function(){return r.withOutsideClick}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=t.ThemeName=void 0;var o=n(183);Object.defineProperty(t,"ThemeName",{enumerable:!0,get:function(){return o.ThemeName}});var a=n(1781);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncService}}),Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncSchema}}),i(n(1783),t),i(n(1786),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=void 0;var r=n(1782);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return r.GeneralThemesSettingsDatasyncService}});var i=n(745);Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return i.GeneralThemesSettingsDatasyncSchema}})}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncService=void 0;var s=n(255),u=n(183),c=n(745),l=n(726),f=n(725),d=(function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.clockApi=r,i.schema=c.GeneralThemesSettingsDatasyncSchema,i.switchVideoBgCallbacks=[],i.enableThemeCallbacks=[],i}return r(t,e),t.prototype.getThemeName=function(){var e,t=(null===(e=this.clockApi)||void 0===e?void 0:e.getNow())||new Date;return(0,f.getCurrentTheme)(this.getData(),t)},Object.defineProperty(t.prototype,"isGeneralThemeTouched",{get:function(){return null!==this.getThemeName()},enumerable:!1,configurable:!0}),t.prototype.isGeneralThemeEnabled=function(e){return(0,f.isThemeEnabled)(e,this.getCommonSettings())},t.prototype.enableTheme=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,s,c,f;return a(this,(function(a){return n=i(i({},this.getData().settings),t),null!==(r=this.getThemeName())&&(null===(o=l.THEMES_CUSTOMIZATIONS[r])||void 0===o?void 0:o.customDisable)&&(n=o.customDisable(this.getData().settings)),s=l.THEMES_CUSTOMIZATIONS[e],c=null,(null===s||void 0===s?void 0:s.customEnable)&&(n=s.customEnable(this.getData().settings),c=this.getData().theme||u.ThemeName.Void),f={settings:n,theme:null===c?e:c},this.enableThemeCallbacks.forEach((function(t){try{t(e)}catch(e){}})),[2,this.setValue(u.DATASYNC_KEY_NAME,f)]}))}))},t.prototype.disableTheme=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){return e=this.getData().settings,t=this.getThemeName(),(null===(n=l.THEMES_CUSTOMIZATIONS[t||u.ThemeName.Void])||void 0===n?void 0:n.customDisable)&&(e=n.customDisable(e)),[2,this.setValue(u.DATASYNC_KEY_NAME,{settings:e,theme:u.ThemeName.Void})]}))}))},t.prototype.onEnableTheme=function(e){var t=this;return this.enableThemeCallbacks.push(e),function(){t.enableThemeCallbacks=t.enableThemeCallbacks.filter((function(t){return t!==e}))}},t.prototype.getCommonSettings=function(){return this.getData().settings},t.prototype.isVideoBgEnabled=function(){return this.getData().settings.isVideoEnabled},t.prototype.enableVideoBg=function(){var e=this.getData();return this.switchVideoBgCallbacks.forEach((function(e){try{e(!0)}catch(e){}})),this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!0})}))},t.prototype.disableVideoBg=function(){var e=this.getData();return this.switchVideoBgCallbacks.forEach((function(e){try{e(!1)}catch(e){}})),this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!1})}))},t.prototype.onSwitchVideoBg=function(e){var t=this;return this.switchVideoBgCallbacks.push(e),function(){t.switchVideoBgCallbacks=t.switchVideoBgCallbacks.filter((function(t){return t!==e}))}},t.prototype.getData=function(){return i(i({},this.schema[u.DATASYNC_KEY_NAME].decode("")),this.getValue(u.DATASYNC_KEY_NAME))},t})(s.DatasyncService);t.GeneralThemesSettingsDatasyncService=d}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncSchema=t.GeneralThemesPromoDatasyncService=t.GeneralThemesPromoLogic=void 0;var r=n(1784);Object.defineProperty(t,"GeneralThemesPromoLogic",{enumerable:!0,get:function(){return r.GeneralThemesPromoLogic}});var i=n(1785);Object.defineProperty(t,"GeneralThemesPromoDatasyncService",{enumerable:!0,get:function(){return i.GeneralThemesPromoDatasyncService}});var o=n(746);Object.defineProperty(t,"GeneralThemesPromoDatasyncSchema",{enumerable:!0,get:function(){return o.GeneralThemesPromoDatasyncSchema}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoLogic=t.END_OF_SPECIAL_DATE=void 0;t.END_OF_SPECIAL_DATE=new Date("2022-08-01T00:00:00.000Z");var r=(function(){function e(e){this.params=e}return Object.defineProperty(e.prototype,"shouldShowFullscreen",{get:function(){return!this.params.isB2BUser&&("ru"===this.params.tld&&(!this.params.settingsService.isGeneralThemeTouched&&!this.params.promoService.wasFullscreenShown))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowTooltip",{get:function(){return!this.params.settingsService.isGeneralThemeTouched&&(!!this.params.promoService.wasFullscreenShown&&(!this.params.promoService.wasTooltipShown&&(!this.notEnoughTimeSinceFullscreen()&&!this.notEnoughTimeUntilEndOfSpecial())))},enumerable:!1,configurable:!0}),e.prototype.notEnoughTimeSinceFullscreen=function(){var e=this.params.promoService.fullscreenShownDate;return!e||this.params.clockApi.now.getTime()-e.getTime()<12096e5},e.prototype.notEnoughTimeUntilEndOfSpecial=function(){var e=this.params.clockApi.now;return t.END_OF_SPECIAL_DATE.getTime()-e.getTime()<=1728e5},e})();t.GeneralThemesPromoLogic=r}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncService=void 0;var o=n(255),a=n(746),s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.schema=a.GeneralThemesPromoDatasyncSchema,t}return r(t,e),t.prototype.setFullscreenShownDate=function(e){return this.writeField({fullScreenShownDate:e})},t.prototype.setTooltipShownDate=function(e){return this.writeField({tooltipShownDate:e})},Object.defineProperty(t.prototype,"wasFullscreenShown",{get:function(){return null!==this.fullscreenShownDate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasTooltipShown",{get:function(){return null!==this.getData().tooltipShownDate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullscreenShownDate",{get:function(){return this.getData().fullScreenShownDate},enumerable:!1,configurable:!0}),t.prototype.writeField=function(e){return this.setValue(a.GENERAL_THEMES_PROMO_KEY,i(i({},this.getData()),e))},t.prototype.getData=function(){return this.getValue(a.GENERAL_THEMES_PROMO_KEY)||this.schema[a.GENERAL_THEMES_PROMO_KEY].decode("")},t})(o.DatasyncService);t.GeneralThemesPromoDatasyncService=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemeLayerBreakpoint=void 0,(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(t.GeneralThemeLayerBreakpoint||(t.GeneralThemeLayerBreakpoint={}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(183),s=n(723),u=i(n(11)),c=i(n(1788));n(1795);var l=n(81),f=n(19),d=function(){return u.default()("theme-cards")};t.default=function(e){var t,n=e.themes,r=f.useSelector(l.getThemeName),i=o.useCallback((function(e){return e===a.ThemeName.GeneralDefault?null:s.themes[e].thumbnail.webp}),[]),u=o.useCallback((function(e){return e===r||e===a.ThemeName.GeneralDefault&&!r}),[r]),p=((t={})[a.ThemeName.GeneralFlow]="Поток",t[a.ThemeName.GeneralGrass]="Трава",t[a.ThemeName.GeneralDefault]="Без темы",t[a.ThemeName.GeneralDarkflow]="Темный поток",t[a.ThemeName.GeneralNewYear2023]="Новый год",t);return o.default.createElement("div",{className:d(),role:"radiogroup"},n.filter((function(e){return p[e]})).map((function(e){return o.default.createElement(c.default,{key:e,className:d().e("theme-card").m({default:e===a.ThemeName.GeneralDefault}),selected:u(e),themeName:e,displayName:p[e],isVideo:e!==a.ThemeName.GeneralDefault,show360Label:!1,thumbnail:i(e)})})))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(19),c=n(743),l=a(n(747)),f=n(744),d=a(n(14)),p={enableTheme:c.enableTheme},h=u.connect((function(e){return{ds:f.getDatasyncService(e)}}),p);t.default=h((function(e){var t=e.enableTheme,n=e.ds,o=i(e,["enableTheme","ds"]),a=s.useCallback((function(e){d.default.count("interface elements","settings popup","change theme",e||"default"),t({theme:e,settings:n.getCommonSettings()})}),[t,n]);return s.default.createElement(l.default,r({ds:n,onSelectTheme:a},o))}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(0)),l=u(n(151)),f=n(1790),d=u(n(1791)),p=u(n(1792)),h=u(n(1793)),m=n(739);t.default=function(e){var t,n=this,r=(0,m.useGeneralThemesDatasync)(e.ds).setTheme,i=e.themeName,o=e.className,u=e.displayName,v=e.thumbnail,g=e.label,y=e.selected,b=e.isVideo,_=e.show360Label,O=e.onSelectTheme,w=e.onHover,E=e.background,S=(0,c.useCallback)((function(){return a(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,r(i)];case 1:return e.sent(),[2,O(i)]}}))}))}),[O,r,i]);return c.default.createElement("div",{onClick:S,onMouseOver:w,className:(0,l.default)(h.default.thumbnail,(t={},t[h.default.selected]=y,t),o),style:{backgroundImage:"url(".concat(v,")"),backgroundColor:E},role:"radio","aria-label":g,"aria-checked":y,tabIndex:0},c.default.createElement(f.Text,{className:h.default.label,overflow:"ellipsis",typography:"caption-m",align:"center"},u),b&&c.default.createElement(d.default,{width:24,height:24,className:(0,l.default)(h.default.icon,h.default.iconVideo)}),_&&c.default.createElement(p.default,{width:44,height:24,className:(0,l.default)(h.default.icon,h.default.icon360)}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var r=n(5),i=n(578);t.Text=(0,r.compose)(i.withTypographyCaptionM)(i.Text)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 6.205v11.59c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334H6.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C3.116 19.314 3 18.91 3 17.795V6.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C4.686 3.116 5.09 3 6.205 3h11.59c1.114 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926ZM9 19h2v-2H9v2Zm-2-2v2h-.795c-.427 0-.694-.019-.849-.049a.353.353 0 0 1-.134-.049.275.275 0 0 1-.124-.124.353.353 0 0 1-.049-.134c-.03-.155-.049-.422-.049-.849V17h2Zm0-2h4V9H5v6h2Zm10.795 4H17v-2h2v.795c0 .427-.019.694-.049.849a.353.353 0 0 1-.049.134.275.275 0 0 1-.124.125.353.353 0 0 1-.134.048c-.155.03-.422.049-.849.049ZM17 15h-4V9h6v6h-2Zm-2 4v-2h-2v2h2ZM7 5h-.795c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849V7h2V5Zm2 2V5h2v2H9Zm4-2h2v2h-2V5Zm4 0v2h2v-.795c0-.427-.019-.694-.049-.849a.353.353 0 0 0-.049-.134.275.275 0 0 0-.124-.124.353.353 0 0 0-.134-.049c-.155-.03-.422-.049-.849-.049H17Z",fill:"#fff"}))}));t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 44 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3a9 9 0 0 0 0 18h21.188a9 9 0 1 0 0-18H11Zm15.492 8.929c0-3.166 2.26-4.429 5.065-4.429 2.806 0 5.065 1.263 5.065 4.438 0 3.166-2.25 4.429-5.065 4.429-2.815 0-5.065-1.263-5.065-4.438Zm1.28-.02c0 2.573 1.63 3.478 3.785 3.478 2.156 0 3.785-.905 3.785-3.44 0-2.581-1.629-3.476-3.785-3.476s-3.784.904-3.784 3.439Zm-6.637-1.252c-1.628 0-2.965.47-3.605 1.215.122-2.195 1.242-3.401 3.897-3.401 1.384 0 2.59.207 3.775.848v-1c-.979-.47-2.118-.819-3.784-.819-3.53 0-5.028 2.12-5.028 4.956 0 2.591 1.177 3.91 4.66 3.91 2.627 0 4.66-1.092 4.66-2.977 0-1.809-1.807-2.732-4.575-2.732Zm-.103 4.73c-2.184 0-3.286-.735-3.286-1.894 0-1.197 1.271-1.857 3.361-1.857 1.93 0 3.352.65 3.352 1.847-.01 1.254-1.375 1.904-3.427 1.904Zm-9.33-4.363a5.5 5.5 0 0 0-.8.066l4.35-2.44v-.905H7.107v.961h6.298l-5.008 2.836.395.782s.828-.395 2.297-.395c2.034 0 3.239.508 3.239 1.62 0 1.169-1.168 1.847-3.503 1.847-1.939 0-3.182-.415-4.076-.848v.999c.744.377 2.08.82 4.086.82 2.824 0 4.764-1.046 4.764-2.799.009-1.724-1.799-2.544-3.898-2.544Z",fill:"#fff"}))}));t.default=u}),(function(e,t,n){"use strict";n.r(t);n(1794);t.default={thumbnail:"ThemeCard-m_thumbnail_lFeqd",selected:"ThemeCard-m_selected_hk6Yb",label:"ThemeCard-m_label_BGrwa",icon:"ThemeCard-m_icon_47BVr",iconVideo:"ThemeCard-m_iconVideo_zCzeK",icon360:"ThemeCard-m_icon360_T-chd"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesTooltip=t.ThemeCardBase=t.VideoBgSwitchBase=void 0;var i=n(738);Object.defineProperty(t,"VideoBgSwitchBase",{enumerable:!0,get:function(){return r(i).default}});var o=n(747);Object.defineProperty(t,"ThemeCardBase",{enumerable:!0,get:function(){return r(o).default}});var a=n(1797);Object.defineProperty(t,"GeneralThemesTooltip",{enumerable:!0,get:function(){return r(a).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1798);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(388),c=n(740),l=a(n(1799)),f=a(n(1800));t.default=function(){var e=(0,s.useContext)(u.ExternalContext).i18n;return s.default.createElement(c.TooltipStateful,{className:f.default.tooltip,content:null===e||void 0===e?void 0:e("generalThemesInfoTooltip"),view:"default",state:"warning",size:"s",direction:"top"},s.default.createElement("div",null,s.default.createElement(l.default,{width:17,height:16,className:f.default.anchor})))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 16a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm-.43-3.414c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 0 1-.243-.306l.077-.331a.35.35 0 0 1 .272-.264l2.358-.473a.5.5 0 0 1 .583.611l-.955 3.832a.19.19 0 0 0 .329.17l.869-1.002a.325.325 0 0 1 .511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316Zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.045-.26.045-.368 0-.504-.397-.933-1.101-.933-.673 0-1.193.383-1.346.995-.031.122-.046.26-.046.367Z",fill:"#B4B8CC",fillOpacity:.52}))}));t.default=u}),(function(e,t,n){"use strict";n.r(t);n(1801);t.default={tooltip:"GeneralThemesTooltip-m_tooltip_CPxk5",anchor:"GeneralThemesTooltip-m_anchor_Q9sCj"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(258);n(1806),t.withWide=r.withBemMod(i.cnMenu(),{wide:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(5),u=n(32),c=n(258);n(1808);var l=c.cnMenu("Icon"),f=function(e){var t=e,n=(t.needIconGlyph,t.children),o=t.innerRef,s=(t.value,t.url),f=t.icon,d=t.iconLeft,p=t.iconRight,h=i(t,["needIconGlyph","children","innerRef","value","url","icon","iconLeft","iconRight"]),m=u.useComponentRegistry(c.cnMenu()).Text,v=c.useMenuItem(r(r({},h),{type:"link"})),g=d||f;return a.createElement("a",r({ref:o},v,{href:s,role:"link"}),g&&g(l),a.createElement(m,null,n),p&&p(l))};t.withTypeNavigation=s.withBemMod(c.cnMenu(),{type:"navigation"},(function(e){return function(t){t.type;var n=i(t,["type"]);return a.createElement(e,r({},n,{renderItem:f}))}}))}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(258);n(1810),t.withPaddingless=r.withBemMod(i.cnMenu(),{paddingless:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(258);n(1812),t.withRightGlyph=r.withBemMod(i.cnMenu(),{rightGlyph:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(400);n(1823),t.withThemePrimary=r.withBemMod(i.cnLink(),{theme:"primary"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(400);n(1825),t.withIcons=function(e){return function(t){var n=t.icon,o=t.iconLeft,u=t.iconRight,c=t.children,l=i(t,["icon","iconLeft","iconRight","children"]),f=n||o,d=f||u?(function(e){return a.isValidElement(e)?a.cloneElement(e,{className:s.cnLink("Text",null,[e.props.className])}):a.createElement("span",{className:s.cnLink("Text")},e)})(c):c;return a.createElement(e,r({},l),f&&f(s.cnLink("Icon",{side:"left"})),d,u&&u(s.cnLink("Icon",{side:"right"})))}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!(function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),f="function",d=Math.round,p=Math.abs,h=Date.now;function m(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function O(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==f?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function x(e,t,n){g(j(t),(function(t){e.addEventListener(t,n,!1)}))}function C(e,t,n){g(j(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function j(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function A(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function I(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var D=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,L=I(i,"PointerEvent")!==s,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,U=1,z=2,V=4,H=8,W=1,G=2,$=4,q=8,Y=16,K=G|$,J=q|Y,X=K|J,Z=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&U&&r-i==0,a=t&(V|H)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,(function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=t.center=re(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(u,c),t.distance=ae(u,c),(function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==U&&o.eventType!==V||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)})(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var l=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=p(l.x)>p(l.y)?l.x:l.y,t.scale=a?(function(e,t){return ae(t[0],t[1],Q)/ae(e[0],e[1],Q)})(a.pointers,r):1,t.rotation=a?(function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)})(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,(function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=H&&(u>B||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=ie(u,c,l);r=f.x,i=f.y,n=p(f.x)>p(f.y)?f.x:f.y,o=oe(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o})(n,t);var f=e.element;T(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f})(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?W:p(e)>=p(t)?e<0?G:$:t<0?q:Y}function ae(e,t,n){n||(n=Z);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function se(e,t,n){n||(n=Z);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)}};var ue={mousedown:U,mousemove:z,mouseup:V},ce="mousedown",le="mousemove mouseup";function fe(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}O(fe,ee,{handler:function(e){var t=ue[e.type];t&U&&0===e.button&&(this.pressed=!0),t&z&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var de={pointerdown:U,pointermove:z,pointerup:V,pointercancel:H,pointerout:H},pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=he,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(he="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),O(ve,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=de[r],o=pe[e.pointerType]||e.pointerType,a="touch"==o,s=P(t,e.pointerId,"pointerId");i&U&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(V|H)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ge={touchstart:U,touchmove:z,touchend:V,touchcancel:H},ye="touchstart",be="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}O(_e,ee,{handler:function(e){var t=ge[e.type];if(t===U&&(this.started=!0),this.started){var n=function(e,t){var n=R(e.touches),r=R(e.changedTouches);t&(V|H)&&(n=A(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(V|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Oe={touchstart:U,touchmove:z,touchend:V,touchcancel:H},we="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=we,this.targetIds={},ee.apply(this,arguments)}O(Ee,ee,{handler:function(e){var t=Oe[e.type],n=function(e,t){var n=R(e.touches),r=this.targetIds;if(t&(U|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=R(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return T(e.target,u)})),t===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(V|H)&&delete r[a[i].identifier],i++;if(!s.length)return;return[A(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Se=2500,xe=25;function Ce(){ee.apply(this,arguments);var e=w(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new fe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Te(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Se)}}O(Ce,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,Te.call(this,t)):e&(V|H)&&Te.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=xe&&a<=xe)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ke=I(l.style,"touchAction"),je=ke!==s,Pe="auto",Re="manipulation",Ae="none",Ie="pan-x",De="pan-y",Me=(function(){if(!je)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e})();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),je&&this.manager.element.style&&Me[e]&&(this.manager.element.style[ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),(function(e){if(k(e,Ae))return Ae;var t=k(e,Ie),n=k(e,De);if(t&&n)return Ae;if(t||n)return t?Ie:De;if(k(e,Re))return Re;return Pe})(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=k(r,Ae)&&!Me[Ae],o=k(r,De)&&!Me[De],a=k(r,Ie)&&!Me[Ie];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&n&K||a&&n&J?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,Fe=2,Be=4,Ue=8,ze=Ue,Ve=16;function He(e){this.options=u({},this.defaults,e||{}),this.id=D++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function We(e){return e&Ve?"cancel":e&Ue?"end":e&Be?"move":e&Fe?"start":""}function Ge(e){return e==Y?"down":e==q?"up":e==G?"left":e==$?"right":""}function $e(e,t){var n=t.manager;return n?n.get(e):e}function qe(){He.apply(this,arguments)}function Ye(){qe.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){qe.apply(this,arguments)}function Je(){He.apply(this,arguments),this._timer=null,this._input=null}function Xe(){qe.apply(this,arguments)}function Ze(){qe.apply(this,arguments)}function Qe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=S(t.recognizers,et.defaults.preset),new tt(e,t)}He.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=$e(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)?this:(e=$e(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=$e(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=$e(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ue&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ue&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(ze|Ve|32)&&(this.state=Le),this.state=this.process(t),this.state&(Fe|Be|Ue|Ve)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},O(qe,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Be),i=this.attrTest(e);return r&&(n&H||!i)?t|Ve:r||i?n&V?t|Ue:t&Fe?t|Be:Fe:32}}),O(Ye,qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(De),e&J&&t.push(Ie),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&K?(i=0===o?W:o<0?G:$,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?W:a<0?q:Y,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return qe.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),O(Ke,qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ae]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),O(Je,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Pe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|H)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=m((function(){this.state=ze,this.tryEmit()}),t.time,this);else if(e.eventType&V)return ze;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ze&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),O(Xe,qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ae]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),O(Ze,qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|J,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(K|J)?t=e.overallVelocity:n&K?t=e.overallVelocityX:n&J&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=Ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),O(Qe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=ze,this.tryEmit()}),t.interval,this),Fe):ze}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xe,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Ze,{direction:K}],[Ye,{direction:K},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=(function(e){var t=e.options.inputClass;return new(t||(L?ve:F?Ee:N?Ce:fe))(e,te)})(this),this.touchAction=new Ne(this,this.options.touchAction),nt(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function nt(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,o){n=I(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ze)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Fe|Be|Ue)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(j(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(j(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&(function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)})(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:U,INPUT_MOVE:z,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Le,STATE_BEGAN:Fe,STATE_CHANGED:Be,STATE_ENDED:Ue,STATE_RECOGNIZED:ze,STATE_CANCELLED:Ve,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:G,DIRECTION_RIGHT:$,DIRECTION_UP:q,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:J,DIRECTION_ALL:X,Manager:tt,Input:ee,TouchAction:Ne,TouchInput:Ee,MouseInput:fe,PointerEventInput:ve,TouchMouseInput:Ce,SingleTouchInput:_e,Recognizer:He,AttrRecognizer:qe,Tap:Qe,Pan:Ye,Swipe:Ze,Pinch:Ke,Rotate:Xe,Press:Je,on:x,off:C,each:g,merge:_,extend:b,assign:u,inherit:O,bindFn:w,prefixed:I}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)})(window,document)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"renameResource",(function(){return s}));var r=n(23),i=n(17),o=n(27),a=n(117),s=function(e){return function(t,n){t(Object(o.maybeBlockAction)())||t(Object(r.openDialog)("rename",{resourceId:e,onSubmit:function(o){if(!n().dialogs.rename.data.progress){t(Object(r.updateDialog)("rename",{progress:!0}));var s=ns.action.run("resource.rename",{id:e,name:o}),u=function(){var u=n().dialogs.rename;if(u.data&&u.state!==r.STATE.CLOSED&&u.data.resourceId===e){var c=s.get(".status"),l=Object(i.getResourceData)(n(),e,"type"),f=s.get(".reason"),d=s.get(".reasonText"),p={progress:!1};if(["canceled","failed"].includes(c)&&"exists"===f)p.message="dir"===l?"Папка с именем «"+o+"» уже существует":"Файл с именем «"+yr.externals.entityify(o)+"» уже существует",t(Object(r.updateDialog)("rename",p));else if("failed"===c){if(d){p.message=d;var h=s.get(".reasonTextAux");h&&(p.message+=" "+h)}else p.message="NAME_HAS_SLASH"===f?"dir"===l?"Название папки не может содержать символ «/»":"Название файла не может содержать символ «/»":"NAME_EXCEEDS_MAX_LENGTH"===f?"dir"===l?"Название папки не может быть длиннее 255 символов":"Название файла не может быть длиннее 255 символов":"dir"===l?"Не удалось переименовать папку «"+yr.externals.entityify(o)+"»":"Не удалось переименовать файл «"+yr.externals.entityify(o)+"»";t(Object(r.updateDialog)("rename",p))}else"canceled"===c?t(Object(r.closeDialog)("rename",p)):"progressing"===c&&(t(Object(r.closeDialog)("rename",p)),t(Object(a.deselectAllStatesContext)()))}};s.on("ns-model-changed.status",u),u()}},onClose:function(){return t(Object(r.closeDialog)("rename"))}}))}}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(293);n.d(t,"useOverlay",(function(){return r.useOverlay})),n.d(t,"OverlayManager",(function(){return r.OverlayManager}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(1853);var r=n(13),i=n(23),o=n(40),a=n(36),s=n(14),u=n(9);function c(e){var t;return u.isFunction(e.getAsEntry)?t=e.getAsEntry():u.isFunction(e.webkitGetAsEntry)&&(t=e.webkitGetAsEntry()),t&&t.isFile&&u.isFunction(e.getAsFile)?e.getAsFile():t}function l(e){return e&&e.isDirectory}function f(e){return e&&!e.isDirectory}ns.View.define("dropzone",{events:{"dragleave .nb-dropzone":"close","drop .nb-dropzone":"dropFile","click .nb-dropzone":"close"},methods:{isDocsPage:function(){return Object(a.isDocsPage)(Object(r.default)().getState())},close:function(){Object(r.default)().dispatch(Object(i.closeDialog)("dropzone"))},dropFile:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.close();var n,i=e.originalEvent.dataTransfer;if(i.items){var a=u.filter(u.map(i.items,c),l),d=u.filter(u.map(i.items,c),f);n=ns.action.run("resource.upload",{dropzone:!0,folders:a,files:d}),s.default.count("tech","dropzone data transfer key","items")}else{if(!i.files||!i.files.length)return void Object(r.default)().dispatch(Object(o.notify)({cannotUploadFolder:!0}));n=ns.action.run("resource.upload",{dropzone:!0,files:i.files}),s.default.count("tech","dropzone data transfer key","files")}var p="/disk"===ns.page.current.params.idContext?"via drop to root":"via drop to folder";n.then((function(){s.default.count("actions","uploading","start upload",p),t.close()}))}}})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"bindDragEvents",(function(){return m})),n.d(t,"unBindDragEvents",(function(){return v}));var r=n(13),i=n(23),o=n(103),a=n(36),s=n(146),u=n(27),c=!1,l=function(){c=!0},f=function(e){var t=Object(r.default)(),n=t.getState();if(e.preventDefault(),!Object(a.isDocsView)(n))if(Object(s.shouldRestrict)(n,{forLite:!0}))setTimeout((function(){t.dispatch(Object(u.maybeBlockAction)({forLite:!0}))}),500);else if(!c&&!Object(o.isDialogOpened)(t.getState(),"dropzone")){var l=e.dataTransfer&&e.dataTransfer.types;l&&(l.indexOf&&-1!==l.indexOf("Files")||l.contains&&l.contains("Files"))&&t.dispatch(Object(i.openDialog)("dropzone"))}},d=function(e){e.preventDefault(),e.stopPropagation()},p=function(e){e.preventDefault(),c=!1},h=function(e){e.preventDefault()},m=function(){window.addEventListener("dragstart",l),window.addEventListener("dragenter",f),window.addEventListener("dragover",d),window.addEventListener("dragend",p),window.addEventListener("drop",h)},v=function(){window.removeEventListener("dragstart",l),window.removeEventListener("dragenter",f),window.removeEventListener("dragover",d),window.removeEventListener("dragend",p),window.removeEventListener("drop",h)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(152);e.exports=function(){return r.Date.now()}}),(function(e,t,n){var r=n(1862),i=n(153),o=n(301),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}}),(function(e,t,n){var r=n(1863),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}}),(function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(2189);n(1878),t.withViewListTileRadio=r.withBemMod(i.cnRadiobox(),{view:"listtile-radio"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"s"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.375 6.492c1.167 0 2.042-1.245 2.042-2.695 0-1.45-.753-2.297-2.042-2.297-1.289 0-2.042.847-2.042 2.297 0 1.45.875 2.695 2.042 2.695Zm0 4.008C1.637 10.5.552 9.992.12 9.642a.355.355 0 0 1-.118-.294C0 8.242 1.33 7.5 3.373 7.5s3.376.742 3.376 1.847a.356.356 0 0 1-.118.295c-.433.35-1.518.858-3.256.858Zm4.684-.535c1.583.107 3.11-.135 3.834-.593a.23.23 0 0 0 .105-.212c0-.698-1.07-1.568-2.998-1.568-.679 0-1.434.063-1.883.193.58.425.942 1.186.942 2.18ZM9 6.57c-.98 0-1.676-1.077-1.676-2.333 0-1.256.594-1.99 1.676-1.99 1.082 0 1.676.734 1.676 1.99S9.98 6.571 9 6.571Z"})}}]),n})(n(12).default)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(760),s=n(761),u=n(394),c=n(420),l=i(n(856));n(1900);var f=i(n(11)),d=function(){return f.default()("ListingTypeSelect")},p={tile:u.displayTilesIconProvider,icons:s.displayIconsIconProvider,list:a.displayListIconProvider,wow:c.displayWowIconProvider};t.default=function(e){var t=e.value,n=e.onChange,r=e.typesNames,i=e.title,a=e.values,s=o.useCallback((function(e){n(e.target.value)}),[n]);return o.default.createElement(l.default,{size:"m",view:"default",value:t,onChange:s,className:d(),menuClassName:d().e("Menu"),title:i,options:a.map((function(e){return{value:e,content:r[e],icon:p[e]}}))})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.cnSelect=void 0;var i=n(2),o=i.__importStar(n(0)),a=n(34),s=n(32),u=n(648),c=n(219),l=n(68),f=n(202);n(1896),n(1897),n(1898),t.cnSelect=a.cn("Select2");t.Select=((r=(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=o.createRef(),t.triggerRef=o.createRef(),t}return i.__extends(n,e),n.prototype.componentDidMount=function(){this.forwardRefs()},n.prototype.componentDidUpdate=function(){this.forwardRefs()},n.prototype.render=function(){var e=this,n=this.props,r=n.addonAfter,a=n.addonBefore,u=n.className,d=n.disabled,p=n.onBlur,h=n.onClick,m=n.onKeyDown,v=n.opened,g=n.size,y=n.theme,b=n.value,_=n.view,O=n.style,w=n.checkable,E=void 0===w||w,S=n.iconProps,x=n.renderTrigger,C=n.renderTriggerIcon,T=n.activeDescendant,k=!(!E||!Array.isArray(b))&&b.length>0,j=_||S&&S.glyph?void 0:"arrow",P=!_||S&&S.type?void 0:"carets-v";return o.default.createElement(s.ComponentRegistryConsumer,{id:t.cnSelect()},(function(n){var s=n.Trigger,w=n.Icon;return o.default.createElement(f.MultiRenderOverrideProvider,{components:[[s,x],[w,C]]},(function(n,s){return o.default.createElement("span",{ref:c.mergeAllRefs(e.innerRef,e.props.innerRef),className:t.cnSelect({disabled:d},[u])},a,o.default.createElement(n,{width:"max",role:"listbox","aria-haspopup":"true",disabled:d,className:t.cnSelect("Button"),innerRef:e.triggerRef,style:O,size:g,theme:y,checked:k,view:_,onClick:h,onKeyDown:m,onBlur:p,pressKeys:[l.Keys.SPACE],iconRight:function(e){return o.default.createElement(s,i.__assign({size:g,className:e,direction:v?"top":"bottom",type:j,glyph:P},S))},"aria-activedescendant":T,"aria-expanded":v,"aria-multiselectable":Array.isArray(b)},e.getButtonText()),r)}))}))},n.prototype.forwardRefs=function(){c.mergeAllRefs(this.props.triggerRef)(this.triggerRef.current)},n.prototype.getButtonText=function(){var e=this.props,t=e.value,n=e.options,r=e.showAlwaysPlaceholder,i=e.placeholder,o=[].concat(t).filter((function(e){return void 0!==e}));if(!r&&o.length>0){var a=this.getOptionsText(n,o);if(a.length>0)return a}return i},n.prototype.getOptionsText=function(e,t){return u.flatMap((function(e){return e.items?e.items:e}),e).filter((function(e){return-1!==t.indexOf(e.value)})).map((function(e){return e.checkedText||e.content})).join(", ")},n})(o.PureComponent)).displayName=t.cnSelect(),r.defaultProps={placeholder:"—",value:""},r)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(859)),a=r(n(860)),s=r(n(458));t.default=function(e){var t=e.toggleNextStep;return i.default.createElement(s.default,{imageSrc:o.default,imageSrc2x:a.default,title:"Альбом семьи в вашем тарифе",description:"Делитесь эмоциями и воспоминаниями  в семейном альбоме.",buttonText:"Продолжить",onSubmit:t})}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(1908)),s=r(n(1909)),u=r(n(458)),c=r(n(14));t.default=o.connect((function(e){return{passport:e.config.urlsBase.passport}}))((function(e){var t=e.toggleNextStep,n=e.passport;return i.default.createElement(u.default,{imageSrc:a.default,imageSrc2x:s.default,title:"В вашей семье нет участников",description:"Добавьте членов семьи в Яндекс ID и они смогут смотреть и добавлять фото и видео.",buttonText:"Добавить фото",onSubmit:t,additionalButtonLink:{text:"Управлять семьей",url:n+"/family",onClick:function(){c.default.count("family album onboarding","empty","additional click")}}})}))}),(function(e,t){e.exports="/s3/disk/_/_4Sl5NxKzwyn3IMg8dCuVTiRAJ2i.png"}),(function(e,t){e.exports="/s3/disk/_/_cMKzw856pwrenRzZvNlMqLvTsFi.png"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(130),s=r(n(1911)),u=r(n(458)),c=r(n(11));t.default=o.connect((function(e){return{support:e.config.urlsBase.support}}))((function(e){var t=e.toggleNextStep,n=e.support;return i.default.createElement(u.default,{title:"Все участники семьи смогут смотреть и добавлять фото и видео",description:i.default.createElement(a.I18N,{loc:"Для этого им нужен аккаунт на Яндексе и Диск. "+yr.externals.entityify(a.I18N.$1)},i.default.createElement("a",{className:c.default()("family-list-step").e("link"),href:n+"/disk/actions-files/spec-folders/albums.html#family-album__add_members",target:"_blank",rel:"noreferrer"},"Подробнее")),buttonText:"Добавить фото",onSubmit:t},i.default.createElement(s.default,null))}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(55),u=i(n(11));n(1912);var c=n(80),l=n(81),f=n(764),d=function(){return u.default()("scrollable-list")};t.default=a.connect((function(e){return{urlAvatar:e.config.urlAvatar,members:s.getFamilyMembers(e),isDark:c.isContentDark(l.getThemeName(e))}}))((function(e){var t=e.members,n=e.urlAvatar,r=e.isDark,i=o.useState(!1),a=i[0],s=i[1],u=o.useState(!1),c=u[0],l=u[1],p=o.useRef(null);o.useEffect((function(){p.current&&p.current.offsetHeight<p.current.scrollHeight&&l(!0)}),[p]);var h=o.useCallback((function(e){var t=e.target;t.offsetHeight+t.scrollTop>=t.scrollHeight?l(!1):0===t.scrollTop?s(!1):(l(!0),s(!0))}),[l,s]);return o.default.createElement("div",{className:d().m({isTouch:!1,dark:r,"fade-top":a,"fade-bottom":c})},o.default.createElement("div",{className:d().e("content"),onScroll:h,ref:p},o.default.createElement("div",{className:d().e("horizontal-wrapper")},o.default.createElement(f.FamilyMembersList,{members:t,urlAvatar:n}))))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepPopup=void 0;var r=n(1915);Object.defineProperty(t,"MultiStepPopup",{enumerable:!0,get:function(){return r.MultiStepPopup}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepPopup=void 0;const s=o(n(0)),u=a(n(151)),c=a(n(1916)),l=n(1922),f=a(n(1924)),d=a(n(1928)),p=a(n(1930));function h({onSkip:e,skipButtonText:t}){return e&&t?s.default.createElement("div",{className:d.default.SkipButtonWrapper},s.default.createElement(l.Button,{onClick:e,view:"link",size:"m",className:d.default.SkipButton},t)):null}t.MultiStepPopup=function(e){const{stepsTotal:t,currentStep:n,currentStepIndex:r,visible:i,className:o,onClose:a,onSkip:m,isTouch:v,skipButtonText:g,finishButtonText:y,children:b,contentVerticalAlign:_}=e,O=r===t-1,w=n.skipButtonText||(O?y:g),E=n.hasSkipButton?w:void 0,S=O?a:m,x=n.hasSkipButton?S:void 0,C=s.useCallback(e=>s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{className:u.default(e,{[d.default.isTouch]:v},d.default.whiteCloseIcon),url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc5MyAxLjc5M2ExIDEgMCAwMDAgMS40MTRMNi41ODYgOGwtNC43OTMgNC43OTNhMSAxIDAgMTAxLjQxNCAxLjQxNEw4IDkuNDE0bDQuNzkzIDQuNzkzYTEgMSAwIDAwMS40MTQtMS40MTRMOS40MTQgOGw0Ljc5My00Ljc5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEw4IDYuNTg2IDMuMjA3IDEuNzkzYTEgMSAwIDAwLTEuNDE0IDB6IiBmaWxsPSIjZmZmZmZmIiBmaWxsLW9wYWNpdHk9Ii44Ii8+PC9zdmc+Cg=="}),s.default.createElement(p.default,{className:u.default(e,{[d.default.isTouch]:v},d.default.blackCloseIcon),url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc5MyAxLjc5NmExIDEgMCAwIDAgMCAxLjQxNGw0Ljc5MyA0Ljc5My00Ljc5MyA0Ljc5M2ExIDEgMCAwIDAgMS40MTQgMS40MTRMOCA5LjQxN2w0Ljc5MyA0Ljc5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMOS40MTQgOC4wMDNsNC43OTMtNC43OTNhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDggNi41ODkgMy4yMDcgMS43OTZhMSAxIDAgMCAwLTEuNDE0IDB6IiBmaWxsPSIjMDAwIi8+PC9zdmc+"})),[v]);return s.default.createElement(c.default,{visible:i,className:u.default(d.default.Dialog,o,{[d.default.isTouch]:v}),trapFocus:!0,contentVerticalAlign:_},s.default.createElement(f.default,{total:t,current:r,isTouch:v}),b,s.default.createElement(h,{onSkip:x,skipButtonText:E}),n.hasCloseButton&&s.default.createElement(l.Button,{className:d.default.Close,onClick:a,size:"m",view:"clear",icon:C}))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1917);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(151)),a=r(n(1918)),s=r(n(1920));t.default=(({className:e,visible:t,onClose:n,keepMounted:r=!1,children:u,trapFocus:c,contentVerticalAlign:l})=>i.default.createElement(a.default,{theme:"normal",visible:t,onClose:n,className:o.default(s.default.Container,e),keepMounted:r,trapFocus:Boolean(c),contentVerticalAlign:l},u))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1919);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(801),o=n(540),a=n(406),s=r.compose(i.withThemeNormal,o.withOutsideClick,a.withZIndex)(i.Modal);t.default=s}),(function(e,t,n){"use strict";n.r(t);n(1921);t.default={Container:"Dialog_Container_CDNCE",CloseButton:"Dialog_CloseButton_L8oSL",Icon:"Dialog_Icon_-dDVW"}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(1923);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.Button}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const r=n(5),i=n(573);t.Button=r.compose(r.composeU(i.withSizeM,i.withSizeXXL),r.composeU(i.withViewClear,i.withViewLink,i.withViewBrand))(i.Button)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1925);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(0)),u=a(n(151)),c=a(n(1926));t.default=s.memo(({total:e,current:t,isTouch:n})=>{const r=s.useMemo(()=>[...new Array(e)],[e]);return s.default.createElement("div",{className:u.default(c.default.Carousel,{[c.default.isTouch]:n})},r.map((e,n)=>s.default.createElement("span",{key:`step-${n}`,className:u.default(c.default.CarouselElement,{[c.default.Selected]:n===t})})))})}),(function(e,t,n){"use strict";n.r(t);n(1927);t.default={Carousel:"Carousel_Carousel_36jKj",CarouselElement:"Carousel_CarouselElement_ZhGCZ",Selected:"Carousel_Selected_r7i-c",isTouch:"Carousel_isTouch_d6Uot",SkipButtonWrapper:"Carousel_SkipButtonWrapper_e1gYy"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(1929);t.default={Dialog:"MultiStepPopup_Dialog_TFcLH",Close:"MultiStepPopup_Close_Z8cFK",SkipButtonWrapper:"MultiStepPopup_SkipButtonWrapper_JOqh1",whiteCloseIcon:"MultiStepPopup_whiteCloseIcon_OMXwp",blackCloseIcon:"MultiStepPopup_blackCloseIcon_Zru3I",isTouch:"MultiStepPopup_isTouch_H09jD"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1931);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(5),a=n(338),s=o.compose(a.withGlyphTypeCrossWebsearch)(a.Icon);t.default=(({url:e,className:t,glyph:n})=>i.default.createElement(s,{className:t,url:e,glyph:n}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMultiStepState=void 0;const r=n(0);function i(e,t){if(t<0)return 0;const n=e.length-1;return t>n?n:t}t.useMultiStepState=function(e,t=0){const[n,o]=r.useState(i(e,t)),a=r.useCallback(t=>{o(i(e,t))},[e]),s=r.useCallback(()=>{a(n+1)},[a,n]),u=r.useCallback(()=>{a(n-1)},[a,n]),c=r.useCallback(t=>{const n=e.findIndex(({id:e})=>e===t);i(e,n)===n&&a(n)},[a,e]),l=e[i(e,n)],f=i(e,n+1)===n;return{currentStepIndex:n,currentStep:l,toggleNextStep:s,togglePreviousStep:u,toggleStepByIndex:a,toggleStepById:c,isLastStep:f}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(11)),a=i(n(0)),s=r(n(1936)),u=n(158),c=function(){return o.default()("journal")};t.default=function(e){var t=e.locale,n=e.rootPath,r=e.diskPath,i=e.trashPath,o=e.countMetrika,l=e.fetchGroup,f=e.onSetVideoAutoplay,d=e.isPersonal,p=e.cluster,h=a.useMemo((function(){return u.getClusterTitle(new Date(p.date))}),[p]);return a.default.createElement("div",{className:c().e("cluster")},a.default.createElement("div",{className:c().e("cluster-title")},h),p.groups.map((function(e){return a.default.createElement(s.default,{key:e.group.id,group:e,locale:t,rootPath:n,diskPath:r,trashPath:i,countMetrika:o,fetchGroup:l,onSetVideoAutoplay:f,isPersonal:d})})))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(9)),s=i(n(11)),u=o(n(0)),c=i(n(46)),l=i(n(22)),f=i(n(107)),d=i(n(199)),p=i(n(717)),h=n(497),m=n(130),v=n(59),g=n(26),y=i(n(94)),b=i(n(551)),_=n(203),O=n(217),w=n(158),E=function(){return s.default()("journal")},S=["click","root"],x=["click","trash"],C=["folder"],T=["file"],k=["more click"],j=function(e){var t=e.user,n=e.display,r=void 0===n?"—":n;return t?u.default.createElement("span",{className:E().e("user")},a.default.has(t,"first_name")?[t.first_name,t.last_name].filter(Boolean).join(" "):t.login):u.default.createElement("span",null,r)},P=function(e){var t=e.event,n=e.children;return u.default.createElement(m.I18N,{loc:w.getTypedResourceName(t)},n)},R=function(e){var t=e.event,n=e.action,r=e.rootPath,i=e.countMetrika,o=t.path,a=u.useMemo((function(){return w.getEventResourceName(t)}),[t]),s=u.useMemo((function(){return n===O.NavigationType.goToParent?o.startsWith("/attach/")?"Почтовые вложения":o.startsWith("/photounlim/")?"Все фото":l.default.parentname(o):a}),[n,o,a]),f=u.useMemo((function(){return w.getResourceType(t)===O.ResourceType.folder||n===O.NavigationType.goToParent?C:T.concat(l.default.extname(a))}),[t,a,n]),d=u.useMemo((function(){return w.getEventResourceUrl(t,r,n)}),[t,r,n]),p=u.useCallback((function(){i.apply(void 0,f),c.default.go(d)}),[f,d,i]);return t.event_type!==O.JournalEventType.dropTrash&&t.event_type!==O.JournalEventType.appendTrash&&t.resource?u.default.createElement(v.Link,{title:s,view:"default",className:E().e("link"),onClick:p},s):u.default.createElement("span",null,s)},A=function(e,t,n,r){return"/disk"===l.default.dirname(e.path)?u.default.createElement(v.Link,{view:"default",className:E().e("link"),onClick:function(){r.apply(void 0,S),c.default.go("/client"+n)}}):u.default.createElement(R,{action:O.NavigationType.goToParent,event:e,rootPath:t,countMetrika:r})},I=function(e){var t=e.event,n=e.count,r=e.rootPath,i=e.countMetrika;return n>1?u.default.createElement("span",null,w.getTypedResourcesNames(t,n)):u.default.createElement(P,{event:t},u.default.createElement(R,{countMetrika:i,rootPath:r,action:O.NavigationType.setSelected,event:t}))},D=function(e){var t=e.event;return u.default.createElement(P,{event:t},l.default.basename(t.from))},M=function(e){var t=e.event,n=void 0===t?{}:t,r=n.album,i=n.album_title,o=u.useMemo((function(){return i||(null===r||void 0===r?void 0:r.title)||"Люди на фото"}),[i,r]),a=u.useMemo((function(){return Boolean(r)&&!(i||(null===r||void 0===r?void 0:r.title))}),[i,r]),s=u.useCallback((function(){return c.default.go("/client/albums/"+(r&&r.album_id?r.album_id:"faces"))}),[r]);return a?u.default.createElement(v.Link,{view:"default",onClick:s},o):u.default.createElement("span",null,o)},N=function(e){var t=e.event;return u.default.createElement("span",null,w.getPaymentAmount(t))},L=function(e){var t=e.event;return u.default.createElement("span",null,w.getPaymentReason(t))},F=function(e){var t=e.className,n=e.group,r=e.locale,i=e.trashPath,o=e.diskPath,a=e.rootPath,s=e.countMetrika,l=e.toggleUsersListingVisibility,h=n.events[0],g=n.group,y=g.type,b=g.user,_=g.owner,S=g.itemsCount,C=g.isCurrentUserOwner,T=u.useMemo((function(){return w.getGroupDescription(n)}),[n]);switch(y){case O.JournalEventType.mkdir:case O.JournalEventType.copy:case O.JournalEventType.move:case O.JournalEventType.store:case O.JournalEventType.storeUpdate:case O.JournalEventType.storeDownload:case O.JournalEventType.setPrivate:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(I,{countMetrika:s,rootPath:a,event:h,count:S}),A(h,a,o,s),u.default.createElement(j,{user:b}));case O.JournalEventType.setPublic:return u.default.createElement(m.I18N,{loc:T,className:t},h.resource_public_url?u.default.createElement(v.Link,{view:"default",href:h.resource_public_url,"data-external":"1"}):u.default.createElement("span",null),u.default.createElement(I,{countMetrika:s,rootPath:a,event:h,count:S}),A(h,a,o,s),u.default.createElement(j,{user:b}));case O.JournalEventType.photostreamStore:case O.JournalEventType.photounlimStore:return u.default.createElement(m.I18N,{loc:T,className:t},A(h,a,o,s),u.default.createElement(j,{user:b}));case O.JournalEventType.aviary:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(R,{countMetrika:s,rootPath:a,action:O.NavigationType.setSelected,event:h}),A(h,a,o,s),u.default.createElement(j,{user:b}));case O.JournalEventType.rm:case O.JournalEventType.appendTrash:case O.JournalEventType.dropTrash:case O.JournalEventType.dropAllTrash:case O.JournalEventType.restoreTrash:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(I,{countMetrika:s,rootPath:a,event:h,count:S}),u.default.createElement(v.Link,{view:"default",className:E().e("link"),onClick:function(){s.apply(void 0,x),c.default.go("/client"+i)}}),u.default.createElement(j,{user:b}));case O.JournalEventType.rename:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(D,{event:h}),u.default.createElement(R,{countMetrika:s,rootPath:a,action:O.NavigationType.setSelected,event:h}),u.default.createElement(j,{user:b}));case O.JournalEventType.importSocial:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(I,{countMetrika:s,rootPath:a,event:h,count:S}),u.default.createElement("span",null,p.default.getTitleSocial(h.provider_id)),u.default.createElement(R,{countMetrika:s,rootPath:a,action:O.NavigationType.goToParent,event:h}),u.default.createElement(j,{user:b}));case O.JournalEventType.promoEnlarge:case O.JournalEventType.promoReduce:return u.default.createElement(m.I18N,{loc:T,className:t},f.default.format(Math.abs(h.new_limit-h.old_limit)),d.default.timestampToDate(Date.parse(h.service_end_date)/1e3,"DD.MM.YYYY"),h.product_names[r]);case O.JournalEventType.createAlbum:case O.JournalEventType.removeAlbum:case O.JournalEventType.createAlbumItem:case O.JournalEventType.appendAlbumItems:case O.JournalEventType.removeAlbumItems:case O.JournalEventType.changeAlbumPulicity:case O.JournalEventType.changeAlbumCover:case O.JournalEventType.changeAlbumTitle:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(M,{event:h}));case O.JournalEventType.sentInvite:case O.JournalEventType.activateInvite:return T?u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(j,{user:b||_,display:h.provider_login})):u.default.createElement("span",null);case O.JournalEventType.buy:case O.JournalEventType.prolong:case O.JournalEventType.prolongError:case O.JournalEventType.subscribe:case O.JournalEventType.unsubscribe:return T?u.default.createElement(m.I18N,{loc:T},u.default.createElement(N,{event:h}),u.default.createElement(L,{event:h})):u.default.createElement("span",null);case O.JournalEventType.inviteUser:case O.JournalEventType.changeRights:case O.JournalEventType.kickFromGroup:case O.JournalEventType.activateShare:case O.JournalEventType.rejectInvite:case O.JournalEventType.removeInvite:case O.JournalEventType.changeInviteRights:case O.JournalEventType.leaveGroup:case O.JournalEventType.unshareFolderUser:return T?u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(j,{user:C?b:_,display:h.provider_login}),u.default.createElement(R,{countMetrika:s,rootPath:a,action:O.NavigationType.setSelected,event:h}),y===O.JournalEventType.unshareFolderUser?u.default.createElement(v.Link,{view:"default",className:E().e("link"),onClick:l}):void 0):u.default.createElement("span",null);case O.JournalEventType.addComment:case O.JournalEventType.likeComment:case O.JournalEventType.dislikeComment:return u.default.createElement(m.I18N,{loc:T,className:t},u.default.createElement(v.Link,{view:"default",className:E().e("link"),href:h.resource_public_url}));default:return u.default.createElement("span",{className:t})}},B=function(e){var t=e.event;return u.default.createElement("div",{className:E().e("listing-item")},u.default.createElement("div",{className:E().e("listing-item-title")},w.getGroupTitle(t.event_date)),u.default.createElement(j,{user:t.user}))},U=function(e){var t=e.event,n=e.rootPath,r=e.countMetrika;return u.default.createElement("div",{className:E().e("listing-item")},u.default.createElement("div",{className:E().e("listing-item-title")},w.getGroupTitle(t.event_date)),u.default.createElement(R,{countMetrika:r,rootPath:n,action:O.NavigationType.setSelected,event:t}))},z=function(e){var t,n=e.event,r=e.isStub,i=e.rootPath,o=e.children,a=e.resourceType,s=e.countMetrika,f=e.onSetVideoAutoplay,d=r||n.event_type===O.JournalEventType.appendTrash?O.NavigationType.setSelected:O.NavigationType.openSlider,p=w.getEventResourceUrl(n,i,d),m=w.getEventResourceName(n),g=w.getGroupTitle(n.event_date),y=u.useCallback((function(){var e;a===O.ResourceType.video&&(null===(e=n.resource)||void 0===e?void 0:e.path)&&f(l.default.normalize(n.resource.path)),s("thumbnail",a),c.default.go(p)}),[a,p,s,f,n]),b=h.classnames(E().e("listing-item-preview").m(((t={stub:r})[a]=!0,t)),E().e("link"));return u.default.createElement(v.Link,{className:b,view:"default",onClick:y,title:g+" "+m},o)},V=function(e){var t,n,r=e.event,i=w.getResourceType(r);return i===O.ResourceType.photo?(null===(t=r.resource)||void 0===t?void 0:t.preview)?u.default.createElement("span",{className:E().e("listing-item-poster"),style:{backgroundImage:"url("+r.resource.preview+")"}}):u.default.createElement(y.default,{type:"file",mediatype:"image",size:"m"}):i===O.ResourceType.video?u.default.createElement(u.default.Fragment,null,(null===(n=r.resource)||void 0===n?void 0:n.preview)?u.default.createElement("span",{className:E().e("listing-item-poster"),style:{backgroundImage:"url("+r.resource.preview+")"}}):null,u.default.createElement(b.default,{className:E().e("play-icon"),size:"xl",iconSize:"xl"})):null},H=function(e){var t,n=e.event,r=e.rootPath,i=e.countMetrika,o=e.onSetVideoAutoplay,a=w.getEventResourceName(n),s=w.getResourceType(n);return!n.resource||s!==O.ResourceType.photo&&s!==O.ResourceType.video?u.default.createElement("span",{className:E().e("listing-stub"),title:a?"Файл «"+yr.externals.entityify(a)+"» был перемещен или удален.":void 0}):u.default.createElement(z,{onSetVideoAutoplay:o,event:n,countMetrika:i,rootPath:r,resourceType:s,isStub:!(null===(t=n.resource)||void 0===t?void 0:t.preview)},u.default.createElement(V,{event:n}))};var W=function(e){var t=e.countMetrika,n=e.fetchGroup,i=e.isUsersListingCollapsed,o=e.group,a=o.events,s=o.fetching,c=o.group,l=c.id,f=c.itemsCount,d=w.getListingType(e.group),p=u.useState(d===O.ListingType.names&&a.length>_.contractListingAtLength),h=p[0],m=p[1],v=u.useMemo((function(){return h?a.slice(0,_.contractedListingSize):a}),[a,h]),y=u.useMemo((function(){return f-a.length<_.eventsSize?"Показать все":h?"Показать ещё":"Ещё "+yr.externals.entityify(_.eventsSize)}),[a,f,h]),b=u.useCallback((function(){return n(l)}),[l,n]),S=u.useCallback((function(){h?(t.apply(void 0,k.concat("collapse")),m(!1)):(t.apply(void 0,k.concat("fetch")),b())}),[h,m,b,t]);if(d){var x=(function(e){switch(e){case O.ListingType.images:return H;case O.ListingType.users:return B;default:return U}})(d);return d===O.ListingType.users&&i?null:u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:E().e("listing").m({media:d===O.ListingType.images})},v.map((function(t){return u.default.createElement(x,r({key:t.id,event:t},e))}))),h||a.length<f?u.default.createElement(g.Button,{size:"xxs",view:"raised",disabled:s,onClick:S,className:E().e("more-button")},y):null)}return null},G=function(e){var t=e.group;return u.default.createElement("span",{className:E().e("group-platform")},w.getPlatformName(t))};t.default=function(e){var t=e.group,n=e.isPersonal,i=u.useMemo((function(){return w.getGroupTitle(t.group.max_date)}),[t]),o=u.useState(!0),a=o[0],s=o[1],c=u.useCallback((function(){s(!a)}),[a,s]);return u.default.createElement("div",{className:E().e("group-wrapper")},u.default.createElement("div",{className:E().e("group")},u.default.createElement("div",{className:E().e("group-title")},i),u.default.createElement(F,r({},e,{className:E().e("group-description"),toggleUsersListingVisibility:c})),n?u.default.createElement(G,r({},e)):null),u.default.createElement(W,r({},e,{isUsersListingCollapsed:a})))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(130),a=n(19),s=r(n(11)),u=r(n(847)),c=r(n(848)),l=r(n(849)),f=n(25);n(850);var d=function(){return s.default()("listing-search-stub")};t.default=a.connect((function(e){var t=e.page.search,n=e.resources,r=f.getCurrentVirtualDisk(t.scope);return{search:t,vdResource:r?n[r]:{}}}))((function(e){var t=e.search,n=e.vdResource,r=f.getCurrentVirtualDiskRoot(t.scope),a=r||"";return i.default.createElement("div",{className:d()},i.default.createElement("div",{className:d().e("caption")},i.default.createElement(o.I18N,{loc:"В Истории не найдено записей по запросу «"+yr.externals.entityify(o.I18N.$1)+"»"},i.default.createElement("span",{className:d().e("query")},t.query))),i.default.createElement("div",{className:d().e("items")},i.default.createElement("a",{className:d().e("item").m({disk:!0}),href:"/client"+a+"/search?querySearch="+t.query+"&scopeSearch="+encodeURIComponent(a+"/disk")},i.default.createElement("div",{className:d().e("item-icon-wrapper")},i.default.createElement(u.default,{className:d().e("item-icon")}),i.default.createElement(c.default,{className:d().e("item-glass-icon")})),i.default.createElement("div",{className:d().e("item-info")},r?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:d().e("item-caption")},"Поискать в общем диске"),i.default.createElement("div",{className:d().e("item-message")},i.default.createElement(o.I18N,{loc:"Все папки и файлы в "+yr.externals.entityify(o.I18N.$1)},n.name))):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:d().e("item-caption")},"Поискать в Диске"),i.default.createElement("div",{className:d().e("item-message")},"Все папки и файлы в вашем Диске")))),i.default.createElement("a",{className:d().e("item").m({trash:!0}),href:"/client"+a+"/search?querySearch="+t.query+"&scopeSearch="+encodeURIComponent(a+"/trash")},i.default.createElement("div",{className:d().e("item-icon-wrapper")},i.default.createElement(l.default,{className:d().e("item-icon")}),i.default.createElement(c.default,{className:d().e("item-glass-icon")})),i.default.createElement("div",{className:d().e("item-info")},i.default.createElement("div",{className:d().e("item-caption")},"Поискать в Корзине"),i.default.createElement("div",{className:d().e("item-message")},"Файл или папка могут оказаться тут случайно")))))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(506),o=n(862),a=r(n(14));t.default=function(e,t){i.isPersonalJournal(e.getState())||a.default.count("navigation","direct link","vd journal"),(null===t||void 0===t?void 0:t.vdInfo)&&(0,e.dispatch)(o.updateVirtualDiskInfo(t.vdInfo))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(82),c=n(15),l=n(27),f=n(36),d=n(69),p=o(n(766)),h=o(n(1973)),m=o(n(14)),v=o(n(770)),g=o(n(771)),y=n(245),b=o(n(11)),_=function(){return b.default()("Docs")},O={maybeFetchDocs:u.maybeFetchDocs,fetchNextDocs:u.fetchNextDocs,openOrEditResource:c.openOrEditResource,openEditor:l.openEditor,maybeBlockAction:l.maybeBlockAction},w=s.connect((function(e){var t=e.page.originalNSParams,n=t.from,r=t.create;return{resources:f.docsListResources(e),isOpenedFromEditor:"editor"===n,isLoading:f.docsListIsLoading(e),isComplete:f.docsListIsComplete(e),isEmpty:f.docsListIsEmpty(e),listingType:f.listingType(e),type:f.currentDocsType(e),filter:f.getFilterType(e),openCreateDialog:Boolean(r),isPortionsSupported:f.isPortionsSupported(e)}}),O);t.default=g.default(w((function(e){var t=e.maybeFetchDocs,n=e.fetchNextDocs,i=e.openOrEditResource,o=e.resources,s=e.resourcesByIds,u=e.isLoading,c=e.isComplete,l=e.isEmpty,f=e.type,g=e.filter,b=e.isOpenedFromEditor,O=e.openCreateDialog,w=e.openEditor,E=e.listingProps,S=e.maybeBlockAction,x=e.isPortionsSupported;a.useEffect((function(){t()}),[t,f,b]);var C=b?"from editor":"other";a.useEffect((function(){m.default.countDocs("open docs",C)}),[C]),a.useEffect((function(){O&&w(f,"/disk")}),[O,w,f]);var T=a.useCallback((function(e){if(!S()){i(e);var t=s[e];m.default.countDocs("open doc",t.isVicariousDoc?"vicarious":f)}}),[s,i,f,S]);return u&&(0===o.length&&x||!x)?a.default.createElement("div",{className:_().e("Spin-Wrap")},a.default.createElement(d.Spin,{view:"default",progress:!0,size:"m"})):l?a.default.createElement(h.default,null):a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,null),g!==y.FilterType.ALL&&0===o.length?a.default.createElement("div",{className:_().e("Empty-Filter")},g===y.FilterType.MY?"Пока нет ни одного вашего документа.":"С вами ещё не поделились документами."):null,a.default.createElement(v.default,r({},E,{onResourceOpen:T,resourcesByIds:s,resources:o,requestFetchNext:n,completed:c,loading:u})))})),"docs")}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(36),s=n(82),u=r(n(570)),c={setListingType:s.setListingType},l=o.connect((function(e){return{type:a.currentDocsType(e),listingType:a.listingType(e)}}),c);t.default=l((function(e){var t=e.listingType,n=e.setListingType;return i.default.createElement(u.default,{values:["tile","icons","list"],value:t,onChange:n})}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(1946)),u=n(26),c=n(394),l=n(761),f=n(760),d=n(157),p=n(36),h=n(134),m=n(82),v=i(n(767)),g=n(768),y=i(n(11)),b=function(){return y.default()("Docs-Touch-Listing-Settings")},_={setListingType:m.setListingType,setFilterType:m.setFilterType},O=a.connect((function(e){return{type:p.currentDocsType(e),listingType:p.listingType(e),filterType:p.getFilterType(e),isScansPage:h.isScansPage(e)}}),_);t.default=O((function(e){var t=e.setListingType,n=e.setFilterType,r=e.filterType,i=e.isScansPage,a=o.useState(!1),p=a[0],h=a[1],m=o.useCallback((function(){h(!p)}),[p,h]),y=o.useCallback((function(){h(!1)}),[h]),_=o.useCallback((function(e){t(e),h(!1)}),[h,t]),O=o.useCallback((function(e){n(e),h(!1)}),[h,n]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Button,{className:b().e("Button"),view:"clear",size:"s","aria-label":"Ещё",onClick:m,icon:d.moreIconProvider}),o.default.createElement(v.default,{render:function(e){var t=e.sortMap,n=e.sortOrderMap,a=e.sortOrgerList,u=e.setSortBy,d=e.setSortOrder,m=e.activeSortingType;return o.default.createElement(s.default,{cls:b(),visible:p,onClose:y,items:(function(){var e={name:"Вид",type:"menu",items:[{text:"Список",icon:f.displayListIconProvider,onClick:function(){return _("list")},cls:b().e("Type").m({list:!0})},{text:"Плитка",icon:l.displayIconsIconProvider,onClick:function(){return _("icons")},cls:b().e("Type").m({icons:!0})},{text:"Крупная плитка",icon:c.displayTilesIconProvider,onClick:function(){return _("tile")},cls:b().e("Type").m({tile:!0})}]},o={name:"Сортировать по",type:"radiobox",value:m.sort,onChange:function(e){u(e.target.value),h(!1)},items:Object.entries(t).map((function(e){var t=e[0];return{text:e[1],value:t}}))},s={name:null,type:"radiobox",value:m.order,onChange:function(e){d(e.target.value),h(!1)},items:a.map((function(e){return{text:n[e],value:e}}))};return i?[e,o,s]:[{name:"Показать",type:"radiobox",value:r,onChange:function(e){O(e.target.value)},items:Object.entries(g.FILTER_MAP).map((function(e){var t=e[0];return{text:e[1],value:t}}))},e,o,s]})()})}}))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(126),y=n(57),b=n(533),_=n(534),O=n(11),w=n.n(O);n(1947);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(){return w()()("menu-pane")},x=(function(e){l()(n,e);var t=E(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onMenuItemClick=r._onMenuItemClick.bind(u()(r)),r}return a()(n,[{key:"_onMenuItemClick",value:function(e){var t=e.target.value;t.onClick&&t.onClick()}},{key:"_getMenu",value:function(e){return v.a.createElement(y.Menu,{size:"m",view:"default",width:"max",paddingless:!0,wide:!0,onChange:this._onMenuItemClick},e.map((function(e,t){return v.a.createElement(y.Item,{key:t,className:e.cls,value:e,icon:e.icon},e.text)})))}},{key:"_getRadioBox",value:function(e,t){var n=e.onChange;return v.a.createElement(b.Radiobox,{key:t,value:e.value,view:"default",size:"m",onChange:n,className:S().e("radiobox")},e.items.map((function(e,t){return v.a.createElement(_.ListTileRadio,{key:t,value:e.value,onClick:null===n||void 0===n?void 0:n.bind(null,{target:{value:e.value}}),leftSpace:"xl",rightSpace:"xl",leadingRadio:!0},e.text)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.visible,i=t.items,o=t.onClose;return v.a.createElement(g.Drawer,{className:S().mix(n),view:"default",visible:r,onClose:o},v.a.createElement("div",{className:S().e("content")},i.map((function(t,n){return"menu"===t.type||"radiobox"===t.type?v.a.createElement("div",{key:n,className:S().e("group")},t.name&&v.a.createElement("div",{className:S().e("group-name")},t.name),"radiobox"===t.type?e._getRadioBox(t,n):e._getMenu(t.items)):t.content}))))}}]),n})(m.Component);x.defaultProps={onClose:function(){}},t.default=x}),(function(e,t,n){}),(function(e,t,n){"use strict";var r,i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(26),c=n(72),l=n(57),f=n(157),d=n(36),p=n(245),h=n(82);n(1949);var m=o(n(11)),v=function(){return m.default()("Docs-Header-Filter-Button")};t.FILTER_MAP=((r={})[p.FilterType.ALL]="Все файлы",r[p.FilterType.MY]="Только мои",r[p.FilterType.OTHER]="Со мной поделились",r);var g={setFilterType:h.setFilterType},y=s.connect((function(e){return{filterType:d.getFilterType(e)}}),g);t.default=y((function(e){var n=e.setFilterType,r=e.filterType,i=a.useRef(null),o=a.useState(!1),s=o[0],d=o[1],p=a.useCallback((function(){d(!s)}),[s,d]),h=a.useCallback((function(){d(!1)}),[d]),m=a.useCallback((function(e){n(e.target.value),d(!1)}),[d,n]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Button,{className:v(),view:"clear",size:"m","aria-label":"Ещё",onClick:p,icon:f.moreIconProvider,innerRef:i}),a.default.createElement(c.Popup,{className:v().e("Popup"),view:"default",target:"anchor",anchor:i,visible:s,direction:"bottom-end",onClose:h},a.default.createElement("div",{className:v().e("Filter-Title")},"Показать"),a.default.createElement(l.Menu,{view:"default",size:"m",value:r,onChange:m,rightGlyph:!0,wide:!0},Object.entries(t.FILTER_MAP).map((function(e){var t,n=e[0],r=e[1];return a.default.createElement(l.Item,{key:n,value:n,className:v().e("Type").m((t={},t[n.toLowerCase()]=!0,t))},r)})))))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(700);var r=n(539);n.d(t,"cnModal",(function(){return r.cnModal})),n.d(t,"Modal",(function(){return r.Modal})),n.d(t,"withThemeNormal",(function(){return r.withThemeNormal}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"diskIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.232198 11.6427C-0.253337 10.6344 0.404654 9.05445 1.87142 7.51635C1.87377 7.51368 1.87627 7.51104 1.87891 7.50844L1.87997 7.5074C1.90219 7.48415 1.9246 7.46091 1.94718 7.43768C2.27426 7.08154 2.52407 6.56039 2.77448 6.03798C2.86598 5.84709 2.95756 5.65604 3.05302 5.47281C3.55246 4.51404 4.40326 3.62458 5.54902 3.08823C6.87392 2.4674 8.32067 2.44628 9.48935 2.81515C9.58064 2.84392 9.66929 2.87334 9.75682 2.90238L9.75698 2.90244L9.757 2.90244C10.1802 3.04287 10.5772 3.17461 11.1206 3.18338C13.2674 3.0394 14.9787 3.49564 15.5327 4.2663C15.6502 4.36888 15.7416 4.48545 15.8045 4.61599C16.497 6.05452 13.949 9.57228 9.67936 11.5721C5.41002 13.5721 1.0356 13.297 0.343025 11.8585C0.325247 11.8216 0.309743 11.7836 0.296483 11.7447C0.271259 11.7132 0.249785 11.6793 0.232198 11.6427ZM9.52512 11.2428L9.52509 11.2428C7.43642 12.2213 5.32786 12.6398 3.66961 12.6411C2.83947 12.6418 2.13679 12.538 1.61155 12.3579C1.07544 12.1741 0.78206 11.9321 0.670667 11.7008C0.563311 11.4778 0.565844 11.143 0.772947 10.6769C0.977704 10.2161 1.36078 9.68051 1.91227 9.11019C3.01297 7.97192 4.73165 6.74956 6.83463 5.76443C8.93753 4.77935 11.0032 4.22902 12.6132 4.09854C13.4198 4.03316 14.0935 4.07474 14.5939 4.20735C15.1016 4.34191 15.3701 4.55209 15.4768 4.77374C15.5876 5.00393 15.5926 5.37856 15.3989 5.90248C15.2091 6.41621 14.8474 7.01797 14.3227 7.65164C13.2746 8.91733 11.614 10.2644 9.52512 11.2428ZM12.4521 7.30603C12.7796 7.98665 11.4082 9.30507 9.38877 10.251C7.36929 11.197 5.46653 11.4121 5.139 10.7318C4.81146 10.0514 6.18282 8.73302 8.2023 7.78705C10.2218 6.84107 12.1245 6.6257 12.4521 7.30603Z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(12));n(306);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({docx:!0})})},t})(s.default);t.default=c,t.docxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(12));n(306);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({xlsx:!0})})},t})(s.default);t.default=c,t.xlsxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(12));n(306);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({pptx:!0})})},t})(s.default);t.default=c,t.pptxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(12));n(306);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({open:!0})})},t})(s.default);t.default=c,t.openIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(12));n(306);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({upload:!0})})},t})(s.default);t.default=c,t.uploadIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(323)),u=n(27),c=n(82),l=n(146),f=n(226);n(1964);var d=i(n(11)),p={upload:u.upload,watchUploadStates:c.watchUploadStates,maybeBlockAction:u.maybeBlockAction},h=a.connect((function(e,t){return{transparentAbsolute:t.transparentAbsolute,restrict:l.shouldRestrict(e,{forLite:!0})}}),p);t.default=h((function(e){var t=e.upload,n=e.transparentAbsolute,r=e.maybeBlockAction,i=e.restrict,a=o.useCallback((function(e,n){t(e).then(n,n)}),[t]),u=o.useCallback((function(){r({forLite:!0})}),[r]);return o.default.createElement(s.default,{accept:f.getAllAcceptedExts().map((function(e){return"."+e})),cls:d.default()("Docs-Upload-Button").e("Button").m({"Transparent-Absolute":n}),onChange:a,onClick:u,theme:"raised",withoutInput:i})}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(72),a=n(57),s=r(n(767));n(1967);var u=r(n(11)),c=function(){return u.default()("Change-Sort-Type")};t.default=function(e){var t=e.onSortPopupClose,n=e.titleRef,r=e.popupVisible;return i.default.createElement(s.default,{render:function(e){var s=e.sortMap,u=e.sortOrderMap,l=e.setSortOrder,f=e.sortOrgerList,d=e.setSortBy,p=e.activeSortingType;return i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Popup,{className:c().e("Popup"),view:"default",target:"anchor",anchor:n,visible:r,direction:"bottom-end",onClose:t},i.default.createElement(a.Menu,{className:c().e("Menu"),view:"default",size:"m",width:"max",value:p.sort,onChange:function(e){d(e.target.value),t()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,Object.entries(s).map((function(e){var t,n=e[0],r=e[1];return i.default.createElement(a.Item,{key:n,value:n,className:c().e("Sort-Type").m((t={},t[n.toLowerCase()]=!0,t))},r)})))),i.default.createElement(a.Menu,{view:"default",className:c().e("Menu"),size:"m",width:"max",value:p.order,onChange:function(e){l(e.target.value),t()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,f.map((function(e){var t;return i.default.createElement(a.Item,{key:e,value:e,className:c().e("Sort-Order").m((t={},t[e]=!0,t))},u[e])}))))))}})}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M8 1L12 7H4L8 1ZM8 15L12 9H4L8 15Z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(p.default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"documentIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V12C2 13.1046 2.89543 14 4 14H12C13.1046 14 14 13.1046 14 12V4C14 2.89543 13.1046 2 12 2H4ZM4 5.33333C4 4.96514 4.29848 4.66667 4.66667 4.66667H11.3333C11.7015 4.66667 12 4.96514 12 5.33333C12 5.70152 11.7015 6 11.3333 6H4.66667C4.29848 6 4 5.70152 4 5.33333ZM4.66667 7.33333C4.29848 7.33333 4 7.63181 4 8C4 8.36819 4.29848 8.66667 4.66667 8.66667H9.33333C9.70152 8.66667 10 8.36819 10 8C10 7.63181 9.70152 7.33333 9.33333 7.33333H4.66667ZM4.66667 10C4.29848 10 4 10.2985 4 10.6667C4 11.0349 4.29848 11.3333 4.66667 11.3333H10C10.3682 11.3333 10.6667 11.0349 10.6667 10.6667C10.6667 10.2985 10.3682 10 10 10H4.66667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"presentationIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.543 5.70346C13.8445 6.43141 13.9997 7.21163 13.9997 7.99956H7.99968L7.99968 2C4.68612 2.00017 2 4.6864 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 6.461 13.4206 5.05733 12.468 3.99525C12.9196 4.49927 13.2833 5.07671 13.543 5.70346ZM11.8725 3.41682C10.9631 2.64767 9.82168 2.14429 8.56815 2.02655C9.16114 2.08299 9.7435 2.22752 10.2958 2.45628C10.8687 2.69358 11.4004 3.01786 11.8725 3.41682Z"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"5.25",stroke:"currentColor",strokeWidth:"1.5"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"tableIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V6.83333C2 7.10948 2.22386 7.33333 2.5 7.33333H6.83333C7.10948 7.33333 7.33333 7.10948 7.33333 6.83333V2.5C7.33333 2.22386 7.10948 2 6.83333 2H4ZM9.16667 2C8.89052 2 8.66667 2.22386 8.66667 2.5V6.83333C8.66667 7.10948 8.89053 7.33333 9.16667 7.33333H13.5C13.7761 7.33333 14 7.10948 14 6.83333V4C14 2.89543 13.1046 2 12 2H9.16667ZM2 9.16667C2 8.89053 2.22386 8.66667 2.5 8.66667H6.83333C7.10948 8.66667 7.33333 8.89052 7.33333 9.16667V13.5C7.33333 13.7761 7.10948 14 6.83333 14H4C2.89543 14 2 13.1046 2 12V9.16667ZM10.1667 12.5V10.1667H12.5V12C12.5 12.2761 12.2761 12.5 12 12.5H10.1667ZM8.66667 9.16667C8.66667 8.89053 8.89052 8.66667 9.16667 8.66667H13.5C13.7761 8.66667 14 8.89052 14 9.16667V12C14 13.1046 13.1046 14 12 14H9.16667C8.89053 14 8.66667 13.7761 8.66667 13.5V9.16667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(36),u=n(27),c=i(n(14)),l=i(n(536)),f=i(n(535));n(1974);var d=i(n(11)),p=function(){return d.default()("Docs-Stub")},h={openEditor:u.openEditor},m={docx:"Документ",xlsx:"Таблица",pptx:"Презентация"},v=a.connect((function(e){var t=e.user.isOfficeAllowed;return{type:s.currentDocsType(e),isOfficeAllowed:t}}),h);t.default=v((function(e){var t,n=e.openEditor,r=e.isOfficeAllowed;t=r?"Создайте, откройте из вашего Диска или загрузите с компьютера":"Откройте из вашего Диска или загрузите с компьютера";var i=o.useCallback((function(e){n(e,"/disk"),c.default.countDocs("create doc",e,"stub")}),[n]);return o.default.createElement("div",{className:p()},o.default.createElement("h1",{className:p().e("Title")},t),o.default.createElement("div",{className:p().e("Options")},r?Object.keys(m).map((function(e){var t;return o.default.createElement("button",{key:e,className:p().e("Option"),onClick:function(){return i(e)}},o.default.createElement("span",{className:p().e("Option-Icon").m((t={},t[e]=!0,t))}),m[e])})):null,o.default.createElement("div",{className:p().e("Option")},o.default.createElement("div",{className:p().e("Option-Icon").m({open:!0})}),"Открыть",o.default.createElement(f.default,{transparentAbsolute:!0})),o.default.createElement("div",{className:p().e("Option")},o.default.createElement("div",{className:p().e("Option-Icon").m({upload:!0})}),o.default.createElement(l.default,{transparentAbsolute:!0}),"Загрузить")))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(231)),s=o.connect((function(e,t){var n=e.resources,r=e.environment.agent.OSFamily,i=t.resourceId;return{resource:i?n[i]:null,isAndroid:"Android"===r}}));t.default=s((function(e){var t=e.resource,n=e.anchor,r=e.isAndroid,o=e.onClose;return t?i.default.createElement(a.default,{visible:Boolean(t.id),resources:[t],target:"anchor",anchor:n,metrikaPath:["docs more"],directions:["bottom-right","top-right","bottom-left","top-left","left-center","right-center"],onClose:o,isAndroid:r}):null}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(82),u=n(27),c=n(20),l=i(n(1978)),f=i(n(1979)),d=i(n(450)),p=i(n(186)),h=i(n(772)),m=n(26);n(1980);var v=i(n(11)),g=function(){return v.default()("Docs-Resource-Actions")},y=function(e){var t,n=e.active,r=e.onActive,i=e.onHover,a=e.onClick,s=e.type;return o.default.createElement(m.Button,{view:"tundora",size:"xxs",pin:"circle-circle",className:g().e("Button").m((t={Hoverable:!n},t[s]=!0,t)),onClick:a,icon:n?r:i})},b={remoteTogglePinDoc:s.remoteTogglePinDoc,maybeBlockAction:u.maybeBlockAction},_=a.connect((function(e,t){var n=t.resourceId,r=e.resources[n];return{isPublic:!!r.meta.public,isPinned:!!r.pinned,canPublish:c.can(c.PUBLISH,r,e),canPin:c.can(c.PIN,r,e)}}),b),O=function(e){return o.default.createElement(d.default,{cls:e,iconSize:"s"})},w=function(e){return o.default.createElement(p.default,{isAndroid:!1,cls:e,iconSize:"s"})},E=function(e){return o.default.createElement(l.default,{cls:e,iconSize:"s"})},S=function(e){return o.default.createElement(f.default,{cls:e,iconSize:"s"})};t.default=_((function(e){var t=e.resourceId,n=e.isPublic,r=e.isPinned,i=e.onShareClick,a=e.remoteTogglePinDoc,s=e.maybeBlockAction,u=e.canPublish,c=e.onMoreClick,l=e.canPin,f=o.useCallback((function(){!n&&s()||i(t)}),[n,t,i,s]),d=o.useCallback((function(){a(t)}),[t,a]),p=o.useMemo((function(){return o.default.createElement(h.default,{resourceId:t,className:g().e("Button").m({Hoverable:!0,More:!0}),onClick:c})}),[t,c]),m=o.useMemo((function(){return u||n?o.default.createElement(y,{onClick:f,active:n,onActive:O,onHover:w,type:"share"}):null}),[u,f,n]),v=o.useMemo((function(){return o.default.createElement(y,{onClick:d,active:r,onActive:E,onHover:S,type:"pin"})}),[d,r]);return o.default.createElement("div",{className:g().e("Container")},p,m,l&&v)}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinBoldIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.17738 5.27452C2.91713 5.53486 2.91713 5.95686 3.17738 6.21719L6.00577 9.04586L2.24429 12.8073L1.77181 14.2236L3.18677 13.7505L6.94853 9.98871L9.77986 12.8203C10.0405 13.0803 10.4625 13.0803 10.7225 12.8203L10.9332 12.6103C12.3487 11.2026 12.5241 9.64758 12.0583 7.70632L14.4992 5.26679C14.7494 5.01673 14.8899 4.67751 14.8899 4.32379C14.8899 3.97008 14.7494 3.63086 14.4992 3.38079L12.6138 1.49674C12.0931 0.976229 11.2491 0.976229 10.7285 1.49674L8.28695 3.93693C6.36229 3.48626 4.78605 3.66586 3.38738 5.06452L3.17738 5.27452Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinStrokeIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.2416 11.3964L4.60263 5.75686C5.48452 5.01903 6.47337 4.88152 7.98278 5.23496L8.70481 5.40402L11.671 2.4395L13.5564 4.3236L11.1156 6.76306L10.5874 7.29099L10.7616 8.01718C11.1268 9.53933 10.9934 10.51 10.2416 11.3964ZM3.17718 5.27437C2.91693 5.5347 2.91693 5.9567 3.17718 6.21703L6.00556 9.0457L2.24409 12.8072L1.77161 14.2235L3.18657 13.7503L6.94832 9.98855L9.77966 12.8202C10.0403 13.0802 10.4623 13.0802 10.7223 12.8202L10.933 12.6102C12.3485 11.2024 12.5239 9.64742 12.0581 7.70617L14.499 5.26664C14.7492 5.01658 14.8897 4.67735 14.8897 4.32364C14.8897 3.96992 14.7492 3.6307 14.499 3.38064L12.6136 1.49658C12.0929 0.976074 11.2489 0.976074 10.7283 1.49658L8.28675 3.93678C6.36209 3.48611 4.78585 3.6657 3.38718 5.06437L3.17718 5.27437Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(864)),c=n(134),l=n(15),f=n(31),d=o(n(770)),p=o(n(771)),h=o(n(766)),m=o(n(1991));n(1993);var v=o(n(11)),g={openScanResource:l.openScanResource,fetchCurrentListing:l.fetchCurrentListing},y=s.connect((function(e){var t=e.environment.session.shouldShowScannerButton,n=e.page,r=n.page,i=n.idPage,o=n.idContext,a=e.resources[o];return{page:r,idPage:i,resources:f.getResources(e),isScansLoading:c.isScansLoading(e),currentResource:a,isComplete:f.currentResourceIsComplete(e),shouldShowScannerButton:t}}),g);t.default=p.default(y((function(e){var t=e.resourcesByIds,n=e.resources,i=e.fetchCurrentListing,o=e.isComplete,s=e.currentResource,c=e.listingProps,l=e.openScanResource,f=e.shouldShowScannerButton;a.useEffect((function(){i()}),[i]);var p=a.useCallback((function(){return!s||!t||s.isLoading}),[s,t]);return n.length||p()?a.default.createElement(a.default.Fragment,null,!p()&&a.default.createElement(h.default,null),a.default.createElement(d.default,r({},c,{cls:v.default()("Scans").e("Listing").m({"With-Scanner-Button-Padding":f}).mix(c.cls),onResourceOpen:l,resourcesByIds:t,resources:n,requestFetchNext:i,completed:o,loading:p()})),f&&a.default.createElement(m.default,null)):a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null),f&&a.default.createElement(m.default,null))})),"scans")}),(function(e,t){e.exports="/s3/disk/_/_12HIHiuBQbxTZBvBpTVSrtm2_bI.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11)),a=r(n(1986)),s=r(n(1987)),u=r(n(1988)),c=r(n(1989));n(1990);var l=function(){return o.default()("listing-stub-scans-qr-code")},f={mail:{"1x":a.default,"2x":s.default},disk:{"1x":u.default,"2x":c.default}};t.default=function(e){var t=e.staticHost,n=e.service,r=e.className,o=f[n];return i.default.createElement("div",{className:l().mix(r)},i.default.createElement("div",{className:l().e("code-wrapper")},i.default.createElement("img",{className:l().e("code").m({service:n}),src:t+o["1x"],srcSet:""+t+o["2x"]+" 2x"})),i.default.createElement("div",{className:l().e("text-wrapper")},i.default.createElement("div",{className:l().e("text")},"Cкачать"),i.default.createElement("div",{className:l().e("text")},"mail"===n?"Яндекс Почту":"Яндекс Диск")))}}),(function(e,t){e.exports="/s3/disk/_/_bnu33pJSMuUudn-FCxltPz7bGgB.png"}),(function(e,t){e.exports="/s3/disk/_/_5NgaOAvvo1tbbTyGOSw7Wmh2Sfc.png"}),(function(e,t){e.exports="/s3/disk/_/_7tOhgcwROEWKb84dqMZ5Kepw3PP.png"}),(function(e,t){e.exports="/s3/disk/_/_frVKHHROGhfOuIJr8mUEIr0vne5.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(26),s=n(228),u=i(n(11));n(1992);t.default=function(){var e=o.useCallback((function(){var e,t;null===(t=null===(e=window.HOST_API)||void 0===e?void 0:e.openScanner)||void 0===t||t.call(e)}),[]);return o.default.createElement(a.Button,{className:u.default()("Start-Scanner-Button"),size:"xxl",view:"action",theme:"raised",pin:"circle-circle",icon:s.plusIconProvider,onClick:e})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(136)),s=n(59);n(1995);var u,c=i(n(11)),l=n(130).I18N;!(function(e){e.READY="READY",e.FAIL="FAIL",e.OUT_OF_SPACE="OUT_OF_SPACE"})(u=t.SAVE_STATUSES||(t.SAVE_STATUSES={}));t.default=function(e){var t=e.status,n=e.folderUrl,r=e.onClose,i=o.useMemo((function(){switch(t){case u.READY:return o.default.createElement(l,{loc:"Файл сохранен на ваш Яндекс Диск"+yr.externals.entityify(l.$1)+" в папку "+yr.externals.entityify(l.$2_OPEN)+"Загрузки"+yr.externals.entityify(l.$2_CLOSE)+"."},o.default.createElement("br",null),o.default.createElement(s.Link,{target:"_blank",theme:"normal",href:n}));case u.FAIL:return o.default.createElement(l,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(l.$1)+" Повторите попытку позже."},o.default.createElement("br",null));case u.OUT_OF_SPACE:return o.default.createElement(l,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(l.$1)+" Недостаточно свободного места."},o.default.createElement("br",null))}return""}),[t,n]);return o.default.createElement(a.default,{visible:Boolean(t),onClose:r,closeButtonAriaLabel:"Закрыть",trapFocus:!1},o.default.createElement("div",{className:c.default()("Docs-View-Save-Modal").e("Content")},i))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(151)),s=n(1999),u=n(774);n(2002),t.UXFeedbackComponent=function(e){var t=e.accountId,n=e.className,r=e.uxfbController,i=e.onSaveUserInfoFail,c=e.defer,l=o.useRef(null),f=o.useRef(r),d=s.useIframeReducer(),p=d[0],h=d[1],m=o.useState(!c),v=m[0],g=m[1];o.useEffect((function(){g(!0)}),[]),o.useEffect((function(){var e,t=function(e){var n=!1;l.current&&e.data&&"uxfb/listener"===e.data.type&&(f.current||(f.current=new u.UXFeedbackIframeController),f.current.start(l.current,h),window.removeEventListener("message",t)),i&&e.data&&"cantSaveUserInfo"===e.data.type&&!n&&(n=!0,i())},n=function(){var e,t;null===(t=null===(e=l.current)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage({type:"checkSaveUserInfo"},"*")};return window.addEventListener("message",t),n(),null===(e=l.current)||void 0===e||e.addEventListener("load",n),function(){f.current&&f.current.stop(),window.removeEventListener("message",t)}}),[]);var y=v?"https://yastatic.net/s3/psf/uxfeedback/v1.2/iframe.html?id="+t:"about:blank";return o.default.createElement("iframe",{ref:l,className:a.default("uxs-slide-back",n,p.classes),frameBorder:"0",src:y,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",style:p.style})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.useIframeReducer=function(){return o.useReducer((function(e,t){switch(t.type){case"set-class":return r(r({},e),{classes:i(e.classes,[t.className])});case"set-style":return r(r({},e),{style:r(r({},e.style),t.style)});case"remove-style":var n=r({},e.style);return t.keys.forEach((function(e){delete n[e]})),r(r({},e),{style:n});default:return e}}),{classes:[],style:{}})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getYaIdFromCookies=function(){var e=document.cookie,t=e.indexOf("_ym_uid"),n=e.indexOf(";",t),r=e.length,i=-1===n?r:n;return e.substring(t,i).replace("_ym_uid=","")},t.objectToCookies=function(e){return Object.entries(e).reduce((function(e,t){return e.push(t.map(encodeURIComponent).join("=")),e}),[]).join("; ")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.INFO="uxfb/info",e.CLIENT_HEIGHT="uxfb/clientHeight",e.SHOW_WIDGET_ICON="uxfb/showWidgetIcon",e.HISTORY="uxfb/history",e.SCROLL="uxfb/scroll",e.EVENT="uxfb/event",e.PROPERTIES="uxfb/properties",e.STYLE="uxfb/style",e.POSITION="uxfb/position",e.SIZE="uxfb/size",e.OPACITY="uxfb/opacity",e.CLASS="uxfb/class",e.IMAGE="uxfb/image"})(t.UXFeedbackMessageType||(t.UXFeedbackMessageType={}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2004)),o=r(n(2005)),a=r(n(2006));t.default={lite:i.default,hard:o.default,hardDark:a.default}}),(function(e,t){e.exports="/s3/disk/_/_fszeyF4_Lhkmaa3YYmzmsu-x_OZ.svg"}),(function(e,t){e.exports="/s3/disk/_/_6VEhOQvb_8Fj8ItykZ0ssa0ze5t.png"}),(function(e,t){e.exports="/s3/disk/_/_9k3vl4cAfdCiIkC-F71hoZwq-Wa.png"}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(735);n(2010);var a=r(n(11));t.default=function(e){var t=e.cls,n=e.theme,r=e.isMonochrome?o.SvgYaMonochrome:o.SvgYa;return i.default.createElement("span",{className:a.default()("logo-360").m({theme:n}).mix(t)},i.default.createElement(r,{logoLang:["ru","uk"].includes("ru")?"Ru":"En"}),i.default.createElement(o.Svg360,null))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2012)),o=r(n(2013)),a=r(n(2014));t.default={waitMobile:i.default,restrictMobile:o.default,restrictDesktop:a.default}}),(function(e,t){e.exports="/s3/disk/_/_EyZHRtxZdU-DJKThaZdzq_KdL.svg"}),(function(e,t){e.exports="/s3/disk/_/_5R_LzV3sdkQuUqIpro4Szr5r2iF.svg"}),(function(e,t){e.exports="/s3/disk/_/_9vsFun4ZTui6rMP8qknAPSLAVVx.svg"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverLayer=void 0;var u=a(n(0)),c=s(n(2017)),l=s(n(2019));t.CoverLayer=u.memo((function(e){var t=e.imageUrl,n=e.videoUrl;return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(c.default,r({},e)),n&&u.default.createElement(l.default,r({},e)))})),t.CoverLayer.defaultProps={contentPosition:"top center",ignoreBattery:!1}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(778),c=n(779),l=n(2018);function f(e){return Boolean(e&&"object"==typeof e&&"1280"in e)}function d(e){return Boolean(e&&"object"==typeof e&&"jpeg"in e)}function p(e,t,n){var i=n?{media:"(min-width: "+n+"px)"}:{};return Object.values(l.IMAGE_TYPE).filter((function(e){return Boolean(t[e])})).map((function(o){return s.default.createElement("source",r({key:n+"-"+o,className:e.imageSource,srcSet:t[o],type:"image/"+o},i))}))}function h(e,t){var n=f(t)?t[l.MIN_IMAGE_SIZE]:t;return s.default.createElement(s.default.Fragment,null,f(t)?l.STOP_SET.map((function(n){return (function(e,t,n){return d(n)?p(e,n,t):s.default.createElement("source",{key:t,className:e.imageSource,srcSet:n,media:"(min-width: "+t+"px)"})})(e,n,t[n])})):null,d(t)?p(e,t):null,d(n)&&!d(t)?p(e,n):null,s.default.createElement("img",{className:e.imageSource,src:d(n)?n.jpeg:n,alt:""}))}var m={imageContent:"imageContent",imageSource:"imageSource"};t.default=s.memo((function(e){var t=e.imageUrl,n=e.className,r=e.contentPosition,i=c.useHashed(m),o=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.imageContent+" {\n          top:0;\n          left: 0;\n          pointer-events: none;\n        }","\n        ."+e.imageSource+" {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }"].join("\n"))})(i,{contentPosition:r})}),[i,r]),a=s.useMemo((function(){return h(i,t)}),[i,t]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,o),s.default.createElement("picture",{className:i.imageContent+" "+n,"aria-hidden":!0},a))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STOP_SET=t.MIN_IMAGE_SIZE=t.IMAGE_SIZE=t.IMAGE_TYPE=void 0,t.IMAGE_TYPE={webp:"webp",png:"png",jpeg:"jpeg"},t.IMAGE_SIZE={1920:"1920",1536:"1536",1366:"1366",1280:"1280"},t.MIN_IMAGE_SIZE=t.IMAGE_SIZE[1280],t.STOP_SET=Object.values(t.IMAGE_SIZE).filter((function(e){return e!==t.MIN_IMAGE_SIZE})).sort((function(e,t){return-1*e.localeCompare(t,void 0,{numeric:!0})}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(778),c=n(2020),l=n(2021),f=n(779);function d(e){return Boolean(e&&"object"==typeof e&&"mpeg"in e)}var p={webm:'video/webm; codecs="vp8"',mpeg:'video/mp4; codecs="avc1"'};var h={videoContent:"videoContent",videoSource:"videoSource"},m={loop:!0,muted:!0,autoPlay:!0,playsInline:!0,preload:"auto",pip:"false",disablePictureInPicture:!0};t.default=s.memo((function(e){var t=e.videoUrl,n=e.ignoreBattery,i=e.videoDisabled,o=e.className,a=e.contentPosition,v=f.useHashed(h),g=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.videoContent+" {\n          top: 0;\n          left: 0;\n          pointer-events: none;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }","\n        ."+e.videoContent+"::-webkit-media-controls {\n          display: none;\n        }"].join("\n"))})(v,{contentPosition:a})}),[v,a]),y=s.useMemo((function(){return (function(e,t){return d(t)?s.default.createElement(s.default.Fragment,null,s.default.createElement("source",{src:t.webm,type:p.webm}),s.default.createElement("source",{src:t.mpeg,type:p.mpeg})):s.default.createElement("source",{className:e.videoSource,src:t})})(v,t)}),[v,t]),b=s.useMemo((function(){return!i}),[]),_=s.useRef(null),O=s.useRef(!0),w=c.useVisibility(),E=l.useCharging(n),S=s.useMemo((function(){return (function(e){return d(e)?e.webm+"-"+e.mpeg:e})(t)}),[t]);return s.useEffect((function(){var e;return null===(e=_.current)||void 0===e?void 0:e.setAttribute("muted","")}),[]),s.useEffect((function(){var e=!i&&E&&w;_.current&&(e&&!O.current?(O.current=!0,_.current.play()):!e&&O.current&&(O.current=!1,_.current.pause()))})),s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,g),s.default.createElement("video",r({key:S,className:v.videoContent+" "+o,ref:_},m,{autoPlay:b,"aria-hidden":!0}),y))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useVisibility=void 0;var r=n(0);t.useVisibility=function(){var e=r.useState(!0),t=e[0],n=e[1],i=r.useCallback((function(){n("visible"===document.visibilityState)}),[]);return r.useEffect((function(){return document.addEventListener("visibilitychange",i,!1),i(),function(){return document.removeEventListener("visibilitychange",i,!1)}}),[i]),t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCharging=void 0;var r=n(0),i=null,o=null;t.useCharging=function(e){void 0===e&&(e=!1);var t=r.useState(o),n=t[0],a=t[1],s=r.useState(!0),u=s[0],c=s[1];return r.useEffect((function(){n||e||(i||(i=(null===navigator||void 0===navigator?void 0:navigator.getBattery)?navigator.getBattery().then((function(e){return o=e})):Promise.resolve(null)),i).then((function(e){return a(e)}))}),[n,e]),r.useEffect((function(){if(n&&!e){var t=function(){return c(n.charging)};return t(),n.addEventListener("chargingchange",t),function(){return n.removeEventListener("chargingchange",t)}}c(!0)}),[n,e]),u}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(n(0)),s=n(19),u=n(2026),c=n(416),l=n(724),f=n(80),d=i(n(14)),p=n(81),h=n(309),m=n(517),v=n(181);o=n(2030).desktopRegistry;var g=s.connect((function(e){var t=e.config.urlsBase,n=t["cloud-api"],r=t.yandex360,i=e.user.uid,o=h.getUserSubcription(e),a=p.getThemeName(e),s=h.getProject(),u=h.getPlatform(),c=h.getServerDate(e),l=h.makeGetNow(c),d=h.getCurrentPromo(e),m=h.getPlugins(e),v=h.getTranslations(e);return{cloudApi:n,tuning:r,uid:i,subscription:o,isDark:f.isPageDark(a),theme:f.getPageTheme(a),project:s,platform:u,getNow:l,currentPromo:d,plugins:m,translations:v}})),y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d.default.count.apply(d.default,e)};t.default=g((function(e){var t=e.cloudApi,n=e.uid,r=e.subscription,i=e.isDark,s=e.tuning,f=e.theme,d=e.project,p=e.platform,h=e.getNow,g=e.currentPromo,b=e.plugins,_=e.translations,O=a.useMemo((function(){return m.getDsClient(t,n)}),[t,n]),w=a.useMemo((function(){return{tuning:s}}),[s]);return g?a.default.createElement(u.PromoRenderer,{lang:"ru",currentPromo:g,sendMetric:y,theme:f,darkTheme:l.theme,lightTheme:c.theme,isDark:i||!1,dsClient:O,getNow:h,registry:o,urls:w,uid:n,project:d,platform:p,plugins:b,translations:_,hasSubscription:r===v.Subscription.paid}):null}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPromoRenderer=t.PromoRenderer=void 0;var i=n(780);Object.defineProperty(t,"PromoRenderer",{enumerable:!0,get:function(){return r(i).default}});var o=n(780);Object.defineProperty(t,"ServerPromoRenderer",{enumerable:!0,get:function(){return o.ServerPromoRenderer}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoRenderer=void 0;const s=o(n(0)),u=n(703),c=n(172),l=n(224),f=n(704),d=n(119),p=n(688),h=n(225),m=n(2028);t.PromoRenderer=(({currentPromo:e,sendMetric:t,theme:n,darkTheme:r,lightTheme:i,isDark:o,dsClient:v,getNow:g,lang:y,plugins:b,onShow:_,onClose:O,registry:w,urls:E,uid:S,hasSubscription:x,project:C,isActive:T,deactivate:k,translations:j,platform:P})=>{const R=s.useMemo(()=>new u.MetricsLogger(t,e.format,e.promo.name,{hasSubscription:x}),[e.format,e.promo.name,t,x]),A=s.useRef(),I=s.useCallback(()=>{var t,n;if(k(),O&&O(),A.current&&e.promo.saveTimestampOnClose){const r=g();null===(t=A.current)||void 0===t||t.savePromoShow(e.promo.name,r,null===(n=A.current)||void 0===n?void 0:n.getShowCountByPromo(e.promo.name))}},[e.promo.name,e.promo.saveTimestampOnClose,g,k,O]),D=s.useMemo(()=>e.promo.themeSource&&"default"!==e.promo.themeSource?"dark"===e.promo.themeSource?{theme:r,isDark:!0}:{theme:i,isDark:!1}:{theme:n,isDark:o},[e.promo.themeSource,i,n,o,r]),M=e.promo.name,N=s.useMemo(()=>({keysetId:e.promo.keysetId||M,lang:y,translations:j}),[M,e.promo.keysetId,y,j]),L=s.useMemo(()=>({urls:E,uid:S,project:C,promoId:M,platform:P||m.getPlatformByProject(C)}),[E,S,C,M,P]);d.useOnce(()=>{a(void 0,void 0,void 0,(function*(){const t=yield p.getService(v);if(t&&(A.current=t,!e.promo.saveTimestampOnClose)){const n=g();t.savePromoShow(e.promo.name,n,t.getShowCountByPromo(e.promo.name))}R.logPromoShow(),null===_||void 0===_||_()})).catch()});const F=null===b||void 0===b?void 0:b.find(t=>t.id===e.promo.name),B={isActive:T,onDeactivate:I};let U=null;switch(e.format){case"topline":const t=(null===F||void 0===F?void 0:F.Component)||w.topline;U=t?s.default.createElement(t,Object.assign({promo:e.promo},B)):null;break;case"tooltip":const n=(null===F||void 0===F?void 0:F.Component)||w.tooltip;U=n?s.default.createElement(n,Object.assign({promo:e.promo},B)):null;break;case"popup":const r=(null===F||void 0===F?void 0:F.Component)||w.popup;U=r?s.default.createElement(r,Object.assign({promo:e.promo},B)):null;break;case"fullscreen":const i=(null===F||void 0===F?void 0:F.Component)||w.fullscreen;U=i?s.default.createElement(i,Object.assign({promo:e.promo},B)):null;break;case"banner":const o=(null===F||void 0===F?void 0:F.Component)||w.banner;U=o?s.default.createElement(o,Object.assign({promo:e.promo},B)):null;break;case"custom":if(null===F||void 0===F?void 0:F.Component){const t=null===F||void 0===F?void 0:F.Component;U=s.default.createElement(t,Object.assign({promo:e.promo},B))}}return s.default.createElement(u.MetricsContext.Provider,{value:R},s.default.createElement(c.ThemeContext.Provider,{value:D},s.default.createElement(f.PluginContext.Provider,{value:F},s.default.createElement(l.TranslationsContext.Provider,{value:N},s.default.createElement(h.EnvironmentContext.Provider,{value:L},U)))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformByProject=t.TOUCH_PROJECTS=void 0;const r=n(181);t.TOUCH_PROJECTS=[r.Project.diskTouch,r.Project.mailTouch,r.Project.tuningTouch];t.getPlatformByProject=(e=>t.TOUCH_PROJECTS.includes(e)?r.Platform.touch:r.Platform.desktop)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(0));t.default=function(e,t={}){return n=>{const[r,i]=a.useState((null===t||void 0===t?void 0:t.isActive)||!1),o=a.useCallback(()=>{i(!0)},[i]),{onDeactivate:s}=n,u=a.useCallback(()=>{i(!1),s&&s()},[i,s]);return a.default.createElement(e,Object.assign({activate:o,deactivate:u,isActive:r},n))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.desktopRegistry=void 0;const r=n(2031),i=n(2054),o=n(2056),a=n(2066);t.desktopRegistry={fullscreen:r.DesktopFullscreenPromo,popup:i.PopupPromo,tooltip:o.TooltipPromo,topline:a.TopLinePromo}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2032),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopFullscreenPromo=void 0;const a=o(n(0)),s=n(156),u=n(2033),c=n(119),l=n(2034),f=n(387),d=n(172),p=n(224),h=n(225),m=n(310);t.DesktopFullscreenPromo=(({isActive:e,promo:t,onDeactivate:n})=>{const{lang:r}=a.useContext(p.TranslationsContext),i=c.useCampaignPromoActions(n),o=c.useThemeType(),{theme:v}=a.useContext(d.ThemeContext),g=c.useTranslation("Title"),y=c.useBenefits(t.benefits),b=c.useMainTuningButton(t,i.onActionButtonClick),_=c.useSecondaryTuningButton(t,i.onSecondaryButtonClick),O=t.background?f.getSrcsForImage(t.background[o]):void 0,{platform:w}=a.useContext(h.EnvironmentContext),E=a.useMemo(()=>m.getPromoImage(t.images,{themeType:o,lang:r,platform:w},t.illustration),[r,w,t,o]),S=a.useRef(document.documentElement);return u.usePreventScroll({enabled:e,containerRef:S}),a.default.createElement(l.CampaignFullscreen,{lang:r,visible:e,title:g,className:s.cnTheme(v),background:O,illustration:E,onClose:i.onClose,onCloseButtonClick:i.onCloseButtonClick,benefits:y,mainButton:b,secondaryButton:_,themeType:o})})}),(function(e,t,n){"use strict";n.r(t);var r=n(397);n.d(t,"usePreventScroll",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2035),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignFullscreen=void 0;const u=s(n(0)),c=o(n(781)),l=n(2050),f=n(299);t.CampaignFullscreen=(({className:e,background:t,illustration:n,onClose:r,onCloseButtonClick:i,benefits:o,title:s,mainButton:d,secondaryButton:p,visible:h,lang:m,themeType:v})=>{const{customTexts:g}=d,y=a(d,["customTexts"]),b=f.LANGS_FALLBACK_EN.includes(m)?"en":"ru";return u.default.createElement(c.Container,{visible:h,className:e,background:t,onClose:r},u.default.createElement(c.CloseButton,{onClick:i}),u.default.createElement(c.Content,null,u.default.createElement(c.Benefits,null,u.default.createElement(c.Logo,{lang:b,themeType:v}),u.default.createElement(c.Title,null,s),o.map((e,t)=>u.default.createElement(c.BenefitItem,{key:`bi-${t}`,icon:e.icon},e.text)),u.default.createElement(c.ButtonsWrapper,null,u.default.createElement(c.PromoButton,Object.assign({hasSecondRow:Boolean(g.infoText)},y),u.default.createElement(l.PromoButtonContent,Object.assign({},g))),p&&u.default.createElement(c.PromoButton,Object.assign({hasSecondRow:Boolean(p.customTexts.infoText)},p),u.default.createElement(l.PromoButtonContent,Object.assign({},p.customTexts))))),u.default.createElement(c.Illustration,{illustration:n})))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoButton=t.ButtonsWrapper=t.BenefitItem=t.Title=t.Logo=t.Illustration=t.Benefits=t.Content=t.CloseButton=t.Container=void 0;const u=o(n(0)),c=s(n(151)),l=n(519),f=n(518),d=n(302),p=n(699),h=n(782),m=n(2042),v=n(119),g=s(n(2048));t.Container=(e=>{var{className:t,background:n,children:r,visible:i}=e,o=a(e,["className","background","children","visible"]);const s=v.useImagePreload(n);return u.default.createElement(p.Modal,Object.assign({visible:i&&s,className:c.default(t,g.default.root),zIndexGroupLevel:1},o),u.default.createElement(l.Image,{alt:"Background",className:g.default.background,src:null===n||void 0===n?void 0:n.src,srcSet:null===n||void 0===n?void 0:n.srcSet,stub:u.default.createElement("div",{className:g.default.backgroundStub}),"aria-hidden":!0}),r)});t.CloseButton=(e=>{var{className:t}=e,n=a(e,["className"]);const r=u.useCallback(e=>u.default.createElement(h.CrossIcon24,{className:e}),[]),i=v.useCloseButtonTitleText();return u.default.createElement("div",{className:c.default(t,g.default.close)},u.default.createElement(f.Button,Object.assign({className:g.default.closeButton,size:"xxl",view:"clear",icon:r,"aria-label":i},n)))});t.Content=(e=>{var{className:t,children:n}=e,r=a(e,["className","children"]);return u.default.createElement("div",Object.assign({className:c.default(g.default.contentWrapper,t)},r),u.default.createElement("div",{className:g.default.content},n))});t.Benefits=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement("div",Object.assign({className:c.default(t,g.default.benefits)},n))});t.Illustration=(({className:e,illustration:t})=>u.default.createElement("div",{className:c.default(e,g.default.illustration)},u.default.createElement(l.Image,{alt:"Illustration",className:g.default.image,src:null===t||void 0===t?void 0:t.src,srcSet:null===t||void 0===t?void 0:t.srcSet,stub:u.default.createElement("div",{className:g.default.imageStub}),"aria-hidden":!0})));t.Logo=(e=>u.default.createElement("div",{className:c.default(g.default.logo),"aria-hidden":!0},u.default.createElement(m.YaLogoIcon,Object.assign({className:g.default.icon},e))));t.Title=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(d.Text,Object.assign({className:c.default(t,g.default.title),weight:"bold",typography:"headline-l"},n))});t.BenefitItem=(({icon:e,className:t,children:n})=>u.default.createElement("div",{className:c.default(t,g.default.benefitItem)},u.default.createElement(l.Image,{src:e,className:g.default.benefitItemImage}),u.default.createElement(d.Text,{typography:"subheader-m",className:g.default.benefitItemText},n)));t.ButtonsWrapper=(e=>u.default.createElement("div",Object.assign({},e,{className:c.default(e.className,g.default.buttonsWrapper)})));t.PromoButton=(e=>{var{hasSecondRow:t}=e,n=a(e,["hasSecondRow"]);const r=n.url?{type:"link",target:"_blank",rel:"noopener"}:{};return u.default.createElement(f.Button,Object.assign({view:"premium",size:"xxl"},r,n,{className:c.default(n.className,g.default.promoButton,{[g.default.tall]:t})}))})}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withGenericIcon=void 0;const o=i(n(0)),a=i(n(151)),s=i(n(2038));t.withGenericIcon=function(e){return function(t){const{size:n,className:i,iconClassName:u}=t,c=r(t,["size","className","iconClassName"]);return n&&(c.width=`${n}px`,c.height=`${n}px`),o.default.createElement("span",{className:a.default(i,s.default.root)},o.default.createElement(e,Object.assign({},c,{className:a.default(u,s.default.icon)})))}}}),(function(e,t,n){"use strict";n.r(t);n(2039);t.default={root:"GenericIcon_root_rsK7A",icon:"GenericIcon_icon_jEnnt"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793Z",fill:"currentColor"})));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.792 1.793a1 1 0 0 0 0 1.414L6.585 8l-4.793 4.793a1 1 0 1 0 1.414 1.414L8 9.414l4.793 4.793a1 1 0 0 0 1.414-1.414L9.413 8l4.793-4.793a1 1 0 1 0-1.414-1.414L7.999 6.586 3.206 1.793a1 1 0 0 0-1.414 0Z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2043),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YaLogoIcon=t.logo=void 0;const i=r(n(0)),o=n(181),a=r(n(2044)),s=r(n(2045)),u=r(n(2046)),c=r(n(2047));t.logo={[o.ThemeType.dark]:{en:a.default,ru:s.default},[o.ThemeType.light]:{en:u.default,ru:c.default}};t.YaLogoIcon=(({lang:e,themeType:n,className:r})=>{const o=t.logo[n][e];return i.default.createElement(o,{className:r})})}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 246 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#prefix__a)"},r.createElement("path",{d:"M155.387 40c11.045 0 20-8.954 20-20s-8.955-20-20-20c-11.046 0-20 8.954-20 20s8.954 20 20 20Z",fill:"url(#prefix__b)"}),r.createElement("path",{d:"M155.386 31.6c3.755 0 6.8-5.194 6.8-11.6 0-6.407-3.045-11.6-6.8-11.6-3.756 0-6.8 5.193-6.8 11.6 0 6.406 3.044 11.6 6.8 11.6Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.638 10.8c-2.018-.104-4.45 4.12-4.45 9.198 0 5.08 2.432 9.302 4.45 9.198 2.001-.104 3.15-4.119 3.15-9.198 0-5.079-1.149-9.094-3.15-9.198ZM168.138 29.197c2.018.103 4.45-4.12 4.45-9.199s-2.432-9.302-4.45-9.198c-2.001.104-3.15 4.12-3.15 9.198 0 5.08 1.149 9.095 3.15 9.198Z",fill:"#fff"})),r.createElement("path",{d:"M192.677 8.908h-9.759V4.556h16.132V7.24l-6.858 9.184c5.584.79 8.309 4.261 8.309 9.407s-3.21 9.712-10.635 9.712c-2.768 0-5.36-.747-7.339-1.845v-4.438c1.979.966 3.824 2.197 7.386 2.197 3.562 0 5.408-2.506 5.408-5.583 0-3.429-2.197-5.536-6.33-5.536h-2.944v-2.683l6.634-8.746h-.004Zm10.24 12.394c0-10.639 3.605-17.274 11.605-17.274 2.901 0 4.789.614 6.373 1.408v4.442c-1.802-1.013-3.781-1.803-6.283-1.803-4.485 0-6.592 3.078-6.944 10.197 1.318-2.154 3.605-3.429 6.506-3.429 5.009 0 8.395 3.472 8.395 9.846 0 6.858-4.219 10.858-9.408 10.858-6.506 0-10.24-4.485-10.24-14.24m10.155-2.288c-2.944 0-4.88 2.33-4.88 6.064 0 4.086 1.845 6.373 4.528 6.373 2.858 0 4.527-2.24 4.527-6.416 0-4.175-1.845-6.02-4.175-6.02Zm22.505 16.528c-5.536 0-10.197-4.262-10.197-15.781 0-10.858 4.528-15.733 10.197-15.733 5.67 0 10.154 4.175 10.154 15.733s-4.57 15.78-10.154 15.78Zm.043-27.386c-2.725 0-4.922 2.725-4.922 11.562s2.154 11.69 4.922 11.69c3.12 0 4.837-3.69 4.837-11.604 0-8.614-2.24-11.648-4.837-11.648ZM15.312 35.108v-5.177c0-3.905-.483-5.045-1.974-8.292L5.528 4.616H0l10.003 21.761v8.731h5.309Zm3.466-15.75L25.27 4.616h-5.396L13.38 19.358h5.397Zm55.456 16.189c2.456 0 4.475-1.14 5.879-3.29l.263 2.851h4.826V4.616H79.98v11.012c-1.316-1.974-3.247-3.027-5.528-3.027-5.046 0-8.555 4.256-8.555 11.626 0 7.284 3.422 11.32 8.336 11.32Zm32.071-1.93V29.36c-1.624 1.096-4.344 2.062-6.888 2.062-3.817 0-5.265-1.8-5.484-5.484h12.591v-2.764c0-7.678-3.378-10.574-8.599-10.574-6.362 0-9.389 4.87-9.389 11.539 0 7.678 3.773 11.407 10.442 11.407 3.334 0 5.791-.878 7.327-1.93ZM40.627 20.06c0-5.353-2.72-7.371-8.249-7.371-3.422 0-6.186 1.448-7.765 2.588v4.52c1.667-1.36 4.212-2.94 7.151-2.94 2.501 0 3.642.877 3.642 3.247v1.403h-.834c-7.985 0-11.539 2.589-11.539 7.196 0 4.255 2.72 6.712 6.757 6.712 3.071 0 4.387-1.009 5.396-2.062h.22c.044.57.22 1.316.395 1.755h5.089a55.541 55.541 0 0 1-.263-5.396V20.06Zm9.476-.79c.965-1.185 2.501-2.194 4.387-2.194 1.843 0 2.677.79 2.677 2.457v15.575h5.22V19.007c0-4.388-1.754-6.318-6.01-6.318-3.115 0-4.958 1.14-6.01 2.194h-.264l-.131-1.843h-5.09v22.068h5.221V19.27Zm72.259 15.838h5.879l-7.195-11.363 6.23-10.705h-5.221l-3.773 6.669-4.212-6.67h-5.879l6.669 10.574-6.932 11.495h5.309l4.431-7.458 4.694 7.458ZM75.769 16.725c2.808 0 4.212 2.238 4.212 7.327 0 5.133-1.492 7.37-4.431 7.37-2.852 0-4.256-2.193-4.256-7.195 0-5.22 1.492-7.502 4.475-7.502Zm22.068 0c2.589 0 3.378 2.15 3.378 4.914v.439h-7.282c.131-3.51 1.403-5.353 3.904-5.353ZM35.406 29.843c-.658.965-1.887 1.755-3.73 1.755-2.193 0-3.29-1.272-3.29-3.203 0-2.544 1.799-3.422 6.274-3.422h.746v4.87Z",fill:"#fff"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6 -33.2388 0 155.387 14.4)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})),r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{fill:"#fff",transform:"translate(135.387)",d:"M0 0h40v40H0z"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 245 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M153.323 41.002c11.185 0 20.252-8.955 20.252-20.002 0-11.047-9.067-20.003-20.252-20.003C142.138.997 133.07 9.953 133.07 21s9.068 20.002 20.253 20.002Z",fill:"url(#prefix__a)"}),r.createElement("path",{d:"M153.324 32.606c3.803 0 6.886-5.194 6.886-11.602S157.127 9.4 153.324 9.4s-6.886 5.195-6.886 11.603c0 6.408 3.083 11.602 6.886 11.602Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M140.409 11.798c-2.044-.104-4.507 4.12-4.507 9.2 0 5.08 2.463 9.304 4.507 9.2 2.027-.104 3.19-4.12 3.19-9.2 0-5.08-1.163-9.096-3.19-9.2ZM166.233 30.198c2.044.104 4.507-4.12 4.507-9.2 0-5.08-2.463-9.304-4.507-9.2-2.027.104-3.19 4.12-3.19 9.2 0 5.08 1.163 9.096 3.19 9.2Z",fill:"#fff"}),r.createElement("path",{d:"M14.971 9.628h-2.37c-4.348 0-6.629 2.168-6.629 5.378 0 3.641 1.582 5.335 4.832 7.503l2.68 1.778-7.73 11.408H0l6.937-10.192C2.94 22.678.703 19.947.703 15.306c0-5.81 4.082-9.756 11.854-9.756h7.726v30.14h-5.312V9.629Zm27.182 4.251v21.816h-5.27v-9.108h-6.98v9.108h-5.225v-21.82h5.226v8.63h6.98v-8.63h5.269v.004Zm23.532 26.626h-4.827v-4.814H49.132v4.814H44.3v-8.892h1.625c1.844-3.642 2.195-10.54 2.195-15.875v-1.863h15.237v17.738h2.328v8.892Zm-7.55-22.552h-5.53v.652c0 3.773-.394 9.714-1.844 13.012h7.379V17.953h-.005Zm19.276 17.996c-6.675 0-10.452-3.642-10.452-11.103 0-6.546 3.03-11.318 9.397-11.318 5.227 0 8.605 2.82 8.605 10.366v2.73h-12.6c.218 3.515 1.71 5.247 5.487 5.247 2.547 0 5.312-.825 6.894-1.863v4.205c-1.492 1-3.995 1.736-7.33 1.736Zm-5.05-13.14h7.288v-.431c0-2.69-.789-4.772-3.383-4.772-2.593 0-3.777 1.778-3.91 5.204m21.338 2.168V35.69h-5.226V13.875h5.226v10.061l7.379-10.06h5.269l-7.379 10.06 8.386 11.75h-5.929l-7.73-10.713.004.005Zm13.346-.174c0-6.593 3.469-11.276 10.144-11.276 2.59 0 4.523.432 5.621 1.041v4.379c-1.055-.652-3.031-1.342-5.051-1.342-3.425 0-5.312 2.383-5.312 7.067 0 4.425 1.535 7.198 5.27 7.198 2.195 0 3.777-.563 5.093-1.473v4.209c-1.274.91-2.984 1.342-5.402 1.342-6.98 0-10.363-3.989-10.363-11.145ZM190.94 9.843h-9.749V5.549h16.116v2.647l-6.851 9.061c5.577.78 8.3 4.205 8.3 9.282s-3.207 9.582-10.624 9.582c-2.765 0-5.355-.736-7.331-1.82v-4.379c1.976.953 3.82 2.168 7.378 2.168 3.559 0 5.402-2.473 5.402-5.509 0-3.383-2.195-5.462-6.324-5.462h-2.941v-2.646l6.628-8.63h-.004Zm10.23 12.229c0-10.497 3.601-17.044 11.592-17.044 2.899 0 4.785.606 6.367 1.39V10.8c-1.801-1-3.777-1.779-6.277-1.779-4.48 0-6.585 3.036-6.936 10.061 1.316-2.125 3.601-3.383 6.499-3.383 5.003 0 8.386 3.426 8.386 9.714 0 6.766-4.214 10.713-9.398 10.713-6.499 0-10.229-4.425-10.229-14.05m10.144-2.257c-2.941 0-4.875 2.3-4.875 5.983 0 4.031 1.844 6.288 4.523 6.288 2.855 0 4.523-2.21 4.523-6.33s-1.843-5.941-4.171-5.941ZM233.8 36.126c-5.53 0-10.186-4.205-10.186-15.57 0-10.713 4.523-15.523 10.186-15.523 5.664 0 10.144 4.12 10.144 15.523 0 11.403-4.566 15.57-10.144 15.57Zm.043-27.02c-2.722 0-4.918 2.689-4.918 11.408 0 8.718 2.153 11.534 4.918 11.534 3.117 0 4.832-3.642 4.832-11.45 0-8.498-2.238-11.492-4.832-11.492Z",fill:"#fff"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__a",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6034 -33.6585 0 153.323 15.399)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 246 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#prefix__a)"},r.createElement("path",{d:"M155.387 40c11.045 0 20-8.954 20-20s-8.955-20-20-20c-11.046 0-20 8.954-20 20s8.954 20 20 20Z",fill:"url(#prefix__b)"}),r.createElement("path",{d:"M155.386 31.6c3.755 0 6.8-5.194 6.8-11.6 0-6.407-3.045-11.6-6.8-11.6-3.756 0-6.8 5.193-6.8 11.6 0 6.406 3.044 11.6 6.8 11.6Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.638 10.8c-2.018-.104-4.45 4.12-4.45 9.198 0 5.08 2.432 9.302 4.45 9.198 2.001-.104 3.15-4.119 3.15-9.198 0-5.079-1.149-9.094-3.15-9.198ZM168.138 29.197c2.018.103 4.45-4.12 4.45-9.199s-2.432-9.302-4.45-9.198c-2.001.104-3.15 4.12-3.15 9.198 0 5.08 1.149 9.095 3.15 9.198Z",fill:"#fff"})),r.createElement("path",{d:"M192.677 8.908h-9.759V4.556h16.132V7.24l-6.858 9.184c5.584.79 8.309 4.261 8.309 9.407s-3.21 9.712-10.635 9.712c-2.768 0-5.36-.747-7.339-1.845v-4.438c1.979.966 3.824 2.197 7.386 2.197 3.562 0 5.408-2.506 5.408-5.583 0-3.429-2.197-5.536-6.33-5.536h-2.944v-2.683l6.634-8.746h-.004Zm10.24 12.394c0-10.639 3.605-17.274 11.605-17.274 2.901 0 4.789.614 6.373 1.408v4.442c-1.802-1.013-3.781-1.803-6.283-1.803-4.485 0-6.592 3.078-6.944 10.197 1.318-2.154 3.605-3.429 6.506-3.429 5.009 0 8.395 3.472 8.395 9.846 0 6.858-4.219 10.858-9.408 10.858-6.506 0-10.24-4.485-10.24-14.24m10.155-2.288c-2.944 0-4.88 2.33-4.88 6.064 0 4.086 1.845 6.373 4.528 6.373 2.858 0 4.527-2.24 4.527-6.416 0-4.175-1.845-6.02-4.175-6.02Zm22.505 16.528c-5.536 0-10.197-4.262-10.197-15.781 0-10.858 4.528-15.733 10.197-15.733 5.67 0 10.154 4.175 10.154 15.733s-4.57 15.78-10.154 15.78Zm.043-27.386c-2.725 0-4.922 2.725-4.922 11.562s2.154 11.69 4.922 11.69c3.12 0 4.837-3.69 4.837-11.604 0-8.614-2.24-11.648-4.837-11.648ZM15.312 35.108v-5.177c0-3.905-.483-5.045-1.974-8.292L5.528 4.616H0l10.003 21.761v8.731h5.309Zm3.466-15.75L25.27 4.616h-5.396L13.38 19.358h5.397Zm55.456 16.189c2.456 0 4.475-1.14 5.879-3.29l.263 2.851h4.826V4.616H79.98v11.012c-1.316-1.974-3.247-3.027-5.528-3.027-5.046 0-8.555 4.256-8.555 11.626 0 7.284 3.422 11.32 8.336 11.32Zm32.071-1.93V29.36c-1.624 1.096-4.344 2.062-6.888 2.062-3.817 0-5.265-1.8-5.484-5.484h12.591v-2.764c0-7.678-3.378-10.574-8.599-10.574-6.362 0-9.389 4.87-9.389 11.539 0 7.678 3.773 11.407 10.442 11.407 3.334 0 5.791-.878 7.327-1.93ZM40.627 20.06c0-5.353-2.72-7.371-8.249-7.371-3.422 0-6.186 1.448-7.765 2.588v4.52c1.667-1.36 4.212-2.94 7.151-2.94 2.501 0 3.642.877 3.642 3.247v1.403h-.834c-7.985 0-11.539 2.589-11.539 7.196 0 4.255 2.72 6.712 6.757 6.712 3.071 0 4.387-1.009 5.396-2.062h.22c.044.57.219 1.316.395 1.755h5.089a55.541 55.541 0 0 1-.263-5.396V20.06Zm9.476-.79c.965-1.185 2.501-2.194 4.387-2.194 1.843 0 2.677.79 2.677 2.457v15.575h5.22V19.007c0-4.388-1.754-6.318-6.01-6.318-3.115 0-4.958 1.14-6.01 2.194h-.264l-.131-1.843h-5.09v22.068h5.221V19.27Zm72.259 15.838h5.879l-7.195-11.363 6.23-10.705h-5.221l-3.773 6.669-4.212-6.67h-5.879l6.669 10.574-6.932 11.495h5.309l4.431-7.458 4.694 7.458ZM75.769 16.725c2.808 0 4.212 2.238 4.212 7.327 0 5.133-1.492 7.37-4.431 7.37-2.852 0-4.256-2.193-4.256-7.195 0-5.22 1.492-7.502 4.475-7.502Zm22.068 0c2.589 0 3.378 2.15 3.378 4.914v.439h-7.282c.131-3.51 1.403-5.353 3.904-5.353ZM35.406 29.843c-.658.965-1.887 1.755-3.73 1.755-2.193 0-3.29-1.272-3.29-3.203 0-2.544 1.799-3.422 6.274-3.422h.746v4.87Z",fill:"#000"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6 -33.2388 0 155.387 14.4)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})),r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{fill:"#fff",transform:"translate(135.387)",d:"M0 0h40v40H0z"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 245 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M153.323 41.002c11.185 0 20.252-8.955 20.252-20.002 0-11.047-9.067-20.003-20.252-20.003C142.138.997 133.07 9.953 133.07 21s9.068 20.002 20.253 20.002Z",fill:"url(#prefix__a)"}),r.createElement("path",{d:"M153.324 32.606c3.803 0 6.886-5.194 6.886-11.602S157.127 9.4 153.324 9.4s-6.886 5.195-6.886 11.603c0 6.408 3.083 11.602 6.886 11.602Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M140.409 11.798c-2.044-.104-4.507 4.12-4.507 9.2 0 5.08 2.463 9.304 4.507 9.2 2.027-.104 3.19-4.12 3.19-9.2 0-5.08-1.163-9.096-3.19-9.2ZM166.233 30.198c2.044.104 4.507-4.12 4.507-9.2 0-5.08-2.463-9.304-4.507-9.2-2.027.104-3.19 4.12-3.19 9.2 0 5.08 1.163 9.096 3.19 9.2Z",fill:"#fff"}),r.createElement("path",{d:"M14.971 9.628h-2.37c-4.348 0-6.629 2.168-6.629 5.378 0 3.641 1.582 5.335 4.832 7.503l2.68 1.778-7.73 11.408H0l6.937-10.192C2.94 22.678.703 19.947.703 15.306c0-5.81 4.082-9.756 11.854-9.756h7.726v30.14h-5.312V9.629Zm27.182 4.251v21.816h-5.27v-9.108h-6.98v9.108h-5.225v-21.82h5.226v8.63h6.98v-8.63h5.269v.004Zm23.532 26.626h-4.827v-4.814H49.132v4.814H44.3v-8.892h1.625c1.844-3.642 2.195-10.54 2.195-15.875v-1.863h15.237v17.738h2.328v8.892Zm-7.55-22.552h-5.53v.652c0 3.773-.394 9.714-1.844 13.012h7.379V17.953h-.005Zm19.276 17.996c-6.675 0-10.452-3.642-10.452-11.103 0-6.546 3.03-11.318 9.397-11.318 5.227 0 8.605 2.82 8.605 10.366v2.73h-12.6c.218 3.515 1.71 5.247 5.487 5.247 2.547 0 5.312-.825 6.894-1.863v4.205c-1.492 1-3.995 1.736-7.33 1.736Zm-5.05-13.14h7.288v-.431c0-2.69-.789-4.772-3.383-4.772-2.593 0-3.777 1.778-3.91 5.204m21.338 2.168V35.69h-5.226V13.875h5.226v10.061l7.379-10.06h5.269l-7.379 10.06 8.386 11.75h-5.929l-7.73-10.713.004.005Zm13.346-.174c0-6.593 3.469-11.276 10.144-11.276 2.59 0 4.523.432 5.621 1.041v4.379c-1.055-.652-3.031-1.342-5.051-1.342-3.425 0-5.312 2.383-5.312 7.067 0 4.425 1.535 7.198 5.27 7.198 2.195 0 3.777-.563 5.093-1.473v4.209c-1.274.91-2.984 1.342-5.402 1.342-6.98 0-10.363-3.989-10.363-11.145ZM190.94 9.843h-9.749V5.549h16.116v2.647l-6.851 9.061c5.577.78 8.3 4.205 8.3 9.282s-3.207 9.582-10.624 9.582c-2.765 0-5.355-.736-7.331-1.82v-4.379c1.976.953 3.82 2.168 7.378 2.168 3.559 0 5.402-2.473 5.402-5.509 0-3.383-2.195-5.462-6.324-5.462h-2.941v-2.646l6.628-8.63h-.004Zm10.23 12.229c0-10.497 3.601-17.044 11.592-17.044 2.899 0 4.785.606 6.367 1.39V10.8c-1.801-1-3.777-1.779-6.277-1.779-4.48 0-6.585 3.036-6.936 10.061 1.316-2.125 3.601-3.383 6.499-3.383 5.003 0 8.386 3.426 8.386 9.714 0 6.766-4.214 10.713-9.398 10.713-6.499 0-10.229-4.425-10.229-14.05m10.144-2.257c-2.941 0-4.875 2.3-4.875 5.983 0 4.031 1.844 6.288 4.523 6.288 2.855 0 4.523-2.21 4.523-6.33s-1.843-5.941-4.171-5.941ZM233.8 36.126c-5.53 0-10.186-4.205-10.186-15.57 0-10.713 4.523-15.523 10.186-15.523 5.664 0 10.144 4.12 10.144 15.523 0 11.403-4.566 15.57-10.144 15.57Zm.043-27.02c-2.722 0-4.918 2.689-4.918 11.408 0 8.718 2.153 11.534 4.918 11.534 3.117 0 4.832-3.642 4.832-11.45 0-8.498-2.238-11.492-4.832-11.492Z",fill:"#000"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__a",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6034 -33.6585 0 153.323 15.399)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);n(2049);t.default={contentHorizontalMargin:"40px",benefitsRightMargin:"52px",logoHeight:"40px",logoMidHeight:"32px",logoMinHeight:"28px",root:"Fullscreen_root_IbVrl",background:"Fullscreen_background_84rVN",backgroundStub:"Fullscreen_backgroundStub_3QG1D",close:"Fullscreen_close_XbzpK",closeButton:"Fullscreen_closeButton_HREI7",contentWrapper:"Fullscreen_contentWrapper_xkpNY",content:"Fullscreen_content_xhU-j",benefits:"Fullscreen_benefits_d4OX-",image:"Fullscreen_image_HV5yL",imageStub:"Fullscreen_imageStub_KATvx",logo:"Fullscreen_logo_vb5EV",icon:"Fullscreen_icon_qTrn2",illustration:"Fullscreen_illustration_Gojg9",title:"Fullscreen_title_uTUgc",benefitItem:"Fullscreen_benefitItem_RzUav",benefitItemImage:"Fullscreen_benefitItemImage_cj23V",buttonsWrapper:"Fullscreen_buttonsWrapper_M-1cV",promoButton:"Fullscreen_promoButton_BdXJ7",tall:"Fullscreen_tall_a21oN",benefitItemText:"Fullscreen_benefitItemText_qj8Jx"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2051),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoButtonContent=void 0;const i=r(n(0)),o=r(n(151)),a=n(302),s=r(n(2052));t.PromoButtonContent=(({text:e,crossedPrice:t,actualPrice:n,infoText:r})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Text,{className:s.default.text,typography:"body-short-l"},e),t?i.default.createElement(a.Text,{typography:"body-short-l",className:o.default(s.default.text,s.default.crossed)},t):null,n?i.default.createElement(a.Text,{className:s.default.text,typography:"body-short-l"},t?n:` ${n}`):null,r?i.default.createElement(a.Text,{typography:"body-short-s",className:o.default(s.default.text,s.default.infoText)},r):null))}),(function(e,t,n){"use strict";n.r(t);n(2053);t.default={crossed:"PromoButtonContent_crossed_mBdU6",text:"PromoButtonContent_text_tz0ov",infoText:"PromoButtonContent_infoText_lEJvj"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2055),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PopupPromo=void 0;const a=o(n(0)),s=n(156),u=n(105),c=n(172),l=n(387),f=n(119),d=n(224),p=n(310),h=n(225);t.PopupPromo=(({isActive:e,promo:t,onDeactivate:n})=>{const{theme:r}=a.useContext(c.ThemeContext),i=f.useThemeType(),o=f.usePromoActions(n),m=f.usePromoTranslations(),{titleText:v,descriptionText:g,cancelButtonText:y,actionButtonText:b}=m,_=f.useTuningLink(),O=t.link||(t.isTuningLink?_:void 0),{lang:w}=a.useContext(d.TranslationsContext),{platform:E}=a.useContext(h.EnvironmentContext),S=a.useMemo(()=>p.getPromoImage(t.images,{themeType:i,lang:w,platform:E},t.illustration),[w,E,t,i]);return a.default.createElement(u.Popup,{visible:e,className:s.cnTheme(r),background:t.background?l.getSrcsForImage(t.background[i]):void 0,onClose:o.onClose,onCloseClick:o.onCloseButtonClick},a.default.createElement(u.PopupContent,{image:S},a.default.createElement(u.PopupTexts,null,v&&a.default.createElement(u.PopupTitle,null,v),g&&a.default.createElement(u.PopupDescription,null,g)),a.default.createElement(u.PopupButtons,null,y&&a.default.createElement(u.PopupCancelButton,{width:"max",onClick:o.onCancelButtonClick},y),a.default.createElement(u.PopupActionButton,{view:t.actionButtonView,url:O,onClick:o.onActionButtonClick,width:y?"max":void 0},b))))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2057),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPromo=void 0;const a=o(n(0)),s=n(156),u=n(119),c=n(172),l=n(224),f=n(225),d=n(683),p=n(310),h=n(2058),m=n(387);t.TooltipPromo=(({promo:e,isActive:t,onDeactivate:n})=>{var r;const i=u.useTuningLink(),o=e.link||(e.isTuningLink?i:void 0),{theme:v}=a.useContext(c.ThemeContext),{lang:g}=a.useContext(l.TranslationsContext),{platform:y}=a.useContext(f.EnvironmentContext),b=u.useThemeType(),_=u.usePromoTranslations(),O=u.usePromoActions(n),w=a.useRef(d.getVisiblePromoAnchorElement(e.anchor)),E=a.useMemo(()=>p.getPromoImage(e.images,{themeType:b,lang:g,platform:y},e.illustration),[g,y,e,b]);return a.default.createElement(h.TooltipPromo,{anchor:w,link:o,direction:e.direction,visible:t,className:s.cnTheme(v),backgroundSources:e.background?m.getSrcsForImage(e.background[b]):void 0,backgroundColor:null===(r=e.background)||void 0===r?void 0:r[b].color,onClose:O.onClose,image:E,texts:_,actions:O,actionButtonView:e.actionButtonView})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2059),t)}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPromo=void 0;const o=i(n(0)),a=n(2060);t.TooltipPromo=(e=>{var{link:t,image:n,texts:i,actionButtonView:s,actions:u}=e,c=r(e,["link","image","texts","actionButtonView","actions"]);const l=Boolean(i.actionButtonText||i.cancelButtonText);return o.default.createElement(a.Tooltip,Object.assign({hasClose:!1,hasIcon:Boolean(n)},c),n&&o.default.createElement(a.TooltipSideImage,{image:n,width:80,height:80}),o.default.createElement(a.TooltipContent,null,i.titleText&&o.default.createElement(a.TooltipTitle,null,i.titleText),i.descriptionText&&o.default.createElement(a.TooltipDescription,null,i.descriptionText),l&&o.default.createElement(a.TooltipButtons,null,o.default.createElement(a.TooltipActionButton,{view:s,url:t,onClick:u.onActionButtonClick},i.actionButtonText),i.cancelButtonText&&o.default.createElement(a.TooltipCancelButton,{onClick:u.onCancelButtonClick},i.cancelButtonText))),o.default.createElement(a.TooltipCustomClose,{onClick:u.onCloseButtonClick}))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2061),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipCorner=t.TooltipCancelButton=t.TooltipActionButton=t.TooltipButtons=t.TooltipDescription=t.TooltipTitle=t.TooltipContent=t.TooltipCustomClose=t.TooltipSideImage=t.Tooltip=void 0;const u=o(n(0)),c=s(n(151)),l=n(2062),f=n(302),d=s(n(2064)),p=n(518),h=n(519),m=n(782),v=n(119);t.Tooltip=(e=>{var{anchor:t,onClose:n,className:r,children:i,backgroundSources:o,backgroundColor:s,hasIcon:f,contentClassName:p}=e,h=a(e,["anchor","onClose","className","children","backgroundSources","backgroundColor","hasIcon","contentClassName"]);const m=u.useCallback(e=>null===n||void 0===n?void 0:n(e,"click"),[n]);u.useEffect(()=>{const e=null===t||void 0===t?void 0:t.current;return e&&e.addEventListener("click",m),()=>{e&&e.removeEventListener("click",m)}},[t,m]);const v={style:{"--custom-bg-color":s}};return u.default.createElement(l.MessageBoxPopup,Object.assign({view:"default",size:"m",layout:"functional",direction:"bottom",opaque:!0,hasTail:!0,tailType:"rounded",visible:!0,background:o&&u.default.createElement("img",{alt:"Background",className:d.default.background,src:o.src,srcSet:o.srcSet,"aria-hidden":!0}),className:c.default(r,d.default.container,{[d.default.withIcon]:f}),anchor:t,onClose:n},v,h),u.default.createElement("div",{className:c.default(d.default.root,p)},i))});t.TooltipSideImage=(e=>{var{image:t}=e,n=a(e,["image"]);return u.default.createElement("div",{className:d.default.iconContainer},u.default.createElement(h.Image,Object.assign({className:d.default.icon,src:t.src,srcSet:t.srcSet,width:80,height:80},n)))});t.TooltipCustomClose=(e=>{const t=u.useCallback(e=>u.default.createElement(m.CrossIcon,{className:e,width:16,height:16}),[]),n=v.useCloseButtonTitleText();return u.default.createElement("div",{className:d.default.close},u.default.createElement(p.Button,Object.assign({view:"clear",size:"s",icon:t,"aria-label":n},e)))});t.TooltipContent=(e=>u.default.createElement("div",Object.assign({},e,{className:c.default(e.className,d.default.contentContainer)})));t.TooltipTitle=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(f.Text,Object.assign({as:"h2",weight:"medium",typography:"body-short-xl",className:c.default(t,d.default.title)},n))});t.TooltipDescription=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(f.Text,Object.assign({typography:"body-short-l",className:c.default(t,d.default.desc)},n))});t.TooltipButtons=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement("div",Object.assign({className:c.default(t,d.default.buttons)},n))});t.TooltipActionButton=(e=>{const{url:t}=e;return t?u.default.createElement(p.Button,Object.assign({view:"brand",size:"m",type:"link",target:"_blank",rel:"noopener"},e)):u.default.createElement(p.Button,Object.assign({view:"brand",size:"m"},e))});t.TooltipCancelButton=(e=>u.default.createElement(p.Button,Object.assign({view:"clear",size:"m"},e)));t.TooltipCorner=(e=>{var{illustrationSources:t,width:n,height:r}=e,i=a(e,["illustrationSources","width","height"]);return u.default.createElement(l.Corner,Object.assign({width:n,height:r},i),u.default.createElement(h.Image,{width:n,height:r,src:t.src,srcSet:t.srcSet}))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Corner=t.MessageBoxPopup=void 0;const r=n(5),i=n(32),o=n(537);Object.defineProperty(t,"Corner",{enumerable:!0,get:function(){return o.Corner}});const a=n(339),s=n(2063),u=r.compose(a.withViewDefault,a.withTargetAnchor)(a.Popup),c=new i.Registry({id:o.cnMessageBox()});c.set("Popup",u),t.MessageBoxPopup=r.compose(r.composeU(o.withSizeM),o.withViewDefault,i.withRegistry(c))(s.MessageBoxPopup)}),(function(e,t,n){"use strict";n.r(t);var r=n(783);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";n.r(t);n(2065);t.default={container:"Tooltip_container_iQWB9",withIcon:"Tooltip_withIcon_M486N",contentContainer:"Tooltip_contentContainer_HADuz",root:"Tooltip_root_6uGm8",close:"Tooltip_close_PpCbs",background:"Tooltip_background_n0ACD",title:"Tooltip_title_-zHML",desc:"Tooltip_desc_BkAdN",buttons:"Tooltip_buttons_1qiOg",iconContainer:"Tooltip_iconContainer_fOnj2"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TopLinePromo=void 0;const s=o(n(0)),u=a(n(122)),c=n(156),l=n(2067),f=n(119),d=n(172);t.TopLinePromo=(({promo:e})=>{const t=f.useTranslation("Title"),n=f.useThemeType(),{theme:r}=s.useContext(d.ThemeContext),i=f.usePromoActions(u.default);return s.default.createElement(l.TopLine,{text:t,backgroundImage:e.background?e.background[n]:void 0,leftIcon:e.iconLeft,rightIcon:e.iconRight,link:e.link,className:c.cnTheme(r),onClick:i.onActionButtonClick})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2068),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TopLine=void 0;const i=r(n(0)),o=r(n(151)),a=n(2069),s=n(302),u=r(n(2071)),c=e=>`url(${e})`,l=e=>({maskImage:e,"-webkit-mask":e,"-webkit-mask-size":"contain","mask-size":"contain"});t.TopLine=(({backgroundImage:e,text:t,leftIcon:n,rightIcon:r,link:f,className:d,onClick:p})=>i.default.createElement(a.Link,{className:o.default(d,u.default.container),style:{backgroundImage:e},href:f,target:"_blank",onClick:p},n?i.default.createElement("div",{className:o.default(u.default.icon,u.default.left),style:l(c(n))}):null,i.default.createElement(s.Text,{typography:"headline-l",className:u.default.text},t),r?i.default.createElement("div",{className:o.default(u.default.icon,u.default.right),style:l(c(r))}):null))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2070),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const i=r(n(0)),o=n(400);t.Link=(e=>i.default.createElement(o.Link,Object.assign({},e)))}),(function(e,t,n){"use strict";n.r(t);n(2072);t.default={container:"TopLine_container_XItoJ",icon:"TopLine_icon_Xdp9L",right:"TopLine_right_TjG7-",left:"TopLine_left_ktImj",text:"TopLine_text_m3VaJ"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(36),u=n(81),c=n(80),l=i(n(2074)),f=i(n(769)),d=i(n(2077)),p=i(n(2094)),h=i(n(2099));n(2102);var m=i(n(11)),v=function(){return m.default()("LeftColumn")},g=a.connect((function(e){return{isDocsPage:s.isDocsPage(e),isDocsView:s.isDocsView(e),themeName:u.getThemeName(e)}})),y=0,b=0;t.default=g((function(e){var t=e.isDocsPage,n=e.isDocsView,r=e.themeName,i=o.useRef(null),a=o.useRef(null),s=o.useRef(null),u=o.useRef(null),m=o.useState(0),g=m[0],_=m[1],O=!t&&!n,w=o.useCallback((function(){if(u.current&&s.current&&i.current){var e=i.current.getBoundingClientRect(),t=u.current.getBoundingClientRect(),n=s.current.getBoundingClientRect(),r=e.top>0?n.bottom:n.height+y,o=t.top-r-b;o!==g&&_(o)}}),[g]);o.useEffect((function(){if(a.current&&s.current&&O)return y=parseInt(getComputedStyle(a.current).top.replace("px",""),10),b=parseInt(getComputedStyle(s.current).marginBottom.replace("px",""),10),w(),window.addEventListener("scroll",w),window.addEventListener("resize",w),function(){window.removeEventListener("scroll",w),window.removeEventListener("resize",w)}}),[O,w]);var E=o.useCallback((function(){w()}),[w]);return o.default.createElement("div",{className:v().mix(c.getPageClassName(r)),ref:i},o.default.createElement("div",{className:v().e("InnerWrapperTop")},o.default.createElement("div",{className:v().e("StickyWrapperTop"),ref:a},o.default.createElement("div",{ref:s,className:v().e("Buttons").mix(c.getContentClassName(r))},t?o.default.createElement(f.default,null):o.default.createElement(l.default,null)),o.default.createElement(d.default,{maxHeight:g}))),o.default.createElement("div",{ref:u,className:v().e("InnerWrapperBottom")},n?null:o.default.createElement(p.default,{className:c.getContentClassName(r),onChangeCollapsed:E}),t?null:o.default.createElement(h.default,null)))}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(48),u=n(55),c=n(146),l=n(27),f=n(27),d=n(54),p=i(n(323)),h=i(n(2182)),m=n(228),v=i(n(14)),g=n(74),y={openEditor:f.openEditor,createFolder:f.createFolder,requestNewAlbumTitle:d.requestNewAlbumTitle,upload:f.upload,maybeBlockAction:l.maybeBlockAction},b=a.connect((function(e){var t=e.user.isOfficeAllowed,n=e.page.idContext,r=e.environment.agent,i=s.getOverdraftType(e),o=g.getIsInsideVirtualDisk(e);return{familyRoleMetrikaKey:u.getFamilyRoleMetrikaKey(e),hasFamilyFeature:u.hasFamilyFeature(e),isOfficeAllowed:t,isFamilyCreationAllowed:u.isFamilyCreationAllowed(e),idContext:n,disableUploadButton:!o&&s.shouldNotifyOverdraft(e)&&!i,restrict:c.shouldRestrict(e,{forLite:!0}),isFirefox:"Firefox"===r.BrowserName}}),y);t.default=b((function(e){var t=e.isOfficeAllowed,n=e.isFamilyCreationAllowed,r=e.familyRoleMetrikaKey,i=e.hasFamilyFeature,a=e.disableUploadButton,s=e.restrict,u=e.idContext,c=e.upload,l=e.openEditor,f=e.createFolder,d=e.requestNewAlbumTitle,g=e.maybeBlockAction,y=e.isFirefox,b=o.useCallback((function(e,t){c(e).then(t,t)}),[c]),_=o.useCallback((function(){g({forLite:!0}),v.default.count("interface elements","upload button","click")}),[g]),O=o.useCallback((function(e){f(e)}),[f]),w=o.useCallback((function(e){l(e,u)}),[u,l]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{width:"max",text:"Загрузить",title:"Загрузить файлы",onChange:b,onClick:_,disabled:a,withoutInput:s}),o.default.createElement(h.default,{isOfficeAllowed:t,isFamilyCreationAllowed:n,familyRoleMetrikaKey:r,hasFamilyFeature:i,onFolderCreate:O,onEditorOpen:w,onCreateAlbum:d,iconLeft:m.plusIconProvider,isFirefox:y}))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(135),c=n(410),l=n(36),f=n(27),d=n(15),p=n(59),h=o(n(2078)),m=o(n(2079)),v=o(n(2080)),g=o(n(2081)),y=o(n(2082)),b=o(n(2083)),_=o(n(2084)),O=o(n(2085)),w=o(n(2086)),E=o(n(2087)),S=o(n(552)),x=o(n(865)),C=o(n(2088)),T=o(n(2089)),k=o(n(2090)),j=o(n(2091)),P=o(n(2092)),R=o(n(763)),A=o(n(14)),I=n(25),D=o(n(37));n(2093);var M=o(n(11)),N=function(){return M.default()("LeftColumnNavigation")},L=R.default(p.Link),F={albums:a.default.createElement(h.default,null),albumsWithPromo:a.default.createElement(k.default,null),aux:a.default.createElement(m.default,null),docx:a.default.createElement(v.default,null),downloads:a.default.createElement(g.default,null),files:a.default.createElement(y.default,null),journal:a.default.createElement(b.default,null),photo:a.default.createElement(_.default,null),pptx:a.default.createElement(O.default,null),recent:a.default.createElement(w.default,null),scans:a.default.createElement(E.default,null),shared:a.default.createElement(S.default,null),trash:a.default.createElement(x.default,null),view:a.default.createElement(C.default,null),xlsx:a.default.createElement(T.default,null),family:a.default.createElement(j.default,null),lockedFamily:a.default.createElement(P.default,null)},B={changeIdContext:f.changeIdContext,setShouldNotRestoreScroll:d.setShouldNotRestoreScroll},U=s.connect((function(e){return{invitesCount:c.getNonFamilyInvitesCount(e),familyInvitesCount:c.getFamilyInvitesCount(e),items:u.getLeftColumnItems(e),isDocsPage:l.isDocsPage(e),isVirtualDisk:I.isVirtualDiskPath(e.page.idContext)}}),B);t.default=U((function(e){var t=e.items,n=e.invitesCount,i=e.familyInvitesCount,o=e.isDocsPage,s=e.changeIdContext,u=e.setShouldNotRestoreScroll,c=e.isVirtualDisk,l=e.maxHeight,f=a.useCallback((function(e,t){o?A.default.count("docs","navigation",t.id):(e.preventDefault(),s(t.idContext),A.default.count("navigation","via tabs",t.id)),u(!0)}),[o,s,u]),d=a.useCallback((function(e,t){e.keyCode===D.default.KEYS.ENTER&&f(e,t)}),[f]),h=t.map((function(e){var t=p.Link,s=null;e.idContext&&!c&&["/trash","/disk"].includes(e.idContext)&&(t=L,s={id:e.idContext,type:"navigation-"+e.idContext.slice(1),isFixed:!0,scrollContainerSelector:"."+N()});var u=e.idContext&&["/shared","/published"].includes(e.idContext)&&n>0,l="/family"===e.idContext&&i>0;return a.default.createElement(t,r({key:e.id,className:N().e("Item").m({type:e.id,current:e.current,"with-counter":u}),onClick:function(t){return f(t,e)},onKeyDown:function(t){return d(t,e)},role:"tab","aria-selected":!!e.current||void 0},s||{},o?{href:e.url}:{tabindex:"0"}),a.default.createElement("span",{className:N().e("Icon")},F[e.icon||e.id]),e.name,u?a.default.createElement("span",{className:N().e("Counter")},Math.min(n,99)):null,l?a.default.createElement("span",{className:N().e("Counter")},Math.min(i,99)):null)})),m=l?{maxHeight:l}:void 0;return a.default.createElement("nav",{style:m,className:N()},h)}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a1 1 0 0 0 0 2h10a1 1 0 1 0 0-2H3zm-.5 3A1.5 1.5 0 0 0 1 4.5v9A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 13.5 3h-11zm2.899 6.282a.468.468 0 0 0-.655.158l-1.68 2.855a.468.468 0 0 0 .404.705h9.064c.32 0 .545-.313.444-.616l-1.841-5.522a.468.468 0 0 0-.828-.12l-2.486 3.551a.468.468 0 0 1-.634.127L5.399 9.281zM4 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11A1.5 1.5 0 0 1 2.5 1zM3 5v8h10V5H3zm2 4a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3zm-.334 4.445c0-.49.398-.889.888-.889h8.89a.889.889 0 1 1 0 1.778h-8.89a.889.889 0 0 1-.888-.889zm.887 2.667a.889.889 0 0 0 0 1.778h6.222a.889.889 0 1 0 0-1.778H3.553zm0 3.555a.889.889 0 0 0 0 1.778h7.111a.889.889 0 0 0 0-1.778H3.553z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7.454 11.671a.75.75 0 0 0 1.092 0l3.609-3.828A.5.5 0 0 0 11.791 7H10V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v5H4.208a.5.5 0 0 0-.363.843l3.61 3.828zM3 13a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H3z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 0A1.5 1.5 0 0 0 2 1.5v13A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5V5.95a3.5 3.5 0 0 0-1.025-2.475l-2.45-2.45A3.5 3.5 0 0 0 8.05 0H3.5zM7 2.5a.5.5 0 0 1 .5-.5h.55a1.5 1.5 0 0 1 1.06.44l2.45 2.45A1.5 1.5 0 0 1 12 5.95v.55a.5.5 0 0 1-.5.5H8a1 1 0 0 1-1-1V2.5z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("path",{fill:"currentColor",d:"M1.22717 5.7221C0.713689 5.7221 0.36228 5.20389 0.552269 4.72686L2.05339 0.957764C2.26868 0.417197 3.0004 0.33647 3.32835 0.817104L3.984 1.77798C5.20611 0.971963 6.67038 0.502329 8.24466 0.502329C12.5242 0.502329 15.9935 3.9716 15.9935 8.25116L15.9935 8.27546L15.9935 8.28935C15.9935 10.7955 14.7888 13.0221 12.9235 14.4285C11.6234 15.4148 10.0024 16 8.24466 16C6.6851 16 5.23338 15.5394 4.01792 14.7468C2.29134 13.6307 1.03091 11.8457 0.627579 9.73163C0.6191 9.68718 0.614245 9.64289 0.612807 9.59905C0.600216 9.52732 0.588611 9.45525 0.578005 9.38286C0.500466 8.85356 0.866687 8.36163 1.39598 8.28409C1.92528 8.20655 2.41722 8.57277 2.49476 9.10207C2.90582 11.9081 5.32447 14.0628 8.24466 14.0628C11.4543 14.0628 14.0563 11.4608 14.0563 8.25116C14.0563 5.04149 11.4543 2.43954 8.24466 2.43954C7.07609 2.43954 5.98772 2.78427 5.076 3.37835L5.90016 4.58619C6.22919 5.0684 5.88385 5.7221 5.30009 5.7221H1.22717Z"}),h.a.createElement("path",{fill:"currentColor",d:"M9.11641 5.34535C9.11641 4.8639 8.72611 4.47361 8.24466 4.47361C7.76321 4.47361 7.37292 4.8639 7.37292 5.34535V8.73547C7.37292 9.00985 7.50211 9.26823 7.72162 9.43286L9.65883 10.8858C10.044 11.1746 10.5904 11.0966 10.8793 10.7114C11.1681 10.3263 11.0901 9.77985 10.7049 9.49098L9.11641 8.29959V5.34535Z"}))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11zm3.487 6.696a.5.5 0 0 1 .7-.168l1.91 1.215a.5.5 0 0 0 .677-.135l2.656-3.794a.5.5 0 0 1 .884.129l1.967 5.899a.5.5 0 0 1-.475.658H3.124a.5.5 0 0 1-.43-.754l1.793-3.05zM6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.909 2.606A7.964 7.964 0 0 1 16 8a8 8 0 1 1-8-8 7.967 7.967 0 0 1 5.909 2.606zm.002.003-.002-.003.002.003zM14.667 8H8V1.334A6.667 6.667 0 0 1 14.667 8z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.982 3.075a1 1 0 0 0-.243-1.393L9 7.731V4a1 1 0 1 0-2 0v4.25a1 1 0 0 0 .425.818l3.2 2.25a1 1 0 0 0 1.393-.243z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("g",{clipPath:"url(#a)"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 11.533a.8.8 0 0 0-.8-.8h-.4a.8.8 0 0 0-.8.8v.967A2.5 2.5 0 0 0 3.5 15h.842a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5a.5.5 0 0 1-.5-.5v-.967zM4.342 3a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5A2.5 2.5 0 0 0 1 3.5v.8a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8a.5.5 0 0 1 .5-.5h.842zM13 4.3a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8A2.5 2.5 0 0 0 12.5 1h-.925a.8.8 0 0 0-.8.8v.4a.8.8 0 0 0 .8.8h.925a.5.5 0 0 1 .5.5v.8zm0 7.233a.8.8 0 0 1 .8-.8h.4a.8.8 0 0 1 .8.8v.967a2.5 2.5 0 0 1-2.5 2.5h-.925a.8.8 0 0 1-.8-.8v-.4a.8.8 0 0 1 .8-.8h.925a.5.5 0 0 0 .5-.5v-.967zM.95 7a.95.95 0 0 0-.95.95v.1c0 .525.425.95.95.95h14.1a.95.95 0 0 0 .95-.95v-.1a.95.95 0 0 0-.95-.95H.95z"})),h.a.createElement("defs",null,h.a.createElement("clipPath",{id:"a"},h.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.218 9.11c-.731.047-1.51.07-2.335.07-.826 0-1.604-.023-2.334-.07.21 3.905 1.485 6.89 2.334 6.89.85 0 2.125-2.985 2.335-6.89zM3.96 8.961c.12 2.816.758 5.152 1.624 6.657C2.352 14.625 0 11.591 0 8.001v-.074c1.047.49 2.366.832 3.961 1.034zM.191 6.25c.889.522 2.143.898 3.759 1.12.081-2.963.735-5.422 1.634-6.986C2.894 1.211.814 3.452.191 6.25zm5.333 1.278C5.621 3.315 6.988 0 7.884 0c.895 0 2.262 3.315 2.358 7.528-.73.05-1.516.076-2.36.076a34.4 34.4 0 0 1-2.358-.076zm6.278 1.434c1.595-.202 2.914-.545 3.961-1.034v.073c0 3.59-2.352 6.624-5.584 7.617.865-1.505 1.504-3.84 1.623-6.656zm3.77-2.711c-.888.522-2.142.898-3.758 1.119-.082-2.963-.736-5.422-1.634-6.986 2.69.827 4.77 3.068 5.393 5.867z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v3.611a.5.5 0 0 0 .5.5h6.111a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5H3zm6.389 0a.5.5 0 0 0-.5.5v6.111a.5.5 0 0 0 .5.5h6.11a.5.5 0 0 0 .5-.5V3a3 3 0 0 0-3-3H9.39zM0 9.389a.5.5 0 0 1 .5-.5h6.111a.5.5 0 0 1 .5.5v6.11a.5.5 0 0 1-.5.5H3a3 3 0 0 1-3-3V9.39zm10.389 5.11v-4.11h4.11v2.61a1.5 1.5 0 0 1-1.5 1.5h-2.61zm-1.5-5.11a.5.5 0 0 1 .5-.5h6.11a.5.5 0 0 1 .5.5v3.61a3 3 0 0 1-3 3H9.39a.5.5 0 0 1-.5-.5V9.39z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:"none"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.416 1H3.333a.833.833 0 0 0-.833.833v.334c0 .46.373.833.833.833H9c0-.711.148-1.388.416-2ZM15 7.9a5.002 5.002 0 0 1-5.9-3.904H2.555C1.692 3.996 1 4.722 1 5.61v8.779c0 .891.696 1.614 1.556 1.614h10.888c.86 0 1.556-.723 1.556-1.614V7.9ZM8.974 9.37 6.56 11.918 5.493 10.91a.226.226 0 0 0-.16-.06.225.225 0 0 0-.156.066l-2.27 2.32a.119.119 0 0 0-.023.134c.021.045.068.074.12.074h9.865a.132.132 0 0 0 .12-.073.118.118 0 0 0-.022-.133L9.3 9.37a.225.225 0 0 0-.163-.068.225.225 0 0 0-.164.068ZM6 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}),h.a.createElement("circle",{cx:"14",cy:"3",r:"3",fill:"#FF3737"}))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M8.39 15.243a.691.691 0 0 1-.78 0C6.006 14.164 0 9.853 0 5.78c0-5.344 6.28-6.2 8-2.6 1.72-3.6 8-2.744 8 2.6 0 4.073-6.006 8.385-7.61 9.464z",fill:"currentColor"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g={position:"relative",right:"-1px"},y=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement("svg",{style:g,width:21,height:16,onClick:this.props.onClick,viewBox:"0 0 21 16"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.61 14.243C6.006 13.164 0 8.853 0 4.78c0-5.344 6.28-6.2 8-2.6 1.474-3.085 6.298-2.897 7.647.583A5 5 0 0 0 11 7.75v.127a3.496 3.496 0 0 0-1.5 2.873v2.708c-.459.34-.845.607-1.11.785a.691.691 0 0 1-.78 0ZM13 7.75a3 3 0 1 1 6 0v1.5a1.5 1.5 0 0 1 1.5 1.5v3.75A1.5 1.5 0 0 1 19 16h-6a1.5 1.5 0 0 1-1.5-1.5v-3.75a1.5 1.5 0 0 1 1.5-1.5v-1.5Zm2.752-1.48A1.502 1.502 0 0 0 14.5 7.75v1.498h3V7.75a1.5 1.5 0 0 0-1.748-1.48Z",clipRule:"evenodd"}))}}]),n})(m.default);y.propTypes=m.default.propTypes}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(19),c=a(n(107)),l=a(n(60)),f=a(n(14)),d=a(n(2095)),p=n(26),h=n(59),m=a(n(2097)),v=a(n(206)),g=n(48),y=n(43),b=n(53),_=a(n(417)),O=n(80),w=n(81),E=n(17),S=n(74),x=n(25);n(2098);var C=a(n(11)),T=function(){return C.default()("InfoSpace")},k=function(e){return s.default.createElement(v.default,{cls:e,iconSize:"s"})},j=Date.now(),P={saveSettings:b.saveSettings,updateSettings:b.updateSettings},R=u.connect((function(e){var t=e.environment.session,n=t.locale,r=t.serverTime,i=e.settings.lastShownInfoSpaceDiscountId,o=e.page.idContext,a=g.shouldShowInfoSpaceDiscount(e,j),s=a&&g.getInfoSpaceDiscountData(e,j),u=o&&x.getCurrentVirtualDisk(o);return{used:g.getTargetUsed(e),limit:g.getTargetLimit(e),locale:n,serverTime:r,tuningButtonInfo:g.getTuningButtonInfo(e),buyButtonUrl:y.getBuyButtonUrl(e),shouldShowBuyButton:y.shouldShowBuyButton(e),percentageOfUsed:g.getPercentageOfUsed(e),shouldShowDiscount:a,discountData:s,lastShownInfoSpaceDiscountId:i,isDark:O.isContentDark(w.getThemeName(e)),isInsideVirtualDisk:S.getIsInsideVirtualDisk(e),virtualDiskName:u?E.getResourceData(e,u,"name"):null,shouldGoToNewForm:g.getShouldGoToNewForm(e)}}),P),A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.default.count.apply(f.default,i(["navigation","via link in sidebar"],e))},I=T().e("TextDiscount");t.default=R((function(e){var t,n,i,o,a,u,f,v=e.limit,g=e.used,y=e.shouldShowBuyButton,b=e.buyButtonUrl,O=e.percentageOfUsed,w=e.tuningButtonInfo,E=e.className,S=e.locale,x=e.serverTime,C=e.shouldShowDiscount,P=e.discountData,R=e.lastShownInfoSpaceDiscountId,D=e.saveSettings,M=e.updateSettings,N=e.isDark,L=e.virtualDiskName,F=e.isInsideVirtualDisk,B=e.onChangeCollapsed,U=e.shouldGoToNewForm,z=s.useMemo((function(){return c.default.formatSpace(v-g)}),[v,g]),V=s.useMemo((function(){return c.default.formatSpace(v)}),[v]),H=s.useMemo((function(){return c.default.formatSpace(g-v)}),[v,g]),W=s.useState(!1),G=W[0],$=W[1],q=s.useState(!1),Y=q[0],K=q[1],J=s.useState(""),X=J[0],Z=J[1],Q=s.useState(!1),ee=Q[0],te=Q[1],ne=s.useRef(null),re=s.useRef(null),ie=s.useCallback((function(){return x+Date.now()-j}),[x]),oe=s.useCallback((function(){ne.current&&(clearInterval(ne.current),ne.current=null)}),[ne]),ae=s.useCallback((function(){re.current&&(clearTimeout(re.current),re.current=null)}),[re]),se=s.useCallback((function(e){null!==P&&void 0!==P&&P.shouldCollapse||(A("tuning","close"),e.stopPropagation(),e.preventDefault(),oe(),D({key:"timestampLastCollapseInfoSpaceDiscount",value:String(ie())}),$(!0))}),[P,oe,D,ie]),ue=s.useCallback((function(){P.shouldExpandWithAnimation&&(D({key:"timestampLastExpandInfoSpaceDiscount",value:String(ie())}),K(!0))}),[P,ie,D]),ce=s.useCallback((function(){var e=P.shouldCollapse,t=P.shouldShowTimer;!e&&t&&(ne.current=setInterval((function(){var e,t=(null===P||void 0===P?void 0:P.finishDiscountTime)||0,n=Math.floor((t-ie())/1e3);if(n<0)e="";else{var r=_.default(n,":");e=(5===r.length?"00:":7===r.length?"0":"")+r}if(!e)return te(!0),void oe();Z(e)}),1e3))}),[P,ie,oe]),le=s.useCallback((function(){ae(),M({key:"timestampLastUpdateInfoSpaceDiscount",value:String(ie())}),f()}),[M,ie,f,ae]),fe=s.useCallback((function(){var e=P.canShowTimer,t=P.shouldShowTimer,n=P.timeWithTimer,r=ie(),i=n-r+1;e&&!t&&r<n&&i<Math.pow(2,31)-1&&(re.current=setTimeout(le,i))}),[P,ie,re,le]),de=s.useCallback((function(){var e=P.canShowTimer,t=P.attentionTimer,n=P.timeAttentionTimer,r=P.shouldShowTimer,i=ie(),o=n-i+1;e&&r&&!t&&i<n&&o<Math.pow(2,31)-1&&(re.current=setTimeout(le,o))}),[P,ie,re,le]),pe=s.useCallback((function(){var e=P.shouldCollapse,t=P.canShowTimer,n=P.finishDiscountTime;if(!ee&&e||!t){var r=n-ie();(!re.current&&r<Math.pow(2,31)-1||r<=0)&&(re.current=setTimeout((function(){te(!0)}),r>0?r:0))}}),[P,ee,ie,re]);f=s.useCallback((function(){C&&(ue(),ce(),fe(),de(),pe())}),[C,pe,ue,ce,de,fe]),s.useEffect((function(){Y&&f()}),[Y,f]),s.useEffect((function(){C&&(ue(),ce(),fe(),de(),pe());var e=P.discountId;return C&&e!==R&&D({key:"lastShownInfoSpaceDiscountId",value:e}),function(){oe(),ae()}}),[C,ue,ce,fe,de,pe,oe,ae,P,R,D]),s.useEffect((function(){A("tuning show")}),[]);var he=O>=90,me=function(e){return void 0===e&&(e=!1),g>v?"Превышено  на "+yr.externals.entityify(H):he?__i18n__.i18n.convert(["Остался","Остался","Осталось","Осталось"],yr.externals.entityify(Number(z.split(" ")[0])))+"  "+yr.externals.entityify(z)+" из "+yr.externals.entityify(V):e?yr.externals.entityify(z)+" из "+yr.externals.entityify(V):"Свободно "+yr.externals.entityify(z)+" из "+yr.externals.entityify(V)},ve=s.useRef(null),ge=s.useCallback((function(){A("tuning")}),[]),ye=C&&!ee,be=ye&&(P.shouldCollapse||P.shouldExpandWithAnimation&&!Y),_e={className:T().m({full:!ye&&he,discount:ye,notanimation:ye&&!(G||Y),expanded:ye&&!be,attention:ye&&P.attentionTimer&&Boolean(X)}).mix(E),title:me()};y&&(_e=r(r({},_e),{onClick:ge,href:l.default.addParams(b,r({from:"disk_buybtn"},U?{product_id_family:w.productIdFamily,period:w.period}:{})),target:"_blank",rel:"noopener noreferrer"}));var Oe=s.useCallback((function(e){e.target.classList.contains(I)&&B()}),[B]);ye&&(_e=r(r({},_e),{onAnimationEnd:Oe,style:{backgroundImage:"url("+(null===(t=null===P||void 0===P?void 0:P.payload)||void 0===t?void 0:t.background)+")",backgroundPosition:"50% 50%",backgroundSize:"cover"}}));var we=null===(n=null===P||void 0===P?void 0:P.payload)||void 0===n?void 0:n.textColor,Ee={};return we&&(Ee.style={color:we}),!F||g||v?s.default.createElement(h.Link,r({},_e),ye?s.default.createElement(p.Button,{className:T().e("CollapseButton"),onClick:se,size:"xxs",view:"clear-inverse","aria-label":"Свернуть","aria-hidden":G,tabIndex:G?-1:void 0,icon:k}):null,F&&L?s.default.createElement("div",{className:T().e("Header")},s.default.createElement("div",{className:T().e("Title")},L),s.default.createElement("div",{className:T().e("Text")},me("en"===S))):null,s.default.createElement("div",{className:T().e("IndicatorWrapper")},s.default.createElement(d.default,{cls:T().e("Indicator"),value:O,shouldShowDiscount:ye})),F?null:s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:T().e("Footer")},s.default.createElement("div",{className:T().e("Text")},me("en"===S)),ye?s.default.createElement("div",{className:T().e("DiscountImage")},s.default.createElement("img",{src:null===(i=null===P||void 0===P?void 0:P.payload)||void 0===i?void 0:i.imgUrl})):null,ye?s.default.createElement("div",r({className:I},Ee),P.shouldShowTimer&&X?s.default.createElement("div",{className:T().e("Timer")},s.default.createElement(m.default,{iconSize:"m"}),s.default.createElement("div",{className:T().e("TimerText")},X)):null,null===(o=null===P||void 0===P?void 0:P.payload)||void 0===o?void 0:o.text):null,y?s.default.createElement(p.Button,r({},C&&!ee||N?{view:N?"brand":"action"}:{view:"raised"},{size:"m",width:"max",className:T().e("Button"),innerRef:ve,tabIndex:-1}),s.default.createElement("span",{className:T().e("ButtonTextWrapper")},w.text),C&&!ee&&(null===(a=null===P||void 0===P?void 0:P.payload)||void 0===a?void 0:a.imgSmallUrl)?s.default.createElement("div",{className:T().e("DiscountValue")},s.default.createElement("img",{className:T().e("DiscountSmallImage"),src:null===(u=null===P||void 0===P?void 0:P.payload)||void 0===u?void 0:u.imgSmallUrl})):null):null))):null}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=(n(2096),n(0)),h=n.n(p),m=n(11),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("indicator-bar")},b="normal",_="medium",O="full",w=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getLoadValue",value:function(){return this.props.value<50?b:this.props.value<90?_:O}},{key:"render",value:function(){return h.a.createElement("div",{className:y().m({load:this._getLoadValue(),discount:this.props.shouldShowDiscount}).mix(this.props.cls)},h.a.createElement("div",{className:y().e("value"),style:{width:this.props.value.toFixed(2)+"%"}}))}}]),n})(p.PureComponent);w.defaultProps={value:0},t.default=w}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-2A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm3.357-3.736a1 1 0 0 0-.342-1.371L9 7.683V5a1 1 0 1 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.342z"})}}]),n})(p.default)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(14)),u=n(59),c=i(n(2100));n(2101);var l=i(n(11)),f=function(){return l.default()("AppLink")},d=a.connect((function(e){return{OSFamily:e.environment.agent.OSFamily}}));t.default=d((function(e){var t=e.OSFamily,n=o.useCallback((function(){s.default.count("interface elements","install soft")}),[]),r=o.useMemo((function(){return function(e){return o.default.createElement(c.default,{cls:e,windows:"Windows"===t})}}),[t]);return o.default.createElement("div",{className:f()},o.default.createElement(u.Link,{theme:"primary",className:f().e("Link"),href:"/download?src=Yandex.Sidebar",target:"_blank",onClick:n,iconLeft:r},"Установить приложение"))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12),v=n(30),g=n.n(v);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},h.a.createElement("path",{fillRule:"nonzero",d:"M3 17h10.7a.3.3 0 0 1 .3.3v1.4a.3.3 0 0 1-.3.3H1.3a.3.3 0 0 1-.3-.3v-1.4a.3.3 0 0 1 .3-.3H2V6a1 1 0 0 1 1-1h16.7a.3.3 0 0 1 .3.3v.4a.3.3 0 0 1-.3.3H3v11z"}),h.a.createElement("path",{fillRule:"nonzero",d:"M16 8v9h5V8h-5zm0-1h5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1z"}),this.props.windows?h.a.createElement("path",{d:"M12 14l-2.143-.306v-1.837H12V14zm-2.857-.408L7 13.286v-1.429h2.143v1.735zM12 9v2.143H9.857V9.306L12 9zm-2.857.408v1.735H7V9.714l2.143-.306z"}):null)}}]),n})(m.default);b.PropTypes={windows:g.a.bool},t.default=b}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(2104),n(19)),_=n(0),O=n.n(_),w=n(72),E=n(57),S=n(453),x=n(94),C=n(48),T=n(146),k=n(27),j=n(11),P=n.n(j),R=n(14),A=n(54),I=n(25);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var M=function(){return P()()("context-menu-create-popup")},N=["context menu","empty"],L=(function(e){h()(n,e);var t=D(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onUploadInputChange=r._onUploadInputChange.bind(d()(r)),r._onUploadClick=r._onUploadClick.bind(d()(r)),r._resetFileInput=r._resetFileInput.bind(d()(r)),r._onCreateFolderClick=r._onCreateFolderClick.bind(d()(r)),r._onCreateAlbumClick=r._onCreateAlbumClick.bind(d()(r)),r._onPopupOutsideClick=r._onPopupOutsideClick.bind(d()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(d()(r)),r._fileInputRef=O.a.createRef(),r}return l()(n,[{key:"_resetFileInput",value:function(){this._fileInputRef.current&&(this._fileInputRef.current.value="")}},{key:"_onUploadInputChange",value:function(){var e=this._fileInputRef.current&&this._fileInputRef.current.files;e&&e.length&&(this.props.upload(e).then(this._resetFileInput,this._resetFileInput),this.props.onClose())}},{key:"_onUploadClick",value:function(){this.props.maybeBlockAction({forLite:!0})?this.props.onClose():R.default.count.apply(R.default,a()(N.concat(["upload"])))}},{key:"_onCreateFolderClick",value:function(){this.props.createFolder(),this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["new folder"])))}},{key:"_onCreateResourceClick",value:function(e){var t=this.props,n=t.openEditor,r=t.idContext,i=t.onClose;n(e,r.startsWith("/disk/")||Object(I.isPathInsideVirtualDiskFiles)(r)?r:"/disk"),i(),R.default.count.apply(R.default,a()(N.concat(["new ".concat(e)])))}},{key:"_onCreateAlbumClick",value:function(){this.props.requestNewAlbumTitle(),this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["new album"])))}},{key:"_onMenuItemClick",value:function(e){switch(e.target.value){case"new-folder":this._onCreateFolderClick();break;case"docx":case"xlsx":case"pptx":this._onCreateResourceClick(e.target.value);break;case"album":this._onCreateAlbumClick();break;case"upload":this._onUploadClick()}}},{key:"_onPopupOutsideClick",value:function(){this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["close"])))}},{key:"_getResourceIconProvider",value:function(e){return function(t){return O.a.createElement(x.default,i()({cls:t},e,{size:"xs"}))}}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.position,r=e.isOfficeAllowed,i=e.isInsideVirtualDisk,o=e.hideUploadItem,a=e.restrict;return O.a.createElement(w.Popup,{className:M().mix("js-prevent-deselect"),onClose:this._onPopupOutsideClick,visible:t,view:"default",position:n,direction:["bottom-start","bottom-end","top-start","top-end"],motionless:!0},O.a.createElement(E.Menu,{className:M().e("menu"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},O.a.createElement(E.Group,null,O.a.createElement(E.Item,{key:"folder",value:"new-folder",className:M().e("item").m({"new-folder":!0}),icon:this._getResourceIconProvider({type:"dir_plus"})},"Новая папка"),r&&O.a.createElement(O.a.Fragment,null,O.a.createElement(E.Item,{key:"docx",value:"docx",className:M().e("item").m({word:!0}),icon:this._getResourceIconProvider({ext:"doc"})},"Текстовый документ"),O.a.createElement(E.Item,{key:"xlsx",value:"xlsx",className:M().e("item").m({excel:!0}),icon:this._getResourceIconProvider({ext:"xls"})},"Таблица"),O.a.createElement(E.Item,{key:"pptx",value:"pptx",className:M().e("item").m({powerpoint:!0}),icon:this._getResourceIconProvider({ext:"ppt"})},"Презентация")),i?null:O.a.createElement(E.Item,{key:"album",value:"album",className:M().e("item").m({album:!0}),icon:this._getResourceIconProvider({type:"album"})},"Альбом")),!o&&O.a.createElement(E.Group,{paddingless:!0},O.a.createElement(E.Item,{value:"upload",highlighted:!0,className:M().e("menu-item").m({type:"upload"}),icon:S.a},O.a.createElement("span",{className:M().e("upload-input-wrapper")},"Загрузить файлы",!a||i?O.a.createElement("input",{ref:this._fileInputRef,type:"file",className:M().e("upload-input"),multiple:!0,onChange:this._onUploadInputChange}):null)))))}}]),n})(_.Component),F={upload:k.upload,openEditor:k.openEditor,createFolder:k.createFolder,requestNewAlbumTitle:A.requestNewAlbumTitle,goToUrl:k.goToUrl,maybeBlockAction:k.maybeBlockAction};t.default=Object(b.connect)((function(e){var t=e.page.idContext,n=e.user.isOfficeAllowed,r=Object(C.getOverdraftType)(e),i=Object(I.isPathInsideVirtualDiskFiles)(t),o=Object(T.shouldRestrict)(e,{forLite:!0});return{idContext:t,isOfficeAllowed:n,hideUploadItem:!i&&Object(C.shouldNotifyOverdraft)(e)&&!r,isInsideVirtualDisk:i,restrict:o}}),F)(L)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=i(n(0)),u=o(n(14)),c=o(n(60)),l=o(n(107)),f=n(48),d=n(53),p=n(43),h=n(35),m=n(26),v=n(59),g=o(n(866)),y=o(n(2106)),b=o(n(133)),_=function(e){return s.default.createElement(g.default,{iconSize:"m",cls:e})};n(2107);var O=o(n(11)),w=function(){return O.default()("overdraft-block")},E=n(130).I18N,S={updateSettings:d.updateSettings},x=a.connect((function(e){return{buttonText:f.getTuningButtonInfo(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:c.default.addParams(p.getBuyButtonUrl(e),{from:"disk_overdraft_block"}),overdraftType:f.getOverdraftType(e),overdraftValue:l.default.formatSpace(f.getSpaceOverdraftValue(e)),blockOverdraftDate:f.getBlockOverdraftDate(e)}}),S);t.default=x((function(e){var t=e.buttonText,n=e.helpLink,i=e.buyButtonUrl,o=e.overdraftType,a=e.overdraftValue,c=e.blockOverdraftDate,l=e.updateSettings,f=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o?u.default.count.apply(u.default,r(["interface elements","overdrafts",o,"overdraft_header"],e)):u.default.count.apply(u.default,r(["interface elements","overdraft_header"],e))}),[o]);s.useEffect((function(){f("show")}),[f]);var d=s.useCallback((function(){f("close"),l({closedOverdraftBlock:!0})}),[l,f]),p=s.useCallback((function(){f(o?"buy_button":"buy")}),[o,f]);if(o){var g=c&&b.default(c,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),O=o===h.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(a)+". "+yr.externals.entityify(g)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее.":"Ваш Диск будет заблокирован "+yr.externals.entityify(g)+". Файлы занимают на "+yr.externals.entityify(a)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return s.default.createElement("div",{className:w(),title:O},s.default.createElement(y.default,{className:w().e("icon-exclamation")}),o===h.OVERDRAFT_TYPES.LITE?s.default.createElement(E,{className:w().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Ваш Диск переполнен на "+yr.externals.entityify(a)+"."+yr.externals.entityify(E.$1_CLOSE)+" "+yr.externals.entityify(g)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее."},s.default.createElement("b",{className:w().e("message-strong")})):s.default.createElement(E,{className:w().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Ваш Диск будет заблокирован "+yr.externals.entityify(g)+". Файлы занимают на "+yr.externals.entityify(a)+" больше, чем у вас есть."+yr.externals.entityify(E.$1_CLOSE)+" Удалите лишнее или добавьте место."},s.default.createElement("b",{className:w().e("message-strong")})),s.default.createElement(m.Button,{type:"link",url:i,className:w().e("button-add-space"),target:"_blank",size:"s",view:"raised",onClick:p},"Добавить место"))}return s.default.createElement("div",{className:w()},s.default.createElement(E,{className:w().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Доступ к Диску "+yr.externals.entityify(E.$2_OPEN)+"ограничен."+yr.externals.entityify(E.$2_CLOSE)+" Ваши файлы занимают больше места, чем у вас есть."+yr.externals.entityify(E.$1_CLOSE)+" Удалите лишнее или увеличьте объём Диска."},s.default.createElement("b",{className:w().e("message-strong")}),s.default.createElement(v.Link,{theme:"normal",className:w().e("help-link"),href:n})),s.default.createElement(m.Button,{type:"link",url:i,className:w().e("button"),target:"_blank",size:"s",view:"raised",onClick:p},t),s.default.createElement(m.Button,{className:w().e("close-button"),onClick:d,size:"s",view:"clear-inverse","aria-label":"Закрыть",icon:_}))}))}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getContentSVG=function(){return o.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0zM6.86 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14zM7.58 4h.842a.75.75 0 0 1 .747.824l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 7.58 4z"})},t})(i(n(12)).default);t.default=a}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=i(n(0)),u=o(n(755)),c=n(35),l=n(777);t.default=a.connect((function(e){var t=e.config.links,n=t.help.b2bFree,r=t.b2bAdminProducts,i=e.user;return{helpLink:n,b2bAdminProducts:r,b2b_restriction_status:i.b2b_restriction_status,isConnectAdmin:i.isConnectAdmin}}))((function(e){var t=e.helpLink,n=e.b2bAdminProducts,i=e.b2b_restriction_status,o=e.isConnectAdmin,a=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l.countB2bFree.apply(void 0,r([i,o?"notification-admin":"notification-user"],e))}),[o,i]);s.useEffect((function(){a("show")}),[a]);var f=s.useCallback((function(){a("сlick_button_buy")}),[a]),d=s.useCallback((function(){a("сlick_button_help")}),[a]),p=s.useMemo((function(){return o?i===c.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?"Для сервисов вашей организации скоро включится режим просмотра. Чтобы и дальше использовать все возможности, выберите и оплатите тариф.":"Для вашей организации сервисы переведены в режим просмотра. Выберите платный тариф, чтобы снова пользоваться всеми возможностями.":i===c.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?"Скоро сервисы организации, к которой подключён ваш аккаунт, перейдут в режим просмотра. Чтобы и дальше использовать  все возможности, свяжитесь с администратором вашей организации.":"Для вашей организации сервисы переведены в режим просмотра. Свяжитесь с администратором, чтобы восстановить вcе возможности."}),[i,o]);return s.default.createElement(u.default,{type:"warn",className:"b2b-free-block",title:p,mainButtonProps:o?{url:n,onClick:f,text:"Выбрать тариф"}:void 0,secondaryButtonProps:{url:t,onClick:d,text:"Подробнее"}})}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n(13),o=n(17),a=n(9),s=n(22);function u(e,t,n){if("dir"===n.resource.type)return e(t,n)}ns.events.on("ufo-resource-create",a.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:s.dirname(t.resource.id)});n&&n.insert(function(e){var t=ns.Model.get("tree",{id:e.id});return t.setData($.extend(!0,{resource:[]},e)),t.bindResource(),t}(t.resource),0)}),u)),ns.events.on("ufo-resource-destroy",a.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:t.resource.id});n&&n.chainDestroy()}),u)),ns.Model.define("tree",{params:{id:null},split:{model_id:"tree",items:".resource",params:{id:".id"}},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.super_._init.apply(this,t),a.bindAll(this,"chainDestroy","onResourceChanged"),this.bindResource(),this.off("ns-model-destroyed"),this.on("ns-model-destroyed",(function(e,t){!t||!t.model||t.data&&t.data.model||this.remove(t.model)}))},bindResource:function(){this.unbindResource(),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.id,{"meta.public":this.onResourceChanged,"state.hidden":this.onResourceChanged,"state.blocked":this.onResourceChanged,"state.part":this.onResourceChanged,"meta.group.gid":this.onResourceChanged,"meta.group.rights":this.onResourceChanged},(function(){}))},unbindResource:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},preprocessData:function(e){if(!e||e.error||e.code)return(e=this.getData()||{resource:[]}).state={loaded:!0},e;e.resource||(e.resource=[]),a.each(e.resource.concat([e]),(function(e){return r.default.preprocess(e)}));var t=Object(o.getResourceData)(Object(i.default)().getState(),this.params.id,"state")||{};return e.state=a.extend({loading:!1,loaded:!a.isEmpty(e.resource),expanded:!!this.get(".state.expanded")||"/disk"===this.params.id},t),e},expand:function(){this.get(".state.loading")||(this.isLoaded()?this.set(".state.expanded",!0):(this.fetch().then(this.expand.bind(this)),this.set(".state.loading",!0)))},collapse:function(){this.get(".state.expanded")&&this.set(".state.expanded",!1),this.models.forEach((function(e){e.collapse()}))},toggle:function(e){(void 0!==e?e:!this.get(".state.expanded"))?this.expand():this.collapse()},chainDestroy:function(){a.invokeMap(this.models.slice(),"chainDestroy"),ns.Model.destroy(this),this.unbindResource()},onResourceChanged:function(){if(this.isValid()){var e=this.getData(),t=Object(o.getResourceData)(Object(i.default)().getState(),this.params.id)||{},n=a.pick(e.state,"loading","loaded","expanded");a.extend(e,t),a.extend(n,t.state),e.state=n,this.setData(e)}},fetch:function(){var e=this;return ns.Model.get("queueRequest").push(this).then((function(){e.set(".state.loaded",!0)}))},isLoaded:function(){return!!this.get(".state.loaded")},isEmpty:function(){return 0===this.models.length}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(13);n(263).define("stateTree",{methods:{preprocessData:function(e){var t,n,i,o=null===(t=Object(r.default)().getState().dialogs)||void 0===t?void 0:null===(n=t.selectFolder)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.folderId;return e.selected=o||this.DEFAULT_FOLDER,e},select:function(e){this.set(".selected",e)},deselect:function(){this.select(this.DEFAULT_FOLDER)},DEFAULT_FOLDER:"/disk"}})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"listenScrollAndResize",(function(){return c})),n.d(t,"stopListenScrollAndResize",(function(){return l}));n(2122),n(2123);var r=n(9),i=n.n(r),o=$(window),a=n(867),s={},u=i.a.debounce((function(){var e={top:window.pageYOffset-window.innerHeight,bottom:window.pageYOffset+2*window.innerHeight};i.a.each(s,(function(t,n){(function(e){return!e||!e.parentNode||(e.contains?!document.body.contains(e):null===document.getElementById(e.id))})(t.node)||t.loaded?delete s[n]:a.isElInRect({el:t.node,rect:e,fnGetRectEl:a.getRect})&&t.load()}))}),100),c=function(){o.on("scroll resize",u)},l=function(){o.off("scroll resize",u)};nb.define("icon-resource",{events:{init:"onInit"},onInit:function(){this.$node=$(this.node),this.$preview=this.$node.find(".js-icon-preview"),this.$cover=this.$node.find(".js-cover-preview"),this.src=window.location.protocol+this.$preview.data("src"),this.params=this.$node.data("params"),this.load=i.a.once(this.load),0!==this.$preview.length&&(s[this.id]=this,u())},load:function(){var e=this.$preview[0];if(e){"cover"===this.params["image-sizing"]?this.$cover.css("background-image","url("+this.src+")"):this.$preview.attr("src",this.src),this.trigger("startLoading",this.src);var t=this;e.complete&&0!==e.naturalWidth?this.onPreviewLoaded():(function n(){e.complete?e.naturalWidth?t.onPreviewLoaded():t.onPreviewFailed():requestAnimationFrame(n)})()}},onPreviewLoaded:function(){this.loaded=!0,this.$node.addClass("nb-icon-resource_loaded-preview"),this.trigger("load",this.src)},onPreviewFailed:function(){this.trigger("fail",this.src)},destroy:function(){this.nbdestroy()}})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(376)),u=o(n(132)),c=n(34).cn("LimitUploadDialog"),l=n(604),f=o(n(232)),d=o(n(2129)),p=o(n(2131));n(2136);t.default=function(e){var t=e.lang,n=e.files,i=e.limitSize,o=e.onClose,h=e.onBuy,m=e.countMetrikaFn,v=e.visible,g=e.zIndexGroupLevel,y=void 0===g?1:g,b=e.useDrawer,_=e.className,O=e.dialogTitle,w=e.dialogText,E=e.buyButtonText,S=e.cancelButtonText;a.useEffect((function(){v&&m("open")}),[v,m]);var x=a.useCallback((function(){o(),m("close")}),[o,m]),C=a.useCallback((function(){h(),m("buy")}),[h,m]),T=a.useCallback((function(){o(),m("cancel")}),[o,m]),k=r({visible:v,onClose:x,closeI18n:d.default(t,"close"),className:c({touch:b},[_]),zIndexGroupLevel:y},b?{useDrawer:!0,noCloseButton:!0}:null),j=a.useMemo((function(){return n.length}),[n]),P=a.useMemo((function(){return 1===j}),[j]),R=a.useMemo((function(){var e=n.reduce((function(e,t){return e+t.size}),0);return l.getSpaceString(e,d.default(t,"spaceUnits").split("|"),d.default(t,"fractionSeparator"))}),[n,t]),A=a.useMemo((function(){return P&&n[0].name||d.default(t,"nFiles",{count:String(j)})}),[n,t,j,P]);return a.default.createElement(s.default,r({},k),a.default.createElement("div",{className:c("Image")}),a.default.createElement("div",{className:c("Title")},O||d.default(t,P?"titleSingle":"titleMulti")),a.default.createElement("div",{className:c("Text")},w||d.default(t,"text",{size:l.getSpaceString(i,d.default(t,"spaceUnits").split("|"),d.default(t,"fractionSeparator"))})),a.default.createElement("div",{className:c("Files")},a.default.createElement(p.default,{className:c("Files-Icon"),name:P?"file":"files",small:b}),a.default.createElement("div",{className:c("Files-Name"),title:P?A:""},P?a.default.createElement(f.default,{text:A,width:b?200:290}):A),a.default.createElement("div",{className:c("Files-Size")},"("+R+")")),a.default.createElement("div",{className:c("Buttons-Wrapper")},a.default.createElement(u.default,{className:c("Button-Buy"),view:"action",size:b?"xl":"xxl",onClick:C},E||d.default(t,"chooseTariff")),a.default.createElement(u.default,{className:c("Button-Cancel"),view:b?"clear":"default",size:b?"xl":"xxl",onClick:T},S||d.default(t,"close"))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(496),i={};i.ru=n(2130);t.default=function(e,t,n){return r.getComponentI18n(i,"ps-limit-upload-dialog",e,t,n,"mail-liza")}}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{})["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-limit-upload-dialog"]={chooseTariff:function(e){return"Выбрать тариф"},close:function(e){return"Закрыть"},fractionSeparator:function(e){return","},nFiles:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"файл",some:"файла",many:"файлов"})},spaceUnits:function(e){return"байт|КБ|МБ|ГБ|ТБ"},text:function(e){return"Подключите Яндекс 360 Премиум, чтобы загружать файлы размером от "+e.size},titleMulti:function(e){return"Слишком большие файлы"},titleSingle:function(e){return"Слишком большой файл"}},(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(178)(e))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(2132)),a=r(n(2133)),s=r(n(2134)),u=r(n(2135)),c={file:o.default,files:s.default,fileSmall:a.default,filesSmall:u.default};t.default=function(e){var t=e.name,n=e.className,r=e.small;return i.default.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:c[t+(r?"Small":"")]}})}}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.205 2h3.786c.775 0 1.043.028 1.34.096.297.069.56.178.818.34.258.161.468.33 1.015.878l2.522 2.522c.547.547.717.757.879 1.015.161.258.27.521.338.818.069.297.097.565.097 1.34v9.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C5.116 20.314 5 19.91 5 18.795V5.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C6.686 2.116 7.09 2 8.205 2zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v13.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V10h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C11.116 8.314 11 7.91 11 6.795V4H8.205zM13 4.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 13 4.083z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="21" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2h4.757a3 3 0 0 1 2.122.879L14 4l1.621 1.621a3 3 0 0 1 .879 2.122V16.5A1.5 1.5 0 0 1 15 18H6a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 6 2zm4.5 2v3a1 1 0 0 0 1 1h3v8h-8V4h4z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.205 1h3.786c.775 0 1.043.028 1.34.097.297.068.56.177.818.338.258.162.468.332 1.015.88l2.522 2.52c.547.548.717.758.879 1.016.161.258.27.521.338.818.069.297.097.565.097 1.34v8.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C6.116 18.314 6 17.91 6 16.795V4.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C7.686 1.116 8.09 1 9.205 1zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v12.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V9h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C12.116 7.314 12 6.91 12 5.795V3H9.205zM14 3.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 14 3.083z" fill="currentColor"></path><path d="M6 6v0a2 2 0 0 0-2 2v11a3 3 0 0 0 3 3h7a2 2 0 0 0 2-2v0" stroke="currentColor" stroke-width="2"></path></svg>'}),(function(e,t){e.exports='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 16.997a1 1 0 0 0-1-1H5.5a.5.5 0 0 1-.5-.5V7a1 1 0 1 0-2 0v8.497a2.5 2.5 0 0 0 2.5 2.5H12a1 1 0 0 0 1-1zM14.5 15h-7A1.5 1.5 0 0 1 6 13.5v-10A1.5 1.5 0 0 1 7.5 2h4c1 0 2.195.695 3 1.5.805.805 1.5 2 1.5 3v7a1.5 1.5 0 0 1-1.5 1.5zm-.5-2V4H8v9h6z" fill="currentColor"></path><path d="M11 3h1.6l1.2.8L15 5.4V7h-3a1 1 0 0 1-1-1V3z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9)),a=i(n(0)),s=n(19),u=n(26),c=n(189),l=n(130),f=n(55),d=n(23),p=n(786),h=r(n(787)),m=r(n(788)),v=i(n(33)),g=n(55),y=r(n(14));n(789);var b=r(n(11)),_=function(){return b.default()("family-folder-creation")},O=s.connect((function(e,t){var n=t.dialog;if(n&&n.data){var r=n.data,i=r.onSubmit,o=r.onClose,a=r.message,s=r.progress,u=e.config.urlAvatar;return{visible:n.state===d.STATE.OPENED,familyRoleMetrikaKey:g.getFamilyRoleMetrikaKey(e),hasFamilyFeature:g.hasFamilyFeature(e),onSubmit:i,onClose:o,urlAvatar:u,members:f.getFamilyMembers(e),progress:s,errorText:a}}return{visible:!1,familyRoleMetrikaKey:""}}));t.FamilyFolderCreationDialog=function(e){var t=e.familyRoleMetrikaKey,n=e.hasFamilyFeature,r=e.errorText,i=e.members,s=e.visible,f=e.progress,d=e.urlAvatar,g=e.onSubmit,b=e.onClose,O=a.useRef(null),w=a.useMemo((function(){return a.default.createElement(m.default,null)}),[]),E=a.useState("Моя семья"),S=E[0],x=E[1],C=a.useMemo((function(){return v.default.validateName(S)}),[S]),T=o.default.get(v.resourceNameValidationResultI18n,[C,"dir"]),k=a.useMemo((function(){return i.map((function(e){var t=e.avatar,n=e.name,r=e.leader;return{avatar:{url:""+d+t+"/islands-middle",additionalIcon:r?w:null},label:n}}))}),[i,d,w]),j=a.useCallback((function(e){x(e.target.value)}),[]),P=a.useCallback((function(e){e.preventDefault(),y.default.count("interface elements","dialog","create family folder","create",{role:t,feature:n}),g(S)}),[g,S,t,n]);a.useEffect((function(){O.current&&(s?(x("Моя семья"),O.current.select(),O.current.focus()):O.current.blur()),s&&y.default.count("interface elements","dialog","create family folder","open",{role:t,feature:n})}),[s,t,n]);var R=Boolean(r||T),A=""===S||Boolean(T);return a.default.createElement(p.FamilyModal,{visible:s,onClose:b},a.default.createElement("form",{onSubmit:P},a.default.createElement("h2",{className:_().e("title")},"Укажите название семейной папки"),a.default.createElement(c.Textinput,{className:_().e("input"),view:"default",size:"l",controlRef:O,onChange:j,value:S,disabled:f,state:R?"error":void 0,hint:r||T}),a.default.createElement("p",{className:_().e("text")},a.default.createElement(l.I18N,{loc:"К файлам этой папки получат доступ все участники "+yr.externals.entityify(l.I18N.$1)+". Доступ к файлу можно редактировать после создания."},a.default.createElement("b",null,"семейного тарифа"))),a.default.createElement(h.default,{members:k}),a.default.createElement("div",{className:_().e("button")},a.default.createElement(u.Button,{progress:f,disabled:A,view:"action",type:"submit",width:"max",size:"l"},"Создать"))))};var w=O(t.FamilyFolderCreationDialog);w.dialogName="familyFolderCreation",t.default=w}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(868));n(2141);var a=r(n(11)),s=function(){return a.default()("family-member")};t.default=function(e){var t=void 0!==e.onClick;return i.default.createElement("div",{className:s().m({button:t}),onClick:e.onClick,role:t?"button":void 0},e.avatar&&i.default.createElement("div",{className:s().e("avatar")},i.default.createElement(o.default,{url:e.avatar.url,size:28}),e.avatar.additionalIcon&&i.default.createElement("div",{className:s().e("avatar-add-icon-wrapper")},e.avatar.additionalIcon)),i.default.createElement("span",{className:s().e("label")},e.label),e.rightIcon&&i.default.createElement("div",{className:s().e("right-icon-wrapper")},e.rightIcon))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"selectArrowIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),f=n(1),d=n.n(f),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M13.3 5L8.5 9.7 3.7 5l-.7.7L8.5 11 14 5.7",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(55),s=n(19),u=n(23),c=n(786),l=i(n(787)),f=(n(2145),i(n(788))),d=i(n(2147)),p=n(55);n(789);var h=i(n(11)),m=n(26),v=function(){return h.default()("family-album-access")},g=s.connect((function(e,t){var n=t.dialog;if(n&&n.data){var r=n.data.onClose,i=e.config,o=i.urlAvatar,s=i.urlsBase.passport;return{visible:n.state===u.STATE.OPENED,hasFamilyFeature:p.hasFamilyAlbumFeature(e),onClose:r,urlAvatar:o,members:a.getFamilyMembers(e),passport:s}}return{visible:!1}}));t.FamilyAlbumAccessDialog=function(e){var t=e.members,n=e.visible,r=e.urlAvatar,i=e.onClose,a=e.passport,s=o.useMemo((function(){return o.default.createElement(f.default,null)}),[]),u=o.useMemo((function(){return o.default.createElement(d.default,null)}),[]),p=o.useMemo((function(){return t.map((function(e){var t=e.avatar,n=e.name,i=e.leader;return{avatar:{url:""+r+t+"/islands-middle",additionalIcon:i?s:null},label:n}}))}),[t,r,s]);return o.default.createElement(c.FamilyModal,{visible:n,onClose:i},o.default.createElement("div",{className:v()},o.default.createElement("h2",{className:v().e("title")},"Доступ к альбому"),o.default.createElement("p",{className:v().e("text")},"Альбом доступен всем участникам вашей семьи"),o.default.createElement(l.default,{members:p}),o.default.createElement(m.Button,{size:"m",view:"clear",type:"link",url:a+"/family",target:"_blank",className:v().e("button")},u,o.default.createElement("span",{className:v().e("text-wrapper")},"Управлять семьей"))))};var y=g(t.FamilyAlbumAccessDialog);y.dialogName="familyAlbumAccess",t.default=y}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(161),a=n(26),s=n(781);n(2146);var u=r(n(11)),c=n(764),l=function(){return u.default()("family-touch-modal")};t.TouchModal=function(e){var t=e.visible,n=e.members,r=e.passport,u=e.crossIcon,f=e.onClose,d=e.urlAvatar,p=function(e){return i.default.createElement(a.Button,{size:"m",view:e,type:"link",url:r+"/family",target:"_blank",className:l().e("button").m({clear:"clear"===e})},u,i.default.createElement("span",{className:l().e("text-wrapper")},"Управлять семьей"))};return i.default.createElement(s.Container,{className:l(),visible:t,theme:"normal",onClose:f},i.default.createElement("div",{className:l().e("body")},i.default.createElement("header",{className:l().e("header")},i.default.createElement(a.Button,{className:l().e("back-button"),view:"clear",size:"s","aria-label":"Назад",icon:o.backArrowIconProvider,onClick:f}),i.default.createElement("h2",{className:l().e("title")},"Доступ к альбому")),0===n.length?i.default.createElement("div",{className:l().e("stub")},i.default.createElement("div",{className:l().e("stub-icon")}),i.default.createElement("span",{className:l().e("stub-title")},"В вашей семье нет участников"),i.default.createElement("span",{className:l().e("stub-description")},"Вы можете добавить участников семьи  в настройках Яндекс ID"),p("raised")):i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:l().e("sub-title")},"Ваша семья"),i.default.createElement(c.FamilyMembersList,{members:n,urlAvatar:d}),p("clear"))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getContentSVG=function(){return o.default.createElement("path",{fill:"CurrentColor",d:"M14 9.503a1 1 0 0 1 1 1v3a1.5 1.5 0 0 1-1.5 1.5h-11a1.5 1.5 0 0 1-1.5-1.5v-11a1.5 1.5 0 0 1 1.5-1.5h3a1 1 0 1 1 0 2H3v10h10v-2.5a1 1 0 0 1 1-1Zm-1.7-6.716v-.324l-1.15.315a6.259 6.259 0 0 1-1.65.221c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H14a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.075-1.117.222-1.656l.313-1.147h-.32l-1.078 1.437a9.999 9.999 0 0 1-.93 1.072l-3.5 3.498a1 1 0 1 1-1.414-1.414l3.5-3.5c.334-.332.69-.641 1.065-.923L12.3 2.787Z"})},t})(i(n(12)).default);t.default=a}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(34),s=i(n(376)),u=i(n(132));n(2149);var c=i(n(2150)),l=a.cn("DocsCopyConfirmDialog");t.default=function(e){var t=e.className,n=e.onClose,r=e.onSubmit,i=e.visible,a=e.toExtension,f=e.useDrawer,d=e.lang,p=e.countMetrikaFn,h=e.autofocusSubmit,m=void 0===h||h,v=o.useRef(null);o.useEffect((function(){m&&requestAnimationFrame((function(){v.current&&v.current.focus()}))}),[i,m]),o.useEffect((function(){i&&p("open")}),[i,p]);return o.default.createElement(s.default,{useDrawer:f,noCloseButton:f,title:c.default(d,"dialog-docs-copy-confirmation_title",{toExtension:null===a||void 0===a?void 0:a.toUpperCase()}),onClose:function(){n(),p("close")},visible:i,className:l({touch:f},[t]),closeI18n:c.default(d,"close")},o.default.createElement("div",{className:l("modal")},o.default.createElement("span",{className:l("description")},c.default(d,"dialog-docs-copy-confirmation_subtitle")),o.default.createElement("div",{className:l("btn-wrapper")},o.default.createElement(u.default,{className:l("button"),view:"default",size:f?"xl":"m",onClick:function(){n(),p("click cancel")}},c.default(d,"dialog-docs-copy-confirmation_cancel")),o.default.createElement(u.default,{innerRef:v,className:l("button"),view:"action",size:f?"xl":"m",onClick:function(){r(),p("click submit")}},c.default(d,"dialog-docs-copy-confirmation_submit")))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(496);!(function(e){e.en="en",e.ru="ru",e.tr="tr",e.uk="uk"})(r||(r={}));var o={};o.ru=n(2151);t.default=function(e,t,n){return i.getComponentI18n(o,"dialog-docs-copy-confirmation",e,t,n)}}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_web=t.yandex_disk_web||{},t.yandex_disk_web["dialog-docs-copy-confirmation"]={close:function(e){return"Закрыть"},"dialog-docs-copy-confirmation_cancel":function(e){return"Отмена"},"dialog-docs-copy-confirmation_submit":function(e){return"Создать копию и редактировать"},"dialog-docs-copy-confirmation_subtitle":function(e){return"Копию можно редактировать. Исходный файл будет доступен для просмотра на Диске."},"dialog-docs-copy-confirmation_title":function(e){return"Формат файла устарел. Создайте копию в "+e.toExtension}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(178)(e))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(19),v=n(0),g=n.n(v),y=n(136),b=n(23),_=n(15),O=n(13),w=n(75),E=n(20),S=n(9),x=n.n(S),C=n(11),T=n.n(C),k=n(42),j=(n(2153),n(99));function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var R=Object(j.default)({loader:function(){return n.e(2).then(n.bind(null,2205))},isDialog:!0}),A=Object(j.default)({loader:function(){return n.e(3).then(n.t.bind(null,2201,7))},isDialog:!0}),I=(function(e){l()(n,e);var t=P(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.maybeFetchFolder()}},{key:"componentDidUpdate",value:function(e){e.resourceId!==this.props.resourceId&&this.props.visible&&this.maybeFetchFolder(),e.resourceId!==this.props.resourceId||this.props.resource||this._onDialogClose()}},{key:"maybeFetchFolder",value:function(){var e=this;if(!this.props.resource){var t=this.props.resourceId;this.props.fetchSingleResource(t).then((function(t){Object(E.can)(E.SHARE_ACCESS,t,Object(O.default)().getState())||e._onDialogClose()})).catch((function(){e._onDialogClose()}))}}},{key:"_onDialogClose",value:function(){this.props.visible&&this.props.closeDialog("access-folder")}},{key:"render",value:function(){return this.props.resource?g.a.createElement(y.default,{cls:T()()("access-folder-dialog").mix(k.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},this.props.visible?this.props.isNewAccessFolderExp?g.a.createElement(A,null):g.a.createElement(R,null):null):null}}]),n})(v.Component),D={closeDialog:b.closeDialog,fetchSingleResource:_.fetchSingleResource},M=Object(m.connect)((function(e,t){var n=t.dialog,r=x.a.get(e,"page.originalNSParams.idDialog");return{visible:n&&n.state===b.STATE.OPENED,resourceId:r,resource:r&&e.resources[r],isNewAccessFolderExp:Object(w.getIsNewAccessFolderExp)(e)}}),D)(I);M.dialogName="access-folder",t.default=M}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2155)),s=o(n(2156)),u=o(n(2157)),c=o(n(2158)),l=o(n(2159)),f=o(n(2160)),d=o(n(2161)),p=o(n(2162)),h=o(n(2163)),m=o(n(2164)),v=[{size:24,url:a.default},{size:32,url:s.default},{size:64,url:u.default},{size:72,url:c.default},{size:120,url:l.default},{size:152,url:f.default},{size:167,url:d.default},{size:180,url:p.default},{size:192,url:h.default},{size:512,url:m.default}];t.default=i(v.map((function(e){return r(r({},e),{rel:"icon"})})),v.map((function(e){return r(r({},e),{rel:"apple-touch-icon"})})))}),(function(e,t){e.exports="/s3/disk/_/_dLiDw0Ops4o7TpmL59j2LxNpCTj.png"}),(function(e,t){e.exports="/s3/disk/_/_2onFaQAK8wbPguoNvUo365LChdc.png"}),(function(e,t){e.exports="/s3/disk/_/_e5Lih-IUDMdP8msksc1dFYQqtLL.png"}),(function(e,t){e.exports="/s3/disk/_/_1oXby-5uE6PMd_65Tw7yFLe2sN5.png"}),(function(e,t){e.exports="/s3/disk/_/_9MX6afd-pJtBPSHep5WXi8iLycD.png"}),(function(e,t){e.exports="/s3/disk/_/_46WE4LTx01WFhtbq75mfhvArswE.png"}),(function(e,t){e.exports="/s3/disk/_/_bhdoV4ugtta7q9O-a5yXF9-cspc.png"}),(function(e,t){e.exports="/s3/disk/_/_DFML0rcO3JNoIzdkP3UxjpU0gq.png"}),(function(e,t){e.exports="/s3/disk/_/_bknTExFJzyUb8T26iO8p42qIVCX.png"}),(function(e,t){e.exports="/s3/disk/_/_4zn7edgAovua6xlZ_g_2tmhGwgf.png"}),(function(e,t,n){var r=n(9),i=n(22),o=n(60),a=n(35),s=function(e){var t=/^\/vd\/([^\/]+)/.exec(e);return t&&t[0]&&t[0]+"/search"},u=function(e){return"/journal"===e||/^\/vd\/[^\/]+\/journal$/.test(e)};e.exports=function(e){var t=e.ns,c=e.defaultFolders,l=e.settings,f=e.config,d=e.environment,p=["docx","xlsx","pptx"];r.extend(t.router.regexps,{dialog:["dropzone","upload","slider","access-folder","import-social","export-social","select"].join("|"),page:["docs","tuning","payment"].join("|"),service:["vkontakte","facebook","odnoklassniki"].join("|"),slice:"\\/(?:"+["albums","photo","journal","error"].join("|")+")",action:["add-to-album","create-album"].join("|"),recent:"/recent",doctype:p.join("|")});var h=function(e){if(f.isDocsHost)return"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:"");var r=t.params2query(e);return r=r?"?"+r:"","/feed"===l.lastContext?"/client/disk"+r:("undefined"!=typeof window&&n(14).count("navigation","via redirect",l.lastContext.slice(1)),"/client"+l.lastContext+r)},m=function(e){if(!c.hasVirtualDisks||e.path&&!/^\/([^/]+)\/(trash|disk|search|journal)($|\/|\|)/.test(e.path))return"/client/disk"},v=function(e){if("/album"===e.path&&!d.session.experiment.showFamilyAlbum)return"/client/disk";var t="undefined"==typeof window;return t&&!c.familyFolders||!t&&!n(13).default().getState().defaultFolders.familyFolders?"/client/disk":void 0};return{redirect:{"/":h,"/client":h,"/docs":function(e){return f.isDocsHost?e.type&&p.includes(e.type)?void 0:"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:""):"/client/disk"},"/docs/{type:doctype}":function(e){return o.addParams("/docs",e)},"/client/feed":function(e){return"item"!==e.feedType?e.notifications_open?"/client/recent?notifications_open=1":"/client/recent":"/client/published"},"/client/mail":"/client/disk","/auth":"/client/disk","/client{slash:slashOptional}":"/client/disk","/client/hidden":"/client/disk","/client/hidden{path:path}":"/client/disk","/client/share":"/client/disk","/client/share{path:path}":"/client/disk","/client/camera":"/client"+c.folders.photostream,"/client/downloads":"/client"+c.folders.downloads,"/client/screenshots":"/client"+c.folders.screenshots,"/client/social":"/client"+c.folders.social,"/client/yavideo":"/client/disk","/client/yavideo{path:any}":"/client/disk","/client/journal{path:path}":"/client/journal","/folder":"/client/disk","/search-app":"/client/photo","/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/payment":"/tuning","/payment{path:any}":function(e){return"/tuning".concat(i.escape(e.path))},"/pay{path:any}":"/tuning","/tuning/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/tuning-soft":"/tuning","/client/search":function(e){if(!Object.values(a.SEARCH_SCOPES).includes(e.scopeSearch))return"/client/disk"},"/client/vd":m,"/client/vd{path:any}":m,"/client/family":v,"/client/family{path:any}":v,"/{path:any}":function(e){return(!f.isDocsHost||(d.session.experiment.deleteScansExperiment?"view"===e.idPage||["","docs","docs/view","client/error"].includes(e.path):["scans","view"].includes(e.idPage)||["","docs","docs/scans","docs/view","client/error"].includes(e.path)))&&(!f.isDocsHost||"view"!==e.idPage||e.url&&!d.agent.isMobile)?void 0:"/docs?type=docx"}},route:{"/notes":"notes","/client/albums/{albumId:any}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}{slash:slashOptional}{service:service}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/client{idContext:slice}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}{idAlbum:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}{slash:slashOptional}{service:service}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}/{idPage:any}":"client-dualPane","/client{idContext:path}":"client-dualPane","/client/search":"client-dualPane","/{page:page}/{idPage:any}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}":"client-dualPane"},rewriteParams:{notes:function(){if("undefined"!=typeof window){var e=n(13).default,t=n(2166),r=t.goToNotes;e().dispatch(r())}},client:g,"client-dualPane":g}};function g(e){if(e.idApp="client",e.albumId)return (function(e){return e.idContext="/album/"+e.albumId,e})(e);if(u(e.idContext))return (function(e){return e.scopeSearch=e.idContext,e})(e);if(delete e.slash,delete e.separator,e.querySearch&&e.scopeSearch){var t=s(e.idContext);e.idContext=(t?t+"/":"/search/")+(e.typeSearch?e.typeSearch+"/":"")+e.querySearch+e.scopeSearch}if("select"===e.dialog&&(e.selectResource=e.idDialog,delete e.dialog,delete e.idDialog),"access-folder"===e.dialog&&(e.reduxDialog=e.dialog,delete e.dialog),e.idApp="client","undefined"!=typeof window){var r=(0,n(13).default)().getState();if("scans"===e.idPage){var i=n(134).getScansPath;e.idContext=i(r)}if(e.idContext){var o=(0,n(97).getStatesContext)(r,e.idContext);o.dialog&&(e.dialog=o.dialog)}}return e}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"goToNotes",(function(){return i}));var r=n(14),i=function(){return function(){r.default.count(["interface elements","header","promo notes","click link"]),location.assign("/notes")}}}),(function(e,t,n){"use strict";n.r(t);n(900),n(901);var r=n(541),i=n.n(r);window.yr=i.a;n(939);var o=n(802),a=n.n(o);window.nb=a.a;n(940);var s=n(803),u=n.n(s);window.Vow=u.a;n(942);var c=n(408),l=n.n(c);n(600),n(943);window.no=l.a;n(944),n(971),n(972),n(973),n(974),n(975),n(976),n(977),n(978),n(979),n(980),n(981),n(307);var f,d=n(9),p=n.n(d),h=n(21),m=n.n(h),v=n(10),g=n.n(v),y=n(9),b=n(90),_=n(35),O=n(22),w=n(107),E=n(96),S=n(33).default,x=n(199),C=n(60),T=n(1628),k=n(265),j=n(717),P=n(1629),R=n(46),A=n(64).getPreloadedData,I=n(214);y.pluck=function(e,t){return y.map(e,(function(e){return e[t]}))};var D=(f={entityify:ns.entityify,deentityify:ns.deentityify,encodeURIComponent:encodeURIComponent,escapePath:O.escape,isParent:O.isParent,dirname:O.dirname,basename:O.basename,extname:O.extname,getAlias:S.getAlias,capitalize:E.capitalize,trim:$.trim,round:Math.round.bind(Math),range:function(){return y.range.apply(y,arguments).map((function(e){return{data:e}}))},getConfig:function(){return[{data:b}]},getEnvironment:no.value(A("environment")),getConsts:no.value(_),makeUrlRelative:C.makeRelative,isYateamNDA:S.isYateamNDA,replaceParam:C.replaceParam,stringCrop:E.crop,breakNumber:E.breakNumber,substring:function(e,t,n){return(e=e||"").substr(t,n)},stringLength:function(e){return e.length},json:function(e){return JSON.stringify(e[0].data)},parseJSON:function(e){return[{data:JSON.parse(e[0].data)}]},timestampToDate:x.timestampToDate,timestampCurrent:function(){return(new Date).getTime()/1e3},getTimestamp:function(e){return new Date(e).getTime()/1e3},reverse:function(e){return y.clone(e).reverse()},last:function(e){return[y.last(e)]},contains:function(e,t){return e.some((function(e){return e.data===t}))},formatSpace:w.format,breakLongWords:function(e,t){void 0===t&&(t=12);var n=new RegExp(".{1,"+t+"}","g");return y.map(e.split(" "),(function(e){return y.map(e.match(n)||[],ns.entityify).join("<wbr />")})).join(" ")},sum:function(e){return y.reduce(y.pluck(e,"data"),(function(e,t){return e+t}),0)},now:function(){return Math.round(Date.now()/1e3)},modernizr:function(e){return I[e]},split:function(e,t,n){var r=e.split(t,n),i=[];return $.each(r,(function(e,t){i.push({data:t})})),i},split2Nodeset:function(e,t){return yr.array2nodeset(e.split(t||","))},join:function(e,t){return y.pluck(y.pluck(e,"data"),"item")[0].join(t||",")},toLowerCase:function(e){return e.toLowerCase()},maxAmongItems:function(e){var t=yr.nodeset2data(e);return e.length<2?t:y.max(t)},getFullYear:function(){return(new Date).getFullYear()}},g()(f,"nb-extend",(function(e,t){if(t&&t[0])if("string"==typeof t)e[0].data.content=t;else{var n=e[0].data,r=t[0].data,i=y.extend({},n,r);e[0].data=i}return e})),g()(f,"nb-wrap",(function(e,t){var n={};return t&&t.length&&(n[e]=1===t.length?t[0].data:y.pluck(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]})),g()(f,"nb-uniq",k),g()(f,"isUrlWebClient",(function(e){return 0===e.indexOf(b.links.disk+"/client")})),g()(f,"getTitleSocial",j.getTitleSocial),g()(f,"getMessageError",j.getMessageError),g()(f,"getPeriodsPhoto",(function(e){var t=yr.nodeset2data(e),n=[{data:{year:t[0].year,months:[]},name:"",parent:null}];return y.each(t,(function(e){if(!e.isEmpty){var t=n[n.length-1].data,r={name:e.month,id:e.id};e.year!==t.year?n.push({data:{year:e.year,months:[r]},name:"",parent:null}):t.months.push(r)}})),n})),g()(f,"toLowerCase",(function(e){return e.toLowerCase()})),g()(f,"getNameContextMetrika",T.getNameContext),g()(f,"getViewportWidth",(function(){return P.deviceWidth})),g()(f,"getViewportHeight",(function(){return P.deviceHeight})),g()(f,"addParamsUrl",C.addParams),g()(f,"getHost",C.getHost),g()(f,"createIdFromString",E.createId),g()(f,"isFeedContext",R.isFeedContext),g()(f,"getIconByService",n(1630)),g()(f,"canPlayAudio",n(229).default),f);"undefined"!=typeof i18n&&(D.i18n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i18n.apply(void 0,[e].concat(m()(n.map(ns.entityify))))},D.i18n_unsafe=i18n);var M=D,N=(n(605),n(817)),L=n.n(N),F=n(14),B=n(466),U=n(33),z=n(46),V=n.n(z),H=n(137),W={listing:function(e){var t=e.params;return!t.dialog&&(/^\/disk/.test(t.idContext)||["/trash","/shared","/published","/recent","/family"].includes(t.idContext))},slider:function(e){return"slider"===e.params.dialog},photo:function(e){var t=e.params;return!t.dialog&&"/photo"===t.idContext},albums:function(e){return"/albums"===e.params.idContext},album:function(e){return"client-album"===e.page&&/^[^/]+$/.test(e.params.url)},journal:function(e){return"/journal"===e.params.idContext},remember:function(e){return e.params.idContext&&e.params.idContext.startsWith("/remember/")}},G=n(90),q=n.n(G),Y=n(74),K=n(20),J=n(18),X=n(13),Z=n(17),Q=n(27),ee=n(314),te=n(23),ne=n(71),re=n(51),ie=n(82),oe=n(36),ae=n(134),se=n(267),ue=n(226),ce=n(722),le=n(25),fe=n(547),de=n(203),pe=n(158);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(106),n(1633),n(1634),n(1635),n(1637),n(1638),n(1641),n(1642),n(1644),n(1646),n(853),n(1649),n(1653);var ve=n(9),ge=n(90),ye=n(46),be=n(22),_e=n(88);n(1654),n(1676),n(1677),ns.action.define("listing.openFolder",(function(e,t){return!!(t.id!==ns.page.current.params.idContext||"/journal"===t.id||"/photo"===t.id&&ns.page.current.params.filter||ns.page.current.params.idDialog)&&(t.from&&F.default.countNavigation(t.id,t.from),ye.go("/client"+be.escape(t.id)+Object(fe.getDebugSearchParams)()),!0)})),ns.action.define("selected.create-operation",(function(e,t){ns.action.run(t.actionName,{idsResources:Object(X.default)().getState().statesContext.selected})})),ns.action.define("resource.restore",(function(e,t){var n=function(e){return e.idsResources?_e.create("restore",ve.map(e.idsResources,(function(e){return{idSrc:e}}))):(_e.create("restore",{idSrc:e.id}),ye.isSearch()&&F.default.count("about search","actions","restore")),!0};return Object(X.default)().getState().environment.agent.isMobile?(ve.defer(n,t),!1):n(t)})),ns.action.define("resource.upload",(function(e,t){var n,r,i=me({},t),o=i.folderDst||ns.page.current.params.idContext,a=Object(X.default)().getState();if(Object(oe.isDocsPage)(a)&&(i.files=Array.isArray(i.files)?i.files.filter(ue.filterDocsFiles):Object.values(i.files).filter(ue.filterDocsFiles),i.folders&&(i.folders=[]),t.files.length===i.files.length&&(null===(n=t.folders)||void 0===n?void 0:n.length)===(null===(r=i.folders)||void 0===r?void 0:r.length)||Object(X.default)().dispatch(Object(ie.showNotAllowedExtNotification)()),0===i.files.length))return Vow.resolve();var s=Object(J.collectEntriesStats)([].concat(m()(i.files||[]),m()(i.folders||[])),a.environment.session.requestId),u=function(){var e=Object.assign({statsId:s},i);i.dropzone?setTimeout((function(){Object(X.default)().dispatch(Object(ne.l)(o,e))}),50):Object(X.default)().dispatch(Object(ne.l)(o,e)),Object(X.default)().dispatch(Object(ie.redirectToDocsPageOnLoadFiles)(i.files))};return i.folderDst||(/^\/disk(?:$|\/)/.test(o)||Object(le.isPathInsideVirtualDiskFiles)(o))&&!Object(Y.isReadOnlyVdResource)(o,a)&&Object(Z.isExistsResource)(a,o)&&!Object(Z.getResourceData)(a,o,"meta.group.readonly")&&!Object(ae.isScansPage)(a)?(u(),Vow.resolve()):(ns.Model.get("stateTree").set(".selected","/disk"),new Promise(function(e,t){Object(X.default)().dispatch(Object(re.add)("select-folder",{dialogParams:{type:"upload",title:"Куда загрузить?",submitButtonText:"Загрузить"},onSubmit:function(t){var n=t.folderId;o=n,u(),e()},onReject:function(){t()}}))}))})),ns.action.define("resource.delete",(function(e,t){var n=Object(X.default)().getState(),r=function(e){return Object(Z.getResourceData)(n,e)},i={delete:[],leaveFolder:[]};(Array.isArray(t.idsResources)&&t.idsResources.map(r)||[r(t.id)]).filter(Boolean).forEach((function(e){ve.get(e,"meta.group.is_root")&&!ve.get(e,"meta.group.is_owned")?i.leaveFolder.push(e):i.delete.push(e)}));var o=function(e){e.on("ns-model-changed.status",(function(){if("done"===e.get(".status")){var t=ns.page.current.params.idContext,n=e.get(".idSrc");n&&(be.isParent(n,t)||t===n)&&ye.go("/client"+be.escape(be.dirname(n)))}}))};return ve.defer((function(){var e=[];Object.keys(i).forEach((function(t){var n=i[t].map((function(e){return (function(e,t){be.isParent("/attach/yaruarchive",e)&&F.default.count("interface elements","yaru","actions","delete"),be.isParent("/attach/YaFotki",e)&&F.default.count("interface elements","yafotki","actions","delete"),ye.isSearch()&&F.default.count("about search","actions","delete"),"leaveFolder"===t&&F.default.count("actions","shared folders","leave folder","by deleting")})(e.id,t),{idSrc:e.id}}));n=1===n.length?n[0]:n,e=e.concat(_e.create(t,n))})),e.forEach(o)})),Object(X.default)().getState().environment.agent.isMobile})),ns.action.define("resource.copy",(function(e,t){return t.idResources?_e.create("copy",ve.map(t.idResources,(function(e){return me({idSrc:e.id},e.albumId&&{albumId:e.albumId,itemId:e.itemId})}))):(function(e,t){be.isParent("/attach/yaruarchive",e)?F.default.count("interface elements","yaru","actions","copy"):be.isParent("/attach",e)&&F.default.count("interface elements","mail attachments","/attach","actions","copy"),ye.isSearch()&&F.default.count("about search","actions","copy"),t&&F.default.count("family album","actions","copy")}(t.id,Boolean(t.albumId)),_e.create("copy",me({idSrc:t.id},t.albumId&&{albumId:t.albumId,itemId:t.itemId})))})),ns.action.define("resource.move",(function(e,t){var n;t.idsResources?n=_e.create("move",ve.map(t.idsResources,(function(e){return{idSrc:e,idFolderDst:t.idFolderDst}}))):(t.id,ye.isSearch()&&F.default.count("about search","actions","move"),n=_e.create("move",{idSrc:t.id,idFolderDst:t.idFolderDst}));var r=function(e){e.on("ns-model-changed.status",(function(){if("done"===e.get(".status")){var t=ns.page.current.params.idContext,n=e.get(".idSrc"),r=e.get(".idDst");n&&r&&(be.isParent(n,t)||t===n)&&ye.go("/client"+be.escape(t.replace(new RegExp("^"+n),r)))}}))};return ve.isArray(n)?ve.each(n,r):r(n),n})),ns.action.define("resource.rename",(function(e,t){var n=t.id,r=_e.create("rename",{idSrc:n,nameProposed:t.name});return r.on("ns-model-changed.status",(function(){var e=ns.page.current.params.idContext,t=r.get(".idSrc"),n=r.get(".idDst");if("done"===r.get(".status")&&t&&n&&(be.isParent(t,e)||e===t)){var i="/client"+e.replace(new RegExp("^"+$.ui.autocomplete.escapeRegex(t)),n);ye.go(be.escape(i))}})),r})),ns.action.define("folder.create",(function(e,t){return _e.create("createFolder",{idFolderDst:ns.page.current.params.idContext,creatingFamilyFolder:t.isFamily,creatingSharedFolder:t.isFamily})})),ns.action.define("dialog-create-shared-folder.open",(function(){var e=_e.create("createFolder",{idFolderDst:"/shared",creatingSharedFolder:!0});e.on("status.done",(function(){ns.action.run("dialog-access-folder.open",{id:e.get(".idDst")})}))})),ns.action.define("dialog-access-folder.open",(function(e,t){var n=t.id,r=ns.Model.get("inviteesFolder",{idFolder:n});r.isValid()?(r.syncDataLinked(),r.syncOrder()):r.fetch();var i=ns.router.generateUrl(ns.page.current.page,Object.assign({},ns.page.current.params,{reduxDialog:"access-folder",idDialog:n}));return ye.go(i)})),ns.action.define("resource.unshare",(function(e,t){return Object(X.default)().dispatch(Object(te.closeDialog)("access-folder")),F.default.count("interface elements","folder access dialog","revoke access for all"),_e.create("unshare",{idSrc:t.id})})),ns.action.define("form-invite-folder.invite",(function(e,t){if(!Object(X.default)().dispatch(Object(Q.maybeBlockAction)({forLite:!0}))){var n=t.id,r=ns.Model.get("stateFormInviteFolder",{id:n}),i=r.get(".userid"),o=r.get(".id"),a={idSrc:n,userIndex:o,userid:i,rights:r.get(".rights")||660};if(a.userid){var s=ns.Model.get("inviteesFolder",{idFolder:n}).getItemByEmail(i);s||(s=ns.Model.get("contact",{userid:o})),a.service=s.get(".service")}_e.create("inviteFolder",a),r.reset(),F.default.accumulate("interface elements","folder access dialog","invite")}})),ns.action.define("user-access-folder.invite",(function(e,t){var n=Object(X.default)();if(!n.dispatch(Object(Q.maybeBlockAction)({forLite:!0}))){var r=n.getState(),i=t.idSrc,o=_e.create("inviteFolder",ve.extend(t,{idSrc:i}));return F.default.accumulate("interface elements","folder access dialog","invite"),Object(Z.isExistsResource)(r,i)&&!Object(Z.getResourceData)(r,i,"meta.group.gid")&&F.default.count("actions","shared folders","share folder (first invite)","640"===String(t.rights)?"ro":"rw"),o}})),ns.action.define("user-access-folder.resend",(function(e,t){Object(X.default)().dispatch(Object(Q.maybeBlockAction)({forLite:!0}))||(_e.create("inviteFolder",ve.extend(t,{idSrc:t.idSrc})),F.default.count("actions","shared folders","invite user","resend invite"))})),ns.action.define("user-access-folder.change-rights",(function(e,t,n){var r=$(n).closest(".js-user-folder-rights")[0],i=t.idFolder,o=ns.Model.get("inviteeFolder",{id:t.idInvitee,idFolder:i}),a=ns.Model.get("stateInviteeFolder",{id:t.idInvitee,idFolder:i});if(r){var s=String(ce.a[nb.block(r).getState().value]);if("approved"!==o.get(".status")&&("0"!==s||"contact"===o.get(".status")))return void a.set(".rights",s);if(s===o.get(".rights"))return;"0"===s?(F.default.count("actions","shared folders","revoke access"),F.default.count("interface elements","folder access dialog","revoke access")):(F.default.count("actions","shared folders","change access rights","640"===s?"ro":"rw"),F.default.count("interface elements","folder access dialog","change access rights","640"===s?"ro":"rw")),_e.create("accessFolder",{idSrc:i,rights:s,idInvitee:t.idInvitee})}return!0})),ns.action.define("trash.clean",(function(){return setTimeout((function(){Object(X.default)().dispatch(Object(ee.doCleanTrash)())}),100),!0})),ns.action.define("app.search",(function(e,t){return Object(pe.isJournalIdContext)(t.scopeSearch)?(F.default.count.apply(F.default,m()(de.textFilterMetrika)),Object(X.default)().dispatch(Object(se.setJournalFilter)({id:Object(pe.getJournalId)(t.scopeSearch),filters:{text:t.querySearch}}))):ns.action.run("app.search-disk",t)})),ns.action.define("app.search-disk",(function(e,t){return ns.Model.invalidate("resources",(function(e){return e.params.querySearch&&e.params.scopeSearch})),ye.go(ye.getUrlBase({querySearch:t.querySearch,scopeSearch:t.scopeSearch,typeSearch:t.typeSearch})),!0})),ns.action.define("editor.open",(function(e,t){var n=function(e){var n=ge.links.disk+"/editnew/"+t.extension+be.escape(e)+"?sk="+ge.skExternal;t.source&&(n+="&source=".concat(t.source)),t.filename&&(n+="&filename=".concat(encodeURIComponent(t.filename))),window.open(n,"_blank")},r=t.idContext,i=Object(X.default)().getState();r&&Object(Z.isExistsResource)(i,r)&&Object(K.can)(K.CREATE_INSIDE,Object(Z.getResourceData)(i,r),i)?n(r):Object(X.default)().dispatch(Object(re.add)("select-folder",{dialogParams:{type:"create-document",title:"Выберите место для нового документа"},onSubmit:function(e){var t=e.folderId;n(t)}}))}));var Oe=n(268),we=n(9),Ee=n(88),Se=["copy","move","trash"],xe=new Oe.a("/check-online");ns.Model.define("operationsActive",{events:{"ns-model-init":"oninit"},methods:{oninit:function(){var e=this;xe.addOnlineEventListener((function(){e.revive()}))},preprocessData:function(e){return we.filter(e,(function(e){return we.includes(Se,e.type)}))},revive:function(){return ns.request([this]).then(this.createOperations.bind(this))},createOperations:function(){var e=this.getData();we.each(e,(function(e){Ee.catchUp(e)}))}}});var Ce,Te=n(3),ke=n.n(Te),je=n(4),Pe=n.n(je),Re=n(8),Ae=n.n(Re),Ie=n(6),De=n.n(Ie),Me=n(7),Ne=n.n(Me),Le=n(1),Fe=n.n(Le),Be=(n(1681),n(19)),Ue=n(0),ze=n.n(Ue);n(1682);Ce=n(2176).default;var Ve=function(){return ze.a.createElement(ze.a.Fragment,null,ze.a.createElement(Ce,null))},He=n(559),We=(n(1828),n(147)),Ge=n(37),$e=n(42),qe=n(69),Ye=n(29),Ke=n.n(Ye),Je=n(138),Xe=n.n(Je),Ze=n(205),Qe=n.n(Ze),et=n(176);var tt=function(e,t){Object.keys(t).forEach((function(n){"x"!==n&&"y"!==n&&"scale"!==n&&(e.style[n]=t[n])}));var n="";void 0===t.x&&void 0===t.y||(n+="translate3d(".concat(t.x||0,"px, ").concat(t.y||0,"px, 0)")),void 0!==t.scale&&(n+=" scale(".concat(t.scale,")")),n&&(e.style.webkitTransform=e.style.transform=n)},nt=(function(){function e(t,n,r){ke()(this,e),this._viewportSize=t,this._elements=n,this._elementsSize=r}return Pe()(e,[{key:"start",value:function(e,t){this._initialData=t,this._currentData=this._extractTransformData(e),this._toggleElementsTransform(!0)}},{key:"move",value:function(e){this._currentData=this._extractTransformData(e),this._onMove(),this._applyChangesToElements(this._currentData)}},{key:"end",value:function(){var e=this,t=this._isTransformComplete(),n=t?this._getCompleteTransformValues():this._getInitialTransformValues(),r=Object.keys(this._currentData).some((function(t){return e._currentData[t]!==n[t]}))?200:void 0;return Promise.resolve(this._applyChangesToElements(n,r)).then((function(){return e._finishTransform(),t?e._getTransformResult():Promise.reject(!1)}))}},{key:"_onMove",value:function(){}},{key:"_extractTransformData",value:function(e){}},{key:"isExternalFinishTransform",value:function(){return!1}},{key:"_finishTransform",value:function(){this.isExternalFinishTransform()||this._toggleElementsTransform(!1)}},{key:"finishTransform",value:function(){this._toggleElementsTransform(!1)}},{key:"_getCompleteTransformValues",value:function(){}},{key:"_getInitialTransformValues",value:function(){return{}}},{key:"_getTransformResult",value:function(){}},{key:"_isTransformComplete",value:function(){return!1}},{key:"_calculateElementStyles",value:function(e){}},{key:"_applyChangesToElements",value:function(e,t){var n=this,r=[];if(this._eachElement((function(i){var o=n._setStylesToElement(i,n._calculateElementStyles(e),t);t&&r.push(o)})),t)return Promise.all(r)}},{key:"_setStylesToElement",value:function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),tt(e,{transition:""})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),tt(e,o)});tt(e,t)}},{key:"_toggleElementsTransform",value:function(e){this._eachElement((function(t){t.classList.toggle("new-composite-layer",e),e||(t.style.transform="",t.style.opacity="")}))}},{key:"_eachElement",value:function(e){var t=this;this._elements instanceof Element?e.call(this,this._elements):Object.keys(this._elements).forEach((function(n){t._elements[n]&&e.call(t,t._elements[n],n)}))}}]),e})();function rt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var it=(function(e){De()(n,e);var t=rt(n);function n(e,r){var i;return ke()(this,n),(i=t.call(this,e,r))._elements=r,i._neighbourName="",i}return Pe()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaX:e.deltaX}}},{key:"_isTransformComplete",value:function(){var e=Math.abs(this._currentData.deltaX)/this._viewportSize.width;return Boolean(e>.3&&this._elements[this._neighbourName])}},{key:"_getCompleteTransformValues",value:function(){return{deltaX:this._viewportSize.width*Math.sign(this._currentData.deltaX)}}},{key:"_getInitialTransformValues",value:function(){return{deltaX:0}}},{key:"_onMove",value:function(){this._neighbourName=this._currentData.deltaX<0?"next":"prev"}},{key:"_applyChangesToElements",value:function(e,t){var n=[this._setStylesToElement(this._elements.current,this._calculateMainItemStyles(e),t)];if(this._elements[this._neighbourName]){var r=this._setStylesToElement(this._elements[this._neighbourName],this._calculateNeighbourItemStyles(e),t);n.push(r)}return Promise.all(n)}},{key:"_getTransformResult",value:function(){return-Math.sign(this._currentData.deltaX)}},{key:"_calculateMainItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return 0===e.deltaX?{x:0,opacity:1,scale:1}:e.deltaX<0?{x:e.deltaX,opacity:1-t,scale:1}:{x:0,opacity:1-t,scale:1-.2*t}}},{key:"_calculateNeighbourItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return{x:"prev"===this._neighbourName?e.deltaX-this._viewportSize.width:0,opacity:t,scale:.8+.2*t}}}]),n})(nt);function ot(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var at=(function(e){De()(n,e);var t=ot(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaY:e.deltaY}}},{key:"_getTransformResult",value:function(){return!0}},{key:"_getInitialTransformValues",value:function(){return{deltaY:0}}},{key:"_getCompleteTransformValues",value:function(){return{deltaY:Math.sign(this._currentData.deltaY)*this._viewportSize.height}}},{key:"_isTransformComplete",value:function(){return Math.abs(this._currentData.deltaY/this._viewportSize.height)>.2}},{key:"_calculateElementStyles",value:function(e){var t=Math.abs(e.deltaY/this._viewportSize.height);return{y:e.deltaY,opacity:1-t}}}]),n})(nt);function st(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var ut=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},ct=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},lt=(function(e){De()(n,e);var t=st(n);function n(e,r,i){var o;return ke()(this,n),(o=t.call(this,e,r,i))._elementsSize=i,o}return Pe()(n,[{key:"_extractTransformData",value:function(e){var t=this._currentData||this._initialData;this.dx=this.dx||0,this.dy=this.dy||0;var n=Math.min(e.scale*this._initialData.scale,10),r=n/t.scale-1,i=t.scale/this._initialData.scale,o=i*this._elementsSize.width,a=i*this._elementsSize.height,s=this._elementsSize.left+(this._elementsSize.width-o)/2-this.dx,u=this._elementsSize.top+(this._elementsSize.height-a)/2-this.dy,c=ut(s,s+o,o,e.center.x,r),l=ct(u,u+a,a,e.center.y,r);return this.dx+=c,this.dy+=l,{scale:n,x:t.x-c,y:t.y-l}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(nt);function ft(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var dt=(function(e){De()(n,e);var t=ft(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"_extractTransformData",value:function(e){return{velocityX:e.velocityX,velocityY:e.velocityY,x:this._initialData.x+e.deltaX,y:this._initialData.y+e.deltaY,scale:this._initialData.scale}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(nt);function pt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var ht=(function(e){De()(n,e);var t=pt(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"start",value:function(e,t){this._reset=t.scale>1,t.scale>1?this._currentData={x:0,y:0,scale:1}:(e=Object.assign({},e,{scale:5}),Xe()(Fe()(n.prototype),"start",this).call(this,e,t))}},{key:"end",value:function(){var e=this,t=this._applyChangesToElements(this._currentData,200);return t?t.then((function(){return e._currentData})):Promise.reject()}}]),n})(lt);var mt=n(95);n(1830);function vt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var gt=null;function yt(e){e instanceof Error&&setTimeout((function(){throw e}),0)}"undefined"!=typeof window&&(gt=n(1829));var bt={SWIPE_TO_CLOSE:"SWIPE_TO_CLOSE",SWIPE_TO_CHANGE:"SWIPE_TO_CHANGE",DOUBLE_TAP_TO_ZOOM:"DOUBLE_TAP_TO_ZOOM",PINCH_TO_ZOOM:"PINCH_TO_ZOOM",MOVE_ZOOMED:"MOVE_ZOOMED",WHEEL_TO_ZOOM:"WHEEL_TO_ZOOM"},_t=Object.assign({GESTURE:"gesture"},et.b.ACTION_SOURCE),Ot=(function(e){De()(n,e);var t=vt(n);function n(e){var r,i;return ke()(this,n),(i=t.call(this,e)).state={isZoomed:!1,toolbarVisible:!0},i._onPanH=i._onPanH.bind(Ae()(i)),i._onPanV=i._onPanV.bind(Ae()(i)),i._onPinch=i._onPinch.bind(Ae()(i)),i._onPan=i._onPan.bind(Ae()(i)),i._onDbTap=i._onDbTap.bind(Ae()(i)),i._onTap=i._onTap.bind(Ae()(i)),i._onWheel=i._onWheel.bind(Ae()(i)),i._setZoomedState=i._setZoomedState.bind(Ae()(i)),i._setToolbarVisible=i._setToolbarVisible.bind(Ae()(i)),i._setRef=i._setRef.bind(Ae()(i)),i._setContainerRef=i._setContainerRef.bind(Ae()(i)),i.getContainerRef=i.getContainerRef.bind(Ae()(i)),i._setItemsContainerRef=i._setItemsContainerRef.bind(Ae()(i)),i.sliderApi={setToolbarVisible:i._setToolbarVisible},i._gesturesToRecognizers=(r={},g()(r,bt.SWIPE_TO_CLOSE,"verticalPan"),g()(r,bt.SWIPE_TO_CHANGE,"horizontalPan"),g()(r,bt.DOUBLE_TAP_TO_ZOOM,"dbtap"),g()(r,bt.PINCH_TO_ZOOM,"pinch"),g()(r,bt.MOVE_ZOOMED,"pan"),r),i}return Pe()(n,[{key:"setState",value:function(e,t){var r=this.state.toolbarVisible;Xe()(Fe()(n.prototype),"setState",this).call(this,e,t),"boolean"==typeof e.toolbarVisible&&e.toolbarVisible!==r&&this.props.onToolbarVisibilityChange(e.toolbarVisible)}},{key:"componentDidMount",value:function(){this._mountTimestamp=Date.now(),this._bindGestures(),this._resetZoomedState()}},{key:"componentWillUnmount",value:function(){this._unbindGestures()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.toolbarVisible&&e.activeResource&&this.props.activeResource&&e.activeResource.id!==this.props.activeResource.id&&e.shouldSetToolbarVisible&&this.setState({toolbarVisible:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props.activeResource||{},n=e.activeResource||{},r=t.id!==n.id,i=this._getItemsRefs().current;r&&(this._toggleZoomGestures(!this.props.activeResource.content),this._currentTransform&&this._currentTransform.isExternalFinishTransform()&&(this._currentTransform._elements.next===i||this._currentTransform._elements.prev===i)&&this._currentTransform.finishTransform())}},{key:"_getItemsRefs",value:function(){return this._sliderBaseRef.getItemsRefs()}},{key:"_getActiveImageRef",value:function(){return this._getItemsRefs().current.querySelector("img")}},{key:"_bindGestures",value:function(){this._hammerManager=new gt.Manager(this._itemsContainerRef,{cssProps:Qe()(gt.defaults,["touchCallout"])}),this._hammerRecognisers={horizontalPan:new gt.Pan({event:"panh",direction:gt.DIRECTION_HORIZONTAL}),verticalPan:new gt.Pan({event:"panv",threshold:20,direction:gt.DIRECTION_VERTICAL}),pinch:new gt.Pinch,pan:new gt.Pan({enable:!1}),dbtap:new gt.Tap({event:"dbtap",taps:2,threshold:20,posThreshold:20}),tap:new gt.Tap},this._hammerManager.add([this._hammerRecognisers.pinch,this._hammerRecognisers.horizontalPan,this._hammerRecognisers.verticalPan,this._hammerRecognisers.pan,this._hammerRecognisers.dbtap,this._hammerRecognisers.tap]),this._hammerRecognisers.verticalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerRecognisers.horizontalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerManager.on("panhstart panhmove panhend panhcancel",this._onPanH),this._hammerManager.on("panvstart panvmove panvend panvcancel",this._onPanV),this._hammerManager.on("pinchstart pinchmove pinchend pinchcancel",this._onPinch),this._hammerManager.on("panstart panmove panend pancancel",this._onPan),this._hammerManager.on("dbtap",this._onDbTap),this._hammerRecognisers.tap.requireFailure(this._hammerRecognisers.dbtap),this._hammerManager.on("tap",this._onTap),this._toggleGestures(Object.values(bt),!0),this._toggleZoomGestures(!this.props.activeResource.content),this._itemsContainerRef&&this._itemsContainerRef.addEventListener("dragstart",mt.b)}},{key:"_unbindGestures",value:function(){this._hammerManager.destroy(),this._itemsContainerRef&&(this._itemsContainerRef.removeEventListener("touchend",mt.b),this._itemsContainerRef.removeEventListener("wheel",this._onWheel),this._itemsContainerRef.removeEventListener("dragstart",mt.b))}},{key:"_onWheel",value:function(e){var t=this;Object(mt.b)(e);var n=e.wheelDeltaY||e.wheelDelta||-120*Math.sign(e.deltaY)||0;if(0!==n){var r=n/1e3,i=this._getActiveImageRef();if(i){var o=i.getBoundingClientRect(),a=this._zoomedValues.scale,s=a+r;s=Math.max(s,1);var u=(s=Math.min(s,10))/a-1,c=ut(o.left,o.right,o.width,e.clientX,u),l=ct(o.top,o.bottom,o.height,e.clientY,u);this._setZoomedState({scale:s,x:this._zoomedValues.x-c,y:this._zoomedValues.y-l}),tt(i,this._zoomedValues),this._timer&&clearTimeout(this._timer),this._timer=setTimeout((function(){return t._resetImagePosition()}),200)}}}},{key:"_resetImagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._getActiveImageRef();if(t){if(this._zoomedValues.scale>1&&!e){var n=t.getBoundingClientRect(),r=window.innerHeight-n.bottom,i=window.innerWidth-n.right,o=!0;if(n.height<innerHeight?this._zoomedValues.y=0:n.top>0?this._zoomedValues.y-=n.top:r>0?this._zoomedValues.y+=r:o=!1,n.width<innerWidth?(this._zoomedValues.x=0,o=!0):n.left>0?(this._zoomedValues.x-=n.left,o=!0):i>0&&(this._zoomedValues.x+=i,o=!0),!o)return}else this._resetZoomedState();!(function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),tt(e,{transition:"all 0s ease 0s"})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),tt(e,o)});tt(e,t)})(t,this._zoomedValues,200)}}},{key:"_toggleZoomGestures",value:function(e){if(this._toggleGestures([bt.PINCH_TO_ZOOM,bt.DOUBLE_TAP_TO_ZOOM],e),this._toggleGestures([bt.MOVE_ZOOMED],this.state.isZoomed&&e),this._itemsContainerRef){var t=this.props.enabledGestures.includes(bt.WHEEL_TO_ZOOM);e?(this._itemsContainerRef.addEventListener("touchend",mt.b),t&&this._itemsContainerRef.addEventListener("wheel",this._onWheel)):(this._itemsContainerRef.removeEventListener("touchend",mt.b),t&&this._itemsContainerRef.removeEventListener("wheel",this._onWheel))}}},{key:"_onActiveResourceChange",value:function(e,t,n){if(this._sliderBaseRef){var r=this._sliderBaseRef.isCurrentResourceAnImage(),i=e&&!e.content;r!==i&&this._toggleZoomGestures(i),t<0?this._sliderBaseRef.switchToPrevious(n):this._sliderBaseRef.switchToNext(n)}}},{key:"_toggleGestures",value:function(e,t){var n=this;e.forEach((function(e){var r=n._gesturesToRecognizers[e];if(r&&n._hammerRecognisers){var i=n.props.enabledGestures.includes(e);n._hammerRecognisers[r].set({enable:t&&i})}}))}},{key:"_setZoomedState",value:function(e){this.props.onZoomStateChange(e),this._zoomedValues=e;var t=e.scale>1;this._toggleIsZoomed(t),this.setState({toolbarVisible:!t}),this._toggleGestures([bt.SWIPE_TO_CHANGE,bt.SWIPE_TO_CLOSE],!t),this._toggleGestures([bt.MOVE_ZOOMED],t)}},{key:"_resetZoomedState",value:function(){this._setZoomedState({scale:1,x:0,y:0})}},{key:"_toggleIsZoomed",value:function(e){e=void 0===e?!this.state.isZoomed:e,this.setState({isZoomed:e})}},{key:"_onPanH",value:function(e){var t=this;if("panhstart"===e.type||this._currentTransform instanceof it){var n=Object(mt.a)(Object(et.c)(this.props));"panhstart"===e.type?(this._currentTransform=new it(this.props.viewportSize,this._getItemsRefs()),this._currentTransform.start(e)):"panhmove"===e.type||"panhcancel"===e.type?this._currentTransform&&this._currentTransform.move(e):"panhend"===e.type&&this._currentTransform&&this._currentTransform.end().then((function(e){t._onActiveResourceChange(t.props.resources[n+e],e,_t.GESTURE)})).catch(yt)}}},{key:"_onPanV",value:function(e){var t=this;if("panvstart"===e.type||this._currentTransform instanceof at)switch(e.type){case"panvstart":this._container&&(this._currentTransform=new at(this.props.viewportSize,this._container),this._currentTransform.start(e));break;case"panvmove":this._currentTransform&&this._currentTransform.move(e);break;case"panvend":case"panvcancel":this._currentTransform&&this._currentTransform.end().then((function(){t.props.onClose(_t.GESTURE)})).catch(yt)}}},{key:"_onPinch",value:function(e){switch(e.type){case"pinchstart":var t=this._getActiveImageRef();if(!t)return;var n=t.getBoundingClientRect();this._currentTransform=new lt(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._setZoomedState(this._currentTransform._extractTransformData(e));break;case"pinchmove":this._currentTransform&&this._currentTransform.move(e);break;case"pinchend":case"pinchcancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onPan",value:function(e){switch(e.type){case"panstart":var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new dt(this.props.viewportSize,t,{width:n.width,height:n.height}),this._currentTransform.start(e,this._zoomedValues)}break;case"panmove":this._currentTransform&&this._currentTransform.move(e);break;case"panend":case"pancancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onDbTap",value:function(e){var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new ht(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._currentTransform.end(),this._setZoomedState(this._currentTransform._currentData)}}},{key:"_setToolbarVisible",value:function(e){this.setState({toolbarVisible:e})}},{key:"_shouldHandleTap",value:function(e){var t=e.target;return!(!this._mountTimestamp||e.timeStamp-this._mountTimestamp<300)&&(!e.target.closest("video")&&(!(!this._container||!this._container.contains(t))&&(!this.props.disableTapOnSelectors.length||!this.props.disableTapOnSelectors.some((function(e){return t.closest(e)})))))}},{key:"_onTap",value:function(e){this._shouldHandleTap(e)&&this._setToolbarVisible(!this.state.toolbarVisible)}},{key:"_setRef",value:function(e){this._sliderBaseRef=e}},{key:"_setContainerRef",value:function(e){this._container=e}},{key:"getContainerRef",value:function(){return this._container}},{key:"_setItemsContainerRef",value:function(e){this._itemsContainerRef=e}},{key:"render",value:function(){return ze.a.createElement(et.b,Ke()({},this.props,{toolbarVisible:this.state.toolbarVisible,sliderApi:this.sliderApi,ref:this._setRef,containerRef:this._setContainerRef,itemsContainerRef:this._setItemsContainerRef}))}}]),n})(Ue.Component),wt=function(){};Ot.defaultProps=Object.assign({enabledGestures:[bt.SWIPE_TO_CLOSE,bt.SWIPE_TO_CHANGE,bt.DOUBLE_TAP_TO_ZOOM,bt.PINCH_TO_ZOOM,bt.MOVE_ZOOMED,bt.WHEEL_TO_ZOOM],onZoomStateChange:wt,onToolbarVisibilityChange:wt,onToolbarAnimationEnd:wt,disableTapOnSelectors:[],shouldSetToolbarVisible:!1},et.b.defaultProps),Ot.ToolbarLeft=et.b.ToolbarLeft,Ot.ToolbarRight=et.b.ToolbarRight;var Et=Ot,St=n(454),xt=n(94),Ct=n(455),Tt=n(59),kt=n(26),jt=n(416),Pt=n(156),Rt=n(11),At=n.n(Rt);n(1831);function It(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Dt=function(){return At()()("resource-preview")},Mt=(function(e){De()(n,e);var t=It(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"_getImageOrIcon",value:function(){var e=this.props,t=e.resource,n=t.defaultPreview,r=t.meta,i=r.mediatype,o=r.previewLoadFailed,a=t.ext,s=t.virus,u=e.iconSize,c=e.imageSize,l=e.nonce,f=e.onImageLoadError,d=e.onImageLoadSuccess,p="undefined"==typeof window,h=function(){return ze.a.createElement(Ct.a,{key:"image",cls:Dt().e("image"),onError:f,onLoad:d,src:"".concat(n,"&size=").concat(c,"x").concat(c)})};return!n||o||s?ze.a.createElement(xt.default,{ext:a,mediatype:i,shadow:!0,size:u,type:s?"virus":""}):p&&l?[h(),ze.a.createElement("script",{key:"script",nonce:l,dangerouslySetInnerHTML:{__html:(function(e){return"\nvar preview = document.querySelector('.resource-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var imageSize = Math.min(document.documentElement.clientWidth - 80, document.documentElement.clientHeight);\n  preview.src = '".concat(e,"&' + 'size={{imageSize}}x{{imageSize}}'.replace('{{imageSize}}', imageSize).replace('{{imageSize}}', imageSize);\n}")})(n)}})]:h()}},{key:"render",value:function(){var e=this._getImageOrIcon();return this.props.openWith&&(e=ze.a.createElement(Tt.Link,Ke()({theme:"normal"},this.props.openWith),e),this.props.openButtonPosition&&(e=ze.a.createElement("div",{className:Dt().m({"button-position":this.props.openButtonPosition,"button-visible":this.props.openButtonVisible})},e,ze.a.createElement("div",{className:Dt().e("overlay")}),ze.a.createElement("div",{className:Dt().e("button-wrap").mix(Object(Pt.cnTheme)(jt.theme))},ze.a.createElement(kt.Button,Ke()({view:"raised",size:"m",pin:"circle-circle",className:Dt().e("open-button")},this.props.openWith),this.props.openButtonText))))),e}}]),n})(Ue.PureComponent);Mt.defaultProps={iconSize:"l",imageSize:400};var Nt=Mt,Lt=(n(1832),function(e){var t=e.name,n=e.cls;return ze.a.createElement("div",{className:At()()("resource-name").mix(n)},t)}),Ft=n(279),Bt=(n(1835),n(12));function Ut(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var zt=(function(e){De()(n,e);var t=Ut(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return ze.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 2l17 10L6 22z"})}}]),n})(Bt.default),Vt=Object(Bt.iconProvider)(zt);function Ht(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Wt=(function(e){De()(n,e);var t=Ht(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return ze.a.createElement("path",{fill:"currentColor",d:"M4 2h5v20H4V2zm11 0h5v20h-5V2z"})}}]),n})(Bt.default),Gt=Object(Bt.iconProvider)(Wt),$t=n(417),qt=n.n($t),Yt=n(229),Kt=n(393);n(1836);function Jt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Xt=function(){return At()()("audio-player")},Zt=null,Qt=(function(e){De()(n,e);var t=Jt(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={isPlaying:!1,requestingUrl:!1,isReady:!1,error:!1,hidePlayButton:!1,canPlay:!r.props.detectPlayability,currentTime:0},r._onPlayPauseButtonClick=r._onPlayPauseButtonClick.bind(Ae()(r)),r._onAudioCanPlay=r._onAudioCanPlay.bind(Ae()(r)),r._onAudioTimeUpdate=r._onAudioTimeUpdate.bind(Ae()(r)),r._onAudioEnded=r._onAudioEnded.bind(Ae()(r)),r._onProgressDown=r._onProgressDown.bind(Ae()(r)),r._onProgressMove=r._onProgressMove.bind(Ae()(r)),r._onError=r._onError.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidMount",value:function(){if(this.props.detectPlayability){var e=Boolean(Object(Yt.default)(this.props.mimetype));if(this.setState({canPlay:e}),!e)return}this._audioElement=document.createElement("audio"),this._audioElement.className=Xt().e("audio-element"),document.body.appendChild(this._audioElement),this._audioElement.addEventListener("canplay",this._onAudioCanPlay),this._audioElement.addEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.addEventListener("ended",this._onAudioEnded),this._audioElement.addEventListener("error",this._onError),this._documentPointerListener=Object(Kt.a)({isTouch:this.props.isTouch,scope:this._progress,onBeforeStart:this._onProgressDown,onMove:this._onProgressMove}),this.props.autoplay?this._requestAndPlay():this.props.preloadMeta&&(this._audioElement.preload="metadata",this._updateUrl())}},{key:"componentDidUpdate",value:function(e){this.state.isPlaying||(this.props.autoplay&&!e.autoplay?this._requestAndPlay():this.props.preloadMeta&&!e.preloadMeta&&this._audioElement&&(this._audioElement.preload="metadata",this._updateUrl()))}},{key:"componentWillUnmount",value:function(){this._audioElement&&(this._pause(),document.body.removeChild(this._audioElement),this._documentPointerListener&&this._documentPointerListener.clearListeners(),this._audioElement.removeEventListener("canplay",this._onAudioCanPlay),this._audioElement.removeEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.removeEventListener("ended",this._onAudioEnded),this._audioElement.removeEventListener("error",this._onError))}},{key:"toggleIsPlaying",value:function(e){void 0===e&&(e=!this.state.isPlaying),this.state.isPlaying!==e&&(this.props.onPlayStateChange({isPlaying:e}),e?this._audioUrl?this._play():this._requestAndPlay():(this._pause(),this._playOnReady=!1))}},{key:"maybeResetCurrentTime",value:function(){this._audioElement&&isFinite(this._audioElement.duration)&&(this._audioElement.currentTime=0,this.setState({currentTime:0}))}},{key:"_setCurrentTimeFromPoint",value:function(e){if(this._progressRect&&this._audioElement){var t=Math.max(this._progressRect.left,e.clientX||0);t=Math.min(this._progressRect.right,t);var n=(t-=this._progressRect.left)/this._progressRect.width*this._audioElement.duration;this._audioElement.currentTime=n,this.setState({currentTime:n})}}},{key:"_onProgressDown",value:function(e){this._progressRect=this._progress&&this._progress.getBoundingClientRect(),this._setCurrentTimeFromPoint(e)}},{key:"_onProgressMove",value:function(e,t){this._setCurrentTimeFromPoint(t)}},{key:"_onAudioCanPlay",value:function(){this.setState({isReady:!0,requestingUrl:!1}),this._playOnReady&&this.toggleIsPlaying(!0)}},{key:"_onAudioTimeUpdate",value:function(){this._audioElement&&this.setState({currentTime:this._audioElement.currentTime})}},{key:"_onAudioEnded",value:function(){this.setState({isPlaying:!1}),this.props.onAudioEnded()}},{key:"_onError",value:function(){this.setState({error:!0}),this.props.preloadMeta||(this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),this.props.onPlayError())}},{key:"_updateUrl",value:function(){var e=this;return this.props.requestAudioUrl().then((function(t){e._audioUrl=t,e._audioElement&&(e._audioElement.src=t)})).catch((function(){e.setState({isPlaying:!1,requestingUrl:!1})}))}},{key:"_requestAndPlay",value:function(){var e=this;this.setState({requestingUrl:!0}),this._updateUrl().then((function(){e._audioElement&&e._audioElement.load(),e._playOnReady=!0}))}},{key:"_onPlayPauseButtonClick",value:function(){this.state.hidePlayButton||this.toggleIsPlaying(!this.state.isPlaying)}},{key:"_play",value:function(){if(this.state.error)return this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),void this.props.onPlayError();this.setState({isPlaying:!0}),Zt&&Zt!==this&&Zt.toggleIsPlaying(!1),Zt=this,this._audioElement&&this._audioElement.play()}},{key:"_pause",value:function(){this.setState({isPlaying:!1}),this._audioElement&&this._audioElement.pause(),Zt===this&&(Zt=null)}},{key:"_getTimeLine",value:function(){var e=this,t=this._audioElement&&isFinite(this._audioElement.duration),n=0,r=null;return this._audioElement&&t&&(n=this.state.currentTime/this._audioElement.duration*100,r=qt()(Math.round(this._audioElement.duration))),ze.a.createElement("div",{className:Xt().e("time-line")},ze.a.createElement("div",{className:Xt().e("time").m({current:!0})},qt()(Math.round(this.state.currentTime))),ze.a.createElement("div",{className:Xt().e("progress"),ref:function(t){e._progress=t}},ze.a.createElement("div",{className:Xt().e("progress-percent"),style:{width:n.toFixed(2)+"%"}})),ze.a.createElement("div",{className:Xt().e("time").m({duration:!0})},r))}},{key:"render",value:function(){var e,t;return ze.a.createElement("div",{className:Xt().m({ready:this.state.isReady,play:this.state.isPlaying,preload:this.props.preloadMeta,"hide-play":this.state.hidePlayButton,"detect-playability":this.props.detectPlayability,"can-play":this.state.canPlay,theme:this.props.theme})},ze.a.createElement("div",{className:Xt().e("resource"),onClick:this._onPlayPauseButtonClick},ze.a.createElement(xt.default,{cls:Xt().e("resource-icon"),size:"l",mediatype:"audio",shadow:!0}),ze.a.createElement(kt.Button,{view:"dark",pin:"circle-circle",size:"xxl","aria-label":this.state.isPlaying?null===(e=this.props.ariaLabels)||void 0===e?void 0:e.pause:null===(t=this.props.ariaLabels)||void 0===t?void 0:t.play,className:Xt().e("play-pause-button"),icon:this.state.isPlaying||this.state.requestingUrl?Gt:Vt})),ze.a.createElement(Lt,{name:this.props.resourceName,cls:Xt().e("resource-name")}),this._getTimeLine())}}]),n})(Ue.Component),en=function(){};Qt.defaultProps={isTouch:!1,theme:"light",preloadMeta:!1,onPlayStateChange:en,onPlayError:en,onAudioEnded:en};var tn=Qt,nn=n(53),rn=n(15),on=n(319),an=n(146);function sn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var un=(function(e){De()(n,e);var t=sn(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._playerStoppedByResourceChange=!1,r._requestAudioUrl=r._requestAudioUrl.bind(Ae()(r)),r._onPlayStateChange=r._onPlayStateChange.bind(Ae()(r)),r._onAudioEnded=r._onAudioEnded.bind(Ae()(r)),r}return Pe()(n,[{key:"_stopPlayerOnResourceChange",value:function(){this._playerStoppedByResourceChange=!0,this._player&&this._player.toggleIsPlaying(!1)}},{key:"componentDidUpdate",value:function(e){"slider"===e.dialog&&!this.props.dialog&&this._player&&this._player.toggleIsPlaying(!1),e.idDialog!==this.props.idDialog&&e.idDialog===this.props.resourceId&&this._stopPlayerOnResourceChange(),"slider"===this.props.dialog&&this.props.autoplay&&e.idDialog!==this.props.idDialog&&this.props.idDialog===this.props.resourceId&&this._player&&(this._player.maybeResetCurrentTime(),this._player.toggleIsPlaying(!0))}},{key:"_onPlayStateChange",value:function(e){var t=e.isPlaying;this._playerStoppedByResourceChange?this._playerStoppedByResourceChange=!1:this.props.idDialog===this.props.resourceId&&this.props.updateSettings({autoplayAudio:t})}},{key:"_onAudioEnded",value:function(){this.props.playNextAudio()}},{key:"_requestAudioUrl",value:function(){return this.props.maybeBlockAction()?Promise.reject():Object(rn.fetchResourceUrl)({idResource:this.props.resourceId,inline:!0})}},{key:"render",value:function(){var e=this;return ze.a.createElement(tn,{ref:function(t){e._player=t},theme:"dark",autoplay:this.props.autoplay&&this.props.idDialog===this.props.resourceId,isTouch:this.props.isMobile,resourceName:this.props.resourceName,requestAudioUrl:this._requestAudioUrl,onPlayStateChange:this._onPlayStateChange,onAudioEnded:this._onAudioEnded,ariaLabels:{play:"Прослушать",pause:"Пауза"}})}}]),n})(Ue.Component),cn={playNextAudio:on.d,updateSettings:nn.updateSettings,maybeBlockAction:Q.maybeBlockAction},ln=Object(Be.connect)((function(e,t){var n=t.resourceId,r=e.resources,i=e.page,o=i.idDialog,a=i.dialog,s=e.environment.agent.isMobile,u=e.settings.autoplayAudio,c=r[n]||{};return{dialog:a,idDialog:o,resourceId:c.id,resourceName:c.name||"",isMobile:s,autoplay:u&&!Object(an.shouldRestrict)(e,{forLite:!0})}}),cn)(un),fn=n(122),dn=n.n(fn),pn=n(821),hn=n.n(pn),mn=n(68);n(1837);function vn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var gn,yn=function(){return At()()("video-player")},bn={BUFFERING:"buffering",PLAY:"play",PAUSE:"pause"},_n=!1,On=(function(e){De()(n,e);var t=vn(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._waitPlayerReadyToPlay=!1,r.state={videosReady:Boolean(r.props.videos),apiReady:_n,isPlaybackInProgress:!1,isPlayerSkinSeeking:!1,hidePreview:!1,width:void 0,height:void 0},r._onPlayerReady=r._onPlayerReady.bind(Ae()(r)),r._onPlayerStateChange=r._onPlayerStateChange.bind(Ae()(r)),r._onPlayerSkinSeeking=r._onPlayerSkinSeeking.bind(Ae()(r)),r._onPlayerSkinSeeked=r._onPlayerSkinSeeked.bind(Ae()(r)),r._onWindowResize=r._onWindowResize.bind(Ae()(r)),r._onOverlayClicked=r._onOverlayClicked.bind(Ae()(r)),r._nodeRef=r._nodeRef.bind(Ae()(r)),r._videoContainerRef=r._videoContainerRef.bind(Ae()(r)),r._onKeyDown=r._onKeyDown.bind(Ae()(r)),r._onPointerEvent=r._onPointerEvent.bind(Ae()(r)),r._aspectRatio=0,r}return Pe()(n,[{key:"componentDidMount",value:function(){var e=this;gn||(gn=hn()({src:this.props.iframeApiURL})).catch((function(t){e.props.onError(t)})),_n||gn.then((function(){_n=!0,e.setState({apiReady:!0})})),this.state.videosReady&&this._startKeepAspectRatioHandling(this.props.videos)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onWindowResize),this._onResizeRequest&&cancelAnimationFrame(this._onResizeRequest)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.videosReady&&e.videos&&e.videos.length&&(this._startKeepAspectRatioHandling(e.videos),this.setState({videosReady:!0})),e.forceDestroyPlayer&&this._playerInited&&this._destroyStreamPlayer()}},{key:"componentDidUpdate",value:function(e,t){var n;(t.width===this.state.width&&t.height===this.state.height||this.props.onPlayerResize(),!this._playerInited&&this.state.apiReady&&this.state.videosReady&&this.props.initPlayer&&!this.props.forceDestroyPlayer&&(this._onWindowResize(),this._initPlayer(),this.props.onPlayerResize()),this._isPlayerReady&&this.props.autoplay&&!e.autoplay)&&(this._streamPlayer.play(),null===(n=this._streamPlayer.skin)||void 0===n||n.focus())}},{key:"_initPlayer",value:function(){var e,t=this;this._playerInited=!0;var n=this.props.videos.find((function(e){return"adaptive"===e.dimension}));n&&(e=n.url),this._isPlayerReady=!1;var r={useFriendlyFrame:!0,version:this.props.videoPlayerVersion,source:{additionalParams:{from:"disk"},streams:[{url:e}],preview:this._getPreviewUrl()},element:this._videoContainer,autoplay:this.props.autoplay&&"preview"!==this.props.displayType,autoQuality:!1,size:{width:"100%",height:"100%"},skinParams:{skinConfig:{focusOnInit:!0,useVideoHeightAsName:!0}}};this._streamPlayer=window.Ya.playerApi.init(r),this._streamPlayer.on("Ready",this._onPlayerReady),this._streamPlayer.on("PlayingStateChange",this._onPlayerStateChange),this.props.autoplay&&this._onPlayerStateChange({playingState:bn.PLAY}),this._streamPlayer.on("SkinReady",(function(){var n=t._streamPlayer.skin;n&&(n.on("Seeking",t._onPlayerSkinSeeking),n.on("Seeked",t._onPlayerSkinSeeked),t.props.addExternalConfig&&n.updateExternalPlayerConfig({player_item_id:e,player_id:"disk"}))}))}},{key:"_onKeyDown",value:function(e){var t=[mn.Keys.SPACE,mn.Keys.LEFT,mn.Keys.UP,mn.Keys.RIGHT,mn.Keys.DOWN];return!(this._isPlayerReady&&this._streamPlayer&&"started"===this._streamPlayer.getState().startStage&&t.includes(e.keyCode))||(e.stopPropagation(),!1)}},{key:"_onPointerEvent",value:function(e){return!this._isPlayerReady||!this._streamPlayer||"started"!==this._streamPlayer.getState().startStage||(e.stopPropagation(),!1)}},{key:"_getPreviewUrl",value:function(){if(this._previewUrl)return this._previewUrl;if(this.props.previewBase){var e=this.props.videos.reduce((function(e,t){var n=t.size;return n&&(!e.height||e.height<n.height)?n:e}),{});return this._previewUrl=this.props.previewBase+"&size=".concat(e.width,"x").concat(e.height),this._previewUrl}}},{key:"_onOverlayClicked",value:function(){var e;this.props.preventOverlayClick&&this.props.preventOverlayClick()||("preview"===this.props.displayType&&this.setState({hidePreview:!0}),this._isPlayerReady?(this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus(),this.setState({isPlaybackInProgress:!0})):this._waitPlayerReadyToPlay=!0)}},{key:"_onPlayerReady",value:function(){var e;(this._isPlayerReady=!0,this.props.onPlayerReady(),this._waitPlayerReadyToPlay)&&(this._waitPlayerReadyToPlay=!1,this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus());this._videoContainer&&(this._videoContainer.addEventListener("pointerdown",this._onPointerEvent),this._videoContainer.addEventListener("pointerup",this._onPointerEvent),this._videoContainer.addEventListener("pointermove",this._onPointerEvent),this._videoContainer.addEventListener("pointercancel",this._onPointerEvent),this._videoContainer.addEventListener("keydown",this._onKeyDown))}},{key:"_destroyStreamPlayer",value:function(){this._streamPlayer.destroy(),this._streamPlayer=null,this._playerInited=!1,this._isPlayerReady=!1,this.setState({hidePreview:!1,isPlaybackInProgress:!1}),this._videoContainer&&(this._videoContainer.removeEventListener("pointerdown",this._onPointerEvent),this._videoContainer.removeEventListener("pointerup",this._onPointerEvent),this._videoContainer.removeEventListener("pointermove",this._onPointerEvent),this._videoContainer.removeEventListener("pointercancel",this._onPointerEvent),this._videoContainer.removeEventListener("keydown",this._onKeyDown))}},{key:"_onPlayerStateChange",value:function(e){var t=e&&e.playingState,n=[bn.PLAY,bn.BUFFERING].includes(t),r=n!==this.state.isPlaybackInProgress;r&&this.setState({isPlaybackInProgress:n}),!this.state.isPlayerSkinSeeking&&r&&this.props.onPlayChange(n)}},{key:"_onPlayerSkinSeeking",value:function(){!this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!0})}},{key:"_onPlayerSkinSeeked",value:function(){this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!1})}},{key:"_hasOverlay",value:function(){var e=this.props.isMobile||!this.state.hidePreview;return("preview"===this.props.displayType||this.props.isMobile)&&!this.state.isPlaybackInProgress&&!this.state.isPlayerSkinSeeking&&e}},{key:"_getOverlay",value:function(){if(this._hasOverlay()){var e=this.props.isMobile;return ze.a.createElement("div",{className:yn().e("touch-overlay"),onClick:this._onOverlayClicked},this.state.hidePreview||"preview"!==this.props.displayType?null:ze.a.createElement("button",{className:yn().e("touch-overlay-button").m({mobile:e})},ze.a.createElement(zt,{iconSize:e?"xxl":"xxxl"})))}return null}},{key:"_startKeepAspectRatioHandling",value:function(e){var t=e[0].size;this._aspectRatio=t.width/t.height,window.addEventListener("resize",this._onWindowResize),this._onWindowResize()}},{key:"_onWindowResize",value:function(){var e=this;this._onResizeRequest=requestAnimationFrame((function(){if(e._node){var t,n;if("width"===e.props.fitTo)t=(n=e._node.offsetWidth)/e._aspectRatio;else{var r=getComputedStyle(e._node).maxHeight;(n=(t=Math.max(parseInt(r,10)||0,e._node.offsetHeight))*e._aspectRatio)>e._node.offsetWidth&&(t=(n=e._node.offsetWidth)/e._aspectRatio)}e.setState({width:n,height:t})}}))}},{key:"_nodeRef",value:function(e){this._node=e}},{key:"_videoContainerRef",value:function(e){this._videoContainer=e}},{key:"render",value:function(){var e,t=!1;if(this.state.apiReady&&this.state.videosReady){var n={};this.state.width&&(n={width:this.state.width+"px",height:this.state.height+"px"});var r=null,i=this._getPreviewUrl();"preview"!==this.props.displayType||this.state.hidePreview||(t=!0,i&&(t=!0,r=ze.a.createElement("div",{className:yn().e("preview"),style:{backgroundImage:"url(".concat(i,")")}}))),e=ze.a.createElement("div",{className:yn().e("container"),style:n},ze.a.createElement("div",{className:yn().e("player"),ref:this._videoContainerRef}),this._getOverlay(),r,this.props.toolbar||null)}else e=this.props.error?this.props.error:ze.a.createElement(qe.Spin,{view:"default",size:"l",progress:!0,className:yn().e("spin")});return ze.a.createElement("div",{className:yn().m({"has-overlay":this._hasOverlay(),"preview-visible":t}).mix(this.props.cls),ref:this._nodeRef},e)}}]),n})(Ue.Component);On.defaultProps={initPlayer:!0,autoplay:!1,displayType:"player",fitTo:"width",onStateChange:dn.a,onPlayChange:dn.a,onPlayerResize:dn.a,onPlayerReady:dn.a,onError:dn.a,addExternalConfig:!1};var wn=On;function En(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Sn=(function(e){De()(n,e);var t=En(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._preventOverlayClick=r._preventOverlayClick.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidMount",value:function(){this.props.fetchVideoInfo(this.props.resourceId),F.default.count("interface elements","video","show")}},{key:"componentDidUpdate",value:function(e){this.props.forceDestroyPlayer&&!e.forceDestroyPlayer&&this.props.autoplay&&this.props.updateSettings({videoAutoPlayId:null})}},{key:"_preventOverlayClick",value:function(){return this.props.maybeBlockAction()}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.resources[t],r=n.defaultPreview,i=n.meta,o=i.videoInfo,a=i.videoInfoLoadFailed,s=o||{},u=s.streamId,c=s.videos,l=p.a.omit(this.props,["resourceId","resources"]);return ze.a.createElement(wn,Ke()({},l,{displayType:l.autoplay?"player":"preview",previewBase:r,streamId:u,videos:c,error:a&&"Ошибка",addExternalConfig:!0,preventOverlayClick:this._preventOverlayClick}))}}]),n})(Ue.PureComponent),xn={fetchVideoInfo:rn.fetchVideoInfo,updateSettings:nn.updateSettings,maybeBlockAction:Q.maybeBlockAction},Cn=Object(Be.connect)((function(e,t){var n=t.resourceId,r=t.forceDestroyPlayer,i=e.config,o=i.links.videoPlayerIframeApi,a=i.videoPlayerVersion,s=e.settings.videoAutoPlayId;return{resources:e.resources,iframeApiURL:o,videoPlayerVersion:a,autoplay:s===n&&!Object(an.shouldRestrict)(e,{forLite:!0}),forceDestroyPlayer:r}}),xn)(Sn),Tn=n(261),kn=(n(1839),n(207)),jn=n(126),Pn=n(72),Rn=n(159);n(1840);function An(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var In=function(){return At()()("resources-info-dropdown")},Dn=(function(e){De()(n,e);var t=An(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._onTogglePopup=r._onTogglePopup.bind(Ae()(r)),r._popupAnchor=ze.a.createRef(),r._containerRef=ze.a.createRef(),r}return Pe()(n,[{key:"_onTogglePopup",value:function(){this.props.visible?this.props.onClose():this.props.onOpen()}},{key:"_getButton",value:function(){return ze.a.createElement(kt.Button,{innerRef:this._popupAnchor,onClick:this._onTogglePopup,view:"clear-inverse","aria-label":this.props.buttonName,size:"m",icon:function(e){return ze.a.createElement(kn.a,{cls:In().e("icon").mix(e)})}})}},{key:"_getButtonWithTooltip",value:function(){return ze.a.createElement("div",{className:In().e("icon-wrap")},ze.a.createElement(Rn.default,{text:this.props.buttonName,direction:["bottom","right"],disabled:this.props.isMobile||!this.props.buttonName||this.props.visible},this._getButton()))}},{key:"render",value:function(){return ze.a.createElement("div",{className:In(),ref:this._containerRef},this.props.name&&this._getButtonWithTooltip()||this._getButton(),this.props.isMobile?ze.a.createElement(jn.Drawer,{className:$e.LISTING_PREVENT_DESELECT_CLASS,onClose:this.props.onClose,view:"default",visible:this.props.visible},this.props.children):ze.a.createElement(Pn.Popup,{view:"default",className:$e.LISTING_PREVENT_DESELECT_CLASS,visible:this.props.visible,target:"anchor",anchor:this._popupAnchor,onClose:this.props.onClose,direction:this.props.direction,scope:this._containerRef},ze.a.createElement("div",{className:In().e("popup")},this.props.children)),this.props.name&&ze.a.createElement("div",{className:In().e("text-wrap")},ze.a.createElement(Rn.default,{text:this.props.fullName,direction:["bottom","right"],disabled:this.props.isMobile},ze.a.createElement("span",{className:In().e("name")},this.props.name))))}}]),n})(Ue.PureComponent),Mn=(function(e){De()(n,e);var t=An(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(Ae()(r)),r._onClose=r._onClose.bind(Ae()(r)),r.maybeClose=r.maybeClose.bind(Ae()(r)),r}return Pe()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0}),this.props.onOpen()}},{key:"_onClose",value:function(){this.setState({visible:!1}),this.props.onClose()}},{key:"maybeClose",value:function(){this.state.visible&&this._onClose()}},{key:"render",value:function(){return ze.a.createElement(Dn,Ke()({},this.props,{visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose}))}}]),n})(Ue.PureComponent);Dn.Content=Mn.Content=function(e){var t=e.cls,n=e.content,r=(Array.isArray(n)?n:[n]).filter(Boolean).map((function(e,t){return ze.a.createElement("div",{key:t,className:In().e("row")},e)}));return ze.a.createElement("div",{className:In().e("content").mix(t)},r)},Dn.Footer=Mn.Footer=function(e){var t=e.cls,n=e.children;return ze.a.createElement("div",{className:In().e("footer").mix(t)},n)},Mn.defaultProps={name:"",onClose:function(){},onOpen:function(){}};var Nn=n(232),Ln=n(211),Fn=n(415);function Bn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Un=function(){return At()()("shared-folder-participants")},zn=(function(e){De()(n,e);var t=Bn(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.resourceId,n=e.gid;this.props.fetchSharedFolderUsers(t,n)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.gid===e.gid&&this.props.resourceId===e.resourceId||this.props.fetchSharedFolderUsers(e.resourceId,e.gid)}},{key:"_getUsers",value:function(){var e=this.props.users.map((function(e){return ze.a.createElement("div",{className:Un().e("user"),key:e.id},ze.a.createElement(Tt.Link,{view:"default",href:"mailto:".concat(e.id),title:"Написать письмо"},e.name))}));return ze.a.createElement("div",{className:Un().e("users")},e)}},{key:"render",value:function(){return ze.a.createElement("div",{className:Un()},ze.a.createElement("div",{className:Un().e("title")},"Участники:"),this.props.isLoading?ze.a.createElement(qe.Spin,{view:"default",progress:!0,size:"xs"}):this._getUsers())}}]),n})(Ue.Component),Vn={fetchSharedFolderUsers:Fn.a},Hn=Object(Be.connect)((function(e,t){var n=e.sharedFoldersUsers[t.gid]||{};return{isLoading:n.isLoading,users:n.users||[]}}),Vn)(zn),Wn=n(98),Gn=n(107),$n=n.n(Gn),qn=n(199),Yn=n.n(qn);function Kn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Jn=function(){return At()()("ufo-resource-info-dropdown")},Xn=n(22),Zn=(function(e){De()(n,e);var t=Kn(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(Ae()(r)),r._onClose=r._onClose.bind(Ae()(r)),r._onGoToLinkClick=r._onGoToLinkClick.bind(Ae()(r)),r._onOriginalParentNameClick=r._onOriginalParentNameClick.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidMount",value:function(){this._toggleDropdownForVirusOrBlocked({}),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){this._toggleDropdownForVirusOrBlocked(e)}},{key:"closeDropdown",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"_toggleDropdownForVirusOrBlocked",value:function(e){var t=this,n=this.props.resource,r=e.resource||{};if(n&&n.id!==r.id){this._showTimerId&&clearTimeout(this._showTimerId);var i=2===n.meta.drweb||n.meta.blocked;!this.state.visible&&i?this._showTimerId=setTimeout((function(){t.setState({visible:!0})}),300):this.state.visible&&!i&&this.setState({visible:!1})}}},{key:"_onOpen",value:function(){this.props.onVisible&&this.props.onVisible(),this.setState({visible:!0});var e=["interface elements"].concat(m()(this.props.metrikaContext));"/recent"===this.props.idContext&&e.push("recent files"),F.default.count.apply(F.default,m()(e).concat(["show info"],m()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"_getSharedFolderInfo",value:function(){var e,t=this.props.savedResource,n=t.meta.group;return e=n.is_owned?"Я владелец":ze.a.createElement("span",null,"".concat("Владелец","  — "),ze.a.createElement(Tt.Link,{view:"default",href:"mailto:".concat(n.owner.email),title:"Написать письмо"},n.owner.username)),ze.a.createElement("div",{className:Jn().e("shared-folder-info")},e,ze.a.createElement("br",null),!n.is_owned&&n.readonly?"Папка доступна только на просмотр.":null,ze.a.createElement(Hn,{resourceId:t.id,gid:n.gid}))}},{key:"_getVirusInfo",value:function(){return ze.a.createElement("div",{className:Jn().e("warning")},"Файл заражён вирусом.")}},{key:"_getBlockedInfo",value:function(){return ze.a.createElement("div",{className:Jn().e("warning")},"Файл заблокирован за нарушение условий размещения пользовательского контента на сервисах Яндекса."," ",ze.a.createElement(Tt.Link,{view:"default",href:this.props.blockedInfoLink,target:"_blank"},"Подробности"))}},{key:"_getNDAInfo",value:function(){return ze.a.createElement(ze.a.Fragment,null,"Рабочая папка для сотрудников Яндекса. Публичные ссылки доступны только из внутренней сети.",ze.a.createElement("br",null),ze.a.createElement(Tt.Link,{view:"default",href:this.props.yateamNDALink},"Подробнее читайте на Вики"))}},{key:"_onOriginalParentNameClick",value:function(){this.setState({visible:!1})}},{key:"_getOriginalParentName",value:function(){var e=this.props.originalParent;return ze.a.createElement("div",{className:Jn().e("original-parent-name-wrapper")},"Удален из папки ",ze.a.createElement(Tt.Link,{href:Xn.getFolderUrl(e.id),view:"default",onClick:this._onOriginalParentNameClick,className:Jn().e("original-parent-name")},Xn.filename(e.name)))}},{key:"_getContentRow",value:function(e){var t=e.title,n=e.value,r=e.cls;return ze.a.createElement("div",{className:r},ze.a.createElement("span",{className:Jn().e("title")},t),ze.a.createElement("span",{className:Jn().e("value")},n))}},{key:"_getContent",value:function(){var e=[],t=this.props.savedResource;return e.push(ze.a.createElement("span",{className:Jn().e("header")},"dir"===this.props.savedResource.type?"Информация о папке":"Информация о файле")),e.push(this._getContentRow({cls:Jn().e("name"),title:"".concat("Имя",": "),value:t.name})),isFinite(t.meta.size)&&e.push(this._getContentRow({cls:Jn().e("size"),title:"Размер: ",value:$n.a.format(t.meta.size)})),isFinite(t.meta.files_count)&&e.push(this._getContentRow({title:"Количество файлов: ",value:t.meta.files_count})),t.mtime&&e.push(this._getContentRow({title:"Изменён: ",value:Yn.a.timestampToDate(t.mtime,"DD.MM.YYYY HH:mm")})),U.default.isYateamNDA(t.id,this.props.defaultFolders)&&e.push(this._getNDAInfo()),2===t.meta.drweb&&e.push(this._getVirusInfo()),t.meta.blocked&&e.push(this._getBlockedInfo()),this.props.originalParent&&e.push(this._getOriginalParentName()),t.meta.group&&t.meta.group.is_root&&e.push(this._getSharedFolderInfo()),t.meta.public&&(e.push(this._getContentRow({cls:Jn().e("views"),title:"Просмотров: ",value:t.meta.views_counter||0})),e.push(this._getContentRow({cls:Jn().e("downloads"),title:"Скачиваний: ",value:t.meta.download_counter||0}))),e}},{key:"_onGoToLinkClick",value:function(){this.props.goToResource(this.props.resource.id),this.setState({visible:!1})}},{key:"_getFooter",value:function(){var e,t=this.props,n=t.canGoToFile,r=t.canGoToFolder;if(n)e=Object(K.getTitle)(K.GO_TO_FILE);else{if(!r)return null;e=Object(K.getTitle)(K.GO_TO_FOLDER)}return ze.a.createElement(Dn.Footer,null,ze.a.createElement(Tt.Link,{className:Jn().e("go-to-link").m({"mobile-pane":this.props.isMobile}),view:"default",onClick:this._onGoToLinkClick,pseudo:!0},e))}},{key:"render",value:function(){return ze.a.createElement(Dn,{theme:this.props.theme,name:this.props.iconOnly?null:ze.a.createElement(Nn.default,{text:this.props.savedResource.name,font:'18px "YS Text"',width:183}),fullName:this.props.savedResource.name,buttonName:"Информация",visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose,isIosSafari:this.props.isIosSafari,isMobile:this.props.isMobile,direction:["bottom-start","bottom","bottom-end"]},ze.a.createElement(Dn.Content,{cls:Jn().m({"mobile-pane":this.props.isMobile}),content:this._getContent()}),this._getFooter())}}]),n})(Ue.Component);Zn.defaultProps={metrikaTail:[]};var Qn=Object(Ln.a)(Zn,"resource",(function(e){return e.resource})),er={goToResource:rn.goToResource},tr=Object(Be.connect)((function(e,t){var n,r=t.resource,i=e.page.idContext,o=e.resources,a=e.config.links,s=a.termsOfUse,u=a.help.yateamnda,c=e.environment.agent.isMobile,l=e.defaultFolders.folders,f=e.space;if(r&&r.isInTrash){var d=Xn.normalize(r.meta.original_parent_id),p=o[d="/lnarod"===d?"/narod":d];p&&!p.name||(n={id:d,name:p?p.name:Xn.filename(d)})}return{idContext:i,resource:r,originalParent:n,blockedInfoLink:s,yateamNDALink:u,isIosSafari:Object(Wn.isIosSafariSelector)(e),isMobile:c,defaultFolders:l,space:f,canGoToFile:Object(K.can)(K.GO_TO_FILE,r,e),canGoToFolder:Object(K.can)(K.GO_TO_FOLDER,r,e)}}),er)(Qn),nr=n(280),rr=n.n(nr),ir=n(185),or=n(173),ar=n(193),sr=n(187),ur=n(194),cr=n(238),lr=n(239),fr=n(195),dr=n(196),pr=n(150),hr=n(124);function mr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var vr=(function(e){De()(n,e);var t=mr(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"getContentSVG",value:function(){return null}}]),n})(Bt.default),gr=Object(Bt.iconProvider)(vr);function br(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var _r=(function(e){De()(n,e);var t=br(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"getContentSVG",value:function(){return ze.a.createElement("path",{d:"M2 4v10H0V2h5v2H2zm10 10H0v2h14v-5h-2v3zm2-10.737V8h2V0H8v2h4.435L6 8.435l1.414 1.414L14 3.262v.001z",fill:"currentColor"})}}]),n})(Bt.default),Or=Object(Bt.iconProvider)(_r),wr=n(240),Er=n(31),Sr=n(139),xr=n(103),Cr=n(197),Tr=n(84),kr=n(448);function jr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Pr=(function(e){De()(n,e);var t=jr(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return ze.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.021 17.174a600.2 600.2 0 002.19-2.165l.315-.315c.95-.955 1.706-1.729 2.317-2.374 1.493-1.58 1.537-3.872.162-5.32-1.273-1.339-3.281-1.333-4.547.014L12 8.564l-.728-.775-.73-.775C9.278 5.667 7.27 5.66 5.997 7c-1.376 1.447-1.33 3.74.161 5.318.647.683 1.422 1.477 2.317 2.374l.317.317c.364.364.961.955 2.183 2.16l.003.002L12 18.182l1.021-1.008zm6.433-11.551c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(Bt.default),Rr=Object(Bt.iconProvider)(Pr),Ar=n(38),Ir=n(16),Dr=n(54),Mr=n(162),Nr=n(40),Lr=function(e,t,n){return function(r){r(Object(rn.setResourceData)(e,{state:t,itemId:n},"favorite"))}},Fr=function(){return function(e,t){var n=t().personalAlbums;return n.favoriteAlbumId?Promise.resolve(n.favoriteAlbumId):Object(Ar.a)("createFavoriteAlbum").then((function(t){return t?(e({type:Ir.FETCH_ALBUM_SUCCESS,payload:{album:t}}),t.id):Promise.reject(null)}))}},Br=function(e){return e.favorite&&e.favorite.state},Ur=Object(Be.connect)(null,{updateFavoritesInfo:function(e){return function(t,n){var r=Object(Sr.d)(n()).sliderResources.filter((function(e){return void 0===e.favorite&&Object(K.can)(K.ADD_TO_ALBUM,e,n())}));if(r.length>100){var i=r.findIndex((function(t){return t.id===e.id}));r.splice(i+100),r.splice(0,r.length-100)}return t(Object(rn.batchSetResourceData)(r.map((function(e){return[e.id,{state:!1},"favorite"]})))),t(function(e){return function(t,n){var r=n().resources,i=Object(Mr.a)(e).map((function(e){return r[e].meta.resource_id}));return i.length?Object(Ar.a)("albumFindInFavorites",{resourceIds:JSON.stringify(i)}):Promise.resolve([])}}(r.map((function(e){return e.id})))).then((function(e){var n=r.reduce((function(t,n){var r=e.find((function(e){return e.resource_id===n.meta.resource_id}));return r&&t.push([n.id,{state:!0,itemId:r.item_id},"favorite"]),t}),[]);t(Object(rn.batchSetResourceData)(n))}))}},toggleFavorite:function(e){return function(t){if(!t(Object(Q.maybeBlockAction)())){if(e.favorite&&e.favorite.state){var n=e.favorite.itemId;if(!n)return;return t(Lr(e.id,!1,e.favorite.itemId)),Object(Ar.a)("do-remove-resource-album",{itemId:n}).then((function(n){n.error?t(Lr(e.id,!0,e.favorite.itemId)):t(Fr()).then((function(n){t(Object(Dr.removeItemsFromAlbum)(n,[e.id]))}))})).catch((function(n){n&&"HTTP_404"===n.id?t(Lr(e.id,!1)):(t(Lr(e.id,!0,e.favorite.itemId)),t(Object(Nr.notify)({operation:"removeResourceAlbum",status:"failed"})))}))}return t(Lr(e.id,!0)),t(Fr()).then((function(n){t(Object(Dr.addToAlbum)(e.id,n,{shouldShowNotification:!1})).then((function(n){n||t(Lr(e.id,!1))}))})).catch((function(){t(Object(Nr.notify)({operation:"addToAlbum",status:"failed",count:1,dst:{title:"Избранные"}})),t(Lr(e.id,!1))}))}}}})(ze.a.memo((function(e){var t=e.resource,n=e.updateFavoritesInfo,r=e.toggleFavorite,i=e.metrikaContext,o=e.className;Object(Ue.useEffect)((function(){"slider"===i&&F.default.count("favorite","show",i,t.meta.mediatype)}),[t.id,t.meta.mediatype,i]),Object(Ue.useEffect)((function(){void 0===t.favorite&&n(t)}),[t.id]);var a=Br(t);return ze.a.createElement(kt.Button,{view:"clear-inverse",size:"m",onClick:function(){F.default.count("favorite",Br(t)?"remove":"add",i),r(t)},disabled:(function(e){return e.favorite&&(e.favorite.state&&!e.favorite.itemId||!e.favorite.state&&Boolean(e.favorite.itemId))})(t),className:At()()("favorite-button").m({state:a?"on":"off"}).mix(o),"aria-label":a?"Убрать из избранного":"Добавить в избранное",icon:a?kr.b:Rr})}))),zr=n(28);function Vr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Hr=function(){return At()()("slider")},Wr=[{id:K.PUBLISH,group:1,hidePriority:3},{id:K.EDIT,icon:ur.b,group:1},{id:K.TOGGLE_FAVORITES,group:1,hidePriority:3},{id:K.DOWNLOAD,icon:sr.b,group:1,hidePriority:1},{id:K.EXCLUDE_FROM_ALBUM,icon:hr.a,group:1,hidePriority:2},{id:K.EXCLUDE_FROM_GEO_ALBUM,icon:hr.a,group:1,hidePriority:2},{id:K.EXCLUDE_FROM_PERSONAL_ALBUM,icon:hr.a,group:1,hidePriority:2},{id:K.DELETE,icon:pr.b,group:1},{id:K.COPY,icon:ar.a,group:2,hidden:!0},{id:K.MOVE,icon:fr.b,group:2,hidden:!0},{id:K.RENAME,icon:dr.a,group:2,hidden:!0},{id:K.GO_TO_FILE,icon:cr.a,group:2,hidden:!0},{id:K.SET_AS_COVER,group:4,icon:wr.a,hidden:!0},{id:K.SHOW_FULLSIZE,group:4,icon:Or,hidden:!0},{id:K.ADD_TO_ALBUM,icon:ir.a,group:4,hidden:!0},{id:K.FOTKI_INFO,group:10,icon:gr,hidden:!0},{id:K.VERSIONS,icon:lr.a,group:6,hidden:!0}].map((function(e){return Object.assign({iconOnly:!0,text:K.titles[e.id]},e)})),Gr=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},$r=(function(e){De()(n,e);var t=Vr(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={viewport:Gr(),shouldSetToolbarVisible:!1},r._updateViewport=function(){var e=Gr();r.setState({viewport:e})},r._updateViewportDebounced=p.a.debounce(r._updateViewport,250),r._closeSlider=r._closeSlider.bind(Ae()(r)),r._onCloseButtonClick=r._onCloseButtonClick.bind(Ae()(r)),r._handleActiveResourceChange=r._handleActiveResourceChange.bind(Ae()(r)),r._onActionButtonClick=r._onActionButtonClick.bind(Ae()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(Ae()(r)),r._getToolbarChildren=r._getToolbarChildren.bind(Ae()(r)),r._dropdownRefs={},r._closeAllDropdowns=r._closeAllDropdowns.bind(Ae()(r)),r.sliderRef=ze.a.createRef(),r}return Pe()(n,[{key:"_onSliderOpenedChange",value:function(e){e?(this._updateViewport(),window.addEventListener("orientationchange",this._updateViewportDebounced),window.addEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)):(window.removeEventListener("orientationchange",this._updateViewportDebounced),window.removeEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns))}},{key:"componentDidMount",value:function(){this.props.sliderOpened&&(this._onSliderOpenedChange(!0),this._fetchSliderResource())}},{key:"componentDidUpdate",value:function(e){!e.sliderOpened&&this.props.sliderOpened&&(H.a.reachBlockAndFinishCollectTimings("slider"),this._fetchSliderResource())}},{key:"componentWillUnmount",value:function(){this.props.sliderOpened&&this._onSliderOpenedChange(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.currentSliderResource&&e.currentSliderResource.id,n=this.props.currentSliderResource&&this.props.currentSliderResource.id,r=e.currentSliderResource?e.currentSliderResource.meta.mediatype:"unknown";t&&t!==n&&(this._countMetrika("show",r),this._closeAllDropdowns());var i=t!==n&&e.sliderResourceView===Ge.RESOURCE_VIEWS.VIDEO;i!==this.state.shouldSetToolbarVisible&&this.setState({shouldSetToolbarVisible:i}),e.sliderOpened!==this.props.sliderOpened&&(this._onSliderOpenedChange(e.sliderOpened),e.sliderOpened&&e.currentSliderResource&&this._countMetrika("open",r))}},{key:"_fetchSliderResource",value:function(){var e=this;this.props.currentSliderResource||this.props.fetchSliderResourceIfNeed().then((function(){e.props.currentSliderResource&&e._countMetrika("open",e.props.currentSliderResource.meta.mediatype)}))}},{key:"_getMetrikaBranch",value:function(){var e=this.props,t=e.idContext,n=e.photoMetrikaSection,r=e.currentAlbumType;return"/photo"===t?n:0===t.indexOf("/album/")?["album",r]:0===t.indexOf("/remember/")?["photo block"]:["files"]}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];F.default.count.apply(F.default,["interface elements","slider"].concat(m()(this._getMetrikaBranch()),t))}},{key:"_closeSlider",value:function(e){var t=this.props.currentSliderResource&&this.props.currentSliderResource.id;this.props.closeNsDialog("slider"),this._countMetrika("close",e),this.props.updateSettings({autoplayAudio:!1}),this.props.shouldScrollToResource.shouldScroll&&t&&this.props.setScrollToResource(t,this.props.shouldScrollToResource.shouldSelect)}},{key:"_onCloseButtonClick",value:function(){this._closeSlider(_t.BUTTON)}},{key:"_getCloseButton",value:function(){return ze.a.createElement(kt.Button,{className:Hr().e("button").m({close:!0}),onClick:this._onCloseButtonClick,size:"m",view:"clear-inverse","aria-label":"Закрыть",icon:or.close2IconProvider})}},{key:"_handleActiveResourceChange",value:function(e,t,n){this.props.moveSlider(t),this._countMetrika(t>0?"next image":"previous image",n)}},{key:"_getPublishButton",value:function(){var e,t,n=this.props.currentSliderResource;return ze.a.createElement(Tn.a,{onlyIcon:!0,onlyIconButtonProps:{view:"clear-inverse"},key:K.PUBLISH,objectIds:[n.id],metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),dropdownRef:this._setDropdownRef.bind(this,"publish"),shareDialogScope:{current:null===(e=this.sliderRef)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.getContainerRef()}})}},{key:"_onActionButtonClick",value:function(e){this.props.onAction(e),this._countMetrika(e,this.props.currentSliderResource.meta.mediatype)}},{key:"_onMoreButtonClick",value:function(){this.props.isIosSafari&&window.dispatchEvent(new Event("resize")),this._countMetrika("actions dropdown","show")}},{key:"_getActions",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.currentAlbumType,i=t.actions,o=t.isMobile,a=t.isIosSafari;if(!n)return null;var s=Wr.filter((function(e){return Boolean(i[e.id])})),u=ze.a.createElement(tr,{theme:"clear-inverse",metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),resource:n,isIosSafari:a,iconOnly:!0,createRef:this._setDropdownRef.bind(this,"info")});return s.length&&s.unshift({content:u,iconOnly:!0,group:1,hidePriority:3,id:"info",text:"Информация"}),s=s.map((function(t){return Object.assign({},t,i[t.id],t.id===K.PUBLISH?{content:function(t){return!t&&e._getPublishButton()}}:null,t.id===K.TOGGLE_FAVORITES?{content:function(e){return!e&&ze.a.createElement(Ur,{resource:n,metrikaContext:"slider",className:Hr().e("favorite-button")})}}:null,t.id===K.COPY&&"family"===r?{group:1,hidePriority:1,hidden:!1}:null,i[t.id]&&!i[t.id].text?{text:Object(K.getTitle)(t.id,[n])}:null)})),ze.a.createElement(Ft.a,{view:"clear-inverse",ref:this._setDropdownRef.bind(this,"groupable"),key:"groupable-buttons",buttons:s,onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onActionButtonClick,moreButtonsText:"Ещё",isMobile:o,isIosSafari:a,useMobilePane:o,collapsible:!0})}},{key:"_getSliderResource",value:function(e){var t=this,n=e.id,r=e.name,i=e.meta,o=i.mediatype,a=i.sizes,s=Object(We.resourceView)(e),u={id:n,name:r,mediatype:o},c=this.props,l=c.setNsLoadPreviewError,f=c.editResource,d=c.openDv,p=c.currentSliderResource.id===n;switch(s){case Ge.RESOURCE_VIEWS.IMAGE:u.previewBaseUrl=e.defaultPreview,u.originalUrl=e.xxxlPreview,this.props.useSrcSet&&(u.srcSet=Object(Cr.b)(a),u.srcSetFallback=Object(Cr.a)(a,"L")),this.props.fitToWidthPreviews&&(u.fitToWidth=!0);break;case Ge.RESOURCE_VIEWS.VIDEO:u.content=function(e){var r=e.setToolbarVisible;return ze.a.createElement(Cn,{initPlayer:p,forceDestroyPlayer:!p,fitTo:"height",resourceId:n,isMobile:t.props.isMobile,onPlayChange:function(e){r(!e)}})};break;case Ge.RESOURCE_VIEWS.AUDIO:u.content=ze.a.createElement(ln,{resourceId:n});break;default:var h={imageSize:Math.min(this.state.viewport.width-80,this.state.viewport.height),resource:e,onImageLoadError:function(){return l(n)}},m=this.props.canViewResource(e),v=this.props.canEditResource(e);(m||v)&&Object.assign(h,{openWith:{onClick:function(){v?(f(e.id),t._countMetrika("edit from preview",o)):(d(n),t._countMetrika("view in DV",o))}},openButtonPosition:"bottom",openButtonVisible:!0,openButtonText:v?"Редактировать":"Просмотреть"}),u.content=ze.a.createElement("div",{className:Hr().e("default-content")},ze.a.createElement(Nt,h),ze.a.createElement(Lt,{name:r}))}return u}},{key:"_setDropdownRef",value:function(e,t){this._dropdownRefs[e]=t}},{key:"_closeAllDropdowns",value:function(){var e=this;Object.keys(this._dropdownRefs).forEach((function(t){return e._dropdownRefs[t]&&e._dropdownRefs[t].closeDropdown()}))}},{key:"_getToolbarChildren",value:function(e){return[ze.a.createElement(Et.ToolbarRight,{key:"right"},e?null:this._getActions(),this._getCloseButton())]}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.isMobile,i=t.sliderOpened,o=t.sliderResources,a=t.hasOpenedDialogs,s=t.possiblyHasPrevious,u=t.possiblyHasNext,c=t.fetchSliderResources,l=t.useSrcSet;if(!i)return null;var f={content:ze.a.createElement(qe.Spin,{view:"default",size:"l",progress:!0})},d=[];return n&&0!==o.length?o.forEach((function(t){var r=e._getSliderResource(t);t.id===n.id&&(f=r),d.push(r)})):d.push(f),ze.a.createElement(Et,{ref:this.sliderRef,cls:Hr().mix([$e.LISTING_PREVENT_DESELECT_CLASS,St.a]),activeResource:f,onClose:this._closeSlider,resources:d,possiblyHasPrevious:s,possiblyHasNext:u,fetchResources:c,arrowLabels:{left:"Предыдущий файл",right:"Следующий файл"},shouldSetToolbarVisible:this.state.shouldSetToolbarVisible,onActiveResourceChange:this._handleActiveResourceChange,showSwitchArrows:!r,showBackgroundWhileLoadNext:!r,enableKeyboardControl:!a,enabledGestures:r?[bt.SWIPE_TO_CLOSE,bt.SWIPE_TO_CHANGE,bt.DOUBLE_TAP_TO_ZOOM,bt.PINCH_TO_ZOOM,bt.MOVE_ZOOMED]:[bt.MOVE_ZOOMED,bt.WHEEL_TO_ZOOM],toolbarChildren:this._getToolbarChildren,viewportSize:this.state.viewport,onZoomStateChange:this._closeAllDropdowns,useSrcSet:l,disableTapOnSelectors:[".video-player__touch-overlay"]})}}]),n})(Ue.Component),qr={closeNsDialog:Q.closeNsDialog,moveSlider:on.c,setNsLoadPreviewError:rn.setNsLoadPreviewError,setScrollToResource:rn.setScrollToResource,openDv:rn.openDv,editResource:rn.editResource,fetchSliderResourceIfNeed:rn.fetchSliderResourceIfNeed,fetchSliderResources:on.a,updateSettings:nn.updateSettings},Yr=rr()(Object(Be.connect)((function(e){var t=Object(Er.getCurrentSliderResource)(e),n=e.environment.agent,r=Object(Sr.d)(e),i=r.sliderResources,o=r.possiblyHasPrevious,a=r.possiblyHasNext;return{filter:e.page.filter,idContext:e.page.idContext,currentSliderResource:t,isIosSafari:"iOS"===n.OSFamily&&"Safari"===n.BrowserBase,isMobile:n.isMobile,shouldScrollToResource:Object(Er.shouldScrollToResource)(e),sliderOpened:Object(Er.getSliderStateOpened)(e),sliderResourceView:Object(We.resourceView)(t),sliderResources:i,possiblyHasPrevious:o,possiblyHasNext:a,currentResource:Object(Er.getCurrentResource)(e),hasOpenedDialogs:Object(xr.hasOpenedDialogs)(e),photoMetrikaSection:Object(Tr.getMetrikaSection)(e),canViewResource:function(t){return Object(K.can)(K.VIEW,t,e)},canEditResource:function(t){return Object(K.can)(K.EDIT,t,e)},currentAlbumType:Object(zr.getCurrentAlbumType)(e)}}),qr)($r),(function(e){var t=Object(Er.getCurrentSliderResource)(e);return t?[t]:[]})),Kr=(n(1843),n(97)),Jr=n(447),Xr=n(75),Zr=n(43),Qr=n(320);function ei(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return (function(n){De()(i,n);var r=ei(i);function i(e){var t;return ke()(this,i),(t=r.call(this,e))._onClick=t._onClick.bind(Ae()(t)),t.state={isTimer:!1},t}return Pe()(i,[{key:"componentWillUnmount",value:function(){this._timerId&&clearTimeout(this._timerId)}},{key:"_onClick",value:function(){var e,n=this;this.setState({isTimer:!0}),this._timerId=setTimeout((function(){n.setState({isTimer:!1})}),t),(e=this.props).onClick.apply(e,arguments)}},{key:"render",value:function(){var t=this.state.isTimer||this.props.disabled;return ze.a.createElement(e,Ke()({},this.props,{disabled:t,onClick:this._onClick}))}}]),i})(Ue.Component)},ni=n(749),ri=n(186),ii=n(446),oi=(n(465),n(212)),ai=n(241),si=n(333),ui=n(321),ci=n(117),li=n(35),fi=n.n(li),di=n(269);function pi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var hi=function(){return At()()("ufo-resources-action-bar")},mi=[{id:K.PUBLISH},{id:K.DOWNLOAD,icon:sr.b},{id:K.CLEAN_TRASH,icon:oi.a},{id:K.RESTORE,icon:ai.b},{id:K.DELETE_FROM_TRASH,icon:oi.a}],vi=[].concat(m()([]),[{id:K.EDIT,icon:function(){return ur.b},hidePriority:3},{id:K.RENAME,icon:function(){return dr.a},hidePriority:1},{id:K.ADD_TO_ALBUM,icon:function(){return ir.a},hidePriority:4},{id:K.MOVE,icon:function(){return fr.b},hidePriority:2},{id:K.EXCLUDE_FROM_ALBUM,icon:function(){return hr.a},hidePriority:4},{id:K.EXCLUDE_FROM_GEO_ALBUM,icon:function(){return hr.a},hidePriority:4},{id:K.EXCLUDE_FROM_PERSONAL_ALBUM,icon:function(){return hr.a},hidePriority:4},{id:K.DELETE,icon:function(){return pr.b},hidePriority:4},{id:K.COPY,icon:function(){return ar.a},hidePriority:0},{id:K.GO_TO_FOLDER,icon:function(){return si.a},group:2,hidden:!0},{id:K.GO_TO_FILE,icon:function(){return cr.a},group:2,hidden:!0},{id:K.SHARE_ACCESS,icon:function(){return ui.a},group:2,hidden:!0},{id:K.VERSIONS,icon:function(){return lr.a},group:5,hidden:!0},{id:K.SET_AS_COVER,icon:function(){return wr.a},group:3,hidden:!0},{id:K.SHOW_FULLSIZE,icon:function(){return Or},group:3,hidden:!0},{id:K.FOTKI_INFO,icon:function(){return gr},group:10,hidden:!0}]).map((function(e){return Object.assign({text:K.titles[e.id],iconOnly:!1},e)})),gi=[{id:K.ADD_TO_ALBUM,icon:function(){return ir.a},hidePriority:4},{id:K.EDIT,icon:function(){return ur.b}},{id:K.DOWNLOAD,icon:function(){return sr.b},hidePriority:3},{id:K.PUBLISH,icon:function(e){var t=e.isAndroid,n=e.isPublishing;return function(e){return n?ze.a.createElement(ii.a,{white:!0,spinSize:"xxs",cls:e}):ze.a.createElement(ri.default,{cls:e,isAndroid:t})}},hidePriority:2},{id:K.CLEAN_TRASH,icon:function(){return oi.a}},{id:K.RESTORE,icon:function(){return ai.b}},{id:K.DELETE_FROM_TRASH,icon:function(){return oi.a}},{id:K.SHARE_ACCESS,icon:function(){return ui.a}},{id:K.RENAME,icon:function(){return dr.a},group:1,hidden:!0},{id:K.MOVE,icon:function(){return fr.b},group:1,hidden:!0},{id:K.DELETE,icon:function(){return pr.b},hidePriority:1},{id:K.COPY,icon:function(){return ar.a},group:1,hidden:!0},{id:K.GO_TO_FOLDER,icon:function(){return si.a},group:2,hidden:!0},{id:K.GO_TO_FILE,icon:function(){return cr.a},group:2,hidden:!0},{id:K.EXCLUDE_FROM_ALBUM,icon:function(){return hr.a},group:2,hidden:!0},{id:K.EXCLUDE_FROM_GEO_ALBUM,icon:function(){return hr.a},group:2,hidden:!0},{id:K.EXCLUDE_FROM_PERSONAL_ALBUM,icon:function(){return hr.a},group:2,hidden:!0},{id:K.VERSIONS,icon:function(){return lr.a},group:5,hidden:!0},{id:K.SET_AS_COVER,icon:function(){return wr.a},group:3,hidden:!0},{id:K.SHOW_FULLSIZE,icon:function(){return Or},group:3,hidden:!0},{id:K.FOTKI_INFO,icon:function(){return gr},group:10,hidden:!0}].map((function(e){return Object.assign({text:K.titles[e.id],iconOnly:!1},e)})),yi=m()(vi),bi=yi.findIndex((function(e){return e.id===K.ADD_TO_ALBUM})),_i=Object.assign({},yi[bi],{group:2,hidden:!0});delete _i.hidePriority,yi.splice(bi,1),yi.splice(yi.findIndex((function(e){return e.id===K.SHOW_FULLSIZE}))+1,0,_i);var Oi=m()(gi),wi=Oi.findIndex((function(e){return e.id===K.ADD_TO_ALBUM})),Ei=Object.assign({},Oi[wi],{group:2,hidden:!0});delete Ei.hidePriority,Oi.splice(wi,1),Oi.splice(Oi.findIndex((function(e){return e.id===K.SHOW_FULLSIZE}))+1,0,Ei);var Si=Oi.findIndex((function(e){return e.id===K.EXCLUDE_FROM_PERSONAL_ALBUM})),xi=Object.assign({},Oi[Si],{hidePriority:4});delete xi.hidden,delete xi.group,Oi.splice(Si,1),Oi.splice(0,0,xi);var Ci=ti(kt.Button,3e4),Ti=(function(e){De()(n,e);var t=pi(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(Ae()(r)),r._onButtonClick=r._onButtonClick.bind(Ae()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(Ae()(r)),r._dropdownRefs={},r._ref=ze.a.createRef(),r._groupableButtonRenderBeforeRef=ze.a.createRef(),r._closeAllDropdowns=r._closeAllDropdowns.bind(Ae()(r)),r._updateOutdatedDirStats=r._updateOutdatedDirStats.bind(Ae()(r)),r}return Pe()(n,[{key:"_onClose",value:function(){this.props.deselectAllStatesContext()}},{key:"shouldComponentUpdate",value:function(e){return this._isVisible(e)||this._isVisible(this.props)&&!this._isVisible(e)}},{key:"componentDidUpdate",value:function(e){this._updateDirStats(e),this._isVisible(this.props)!==this._isVisible(e)&&this._closeAllDropdowns()}},{key:"componentDidMount",value:function(){this._updateDirStats(),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)}},{key:"componentWillUnmount",value:function(){this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns)}},{key:"_updateDirStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.savedResources,i=n.getDirSize;if(1===r.length&&"dir"===r[0].type){var o=r[0],a=!e||1!==e.savedResources.length||1!==e.resources.length||e.savedResources[0].id!==o.id,s=!isFinite(o.meta.size),u=t&&(!o.meta.lastSizeUpdatedTS||Date.now()-o.meta.lastSizeUpdatedTS>5e3);(a&&s||u)&&i(r[0].id)}}},{key:"_updateOutdatedDirStats",value:function(){this._updateDirStats(null,!0)}},{key:"_getSelectedCount",value:function(e){return e.isPhotoslice?e.savedTotalSelectedCount:e.savedResources.length}},{key:"_getResourcesInfo",value:function(){var e=this.props,t=e.savedResources,n=e.isIosSafari,r=e.isPhotoslice,i=e.isPageAlbum,o=e.missingSelectedCount,a=e.isSelectingPhotos,s=e.metrikaTail,u=this._getSelectedCount(this.props);return 1===t.length?ze.a.createElement(tr,{theme:"clear-inverse",resource:t[0],metrikaContext:["topbar"],metrikaTail:s,isIosSafari:n,createRef:this._setDropdownRef.bind(this,"info"),onVisible:this._updateOutdatedDirStats}):ze.a.createElement(ni.a,{visible:this._isVisible(this.props),selectedCount:u,isPhotoslice:r,isPageAlbum:i,isSelectingPhotos:a,missingSelectedCount:o,actionBarRef:this._ref})}},{key:"_onButtonClick",value:function(e){F.default.count.apply(F.default,["interface elements","topbar",e].concat(m()(this.props.metrikaTail))),this.props.onAction(e)}},{key:"_onMoreButtonClick",value:function(){F.default.count("interface elements","topbar","actions dropdown","show")}},{key:"_areButtonsDisabled",value:function(){var e=this.props,t=e.isPhotoslice,n=e.isPageAlbum,r=e.totalSelectedCount,i=e.missingSelectedCount,o=e.isSelectingPhotos;return Boolean(o||r>fi.a.MAX_ACTIONABLE_SELECTION||t&&i||n&&this._getSelectedCount(this.props)>fi.a.MAX_ACTIONABLE_SELECTION)}},{key:"_getButtons",value:function(){var e,t=this,n=this.props,r=n.isPersonalAlbum,i=n.isPageAlbum,o=n.isToolbarShareExp,a=this._areButtonsDisabled(),s=o?[]:mi.filter((function(e){return t.props.availableActions.includes(e.id)})).reduce((function(e,n){if(n.id===K.PUBLISH)e.push(ze.a.createElement(Tn.a,{buttonProps:{view:"transparent",className:hi().e("primary-button").m({desktop:!0,action:n.id})},onlyIconButtonProps:{view:"clear-inverse",className:hi().e("primary-button").m({mobile:!0,action:n.id})},key:K.PUBLISH,objectIds:t.props.savedResources.map((function(e){return e.id})),metrikaContext:["topbar"],metrikaTail:t.props.metrikaTail,dropdownRef:t._setDropdownRef.bind(t,"publish"),disabled:a}));else{var r,i={size:"m",onClick:t._onButtonClick.bind(t,n.id)},o={view:"transparent",key:n.id,className:hi().e("primary-button").m({desktop:!0,action:n.id}),disabled:a},s=Object.assign(o,i),u={view:"clear-inverse",key:n.id+"narrow",className:hi().e("primary-button").m({mobile:!0,action:n.id}),disabled:a},c=Object.assign(u,i);if(n.id===K.DOWNLOAD&&(t.props.resources.length>1||"dir"===t.props.resources[0].type)){var l="".concat(t.props.resources.length,"-").concat(t.props.resources[0].id);t.props.resources.length>1?r=Ci:(r=kt.Button,t.props.resources[0].state.downloadLimited&&(s.disabled=!0)),s.key+=l,c.key+=l}else r=kt.Button;var f=K.titles[n.id]||Object(K.getTitle)(n.id,t.props.resources);e.push(ze.a.createElement(r,Ke()({},s,{iconLeft:n.icon}),f)),e.push(ze.a.createElement(r,Ke()({},c,{icon:n.icon})))}return e}),[]),u=(o?r?Oi:gi:i?yi:vi).filter((function(e){return!!t.props.actions[e.id]})).map((function(e){return Object.assign({},e,t.props.actions[e.id],t.props.actions[e.id].text?null:{text:Object(K.getTitle)(e.id,t.props.resources)},{icon:e.icon(t.props)})}));u.length&&(this.props.isReadOnly&&(e=ze.a.createElement("div",{ref:this._groupableButtonRenderBeforeRef,className:hi().e("read-only")},"Просмотр")),s.push(ze.a.createElement(Ft.a,{view:"clear-inverse",buttons:u,disabled:a,collapsible:u.filter((function(e){return!e.hidden})).length>0,isIosSafari:this.props.isIosSafari,isMobile:this.props.isMobile,useMobilePane:this.props.isMobile,key:"groupable-buttons",moreButtonsText:"Ещё",onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onButtonClick,ref:this._setDropdownRef.bind(this,"groupable"),renderBefore:e,renderBeforeRef:o?this._groupableButtonRenderBeforeRef:void 0})));return s}},{key:"_setDropdownRef",value:function(e,t){this._dropdownRefs[e]=t}},{key:"_closeAllDropdowns",value:function(){var e=this;Object.keys(this._dropdownRefs).forEach((function(t){return e._dropdownRefs[t]&&e._dropdownRefs[t].closeDropdown()}))}},{key:"_isVisible",value:function(e){return e.resources.length>0&&!e.sliderOpened&&!e.action}},{key:"_shouldRenderControls",value:function(){return this._isVisible(this.props)||this.props.savedResources.length>0}},{key:"_setRef",value:function(e){this._ref={current:e}}},{key:"render",value:function(){var e=this.props.savedResources.some((function(e){return 2===e.meta.drweb}));return ze.a.createElement(Qr.ResourcesActionBar,{innerRef:this._ref,className:hi().m({warning:e,familyAlbum:this.props.isFamilyAlbum,toolbarExp:this.props.isToolbarShareExp}),theme:"black",fixed:!0,delay:1===this.props.resources.length,visible:this._isVisible(this.props),onClose:this._onClose,closeButtonText:"Отменить выделение",isMobile:this.props.isMobile},ze.a.createElement(Qr.ResourcesActionBarLeft,null,this._shouldRenderControls()?this._getResourcesInfo():null),ze.a.createElement(Qr.ResourcesActionBarRight,null,this._shouldRenderControls()?this._getButtons():null))}}]),n})(Ue.Component),ki=Object(Ln.a)(Ti,["resources","totalSelectedCount"],(function(e){return e.resources.length}),[[],0]),ji={deselectAllStatesContext:ci.deselectAllStatesContext,getDirSize:rn.getDirSize,openShareDialog:di.openShareDialog},Pi=rr()(Object(Be.connect)((function(e){var t,n,r=e.photoslice,i=e.environment.agent,o=e.page,a=o.dialog,s=o.action,u=Object(Wn.isIosSafariSelector)(e),c="photo"===Object(Zr.getPage)(e),l=Object(zr.isCurrentAlbumPersonal)(e),f=e.personalAlbums.isSelectingPhotos,d=Object(Kr.getSelectedResources)(e);return d&&d.length&&(n=Object(Er.getPublishObjectData)(e,d.map((function(e){return e.id})))),{action:s,isPhotoslice:c,isPersonalAlbum:l,isSelectingPhotos:f,isMobile:i.isMobile,isIosSafari:u,isAndroid:"Android"===i.OSFamily,sliderOpened:"slider"===a,totalSelectedCount:c&&r&&r.totalSelected||0,missingSelectedCount:c&&r&&r.missingSelected||0,isFamilyAlbum:Object(zr.isCurrentAlbumFamily)(e),isReadOnly:Object(Y.isCurrentContextReadonlyVdResource)(e),isToolbarShareExp:Object(Xr.getIsToolbarShareExp)(e),isPublishing:null===(t=n)||void 0===t?void 0:t.isPublishing,metrikaTail:Object(Jr.getMetrikaSectionTail)(e),isPageAlbum:Object(zr.isPageAlbum)(e)}}),ji)(ki),Kr.getSelectedResources,!0),Ri=n(418),Ai=(n(1851),n(96));n(505);var Ii,Di=function(e,t){if(e.recordId)return!0;var n=t.docs.lists;return Object.keys(n).some((function(t){return n[t].items.includes(e.id)}))},Mi=["delete","publish","officeAccessTypeChange","docsError","copyPublicLink","getPublicLinkSettings","changePublicLinkSettings"];function Ni(e){var t=Object(X.default)().getState(),n=Object(oe.isDocsPage)(t)?t.config.urlsBase.disk:"";return $(ns.renderNode({notification:e.getData(),trash:t.space.trash,linksHost:n},"notification","common"))}function Li(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}ns.View.define("notifications",{models:{queueNotifications:{"ns-model-changed":"keepValid"}},events:{"ns-view-init":function(){this.models.queueNotifications.on("processing",this.add.bind(this))},"ns-view-show":"updateWidth",click:"closeNext",mouseover:"stopTimer",mouseout:"startTimer"},methods:{timeClose:5e3,timeMove:400,add:function(e,t){var n=this;if(function(e){var t=Object(X.default)().getState();if(!Object(oe.isDocsPage)(t)||"docsError"===e.operation)return!0;var n=e.src,r=e.dst,i=e.operation;return!(!Object(oe.isDocsView)(t)||"publish"!==e.operation||Object(oe.getViewFileDetails)(t).fileId!==n.id)||Mi.includes(i)&&(n&&Di(n,t)||r&&Di(r,t))}(t.item.getData())){var r=t.item;this.timeClose=r.get(".closeTime")||5e3;var i=t.promise,o=Ni(r);if(o.text()){if(r.get(".operation")){var a=r.get(".operation");r.get(".reverse")&&(a="un"+Object(Ai.capitalize)(a)),F.default.count("notifications","operation "+a,r.get(".status"))}var s=function(){o.html(Ni(r).html()).find(".js-message").css("width",""),n.updateWidth()};r.on("ns-model-changed",s),i.always(r.off.bind(r,"ns-model-changed",s)),this.$node.append(o),setTimeout((function(){o.addClass("notifications__item_moved"),n.updateWidth()}),100),this.promises=this.promises||[],this.promises.unshift(i),this.timer||this.startTimer()}else i.fulfill()}},updateWidth:function(){var e=this.getChildren(),t=this.getChildNext().children(".notifications__text").width();e.width(Number(t))},closeNext:function(){var e=this,t=this.getChildNext();t.removeClass("notifications__item_moved"),this.updateWidth(),t.length?setTimeout((function(){t.remove(),e.startTimer(),e.promises.pop().fulfill()}),this.timeMove):this.stopTimer()},getChildren:function(){return $(this.node).children(".notifications__item_moved")},getChildNext:function(){return this.getChildren().eq(0)},startTimer:function(){var e=this;this.timer&&this.stopTimer(),this.timer=setTimeout((function(){e.closeNext()}),this.timeClose)},stopTimer:function(){clearTimeout(this.timer),this.timer=null}}}),n(1852),Ii=n(1854),ns.View.define("widgetsWrap"),ns.layout.define("react-widgets",{widgetsWrap:{"widgets@":function(e){var t={notifications:!0};return e.isOpenedDropzone?(t.dropzone=!0,t):t}}});var Fi=(function(e){De()(n,e);var t=Li(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"componentDidMount",value:function(){Ii.bindDragEvents()}},{key:"componentWillUnmount",value:function(){Ii.unBindDragEvents()}},{key:"render",value:function(){return ze.a.createElement(Ri.a,{overrideParams:this.props,viewName:"widgetsWrap",layoutName:"react-widgets"})}}]),n})(Ue.Component),Bi=Object(Be.connect)((function(e){return{isOpenedDropzone:Object(xr.isDialogOpened)(e,"dropzone"),isDocsPage:Object(oe.isDocsPage)(e)}}))(Fi),Ui=n(443);function zi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Vi=(function(){if("undefined"==typeof document||!Boolean(document.addEventListener))return null;for(var e=[{hidden:"hidden",visible:"visible",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",visible:"webkitVisible",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",visible:"mozVisible",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",visible:"msVisible",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",visible:"oVisible",event:"ovisibilitychange",state:"oVisibilityState"}],t=0;t<e.length;t++)if(e[t].hidden in document)return e[t];return null})(),Hi=[],Wi=null;if(Vi){var Gi=function(){Wi=document[Vi.state]===Vi.visible};document.addEventListener(Vi.event,(function(){Gi(),Hi.forEach((function(e){return e(Wi)}))}),!1),Gi()}var $i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"isPageVisible";return (function(n){De()(i,n);var r=zi(i);function i(e){var n;return ke()(this,i),(n=r.call(this,e)).state=g()({},t,Wi),n.onVisibilityChange=n.onVisibilityChange.bind(Ae()(n)),n}return Pe()(i,[{key:"componentDidMount",value:function(){!(function(e){Hi.push(e)})(this.onVisibilityChange)}},{key:"componentWillUnmount",value:function(){!(function(e){var t=Hi.indexOf(e);t>-1&&Hi.splice(t,1)})(this.onVisibilityChange)}},{key:"onVisibilityChange",value:function(e){this.setState(g()({},t,e))}},{key:"render",value:function(){var t=Object.assign({},this.props,this.state);return ze.a.createElement(e,t)}}]),i})(Ue.Component)},qi=n(140);function Yi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Ki=(function(e){De()(n,e);var t=Yi(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"render",value:function(){return ze.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"101",height:"88"},ze.a.createElement("defs",null,ze.a.createElement("linearGradient",{id:"a",x1:"7.91285636%",x2:"19.323764%",y1:"5.96768665%",y2:"37.378348%"},ze.a.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:".30160213"}),ze.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:"0"}))),ze.a.createElement("g",{fill:"none",fillRule:"evenodd"},ze.a.createElement("path",{fill:"#000",d:"M66.0950093 3.7752728c-3.5951604-.165629-6.1344334-1.2260828-9.1572337-2.1704476-7.012081-2.1937769-15.6925849-2.0681655-23.6420228 1.6241027-6.8745537 3.1898224-11.9793487 8.4796555-14.9759955 14.1817064-2.0578284 3.9152526-3.8152809 8.4311953-6.329411 11.3437533C2.7014051 38.092174-1.5332371 47.8140998 1.3948557 54.105092c.3327871.7149913 1.1102732 2.2372362 1.5855492 2.5770793 12.2449341 8.7556649 99.6730239-33.282169 91.09553008-45.5233941C90.41384606 5.932489 79.6752172 2.7898876 66.0950151 3.7752724z"}),ze.a.createElement("path",{fill:"#07F",d:"M58.0776401 53.6846998c25.617831-11.8932402 40.90603793-32.8143291 36.75056736-41.3696458C90.6727369 3.7597373 65.7015445 5.2917105 40.0837135 17.1867272S-2.0958268 46.8329855 2.0596438 55.3883021c4.1554705 8.5553167 30.4019823 10.1914144 56.0179963-1.7036023z"}),ze.a.createElement("path",{fill:"#FFF",d:"M57.4433159 49.8569977c12.116876-5.6259763 20.3449876-13.4669597 18.3797953-17.514832-1.9651922-4.0461031-13.3817649-2.7652205-25.4986409 2.8607559-12.116876 5.6259763-20.3449876 13.4669597-18.3797953 17.5130629 1.9651922 4.0461031 13.3817649 2.7669896 25.4986409-2.8589868z"}),ze.a.createElement("path",{fill:"url(#a)",d:"M32.1422222 67.8105207V162l147.8392838-20.804688L75.2879365 46.9043144z",opacity:".4938058",transform:"translate(0 -15)"})))}}]),n})(Ue.PureComponent);n(1855);function Ji(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Xi=function(){return At()()("promo-notification")},Zi=(function(e){De()(n,e);var t=Ji(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"render",value:function(){return ze.a.createElement("div",{onClick:this.props.onSubmit},ze.a.createElement(qi.MessageBox,{className:Xi().e("message-box"),size:"l",view:"default",actions:this._getButtons(),corner:ze.a.createElement(qi.Corner,{side:"top-left",width:50,height:60},ze.a.createElement(Ki,null))},ze.a.createElement(qi.Wrapper,{align:"left"},this._getText())))}},{key:"_getText",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.text,i=e.isMobile;return ze.a.createElement("div",{className:Xi().m({"has-icon":t,mobile:i})},n&&ze.a.createElement("h1",{className:Xi().e("title")},n),r)}},{key:"_getButtons",value:function(){var e=this.props,t=e.link,n=e.onClose,r=e.onSubmit;return[ze.a.createElement(kt.Button,{key:"button-close",size:"m",view:"clear-inverse",onClick:n,className:Xi().e("close")},"Не сейчас"),ze.a.createElement(kt.Button,{key:"button-action",size:"m",view:"action",onClick:r,className:Xi().e("submit")},t)]}}]),n})(Ue.Component);Zi.defaultProps={icon:!1,newWindow:!1};var Qi=Zi;n(1856);function eo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var to=function(){return At()()("notifications")},ro=(function(e){De()(n,e);var t=eo(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._onNotificationSubmit=r._onNotificationSubmit.bind(Ae()(r)),r._onNotificationClose=r._onNotificationClose.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidMount",value:function(){this.props.listenServiceNotificationsQueue(),this.props.fetchPromoNotifications()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.savedNotification;e.isPageVisible&&t&&!t.show_date&&this.props.markPromoNotificationAsShown(t)}},{key:"render",value:function(){var e=this.props,t=e.isPhone,n=e.savedNotification,r=e.notification,i=e.hasServiceNotifications;return ze.a.createElement(Pn.Popup,{className:to().e("popup").m({mobile:t}),view:"default",visible:Boolean(r),style:{position:"fixed",left:t?0:"auto",top:"auto",bottom:t&&i?72:t?16:36,right:t?0:36},nonvisual:!0},n&&ze.a.createElement(Qi,{cls:to().e("body"),isMobile:t,title:n.title,link:n.link_text,text:n.text,onSubmit:this._onNotificationSubmit,onClose:this._onNotificationClose,icon:!0}))}},{key:"_onNotificationSubmit",value:function(e){e.stopPropagation();var t=this.props.savedNotification,n=t.link;t.link_new_window?window.open(n):location.href=n,this.props.hidePromoNotification(this.props.savedNotification,!0)}},{key:"_onNotificationClose",value:function(e){e.stopPropagation(),this.props.hidePromoNotification(this.props.savedNotification)}}]),n})(Ue.Component),io={fetchPromoNotifications:Nr.fetchPromoNotifications,hidePromoNotification:Nr.hidePromoNotification,markPromoNotificationAsShown:Nr.markPromoNotificationAsShown,listenServiceNotificationsQueue:Nr.listenServiceNotificationsQueue},oo=Object(Be.connect)((function(e){var t=e.environment.agent,n=t.isMobile,r=t.isTablet,i=e.notifications.service.count,o=Object(Ui.a)(e);return{isPhone:n&&!r,notification:o,hasServiceNotifications:Boolean(i)}}),io)($i(Object(Ln.a)(ro,"notification",(function(e){return e.notification})))),ao=n(22),so=n.n(ao),uo=function(e){return"leaveFolder"===e.type?"delete":"removeResourceAlbum"===e.type?"excludeFromAlbum":e.type},co=function(e){var t=e.type,n=e.data,r=n.status,i=n.isRemote,o=n.idFolderDst;return["copy","move"].includes(t)?Boolean(r&&!i&&o&&"exists"!==r):!!["cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||Boolean(r&&!i)},lo=function(e){return["canceled","rejected"].includes(e.data.status)},fo=function(e){return["canceled","failed","done","rejected"].includes(e.data.status)},po=function(e){var t=e.type,n=e.data.status;return"move"===t?"moving"===n:!!["rename","cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||["progressing"].includes(n)},ho=function(e){var t=e.page.idContext,n=Object.keys(e.operations).reduce((function(n,r){var i=e.operations[r],o=(function(e){var t=e.type,n=e.data,r=n.idSrc,i=n.idFolderDst,o=n.srcContextId;switch(t){case"copy":case"move":return i;case"delete":case"leaveFolder":return so.a.dirname(r);case"restore":return"/trash";case"rename":return o||so.a.dirname(r);case"cleanTrash":return"/trash";case"removeResourceAlbum":case"excludeFromAlbum":case"addToAlbum":case"mergeAlbums":return o;default:return null}})(i),a=fo(i),s=uo(i);return!po(i)&&!fo(i)||lo(i)||o&&o!==t||(n.total++,n.finished+=a?1:0,n.type=!n.type||"multi"!==n.type&&n.type===s?s:"multi"),n}),{total:0,finished:0,type:null});return n.type&&n.total!==n.finished?n:null},mo=function(e){return Boolean(Object.keys(e.operations).some((function(t){return (function(e){var t=e.type,n=e.data.status;return"copy"===t?["determined","forced"].includes(n):"move"===t?["started","forced"].includes(n):co(e)&&!po(e)&&!fo(e)})(e.operations[t])})))};n(1857);function vo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var go=function(){return At()()("operations-progress")},yo={copy:ar.b,move:fr.a,delete:pr.a,restore:ai.a},bo={wait:{multi:"Идет подготовка. Пожалуйста, подождите",copy:"Подготовка к копированию. Пожалуйста, подождите",move:"Подготовка к перемещению. Пожалуйста, подождите",delete:"Подготовка к удалению. Пожалуйста, подождите",restore:"Подготовка к восстановлению. Пожалуйста, подождите"},start:{multi:"Операции начались",copy:"Копирование началось",move:"Перемещение началось",delete:"Удаление началось",restore:"Восстановление началось"},progress:{multi:function(e,t){return"Обработано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},createAlbum:function(){return"Создается альбом"},addToAlbum:function(){return"Файлы добавляются в альбом"},mergeAlbums:function(){return"Альбомы объединяются"},cleanTrash:function(){return"Очистка Корзины"},copy:function(e,t){return 1===e?"Копируется":"Скопировано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},move:function(e,t){return 1===e?"Перемещается":"Перемещено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},delete:function(e,t){return 1===e?"Удаляется":"Удалено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},restore:function(e,t){return 1===e?"Восстановление":"Восстановлено  "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},rename:function(e,t){return 1===e?"Переименовывается":"Переименовано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},excludeFromAlbum:function(e,t){return 1===e?"Скрыто 1 фото":"Скрыто "+__i18n__.i18n.convert([yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото"],yr.externals.entityify(t))+" из "+yr.externals.entityify(e)}}},_o=(function(e){De()(n,e);var t=vo(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e))._closeTimer=null,r.state={allOperationsRequested:!1,typeRequestedOperations:null},r._resetStartedState=r._resetStartedState.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.hasStartingOperations&&!this.props.hasStartingOperations&&bo.start[this.props.activeOperationsType]&&!this.props.contextOperationsData&&(this.setState({allOperationsRequested:!0,typeRequestedOperations:this.props.activeOperationsType}),this._closeTimer=setTimeout((function(){t._resetStartedState()}),5e3)),this._closeTimer&&(this.props.contextOperationsData||this.props.hasStartingOperations)&&this._resetStartedState()}},{key:"_resetStartedState",value:function(){this.setState({allOperationsRequested:!1,typeRequestedOperations:null}),this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=null}},{key:"_getIcon",value:function(){var e=yo[this.state.typeRequestedOperations||this.props.activeOperationsType];return e?ze.a.createElement("div",{className:go().e("icon")},ze.a.createElement(e,null)):null}},{key:"_getContent",value:function(){var e,t=this.props,n=t.hasStartingOperations,r=t.activeOperationsType,i=t.contextOperationsData;if(n)e=bo.wait[r];else if(i){var o=i.total,a=i.finished,s=i.type;e=bo.progress[s]&&bo.progress[s](o,a)}else this.state.allOperationsRequested&&(e=bo.start[this.state.typeRequestedOperations]);return ze.a.createElement("div",{className:go().e("content")},this.state.allOperationsRequested&&!i?this._getIcon():ze.a.createElement(qe.Spin,{className:go().e("spin"),size:"xxs",view:"dark",progress:!0}),ze.a.createElement("div",{className:go().e("text")},e))}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.hasStartingOperations,r=e.activeOperationsType,i=e.contextOperationsData;return r&&(n||this.state.allOperationsRequested||i)?ze.a.createElement("div",{className:go().m({mobile:t})},ze.a.createElement(qi.MessageBox,{view:"default",size:"l",onClose:this.state.allOperationsRequested&&!i?this._resetStartedState:void 0},ze.a.createElement(qi.Wrapper,{align:"left"},this._getContent()))):null}}]),n})(Ue.Component),Oo=Object(Be.connect)((function(e){return{isMobile:e.environment.agent.isMobile,hasStartingOperations:mo(e),activeOperationsType:(function(e){return Object.keys(e.operations).reduce((function(t,n){var r=e.operations[n];if(co(r)&&!lo(r)){var i=uo(r);t?t!==i&&(t="multi"):t=i}return t}),"")})(e),contextOperationsData:ho(e)}}))(_o),wo=n(791),Eo=n(823),So=n.n(Eo),xo=n(99),Co=Object(xo.default)({loader:function(){return n.e(11).then(n.bind(null,2202))},webpack:function(){return[2202]},modules:["./listing"]}),To=(n(1873),n(60)),ko=n.n(To),jo=n(108),Po=n(80),Ro=n(81);function Ao(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Io=function(){return At()()("direct")},Do=(function(e){De()(n,e);var t=Ao(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={blockId:null,renderIframe:!1,isDark:e.isDark},r._onReceiveMessage=r._onReceiveMessage.bind(Ae()(r)),r._checkDirectVisibilityDebounced=p.a.debounce(r._checkDirectVisibility.bind(Ae()(r)),250),r._updatedAt=0,r}return Pe()(n,[{key:"_setUpdateTime",value:function(){this._updatedAt=Date.now()}},{key:"_onReceiveMessage",value:function(e){var t=e.data||{},n=t.id,r=t.type;n===this._getSearchParams()&&this._iframe&&"click"===r&&this._iframe.click()}},{key:"_getSearchParams",value:function(){var e=this.props.nonce;return"?"+[e&&"nonce="+e,this.state.blockId&&"type="+this.state.blockId,this.state.isDark&&"dark=1"].filter(Boolean).join("&")}},{key:"_checkDirectVisibility",value:function(){var e=Boolean(this._container&&this._container.offsetParent);if(e&&this._container){var t=this._getBlockId();t&&(this.setState({blockId:t,renderIframe:!0}),window.removeEventListener("resize",this._checkDirectVisibilityDebounced))}return e}},{key:"_getBlockId",value:function(){return this._container?this._getBlockTypeByWidth(this._container.getBoundingClientRect().width):null}},{key:"_getBlockTypeByWidth",value:function(e){var t=this.props.isDark;return e<1030?t?"R-I-104220-183":"R-I-104220-182":e<1350?t?"R-I-104220-164":"R-I-104220-163":t?"R-I-104220-167":"R-I-104220-166"}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._onReceiveMessage),this._checkDirectVisibility()||window.addEventListener("resize",this._checkDirectVisibilityDebounced),this._setUpdateTime()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._onReceiveMessage),this._checkDirectVisibilityDebounced.cancel()}},{key:"componentDidUpdate",value:function(e){if(this.state.renderIframe&&e.isDark!==this.props.isDark){var t=this._getBlockId();if(t)return this.setState({blockId:t,isDark:this.props.isDark}),void this._setUpdateTime()}if(Date.now()-this._updatedAt>3e4&&this._iframe&&this._iframe.contentWindow)try{this._iframe.contentWindow.location.reload(!0),this._setUpdateTime()}catch(e){Object(jo.log)({event:"directFrameReloadCatch",error:e.message,iframeSrc:this._iframe.getAttribute("src")})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.position,i=t.tuningUrl;return ze.a.createElement("div",{className:Io().m({position:r}).mix(n),ref:function(t){e._container=t}},this.state.renderIframe?[ze.a.createElement("iframe",{key:"iframe",className:Io().e("iframe"),ref:function(t){e._iframe=t},scrolling:"no",src:"/direct.html".concat(this._getSearchParams())}),"top"===r?null:ze.a.createElement("div",{className:Io().e("remove-ads"),key:"remove-ads"},ze.a.createElement(Tt.Link,{href:"".concat(ko.a.addParams(i,{from:"disk_direct"})),onClick:function(){F.default.count("interface elements","disable ad")},view:"default"},"Отключить рекламу"))]:null)}}]),n})(Ue.Component),Mo=Object(Be.connect)((function(e){return{isDark:Object(Po.isContentDark)(Object(Ro.getThemeName)(e))}}))(Do),No=Object(xo.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,2203))},webpack:function(){return[2203]},modules:["./photo2"]}),Lo=Object(xo.default)({loader:function(){return n.e(5).then(n.bind(null,2207))},webpack:function(){return[2207]},modules:["./albums2"]}),Fo=Object(xo.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,2204))},webpack:function(){return[2204]},modules:["./album2"]}),Bo=n(244),Uo=n(227);function zo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Vo=function(){return At()()("albums2")},Ho=(function(e){De()(n,e);var t=zo(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","geo meta-album","show")}},{key:"render",value:function(){var e=this.props.isMobile;return ze.a.createElement("div",{className:Vo().m({mobile:e,desktop:!e,geo:!0})},ze.a.createElement(Bo.default,{cls:Vo().e("header"),title:"Места и поездки",backUrl:"/client/albums",mode:"normal"}),ze.a.createElement(Uo.default,{albumType:"geo"}))}}]),n})(Ue.Component),Wo=Object(Be.connect)((function(e){return{isMobile:e.environment.agent.isMobile}}))(Ho),Go=n(157),$o=n(57),qo=n(92);function Yo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Ko=function(){return At()()("albums2")},Jo=(function(e){De()(n,e);var t=Yo(n);function n(e){var r;return ke()(this,n),(r=t.call(this,e)).state={menuOpened:!1},r._toggleMenu=r._toggleMenu.bind(Ae()(r)),r._onHideFacesClick=r._onHideFacesClick.bind(Ae()(r)),r._buttonRef=ze.a.createRef(),r._onMenuItemClick=r._onMenuItemClick.bind(Ae()(r)),r}return Pe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","faces meta-album","show")}},{key:"_toggleMenu",value:function(){this.setState({menuOpened:!this.state.menuOpened})}},{key:"_onHideFacesClick",value:function(){this._toggleMenu(),this.props.refuseAlbumsFaces()}},{key:"_onMenuItemClick",value:function(e){"hide-faces"===e.target.value&&this._onHideFacesClick()}},{key:"_getMenu",value:function(){return ze.a.createElement($o.Menu,{view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},ze.a.createElement($o.Item,{key:"hide-faces",value:"hide-faces"},"Отключить группировку фото по людям"))}},{key:"_getControls",value:function(){return this.props.canShowAlbumsFaces?ze.a.createElement("div",{className:Ko().e("controls")},ze.a.createElement(kt.Button,{innerRef:this._buttonRef,size:"s",view:"clear",className:Ko().e("button"),"aria-label":"Ещё",onClick:this._toggleMenu,icon:Go.moreIconProvider}),ze.a.createElement(Pn.Popup,{view:"default",visible:this.state.menuOpened,anchor:this._buttonRef,direction:["bottom-end"],onClose:this._toggleMenu,target:"anchor"},this._getMenu())):null}},{key:"render",value:function(){var e=this.props.isMobile;return ze.a.createElement("div",{className:Ko().m({mobile:e,desktop:!e,faces:!0})},ze.a.createElement(Bo.default,{cls:Ko().e("header"),title:"Люди на фото",backUrl:"/client/albums",mode:"normal"},this._getControls()),ze.a.createElement(Uo.default,{albumType:"faces"}))}}]),n})(Ue.Component),Xo={refuseAlbumsFaces:qo.refuseAlbumsFaces},Zo=Object(Be.connect)((function(e){var t=e.environment.agent.isMobile;return{canShowAlbumsFaces:Object(zr.canShowAlbumsFaces)(e),isMobile:t}}),Xo)(Jo),Qo=n(824),ea=n.n(Qo),ta=n(825),na=n.n(ta);n(1942);function ra(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var ia=n(130).I18N,oa=(function(e){De()(n,e);var t=ra(n);function n(){return ke()(this,n),t.apply(this,arguments)}return Pe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","error page",this.props.reason||"unknown reason")}},{key:"_onReloadClick",value:function(){window.location.reload()}},{key:"render",value:function(){return ze.a.createElement("div",{className:At()()("error").m({mobile:this.props.isMobile})},ze.a.createElement(ia,{loc:"Сервер временно недоступен, попробуйте "+yr.externals.entityify(ia.$1)},ze.a.createElement(Tt.Link,{view:"default",onClick:this._onReloadClick},"обновить страницу")))}}]),n})(Ue.Component),aa=Object(Be.connect)((function(e){return{isMobile:e.environment.agent.isMobile,reason:e.page.originalNSParams.reason}}))(oa),sa=n(826),ua=n.n(sa),ca=n(827),la=n.n(ca),fa=n(828),da=n.n(fa),pa=n(829),ha=n.n(pa),ma=Object(xo.default)({loader:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,2206))},webpack:function(){return[2206]},modules:["./remember-block"]}),va=n(830),ga=n.n(va),ya=n(554),ba=n.n(ya),_a=(n(2015),{updateSettings:nn.updateSettings}),Oa=Object(Be.connect)((function(e){return{isMobile:e.environment.agent.isSmartphone}}),_a)((function(e){var t=e.isMobile,n=e.updateSettings,r=Object(Ue.useCallback)((function(){n({closedOverdraftScreen:!0})}),[n]);return ze.a.createElement("div",{className:t?"b2b-free-screen-mobile":"b2b-free-screen"},ze.a.createElement(ba.a,{onClose:r}))})),wa=n(831),Ea=n.n(wa),Sa=n(832),xa=n.n(Sa),Ca=n(309),Ta=n(48),ka=n(89),ja=n(87),Pa=n(571),Ra=(n(840),n(231),n(83)),Aa=n.n(Ra),Ia=(n(2024),Object(Be.connect)((function(e){return{dialogs:e.dialogs}}))((function(e){var t=e.dialogs,n=e.components,r=Object(Ue.useState)(!1),i=Aa()(r,2),o=i[0],a=i[1];return Object(Ue.useEffect)((function(){a(!0)}),[]),o?ze.a.createElement(ze.a.Fragment,null,Object.keys(t).filter((function(e){return Boolean(n[e])})).map((function(e){var r=n[e];return ze.a.createElement(r,{key:e,dialog:t[e]})}))):null}))),Da=n(328),Ma=n(833);function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Fe()(e);if(t){var i=Fe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne()(this,n)}}var Ba,Ua,za,Va,Ha=function(){return At()()("root")};Ba=n(2073).default,Ua=n(2103).default,za=n(2105).default,Va=n(2108).default;var Wa=[];Wa=n(2170).default;var Ga=["topbar"],$a=(function(e){De()(n,e);var t=Fa(n);function n(e,r){var i;return ke()(this,n),(i=t.call(this,e,r)).state={contextMenuCreatePosition:null,isClient:!1},i._directMetrikaCounted=!1,i._onContextMenu=i._onContextMenu.bind(Ae()(i)),i._onContextMenuCreatePopupClose=i._onContextMenuCreatePopupClose.bind(Ae()(i)),i._setRef=i._setRef.bind(Ae()(i)),i.getRef=i.getRef.bind(Ae()(i)),i._ref=null,i}return Pe()(n,[{key:"_setRef",value:function(e){this._ref=e}},{key:"getRef",value:function(){return this._ref}},{key:"componentDidCatch",value:function(e){"error"!==this.props.page&&V.a.go("/client/error","preserve",{reason:"react_catch",error:e}),setTimeout((function(){throw e}))}},{key:"_maybeSaveScroll",value:function(e,t){(!e.isUploaderOpenedInTouch&&t.isUploaderOpenedInTouch||!e.isSuggestOpenedInTouch&&t.isSuggestOpenedInTouch||!e.isOverdraftScreenOpenedInTouch&&t.isOverdraftScreenOpenedInTouch)&&(this._savedScroll=window.pageYOffset)}},{key:"_maybeRestoreScroll",value:function(e,t){(e.isUploaderOpenedInTouch&&!t.isUploaderOpenedInTouch||e.isSuggestOpenedInTouch&&!t.isSuggestOpenedInTouch||e.isOverdraftScreenOpenedInTouch&&!t.isOverdraftScreenOpenedInTouch)&&Object(Pa.c)(this._savedScroll||0,{silent:!0})}},{key:"_maybeUpdateBodyThemeClasses",value:function(e,t){var n,r,i=Object(Po.getContentClassName)(t.themeName),o=Object(Po.getContentClassName)(e.themeName);i!==o&&((n=document.body.classList).remove.apply(n,m()(o.split(" "))),(r=document.body.classList).add.apply(r,m()(i.split(" "))))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this._maybeSaveScroll(this.props,e)}},{key:"componentDidUpdate",value:function(e){!this._directMetrikaCounted&&this.props.idContext&&this.props.canShowWebClientAds&&(this.props.showWebClientAds?F.default.count("stat","ad","direct"):F.default.count("stat","ad","disable"),this._directMetrikaCounted=!0),this._maybeUpdateBodyThemeClasses(e,this.props),this._maybeRestoreScroll(e,this.props)}},{key:"componentDidMount",value:function(){this.setState(La(La({},this.state),{},{isClient:!0}))}},{key:"_onContextMenu",value:function(e){var t=[".".concat($e.LISTING_ITEM_CLASS),".".concat(li.PREVENT_CUSTOM_CONTEXT_MENU_CLASS),".popup2",".modal",".Popup2",".Modal",".direct",".footer"].join(", ");this.props.showContextMenu&&!e.target.closest(t)&&(e&&e.target&&e.target.dispatchEvent(new Event("click",{bubbles:!1})),e.preventDefault(),this.setState(La(La({},this.state),{},{contextMenuCreatePosition:{x:e.pageX,y:e.pageY}})),F.default.count("context menu","empty","show"))}},{key:"_onContextMenuCreatePopupClose",value:function(){this.setState(La(La({},this.state),{},{contextMenuCreatePosition:null}))}},{key:"_getDefaultContent",value:function(){var e=this.props,t=e.page,n=e.whiteInnerContent,r=e.hideFooter,i=e.noBorderRadius,o=e.nonce,a=e.tuningUrl,s=e.shouldShowOverdraftBlock,u=e.shouldShowB2bFreeBlock,c=e.isReadOnlyActive,l=e.readOnlyType,f=e.isMobile,d=e.readOnlyUrl,p="listing"===t&&this.props.canShowWebClientAds&&this.props.showWebClientAds;return ze.a.createElement("div",{key:"content",className:Ha().e("content").m({"has-bottom-ad":p,page:t})},ze.a.createElement(Ba,null),ze.a.createElement("div",{className:Ha().e("content-wrap"),onContextMenu:"listing"===t?this._onContextMenu:void 0},c&&ze.a.createElement(So.a,{type:l,isMobile:f,url:d}),s?ze.a.createElement(za,null):null,u?ze.a.createElement(Va,null):null,ze.a.createElement("div",{className:Ha().e("content-inner").m({white:n,"no-border-radius":i,page:t})},ze.a.createElement("div",{className:Ha().e("content-container")},this._getPageComponent())),p?ze.a.createElement(Mo,{cls:Ha().e("bottom-ad"),nonce:o,tuningUrl:a}):null,"listing"!==t?null:ze.a.createElement(Ua,{onClose:this._onContextMenuCreatePopupClose,visible:!!this.state.contextMenuCreatePosition,position:this.state.contextMenuCreatePosition}),r?null:ze.a.createElement(He.default,{className:Ha().e("footer")})))}},{key:"_getPageComponent",value:function(){switch(this.props.page){case"album":return ze.a.createElement(Fo,null);case"albums":return ze.a.createElement(Lo,null);case"geo":return ze.a.createElement(Wo,null);case"faces":return ze.a.createElement(Zo,null);case"familyAlbum":return ze.a.createElement(ea.a,null);case"photo":return ze.a.createElement(No,null);case"journal":return ze.a.createElement(na.a,null);case"remember-block":return ze.a.createElement(ma,null);case"docs":return this.props.isDocsView?ze.a.createElement(la.a,{getRootRef:this.getRef}):ze.a.createElement(ua.a,null);case"error":return ze.a.createElement(aa,null);case"listing":return ze.a.createElement(Co,{closeContextMenu:this._onContextMenuCreatePopupClose});default:return null}}},{key:"_getNavigation",value:function(){return this.props.isUploaderOpenedInTouch,null}},{key:"render",value:function(){var e,t=this.props,n=t.page,r=t.mobileAppHeader,i=t.shouldShowOverdraftScreen,o=t.shouldShowOverdraftBlock,a=t.showB2bFreeWarningScreen,s=t.shouldMountUploader,u=t.isUploaderOpenedInTouch,c=t.isSuggestOpenedInTouch,l=t.isOverdraftScreenOpenedInTouch,f=t.isDocsPage,d=t.overdraftType,p=t.isMobile,h=t.isDocsView,m=t.isCoverLayerEnabled,v=t.idContext,y=t.shouldShowPromozavr,b=Object(le.getIsVirtualDiskList)(String(v)),_=[ze.a.createElement(da.a,{key:"a11y"}),ze.a.createElement(Ve,{key:"header"})],O=l||u||c;i?_.push(ze.a.createElement(ga.a,{key:"overdraft-screen"})):a?_.push(ze.a.createElement(Oa,{key:"b2b-free-screen"})):_.push(b?null:ze.a.createElement(Pi,{key:"resources-action-bar",metrikaContext:Ga}),ze.a.createElement(Yr,{key:"slider"}),this._getNavigation(),O?null:this._getDefaultContent(),ze.a.createElement(Ia,{key:"dialogs",components:Wa}),ze.a.createElement(Bi,{key:"widgets"}),f?null:ze.a.createElement(oo,{key:"notifications"}),ze.a.createElement(Oo,{key:"operations-progress"}),s?ze.a.createElement(wo.b,{key:"uploader"}):null);var w=a&&p||i&&(!d||p);return ze.a.createElement(ze.a.Fragment,null,ze.a.createElement(ha.a,null),ze.a.createElement("div",{className:Ha().m((e={page:n,"docs-view":h,"mobile-app-header":r,"overdraft-screen":w,"overdraft-block":o},g()(e,"overdraft-"+d,o&&Boolean(d)),g()(e,"uploader-mobile",u),g()(e,"ps-header",!0),g()(e,"with-cover-layer",m),e))},ze.a.createElement(xa.a,null),m&&ze.a.createElement(Ea.a,null),ze.a.createElement("div",{className:Ha().e("wrapper"),ref:this._setRef},_,y&&this.state.isClient&&ze.a.createElement(Ue.Suspense,{fallback:null},ze.a.createElement(Ma.Promozavr,null)))))}}]),n})(Ue.Component),qa=Object(Be.connect)((function(e){var t=e.page.idContext,n=e.environment,r=n.agent,i=r.isMobile,o=r.isInMobileApp,a=r.BrowserName,s=r.BrowserVersion,u=n.session.nonce,c=e.uploader,l=c.visible,f=c.opened,d=e.settings,p=d.closedOverdraftScreen,h=d.closedOverdraftBlock,m=e.config.urlsBase.support,v=Object(Zr.getPage)(e),g=Object(Ta.shouldNotifyOverdraft)(e),y=Object(Zr.isFooterHidden)(e),b=Object(Ta.getOverdraftType)(e),_=!Object(Y.getIsInsideVirtualDisk)(e)&&g&&!p,O=!Object(Y.getIsInsideVirtualDisk)(e)&&Object(ka.shouldShowB2bFreeWarningScreen)(e)&&!p,w=Object(ka.shouldNotifyFreeB2b)(e)&&!Object(Y.getIsInsideVirtualDisk)(e);return{isMobile:i,idContext:t,whiteInnerContent:["listing","photo","albums","album","familyAlbum","remember-block","geo","journal","faces","docs"].includes(v)&&!1,canShowWebClientAds:(function(e){return!(Object(Er.getListingStubId)(e)&&Object(Er.isEmptyResource)(e)||"/trash"===e.page.idContext&&Object(Er.isEmptyResource)(e)||"recent"===Object(Er.getListingStubId)(e)||e.environment.agent.isMobile)})(e),hideFooter:y,showWebClientAds:(function(e){var t,n;return null===(t=e.user.features)||void 0===t?void 0:null===(n=t.advertising)||void 0===n?void 0:n.enabled})(e),showContextMenu:(function(e){var t=e.page.idContext,n=e.environment.agent.isMobile,r=Object(Er.isEmptyResource)(e)&&Boolean(Object(Er.getListingStubId)(e));return!n&&"/trash"!==t&&!Object(le.getIsVirtualDiskList)(t)&&!Object(le.isVirtualDiskTrash)(t)&&t.indexOf("/attach/YaFotki")<0&&!r})(e),nonce:u,page:v,isReadOnlyActive:Object(Da.isReadOnlyActive)(e),readOnlyType:Object(Da.readOnlyType)(e),readOnlyUrl:m+"/disk/enlarge/disk-space.html#limit",isDocsView:Object(oe.isDocsView)(e),tuningUrl:Object(Zr.getBuyButtonUrl)(e),mobileAppHeader:o,shouldShowOverdraftScreen:_,shouldShowOverdraftBlock:!i&&!Object(oe.isDocsPage)(e)&&g&&!h&&!Object(Y.getIsInsideVirtualDisk)(e),shouldShowB2bFreeBlock:w,overdraftType:b,shouldMountUploader:l,isUploaderOpenedInTouch:f&&!1,isSuggestOpenedInTouch:Object(ja.b)(e)&&!1,isOverdraftScreenOpenedInTouch:_&&!1,themeName:Object(Ro.getThemeName)(e),isDocsPage:Object(oe.isDocsPage)(e),noBorderRadius:"MobileSafari"===a&&s<"14",isCoverLayerEnabled:Object(Ro.isCoverLayerEnabled)(e),shouldShowPromozavr:Object(Ca.shouldShowPromozavr)(e),showB2bFreeWarningScreen:O}}))($a),Ya=n(64),Ka=n(444),Ja=n(127),Xa=n.n(Ja),Za=n(449),Qa=n.n(Za),es=n(78),ts=n(115),rs=n(430);n(2154);p.a.extend(yr.externals,M),n(869),H.a.init("client",W),ns.router.routes=n(2165)({ns:ns,defaultFolders:Object(Ya.getPreloadedData)("defaultFolders"),settings:Object(Ka.preprocessSettings)(Object(Ya.getPreloadedData)("settings"),Object(X.default)().getState().environment.agent.isSmartphone),config:Object(Ya.getPreloadedData)("config"),environment:Object(Ya.getPreloadedData)("environment")}),n.p=q.a.links.static.host+q.a.externalStaticPath;!(function(){document.body.classList.remove("no-transition");var e=Object(X.default)(),t=Object(Ya.getPreloadedData)("space")||{};U.default.DEFAULT_FOLDERS_DATA["/trash"].meta={size:t.trash||0},Object.keys(U.default.DEFAULT_FOLDERS_DATA).forEach((function(t){e.dispatch(Object(rn.setResourceData)(t,Object.assign({id:t},U.default.DEFAULT_FOLDERS_DATA[t])))})),Qa.a.preloadReady().then((function(){L.a.initApp();var t=e.getState(),n=ns.page.current.params.idResourceDownload;if(n&&(delete ns.page.current.params.idResourceDownload,V.a.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params)),Object(Z.isExistsResource)(t,n)?ns.action.run("resource.download",{id:n}):e.dispatch(Object(rn.fetchSingleResource)(n)).then((function(){ns.action.run("resource.download",{id:n})}))),t.environment.session.loadingFailed||V.a.onBeforeFirstRender(e,Object(Ya.getPreloadedData)()),ns.page.current.params.hide_overdraft_screen){var r=new URL(location.href);r.searchParams.delete("hide_overdraft_screen"),ns.history.replaceState(r.toString())}if(Xa.a.hydrate(ze.a.createElement(Be.Provider,{store:e},ze.a.createElement(rs.b,null,ze.a.createElement(qa,null))),document.getElementById("app")),Object(ka.isUserCanHaveDisk)(t)){ns.Model.get("operationsActive").revive(),Object(B.subscribe)();var i=new Oe.a("/check-online");i.addOfflineEventListener((function(){e.dispatch(function(e){return{type:Ir.UPDATE_ENVIRONMENT,payload:e}}({offlineTime:Date.now()}))})),i.addOnlineEventListener((function(t,n){n<=rn.offlineThreshold||(e.dispatch(Object(es.a)()),e.dispatch(Object(ts.c)(!0)),"listing"===Object(Zr.getPage)(e.getState())&&e.dispatch(Object(rn.fetchCurrentListing)(!1,!0)))}))}}));var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=e.findIndex((function(e,n){return 0===n?t<=e:t<e}));return-1===o?i+e[e.length-1]+n:0===o?r+e[0]+n:e[o-1]+n+" - "+(e[o]-1)+n},r=e.getState(),i=Object(oe.isDocsPage)(r);F.default.init(i?q.a.docsMetrikaCounterId:q.a.metrikaCounterId,X.default,null,(function(){var t={version:r.environment.session.version},i=(r.space||{}).limit,o=Object(Ta.getPercentageOfUsed)(r),a=i/1024/1024/1024,s=Object(Y.getIsInsideVirtualDisk)(e.getState()),u=Object(Y.isCurrentContextReadonlyVdResource)(e.getState());return r.user.uid&&Object.assign(t,{"inside vd":s?u?"readonly":"read+write":"0",space:n([10,25,50,75,100],o,"%","< ","> "),"space total":n([10,50,100,300,600,1e3,2e3],a,"","","> ")}),t}),{experiments:Object(Ya.getPreloadedData)("environment.session.metrikaExperiments")})})()}),(function(e,t,n){"use strict";var r,i;n.r(t),(function(e){e[e.day=0]="day",e[e.month=1]="month",e[e.year=2]="year"})(r||(r={})),(function(e){e[e.PrevCell=0]="PrevCell",e[e.NextCell=1]="NextCell",e[e.UpperCell=2]="UpperCell",e[e.LowerCell=3]="LowerCell",e[e.FirstCell=4]="FirstCell",e[e.LastCell=5]="LastCell",e[e.StartCell=6]="StartCell",e[e.EndCell=7]="EndCell",e[e.PrevView=8]="PrevView",e[e.NextView=9]="NextView",e[e.PrevExtraView=10]="PrevExtraView",e[e.NextExtraView=11]="NextExtraView"})(i||(i={}));var o=n(2),a=n(0),s=n(557);function u(e,t,n){var r=e.value,i=e.viewDate,u=t.isCalendarFocused,c=t.activeView,l=t.getCellState,f=t.focusDate,d=t.selectDate,p=l(r,i),h=p.isSelected,m=p.isDisabled,v=p.isFocused,g=p.isSameView,y=p.isToday,b=u&&v,_="range"===t.mode?t.highlightDate:null,O=Object(s.a)({disabled:m,onPress:function(){d(r)}}).pressProps;Object(a.useEffect)((function(){b&&n.current&&n.current.focus()}),[b,n]);var w=Object(o.__assign)(Object(o.__assign)({},O),{role:"button","aria-selected":h,"aria-disabled":m,"aria-hidden":!g,"aria-label":void 0});return m||(w.tabIndex=g&&v?0:-1,w.onFocus=function(){g&&!v&&f(r)}),"range"!==t.mode||m||(w.onMouseEnter=function(){null===_||void 0===_||_(r)}),y&&"day"===c&&(w["aria-current"]="date"),{cellState:p,cellProps:{role:"gridcell"},buttonProps:w}}var c=n(271);function l(e,t){var n=e.readOnly,r=e.disabled,o=t.mode,a=t.focusedDate,s=t.focusCalendar,u=t.focusDate,l=t.moveDate,f=Object(c.a)().isRTL;return{gridProps:{role:"grid","aria-readonly":n,"aria-disabled":r,"aria-multiselectable":"multiple"===o||"range"===o,onFocus:function(){s(!0)},onBlur:function(e){var t=e.relatedTarget;e.currentTarget.contains(t)||s(!1)},onKeyDown:function(e){var t=null;switch(e.key){case"ArrowLeft":t=f?i.NextCell:i.PrevCell;break;case"ArrowRight":t=f?i.PrevCell:i.NextCell;break;case"ArrowUp":t=i.UpperCell;break;case"ArrowDown":t=i.LowerCell;break;case"Home":t=e.shiftKey?i.FirstCell:i.StartCell;break;case"End":t=e.shiftKey?i.LastCell:i.EndCell;break;case"PageUp":t=e.shiftKey?i.PrevExtraView:i.PrevView;break;case"PageDown":t=e.shiftKey?i.NextExtraView:i.NextView}null!==t&&(e.preventDefault(),u(l(a,t)))}}}}var f=n(2234),d=n(652),p=n(2233),h=new Date(-621355968e5),m=new Date(864e13),v=n(50),g=n(41);function y(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}var b=n(2231);function _(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function O(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function w(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setHours(0,0,0,0),t}var E=n(63);function S(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function x(e,t){return Object(g.a)(2,arguments),S(e,12*Object(E.a)(t))}function C(e,t){return Object(g.a)(2,arguments),S(e,-Object(E.a)(t))}function T(e,t){return Object(g.a)(2,arguments),x(e,-Object(E.a)(t))}function k(e,t){Object(g.a)(2,arguments);var n=w(e),r=w(t);return n.getTime()===r.getTime()}function j(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function P(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()}var R=n(442),A=n(808);function I(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=Object(A.a)(a);return n.setMonth(r,Math.min(o,s)),n}function D(e,t){if(Object(g.a)(2,arguments),"object"!==Object(R.a)(t)||null===t)throw new RangeError("values parameter must be an object");var n=Object(v.a)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=I(n,t.month)),null!=t.date&&n.setDate(Object(E.a)(t.date)),null!=t.hours&&n.setHours(Object(E.a)(t.hours)),null!=t.minutes&&n.setMinutes(Object(E.a)(t.minutes)),null!=t.seconds&&n.setSeconds(Object(E.a)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Object(E.a)(t.milliseconds)),n)}function M(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function N(e,t){return Object(g.a)(2,arguments),M(e,7*Object(E.a)(t))}var L=n(235),F=n(209);function B(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function U(e,t){void 0===t&&(t={});var n=t.firstDayOfWeek,r=void 0===n?0:n,i=[],o=e.getMonth(),a=e.getFullYear(),s=(y(e).getDay()-r)%7;s<0&&(s+=7);for(var u=Object(A.a)(e),c=Math.ceil((s+u)/7),l=0;l<c;l++){i.push([]);for(var f=0;f<7;f++){var d=new Date(a,o,7*l+f-s+1);i[l].push(d)}}return i}function z(e,t,n){void 0===n&&(n={});var r=n.firstDayOfWeek;switch(t){case i.NextCell:return M(e,1);case i.PrevCell:return (function(e,t){return Object(g.a)(2,arguments),M(e,-Object(E.a)(t))})(e,1);case i.LowerCell:return N(e,1);case i.UpperCell:return (function(e,t){return Object(g.a)(2,arguments),N(e,-Object(E.a)(t))})(e,1);case i.FirstCell:return y(e);case i.LastCell:return (function(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t})(e);case i.StartCell:return Object(L.a)(e,{weekStartsOn:r});case i.EndCell:return (function(e,t){var n,r,i,o,a,s,u,c;Object(g.a)(1,arguments);var l=Object(F.a)(),f=Object(E.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(u=l.locale)||void 0===u?void 0:null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Object(v.a)(e),p=d.getDay(),h=6+(p<f?-7:0)-(p-f);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d})(e,{weekStartsOn:r});case i.PrevView:return C(e,1);case i.NextView:return S(e,1);case i.PrevExtraView:return T(e,1);case i.NextExtraView:return x(e,1);default:return e}}var V=4,H=3;function W(e,t){return t.getFullYear()-e.getFullYear()}function G(e){for(var t=[],n=0,r=0;n<V;n++){t.push([]);for(var i=0;i<H;i++)t[n].push(S(e,r++))}return t}function $(e,t){switch(t){case i.NextCell:return S(e,1);case i.PrevCell:return C(e,1);case i.LowerCell:return S(e,H);case i.UpperCell:return C(e,H);case i.StartCell:case i.FirstCell:return I(e,0);case i.EndCell:case i.LastCell:return I(e,11);case i.PrevView:return T(e,1);case i.NextView:return x(e,1);default:return e}}var q=n(2232),Y=6,K=4,J=Y*K;function X(e){return Math.floor(e.getFullYear()/J)*J}function Z(e){return X(e)+J-1}function Q(e){var t=X(e);return Object(b.a)(Object(q.a)(e,t))}function ee(e){var t=Z(e);return O(Object(q.a)(e,t))}function te(e,t){var n=X(e);return(X(t)-n)/J}function ne(e,t){return x(e,t*J)}function re(e,t){return T(e,t*J)}function ie(e){for(var t=[],n=0,r=0;n<Y;n++){t.push([]);for(var i=0;i<K;i++)t[n].push(x(e,r++))}return t}function oe(e,t){switch(t){case i.NextCell:return x(e,1);case i.PrevCell:return T(e,1);case i.LowerCell:return x(e,K);case i.UpperCell:return T(e,K);case i.StartCell:case i.FirstCell:return Object(q.a)(e,X(e));case i.EndCell:case i.LastCell:return Object(q.a)(e,Z(e));case i.PrevView:return re(e,1);case i.NextView:return ne(e,1);default:return e}}function ae(e,t){return e&&t?t<e?{start:t,end:e}:{start:e,end:t}:{start:null!==e&&void 0!==e?e:t,end:null}}function se(e,t){return{day:y,month:b.a,year:Q}[e](t)}function ue(e,t){return{day:_,month:O,year:ee}[e](t)}function ce(e,t){return{day:w,month:y,year:b.a}[e](t)}function le(e,t,n){return{day:B,month:W,year:te}[e](t,n)}function fe(e,t,n){return{day:S,month:x,year:ne}[e](t,n)}function de(e,t,n){return{day:C,month:T,year:re}[e](t,n)}function pe(e,t,n){return 0===le(e,t,n)}function he(e,t,n){if(!n.start||!n.end)return!1;var r=ce(e,t);return r>=ce(e,n.start)&&r<=ce(e,n.end)}function me(e,t,n){return{day:k,month:j,year:P}[e](t,n)}function ve(e,t,n){return w(Object(p.a)(e.getTime(),t.getTime(),n.getTime()))}function ge(e,t,n){return{day:U,month:G,year:ie}[e](t,n)}function ye(e,t,n){var r=n.getDate(),i=n.getMonth();return{day:function(e){return e},month:function(e){return D(e,{date:r})},year:function(e){return D(e,{date:r,month:i})}}[e](t)}function be(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getTime()===r.getTime()}function _e(e){var t=e.value,n=e.defaultFocusedDate,i=void 0===n?t:n,s=e.onChange,u=e.autoFocus,c=void 0!==u&&u,l=e.readOnly,v=void 0!==l&&l,g=e.disabled,y=void 0!==g&&g,b=e.min,_=void 0===b?h:b,O=e.max,w=void 0===O?m:O,E=e.viewsCount,S=void 0===E?1:E,x=e.minCalendarView,C=void 0===x?"day":x,T=e.defaultCalendarView,k=void 0===T?C:T,j=e.maxCalendarView,P=void 0===j?"year":j,R=Object(a.useMemo)((function(){return new Date(_)}),[_]),A=Object(a.useMemo)((function(){return new Date(w)}),[w]),I=Object(a.useMemo)((function(){return t?new Date(t):void 0}),[t]),D=Object(d.a)(),M=Object(o.__read)(Object(a.useState)((function(){return X(k)})),2),N=M[0],L=M[1],F=Object(o.__read)(Object(a.useState)(c),2),B=F[0],U=F[1],V=Object(o.__read)(Object(a.useState)((function(){return K(i?new Date(i):new Date)})),2),H=V[0],W=V[1],G=Object(o.__read)(Object(a.useState)((function(){return J(N,H)})),2),q=G[0],Y=G[1];function K(e){return ce(C,ve(e,R,A))}function J(e,t){var n=de(e,A,S-1);return ye(e,se(e,ve(t,R,R>n?R:n)),t)}function X(e){var t=Object(p.a)(r[e],r[C],r[P]);return r[t]}function Z(e,t){void 0===t&&(t=0);var n=r[e]+t,i=r[n];return X(null!==i&&void 0!==i?i:e)}function Q(e,t){var n=ve(ce(C,t),R,A);if(!be(H,n)){W(n);var r=ye(e,(function(e,t,n,r){var i=n-1,o=le(e,t,r),a=Math.min(o,0)+Math.max(o,i)-i;return 0!==a?fe(e,t,a):t})(e,q,S,n),n);be(q,r)||Y(r)}}function ee(e,t){if(!(r[e]<r[C]||r[e]>r[P])){e!==N&&L(e);var n=K(t);be(H,n)||W(n);var i=le(N,q,J(N,n)),o=de(e,J(e,n),i);be(q,o)||Y(o)}}var te=Object(a.useMemo)((function(){return (function(e,t,n,r){for(var i=[],o=0;o<n;o++){var a=fe(e,t,o),s=ae(se(e,a),ue(e,a));i.push({viewDate:a,viewRange:s,data:ge(e,a,r)})}return i})(N,q,S,{firstDayOfWeek:D})}),[q,S,N,D]);return{mode:"single",value:I,isCalendarFocused:B,baseDate:q,focusedDate:H,activeView:N,views:te,focusCalendar:U,focusDate:function(e){Q(N,e)},selectDate:function(e){if(!v&&!y&&he(N,e,ae(R,A))){var t=Z(N,-1);t!==N?ee(t,e):(Q(t,e),v||t!==C||null===s||void 0===s||s({value:e}))}},getCellState:function(e,t){var n=new Date,r=pe(N,e,t);return{isDisabled:y||!he(N,e,ae(R,A)),isFocused:r&&me(N,e,H),isSameView:r,isSelected:!!I&&me(N,e,I),isToday:me(N,e,n),isWeekend:"day"===N&&Object(f.a)(e)}},moveDate:function(e,t){return (function(e,t,n,r){return{day:z,month:$,year:oe}[e](t,n,r)})(N,e,t,{firstDayOfWeek:D})},setView:function(e){ee(e,H)},canNavigateTo:function(e){var t=se(N,R),n=new Date(Math.max(t.getTime(),se(N,de(N,A,S-1)).getTime()));return he(N,e,ae(t,n))},navigateTo:function(e){var t=ye(N,e,H);if(!be(q,t)){Y(t);var n=K(function(e,t,n,r){var i=le(e,t,n),o=i+r-1;return i>0||o<0?fe(e,t,Math.abs(i)<Math.abs(o)?i:o):t}(N,H,t,S));be(H,n)||W(n)}},moveView:Z}}function Oe(e){var t=e.value,n=(e.defaultValue,e.onChange),r=Object(o.__rest)(e,["value","defaultValue","onChange"]),i=_e(Object(o.__assign)(Object(o.__assign)({},r),{value:null===t||void 0===t?void 0:t[0],onChange:function(e){var r,i=null!==(r=null===t||void 0===t?void 0:t.slice())&&void 0!==r?r:[],o=i.findIndex((function(t){return be(t,e.value)}));-1!==o?i.splice(o,1):i.push(e.value),null===n||void 0===n||n({value:i})}}));return Object(o.__assign)(Object(o.__assign)({},i),{mode:"multiple",value:t,getCellState:function(e,n){var r,a=i.getCellState(e,n);return Object(o.__assign)(Object(o.__assign)({},a),{isSelected:null!==(r=null===t||void 0===t?void 0:t.some((function(t){return me(i.activeView,t,e)})))&&void 0!==r&&r})}})}function we(e){var t,n=e.value,r=(e.defaultValue,e.onChange),i=Object(o.__rest)(e,["value","defaultValue","onChange"]),s=Object(o.__read)(Object(a.useState)(null),2),u=s[0],c=s[1],l=_e(Object(o.__assign)(Object(o.__assign)({},i),{value:null!==(t=null===n||void 0===n?void 0:n.start)&&void 0!==t?t:void 0,onChange:function(e){c(u?null:e.value),null===r||void 0===r||r({value:ae(u,e.value)})}})),f=l.activeView,d=l.focusedDate,p=l.focusDate,h=l.getCellState,m=u?ae(u,d):n&&ae(n.start,n.end);return Object(o.__assign)(Object(o.__assign)({},l),{mode:"range",value:n,highlightDate:function(e){u&&p(e)},getCellState:function(e,t){var n=h(e,t),r=!!m&&he(f,e,m),i=!(null===m||void 0===m||!m.start)&&me(f,e,m.start),a=!(null===m||void 0===m||!m.end)&&me(f,e,m.end),s=!!u&&me(f,e,u),c=Boolean(u)&&r,l=c?i&&s:i,d=c?a&&s:a;return Object(o.__assign)(Object(o.__assign)({},n),{isDisabled:n.isDisabled||!pe(f,e,t),isRangePreview:Boolean(u)&&r,isRangePreviewStart:c&&i,isRangePreviewEnd:c&&a,isRangeSelected:!u&&r,isSelectionStart:c?i&&s:i,isSelectionEnd:c?a&&s:a,isSelected:l||d})}})}n.d(t,"CalendarNavigationAction",(function(){return i})),n.d(t,"useCalendarCell",(function(){return u})),n.d(t,"useCalendar",(function(){return l})),n.d(t,"useSingleCalendarState",(function(){return _e})),n.d(t,"useMultipleCalendarState",(function(){return Oe})),n.d(t,"useRangeCalendarState",(function(){return we}))}),(function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(34),o=Object(i.cn)("DateTimeField"),a=(n(1296),Object(r.createClassNameModifier)(o(),{pin:"brick-brick"})),s=(n(1297),Object(r.createClassNameModifier)(o(),{pin:"brick-clear"})),u=(n(1298),Object(r.createClassNameModifier)(o(),{pin:"brick-round"})),c=(n(1299),Object(r.createClassNameModifier)(o(),{pin:"clear-brick"})),l=(n(1300),Object(r.createClassNameModifier)(o(),{pin:"clear-clear"})),f=(n(1301),Object(r.createClassNameModifier)(o(),{pin:"clear-round"})),d=(n(1302),Object(r.createClassNameModifier)(o(),{pin:"round-brick"})),p=(n(1303),Object(r.createClassNameModifier)(o(),{pin:"round-clear"})),h=(n(1304),Object(r.createClassNameModifier)(o(),{size:"s"})),m=(n(1305),Object(r.createClassNameModifier)(o(),{size:"m"})),v=(n(1306),Object(r.createClassNameModifier)(o(),{view:"default"})),g=n(2),y=n(0),b=n.n(y),_=n(2235),O=n(66),w=(n(1307),Object(y.forwardRef)((function(e,t){var n=e.className,r=e.children,i=Object(g.__rest)(e,["className","children"]);return b.a.createElement("div",Object(g.__assign)({ref:t,className:o(null,[n])},i,{tabIndex:-1}),b.a.createElement("div",{className:o("Box")}),b.a.createElement("div",{className:o("Wrapper")},r))}))),E=(n(1311),function(e){var t=e.segment,n=e.state,r=e.className,i=Object(g.__rest)(e,["segment","state","className"]),a=t.isDisabled,s=t.isPlaceholder,u=t.isValid,c=Object(O.useDateTimeFieldSegment)(e,n).segmentProps,l=Object(O.mergeProps)(i,c);return b.a.createElement("span",Object(g.__assign)({className:o("EditableSegment",{placeholder:s,disabled:a,invalid:!u},[r])},l),t.text)});n(1310);var S=function(e){var t=e.segment,n=e.className,r=Object(g.__rest)(e,["segment","className"]);return b.a.createElement("span",Object(g.__assign)({className:o("LiteralSegment",null,[n])},r,{role:"presentation"}),t.text)};var x=function(e){var t=e.segment,n=e.state,r=Object(g.__rest)(e,["segment","state"]);return t.isEditable?b.a.createElement(E,Object(g.__assign)({},r,{segment:t,state:n})):b.a.createElement(S,{segment:t})};n(1309);var C=Object(y.forwardRef)((function(e,t){var n=e.className,r=e.state,i=Object(g.__rest)(e,["className","state"]),a=Object(O.useDateTimeField)(i),s=a.fieldProps,u=a.segmentProps;return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Control",null,[n])},s),r.segments.map((function(e,t){return b.a.createElement(x,Object(g.__assign)({key:t,segment:e,state:r},u))})))})),T=(n(1308),Object(y.forwardRef)((function(e,t){var n=e.children,r=e.className,i=e.name,a=Object(g.__rest)(e,["children","className","name"]);return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Slot",{name:i},[r])},a),n)})));n(1312);var k=function(){var e=Object(_.b)().focusNext,t=Object(O.usePress)({onPressStart:function(t){"mouse"===t.source&&e({from:t.target,tabbable:!0})}}).pressProps;return b.a.createElement("span",Object(g.__assign)({},t,{className:o("RangeDash"),role:"presentation"}))};n.d(t,"DateTimeField",(function(){return P})),n.d(t,"DateTimeRangeField",(function(){return R})),n.d(t,"cnDateTimeField",(function(){return o}));var j=Object(r.compose)(Object(r.composeU)(a,s,u,c,l,f,d,p),Object(r.composeU)(h,m),v),P=j((function(e){var t=e.addonBefore,n=e.addonAfter,r=e.className,i=e["data-testid"],a=e.autoFocus,s=Object(g.__rest)(e,["addonBefore","addonAfter","className","data-testid","autoFocus"]),u=s.disabled,c=Object(y.useRef)(null),l=Object(O.useDateTimeFieldState)(s),f=Object(g.__read)(Object(y.useState)(!1),2),d=f[0],p=f[1],h=Object(O.useFocusWithin)({disabled:u,onFocusWithinChange:p}).focusWithinProps;return b.a.createElement(w,Object(g.__assign)({className:o({disabled:u,focused:d},[r])},h,{"data-testid":i}),t&&b.a.createElement(T,{name:"before"},t),b.a.createElement(T,{ref:c,name:"control"},b.a.createElement(_.a,{scopeRef:c,autoFocus:a},b.a.createElement(C,Object(g.__assign)({state:l},s)))),n&&b.a.createElement(T,{name:"after"},n))})),R=j((function(e){var t,n=e.addonBefore,r=e.addonAfter,i=e.className,a=e.value,s=void 0===a?{start:null,end:null}:a,u=e.onChange,c=e["data-testid"],l=e.autoFocus,f=Object(g.__rest)(e,["addonBefore","addonAfter","className","value","onChange","data-testid","autoFocus"]),d=f.disabled,p=Object(y.useRef)(null),h=Object(g.__read)(Object(y.useState)(!1),2),m=h[0],v=h[1],E=Object(O.useFocusWithin)({disabled:d,onFocusWithinChange:v}).focusWithinProps,S=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:e.value,end:s.end}})}),[u,s.end]),x=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:s.start,end:e.value}})}),[u,s.start]),j=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},f),{value:s.start,onChange:S})),P=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},f),{value:s.end,onChange:x,min:null!==(t=s.start)&&void 0!==t?t:f.min}));return b.a.createElement(w,Object(g.__assign)({className:o({disabled:d,focused:m},[i])},E,{"data-testid":c}),n&&b.a.createElement(T,{name:"before"},n),b.a.createElement(T,{ref:p,name:"control"},b.a.createElement(_.a,{scopeRef:p,autoFocus:l},b.a.createElement(C,{state:j}),b.a.createElement(k,null),b.a.createElement(C,{state:P}))),r&&b.a.createElement(T,{name:"after"},r))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=(n(2109),n(19)),v=n(0),g=n.n(v),y=n(9),b=n.n(y),_=n(33),O=n(22),w=n(128),E=n(324),S=n(23),x=n(42),C=n(98),T=n(11),k=n.n(T);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var P=function(){return k()()("resource-rename-dialog")},R=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onRenameDialogClose=r._onRenameDialogClose.bind(u()(r)),r._onRenameDialogSubmit=r._onRenameDialogSubmit.bind(u()(r)),r._onRenameTextChange=r._onRenameTextChange.bind(u()(r)),r._toggleConfirmationDialogVisible=r._toggleConfirmationDialogVisible.bind(u()(r)),r._cancelFileExtensionChange=r._cancelFileExtensionChange.bind(u()(r)),r._confirmFileExtensionChange=r._confirmFileExtensionChange.bind(u()(r)),r.state={renameText:r._getRenameText(),initialExtension:r.props.resource.ext||"",newExtension:r.props.resource.ext||""},r}return a()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible!==this.props.visible}},{key:"componentDidUpdate",value:function(e){(this.props.visible&&!e.visible||this.props.resource&&this.props.resource.id!==(e.resource||{}).id)&&this.setState({renameText:this._getRenameText(),initialExtension:this.props.resource.ext||"",newExtension:this.props.resource.ext||""})}},{key:"_cancelFileExtensionChange",value:function(){var e=this,t=Object(O.revertFileExtension)(this.state.renameText,this.state.initialExtension,this.state.newExtension);this.setState({renameText:t,newExtension:this.state.initialExtension},(function(){e._confirmFileExtensionChange()}))}},{key:"_confirmFileExtensionChange",value:function(){this._toggleConfirmationDialogVisible(),this._rename()}},{key:"_toggleConfirmationDialogVisible",value:function(){this.setState({isConfirmationDialogVisible:!this.state.isConfirmationDialogVisible})}},{key:"_onRenameDialogClose",value:function(){this.setState({renameText:this._getRenameText()}),this.props.onClose()}},{key:"_getRenameText",value:function(){var e=this.props,t=e.resource,n=e.nameSuffix;return Object(O.addNameSuffix)(t.name||"","dir"===t.type,n)}},{key:"_rename",value:function(){this.props.onSubmit(this.state.renameText)}},{key:"_onRenameDialogSubmit",value:function(){if("dir"!==this.props.resource.type){var e=Object(O.extname)(this.state.renameText,!1);!this.props.noChangeExtensionConfirmation&&this.state.initialExtension&&this.state.renameText&&e.toLowerCase()!==this.state.initialExtension?(this.setState({newExtension:e}),this._toggleConfirmationDialogVisible()):this._rename()}else this._rename()}},{key:"_onRenameTextChange",value:function(e){this.setState({renameText:e})}},{key:"_getValidationErrorText",value:function(){var e=this.props.resource.type,t=_.default.validateName(this.state.renameText);return t&&b.a.get(_.resourceNameValidationResultI18n,[t,e])}},{key:"_formatFileExtension",value:function(e){return e.length<10?e:"".concat(e.slice(0,7),"...")}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,r=e.resource,i=e.errorText,o=e.visible,a=e.isMobile,s=e.isIosSafari,u=e.progress,c=e.submitButtonText,l=void 0===c?"Сохранить":c,f=e.hasCancelButton,d=this._getValidationErrorText();return g.a.createElement(g.a.Fragment,null,g.a.createElement(E.default,{cls:P().m({hidden:this.state.isConfirmationDialogVisible}).mix(x.LISTING_PREVENT_DESELECT_CLASS),title:t,renameText:this.state.renameText,dontSelectExtention:!r||"dir"!==r.type,errorText:i||d,submitButtonText:l,submitDisabled:!Boolean(this.state.renameText)||Boolean(d),onSubmit:this._onRenameDialogSubmit,cancelButtonText:f&&!a?"Отменить":void 0,closeButtonAriaLabel:"Закрыть",onCancel:this._onRenameDialogClose,onClose:this._onRenameDialogClose,onTextChange:this._onRenameTextChange,visible:o,isIosSafari:s,autofocusButton:!0,progress:u},n?g.a.createElement("div",{className:P().e("text")},n):null),g.a.createElement(w.default,{cls:P().e("confirmation-dialog").mix(x.LISTING_PREVENT_DESELECT_CLASS),closeButtonAriaLabel:"Закрыть",title:"Расширение будет изменено!",visible:this.state.isConfirmationDialogVisible,onClose:this._toggleConfirmationDialogVisible,onCancel:this._cancelFileExtensionChange,onSubmit:this._confirmFileExtensionChange,cancelButtonText:"Оставить ."+yr.externals.entityify(this._formatFileExtension(this.state.initialExtension)),submitButtonText:this.state.newExtension?"Использовать ."+yr.externals.entityify(this._formatFileExtension(this.state.newExtension)):"Убрать расширение",autofocusButton:!0},g.a.createElement("div",{className:"rename-dialog__content"},"После изменения расширения этот файл может перестать открываться в программах")))}}]),n})(v.Component);R.defaultProps={resource:{},visible:!1,title:"Переименовать"};var A=Object(m.connect)((function(e,t){var n=t.dialog,r=e.resources,i=e.environment.agent.isMobile,o=Object(C.isIosSafariSelector)(e);if(n&&n.data){var a=n.data,s=a.resourceId,u=a.onSubmit,c=a.onClose,l=a.message,f=a.title,d=a.text,p=a.progress,h=a.nameSuffix,m=a.submitButtonText,v=a.hasCancelButton,g=a.noChangeExtensionConfirmation;return{visible:n.state===S.STATE.OPENED,isMobile:i,isIosSafari:o,resource:r[s]||{},onSubmit:u,onClose:c,title:f,text:d,progress:p,nameSuffix:h,submitButtonText:m,hasCancelButton:v,noChangeExtensionConfirmation:g,errorText:l}}return{visible:!1,isIosSafari:o,resource:{}}}))(R);A.dialogName="rename";var I=A,D=n(136),M=n(99);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var L=Object(M.default)({loader:function(){return n.e(7).then(n.bind(null,2368))},isDialog:!0}),F=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("fotkiInfo")}},{key:"render",value:function(){return this.props.visible||this.props.resourceId?g.a.createElement(D.default,{cls:k()()("fotki-info-dialog").mix(x.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},g.a.createElement(L,{resourceId:this.props.resourceId})):null}}]),n})(v.Component),B={closeDialog:S.closeDialog},U=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED,resourceId:n&&n.data&&n.data.resourceId}}),B)(F);U.dialogName="fotkiInfo";var z=U,V=n(21),H=n.n(V),W=(n(2111),n(322)),G=(n(126),n(532)),q=n(14);function Y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var K=["interface elements","versions list"],J=Object(M.default)({loader:function(){return n.e(14).then(n.bind(null,2367))},isDialog:!0}),X=(function(e){l()(n,e);var t=Y(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onCloseVersionsDialog=r._onCloseVersionsDialog.bind(u()(r)),r}return a()(n,[{key:"_onCloseVersionsDialog",value:function(){this.props.closeVersionsDialog(),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];q.default.count.apply(q.default,H()(K.concat(t)))})("close")}},{key:"render",value:function(){var e=this.props.visible;return g.a.createElement(W.Modal,{theme:"normal",onClose:this._onCloseVersionsDialog,visible:e,className:k()()("versions-dialog").mix(x.LISTING_PREVENT_DESELECT_CLASS)},g.a.createElement(J,{visible:e}))}}]),n})(v.Component),Z={closeVersionsDialog:G.closeVersionsDialog},Q=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED}}),Z)(X);Q.dialogName="versions";var ee=Q,te=(n(2112),n(94)),ne=n(27);function re(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var ie=function(){return k()()("document-edit-confirmation-dialog")},oe=(function(e){l()(n,e);var t=re(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._onDialogSubmit=r._onDialogSubmit.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("documentEditConfirmation")}},{key:"_isPathValid",value:function(){return this.props.data.originalPath&&(this.props.data.originalPath.startsWith("/edit")||this.props.data.originalPath.startsWith("/editnew"))}},{key:"_onDialogSubmit",value:function(){this._onDialogClose(),this._isPathValid()&&this.props.openUrlWithSk(this.props.data.originalPath)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.data;return g.a.createElement(w.default,{visible:t,cls:ie(),onSubmit:this._onDialogSubmit,onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",submitButtonText:"new"===n.type?"Создать":"Открыть",cancelButtonText:"Отменить"},g.a.createElement(te.default,{cls:ie().e("icon"),size:"m",ext:n.ext,shadow:!0}),g.a.createElement("div",{className:ie().e("text")},"new"===n.type?"Создать новый документ?":"Открыть для редактирования документ «"+yr.externals.entityify(n.fileName)+"»?"))}}]),n})(v.Component),ae={closeDialog:S.closeDialog,openUrlWithSk:ne.openUrlWithSk},se=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),ae)(oe);se.dialogName="documentEditConfirmation";var ue=se;n(2113);function ce(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var le=function(){return k()()("invite-folder-confirmation-dialog")},fe=(function(e){l()(n,e);var t=ce(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("inviteFolderConfirmation")}},{key:"render",value:function(){return g.a.createElement(w.default,{visible:this.props.visible,cls:le(),onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",cancelButtonText:"Закрыть",cancelButtonProps:{view:"raised",size:"m"}},g.a.createElement("div",{className:le().e("text")},"Приглашение в папку не найдено или более не действительно"))}}]),n})(v.Component),de={closeDialog:S.closeDialog},pe=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),de)(fe);pe.dialogName="inviteFolderConfirmation";var he=pe,me=(n(2114),n(418)),ve=n(140),ge=n(207),ye=n(452),be=n(129),_e=n(17),Oe=n(26),we=n(161),Ee=n(25),Se=n(74),xe=n(28),Ce=n(159),Te=(n(759),n(851),n(2118),n(68));n(2119),n(2120),n(2121);var ke,je=n(9),Pe=n(13).default,Re=n(23).updateDialog,Ae=n(51).getActiveConfirmationOperation,Ie=[Te.Keys.UP,Te.Keys.DOWN,Te.Keys.LEFT,Te.Keys.RIGHT,Te.Keys.HOME,Te.Keys.END];function De(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}ns.ViewCollection.define("tree",{models:{tree:"updateView"},paramsRewrite:function(e){var t,n,r;return e.id=e.id||(null===(t=Pe().getState().dialogs)||void 0===t?void 0:null===(n=t.selectFolder)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.folderId)||"/disk",e},split:{intoViews:"tree",byModel:"tree"},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-folders-toggle":"toggleSubfoldersOnClick",keydown:"keydown",dblclick:"toggleSubfoldersOnClick",click:"select",tap:"select"},methods:{keydown:function(e){switch(Ie.includes(e.keyCode)&&(e.stopPropagation(),e.preventDefault()),e.keyCode){case Te.Keys.RIGHT:this.toggleSubfolders(!0);break;case Te.Keys.LEFT:this.models.tree.get(".state.expanded")?this.toggleSubfolders(!1):this.selectParentNode();break;case Te.Keys.UP:this.selectNextNode(-1);break;case Te.Keys.DOWN:this.selectNextNode(1);break;case Te.Keys.HOME:this.selectFirstNode();break;case Te.Keys.END:this.selectLastNode()}},onhtmlinit:function(){je.bindAll(this,"updateSelected"),this.scrollableContainer=this.node.closest(".select-folder-dialog__tree"),this.updateSelected(),ns.Model.get("stateTree").on("ns-model-changed.selected",this.updateSelected),ns.Model.get("stateTree").on("ns-model-changed.focused",this.updateSelected)},onhtmldestroy:function(){ns.Model.get("stateTree").off("ns-model-changed.selected",this.updateSelected),ns.Model.get("stateTree").off("ns-model-changed.focused",this.updateSelected)},_getNodes:function(){return $(this.$node.closest(".ns-view-treeWrap")[0].querySelectorAll(".ns-view-tree")).filter(":visible")},_selectNode:function(e){var t=new URLSearchParams(e.dataset.key);ns.Model.get("stateTree").select(t.get("id"))},selectFirstNode:function(){var e=this._getNodes();this._selectNode(e[0])},selectLastNode:function(){var e=this._getNodes();this._selectNode(e[e.length-1])},selectParentNode:function(){var e=this.$node.parents(".ns-view-tree")[0];this._selectNode(e)},selectNextNode:function(e){var t=this._getNodes(),n=t.index(this.$node),r=t[Math.max(0,Math.min(t.length-1,n+e))];this._selectNode(r)},updateSelected:function(){var e=ns.Model.get("stateTree").get(".selected"),t=e===this.params.id,n=this.$node.hasClass("js-disabled");(this.$node.toggleClass("b-tree__item_selected",t).attr({"aria-selected":t&&!n,"aria-disabled":n,tabindex:t?0:-1}),t)&&(this.node.focus(),this.scrollableContainer.getBoundingClientRect().top>this.node.getBoundingClientRect().top&&this.node.scrollIntoView(),Pe().dispatch(Re("selectFolder",{folderId:e,selectedFolderDisabled:n})))},select:function(e){e&&e.stopPropagation(),this.$node.hasClass("js-disabled")||ns.Model.get("stateTree").select(this.params.id)},toggleSubfoldersOnClick:function(e){e.stopPropagation(),this.toggleSubfolders()},toggleSubfolders:function(e){this.$node.hasClass("js-disabled-subtree")||this.models.tree.toggle("boolean"==typeof e?e:void 0)},getOperationParams:function(){var e=Ae();if(!e)return{resourceIds:[]};var t=Boolean(e&&e.get(".gid")),n=e&&e.get(".idSrc"),r=Pe().getState(),i=r.statesContext.selected,o=r.resources,a=t?i:n?[n]:[],s=a.length&&Object(O.dirname)(a[0]),u=a.length>1&&a.some((function(e){return Object(O.dirname)(e)!==s}));return{isMove:e&&"move"===e.getType(),resourceIds:a,parentId:s,isSelectedAcrossSeveralFolders:u,hasGroupFolder:a.map((function(e){return o[e]})).some((function(e){var t=e.meta.group;return t&&t.gid&&t.is_root})),creatingSharedFolder:e&&e.get(".creatingSharedFolder")}}}}),ke=n(2187).default;var Me=function(){return k()()("select-folder-dialog")};ns.View.define("treeWrap"),ns.layout.define("react-tree",{treeWrap:"tree&"});var Ne=(function(e){l()(n,e);var t=De(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isUnlimWarningHidden:!1,isDisabledFolderWarningHidden:!1,isTreeLoaded:!1},r._onSelectFolder=r._onSelectFolder.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r._onUnlimWarningClose=r._onUnlimWarningClose.bind(u()(r)),r._onDisabledFolderWarningClose=r._onDisabledFolderWarningClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._setCreateFolderFormRef=r._setCreateFolderFormRef.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onMoveToVirtualDiskWarningClose=r._onMoveToVirtualDiskWarningClose.bind(u()(r)),r._getMoveToVirtualDisWarning=r._getMoveToVirtualDisWarning.bind(u()(r)),r._isResourceDisabled=r._isResourceDisabled.bind(u()(r)),r._getVdAdditionalFields=r._getVdAdditionalFields.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this._countMetrika("open"),this.props.diskWebSelectFolderListingExp||this._updateTreeLoadingState()}},{key:"componentDidUpdate",value:function(e){this.state.isDisabledFolderWarningHidden&&this.props.diskWebSelectFolderListingExp&&(this.props.folderId!==e.folderId||this.props.visible&&!e.visible)&&this.setState({isDisabledFolderWarningHidden:!1}),this.props.visible&&!e.visible&&(this._countMetrika("open"),this.state.isUnlimWarningHidden&&this.setState({isUnlimWarningHidden:!1}),this._createFolderFormRef&&this._createFolderFormRef.reset()),this.props.diskWebSelectFolderListingExp||this.props.folderId===e.folderId||this._updateTreeLoadingState()}},{key:"_updateTreeLoadingState",value:function(){var e=this;if(this.props.folderId){var t=ns.Model.get("tree",{id:Object(Ee.getCurrentVirtualDisk)(this.props.folderId)||"/disk"});this.setState({isTreeLoaded:t.isValid()}),t.isValid()||t.once("ns-model-changed",(function(){e.setState({isTreeLoaded:!0})}))}}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];q.default.count.apply(q.default,["interface elements","select folder dialog",this.props.type,this.props.diskWebSelectFolderListingExp?"listing":"tree"].concat(t))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!this.props.visible&&e.visible,n=!this.props.folderId&&e.folderId;!t&&!n||this.props.diskWebSelectFolderListingExp||(ns.Model.get("stateTree").select(e.folderId),ns.Model.get("tree",{id:Object(Ee.getCurrentVirtualDisk)(e.folderId)||"/disk"}).collapse())}},{key:"_onSubmit",value:function(){var e=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.onSubmit({folderId:e}),this._countMetrika("submit",String(e.split("/").length-2))}},{key:"_onClose",value:function(){this.props.onCancel(),this._countMetrika("close")}},{key:"_onUnlimWarningClose",value:function(){this.setState({isUnlimWarningHidden:!0})}},{key:"_onDisabledFolderWarningClose",value:function(){this.setState({isDisabledFolderWarningHidden:!0})}},{key:"_onMoveToVirtualDiskWarningClose",value:function(){this.setState({isMoveToVirtualDiskWarningHidden:!0})}},{key:"_getMoveToVirtualDisWarning",value:function(){var e,t,n=this.props.currentResource;return"shared"===(null===n||void 0===n?void 0:n.icon)?t="При перемещении папки "+yr.externals.entityify(n.name)+" у приглашённых пользователей отключится доступ, но сохранится копия текущей версии папки.":null!==n&&void 0!==n&&null!==(e=n.meta)&&void 0!==e&&e.short_url?t="dir"===n.type?"При перемещении папки "+yr.externals.entityify(n.name)+" будет удалена публичная ссылка на неё и все публичные ссылки внутри папки.":"При перемещении файла "+yr.externals.entityify(n.name)+" публичная ссылка на него будет удалена.":"dir"===(null===n||void 0===n?void 0:n.type)&&(t="При перемещении "+yr.externals.entityify(n.name)+" все публичные ссылки внутри этой папки буду удалены."),t}},{key:"_getWarnings",value:function(){var e,t=this.props,n=t.unlimWarningText,r=t.disableState,i=r.disabled,o=r.text,a=t.type,s=[],u=Object(Ee.isPathInsideVirtualDiskFiles)(this.props.folderId),c=(null===(e=this.props.currentResource)||void 0===e?void 0:e.id)&&!Object(Ee.isPathInsideVirtualDiskFiles)(this.props.currentResource.id);if(!n||u||this.state.isUnlimWarningHidden||s.push({key:"unlim",text:n,onClose:this._onUnlimWarningClose}),i&&!this.state.isDisabledFolderWarningHidden&&s.push({key:"disabled",text:o,onClose:this._onDisabledFolderWarningClose}),"move"===a&&u&&c&&!this.state.isMoveToVirtualDiskWarningHidden){var l=this._getMoveToVirtualDisWarning();l&&s.push({key:"moveToVdWarning",text:l,onClose:this._onMoveToVirtualDiskWarningClose})}var f=s.map((function(e){var t=e.key,n=e.text,r=e.onClose;return g.a.createElement(ve.MessageBox,{className:Me().e("warning"),view:"default",size:"m",key:t,onClose:r},g.a.createElement(ve.Wrapper,{align:"left",leading:g.a.createElement(ge.a,null)},n))}));return f.length?g.a.createElement("div",{className:Me().e("warning-list-wrapper")},f):null}},{key:"_setCreateFolderFormRef",value:function(e){this._createFolderFormRef=e}},{key:"_getCustomFooter",value:function(){if("create-folder"!==this.props.type||this.props.creatingFamilyFolder)return null;var e=this.props.disableState.disabled;return g.a.createElement(ke,{createRef:this._setCreateFolderFormRef,dialogName:"selectFolder",disableButton:e})}},{key:"_onSelectFolder",value:function(e){this.props.updateDialog("selectFolder",{folderId:e})}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectFolder",{folderId:void 0})}},{key:"_isResourceDisabled",value:function(e){var t=e.type,n=e.id,r=e.state,i=e.meta,o=this.props.creatingSharedFolder;return!["dir","vd"].includes(t)||_.default.isTrash(n)||Boolean(r&&r.disabled)||Boolean(o&&i&&i.group)||this.props.isReadOnlyVdResourceByPath(n)}},{key:"_getVdAdditionalFields",value:function(e){var t=this.props.isReadOnlyVdResourceByPath(e.id),n=g.a.createElement(Ce.default,{tooltipCls:Me().e("tooltip"),text:"Файлы и папки нельзя копировать и перемещать на Диск, если он доступен только для просмотра.",direction:["bottom"],showDelay:0},"Только просмотр");return[{type:"readonly-label",position:be.POSITIONS.ALWAYS_RIGHT,content:t?n:null}]}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.diskWebSelectFolderListingExp,r=e.folderId,i=e.selectedFolderDisabled,o=e.title,a=e.type,s=e.submitButtonText,u=e.disableState.disabled,c=e.hasVirtualDisks,l=e.virtualDiskName,f=e.creatingFamilyFolder,d=e.isCurrentAlbumFamily,p=n?u:!this.state.isTreeLoaded||!r||i,h=c&&!["journal-filter","move"].includes(a),m=h&&!d?g.a.createElement(Oe.Button,{size:"xl",view:"clear",className:Me().e("button"),"aria-label":"Ещё",onClick:this._onBackClick,iconLeft:we.backArrowIconProvider},l||"Мой Диск"):null,v=null;t&&(v=r?n?g.a.createElement(g.a.Fragment,null,m,g.a.createElement(ye.default,{cls:Me().e("listing"),folderId:r,isResourceDisabled:this._isResourceDisabled,onSelectResource:this._onSelectFolder})):g.a.createElement(g.a.Fragment,null,m,g.a.createElement("div",{role:"tree"},g.a.createElement(me.a,{cls:Me().e("tree"),layoutName:"react-tree",viewName:"treeWrap",renderSpin:!0}))):g.a.createElement(ye.default,{cls:Me().e("listing").m({vd:!0}),folderId:Ee.VIRTUAL_DISKS_ROOT,isResourceDisabled:this._isResourceDisabled,isSelectable:!1,onResourceOpen:this._onSelectFolder,getAdditionalFields:this._getVdAdditionalFields,openOnSingleClick:!0}));return g.a.createElement(w.default,{cls:Me().m({touch:!1,"create-folder":"create-folder"===a&&!f,"is-available-disk-list":h}).mix(x.LISTING_PREVENT_DESELECT_CLASS),onSubmit:this._onSubmit,onClose:this._onClose,onCancel:this._onClose,visible:t,title:o?g.a.createElement("div",{className:Me().e("title")},o):null,noCloseButton:!1,submitButtonText:s||"Выбрать",submitDisabled:p,cancelButtonText:"Отменить",closeButtonAriaLabel:"Закрыть",autofocusButton:!1,useMobilePane:!1},g.a.createElement("div",{className:Me().e("content")},v,r&&this._getWarnings(),r&&this._getCustomFooter()))}}]),n})(v.Component),Le={updateDialog:S.updateDialog,openDialog:S.openDialog},Fe=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.title,o=r.type,a=r.creatingFamilyFolder,s=r.creatingSharedFolder,u=r.unlimWarningText,c=r.submitButtonText,l=r.folderId,f=r.selectedFolderDisabled,d=r.onSubmit,p=r.onCancel,h=r.resourceId,m=r.treeLoaded,v=e.environment.session.experiment.diskWebSelectFolderListingExp,g=e.defaultFolders.hasVirtualDisks;if(n){var y=l&&Object(Ee.getCurrentVirtualDisk)(l);return{diskWebSelectFolderListingExp:v,visible:n.state===S.STATE.OPENED,folderId:Object(Se.isReadOnlyVdResource)(l,e)?void 0:l,selectedFolderDisabled:f,creatingFamilyFolder:a,creatingSharedFolder:s,disableState:v?(function(e){var t=e.resources,n=e.statesContext.selected,r=e.dialogs.selectFolder;if(!r||r.state!==S.STATE.OPENED)return{disabled:!1};var i,o,a=r.data,s=a.folderId,u=a.type,c=a.resourceId,l=a.creatingSharedFolder,f=t[s],d=["move","copy"].includes(u),p=[];if(d&&(o=(p=c?[c]:n).map((function(e){return t[e]})).filter(Boolean).some((function(e){var t=e.meta;return t&&t.group&&t.group.gid&&t.group.is_root}))),(f.parents||[]).map((function(e){return e.id})).concat(f.id).every((function(e){var n=t[e];return b.a.get(n,"state.blocked")||b.a.get(n,"state.part")?i="Данная папка заблокирована для действий, выберите другую":640===b.a.get(n,"meta.group.rights")?i="У вас недостаточно прав для действий в этой папке":d&&p.some((function(t){return t===e}))?i="move"===u?"Нельзя переместить папку внутри её самой":"Нельзя копировать папку внутри её самой":l&&b.a.get(n,"meta.group")?i="Нельзя создать общую папку внутри другой общей папки":"move"===u&&o&&b.a.get(n,"meta.group.gid")&&(i="Нельзя переместить общую папку в общую папку"),!i})),!i&&"move"===u){var h=p.length&&Object(O.dirname)(p[0]);p.length>1&&p.some((function(e){return Object(O.dirname)(e)!==h}))||f.id!==h||(i=1===p.length?"Перемещаемый объект уже в этой папке, выберите другую":"Перемещаемые объекты уже в этой папке, выберите другую")}return{disabled:Boolean(i),text:i}})(e):{disabled:!1},title:i,type:o,unlimWarningText:u,submitButtonText:c,onSubmit:d,onCancel:p,hasVirtualDisks:g,virtualDiskName:y?Object(_e.getResourceData)(e,y,"name"):null,currentResource:Object(_e.getResourceData)(e,h),resourceId:h,treeLoaded:m,isReadOnlyVdResourceByPath:function(t){return Object(Se.isReadOnlyVdResource)(t,e)},isCurrentAlbumFamily:Object(xe.isCurrentAlbumFamily)(e)}}return{visible:!1}}),Le)(Ne);Fe.dialogName="selectFolder";var Be=Fe,Ue=(n(2124),n(308)),ze=n.n(Ue);function Ve(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var He=function(){return k()()("client-confirmation-dialog")},We=(function(e){l()(n,e);var t=Ve(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onSubmit=r._onSubmit.bind(u()(r)),r._onSubmitAll=r._onSubmitAll.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onRejectAll=r._onRejectAll.bind(u()(r)),r}return a()(n,[{key:"_onSubmit",value:function(){this.props.onSubmit()}},{key:"_onSubmitAll",value:function(){this.props.onSubmitAll()}},{key:"_onClose",value:function(){this.props.onReject()}},{key:"_onRejectAll",value:function(){this.props.onRejectAll()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isMobile,r=e.isIosSafari,i=e.title,o=e.fotkiResourceName,a=e.text,s=e.isGroup,u=e.submitButtonText,c=e.cancelButtonText,l=e.cancelAll,f=e.submitAllButtonText,d=e.actionButton,p=e.useNewDialog,h=Boolean(o),m=!n||h?"string"==typeof c?c:"Отменить":"";return p?g.a.createElement(ze.a,{visible:t,title:i,submitButtonText:u,cancelButtonText:m,onSubmit:this._onSubmit,onClose:this._onClose,className:He().toString(),closeI18n:"Закрыть"},a):g.a.createElement(w.default,{cls:He().m({"no-title":!i}).mix([x.LISTING_PREVENT_DESELECT_CLASS].concat(h?"fotki-warning":[])),submitButtonText:u||"Заменить",extraButtonText:s?f||"Заменить все":"",cancelButtonText:m,onSubmit:this._onSubmit,onExtraButtonClick:this._onSubmitAll,actionButton:d,onCancel:l&&s?this._onRejectAll:this._onClose,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",visible:t,isIosSafari:r,autofocusButton:!0},i?g.a.createElement("div",{className:He().e("title")},i):null,g.a.createElement("div",{className:He().e("content")},o?g.a.createElement("div",{className:"fotki-warning__resource-name"},o):null,a))}}]),n})(v.Component),Ge=Object(m.connect)((function(e,t){var n=t.dialog;if(n){var r=n.data,i=r.isGroup,o=r.title,a=r.fotkiResourceName,s=r.text,u=r.submitButtonText,c=r.cancelButtonText,l=r.cancelAll,f=r.submitAllButtonText,d=r.actionButton,p=r.onSubmit,h=r.onSubmitAll,m=r.onReject,v=r.onRejectAll,g=r.progress,y=r.useNewDialog;return{visible:n.state===S.STATE.OPENED,isGroup:i,title:o,fotkiResourceName:a,text:s,submitButtonText:u,cancelButtonText:c,cancelAll:l,submitAllButtonText:f,actionButton:d,onSubmit:p,onSubmitAll:h,onReject:m,onRejectAll:v,progress:g,useNewDialog:y,isMobile:e.environment.agent.isMobile,isIosSafari:Object(C.isIosSafariSelector)(e)}}return{visible:!1}}))(We);Ge.dialogName="confirmation";var $e=Ge,qe=n(69),Ye=n(59),Ke=n(12);function Je(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Xe=(function(e){l()(n,e);var t=Je(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return g.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 3.714l8.842-1.557v9.272H1V3.714zm9.947-1.767L22 0v11.429H10.947V1.947zM1 20.157v-7.715h8.842v9.272L1 20.157zm9.947 1.896v-9.581H22V24l-11.053-1.947z"})}}]),n})(Ke.default);Object(Ke.iconProvider)(Xe);function Ze(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Qe=(function(e){l()(n,e);var t=Ze(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return g.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M20.56 18.795a12.642 12.642 0 0 1-1.34 2.28c-.705.95-1.282 1.608-1.727 1.974-.69.6-1.428.907-2.22.924-.567 0-1.252-.153-2.05-.463-.799-.308-1.534-.461-2.206-.461-.705 0-1.46.153-2.27.461-.809.31-1.461.472-1.96.488-.759.03-1.515-.285-2.27-.95-.481-.397-1.084-1.078-1.805-2.043-.775-1.031-1.411-2.226-1.91-3.589C.268 15.944 0 14.519 0 13.139c0-1.58.361-2.944 1.084-4.086a6.194 6.194 0 0 1 2.27-2.173 6.372 6.372 0 0 1 3.07-.82c.603 0 1.393.177 2.375.523.98.348 1.608.524 1.883.524.206 0 .905-.206 2.089-.617 1.12-.381 2.064-.539 2.838-.477 2.098.16 3.674.943 4.722 2.352-1.876 1.075-2.804 2.581-2.786 4.513.017 1.505.594 2.758 1.728 3.752A5.719 5.719 0 0 0 21 17.7c-.139.38-.285.744-.44 1.094zM16 .507c0 1.267-.434 2.45-1.298 3.545-1.044 1.302-2.306 2.054-3.674 1.936a4.207 4.207 0 0 1-.028-.48c0-1.217.496-2.519 1.377-3.583.44-.54 1-.987 1.678-1.345.677-.352 1.318-.547 1.92-.58.018.17.025.339.025.507z"})}}]),n})(Ke.default),et=(Object(Ke.iconProvider)(Qe),!0),tt=function(){et=!1},nt=function(){var e=document.getElementById("url-scheme-iframe");return e||((e=document.createElement("iframe")).id="url-scheme-iframe",e.style.display="none",document.body.appendChild(e)),e},rt=function(e,t){return et=!0,window.addEventListener("blur",tt),new Promise(function(n){if(t){var r=nt();r.contentWindow&&r.contentWindow.location.assign(e)}else window.location.assign(e);setTimeout((function(){n({info:!0,hasApp:!et}),window.removeEventListener("blur",tt)}),2e3)})},it=function(e){var t=nt();return t.contentWindow&&t.contentWindow.location.assign(e),new Promise(function(e){setTimeout((function(){e({info:!1})}),5e3)})};var ot=function(e,t,n){return"Firefox"===t?it(e):rt(e,n)};var at=n(785),st=n.n(at),ut=n(236);n(2125);function ct(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var lt=function(){return k()()("download-big-folder-dialog")},ft=(function(e){l()(n,e);var t=ct(n);function n(e){var r;i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onDownloadApp=r._onDownloadApp.bind(u()(r)),r._onLinkAboutAppClick=r._onLinkAboutAppClick.bind(u()(r)),r.state={checked:!1};var o=["YandexBrowser","Chrome","Edge"].includes(r.props.browserName),a="Windows"===r.props.osFamily;return r._tryDownloadWithApp=a&&o&&!r.props.isForceCanNotUseApp,r._osHasApp=["Windows","MacOS"].includes(r.props.osFamily),r._title=r.props.title,r._tryDownloadWithApp&&(r._title=r.props.titleTryDownload),r._description=r.props.description,r.props.isForceCanNotUseApp?r._description=r.props.descriptionIfCanNotUseApp:r._tryDownloadWithApp?r._description=r.props.descriptionTryDownload:r._osHasApp&&(r._description=r.props.descriptionOsHasApp),r._buttonText=r.props.buttonText,"Windows"===r.props.osFamily&&(r._buttonText=r.props.buttonTextWindows),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t="without buttons";if(this._tryDownloadWithApp?t="with loader":this._osHasApp&&(t="download through app"),this.props.countMetrika("open popup",t),this._tryDownloadWithApp){var n=this.props.getDownloadUrlScheme(this.props.folderId);this._timerGoToCustomUrlScheme=setTimeout((function(){e.props.countMetrika("try open url scheme"),n.then((function(t){e._promiseGoToCustomUrlScheme=st()(ot(t,e.props.browserName)),e._promiseGoToCustomUrlScheme.promise.then((function(t){t.info?e.setState({checked:!0,info:!0,hasApp:t.hasApp}):e.setState({checked:!0,info:!1}),e.props.countMetrika(t.info?t.hasApp?"successed open url scheme":"failed open url scheme":"could not check url scheme")})).catch((function(){}))}))}),2e3)}}},{key:"componentWillUnmount",value:function(){this._timerGoToCustomUrlScheme&&clearTimeout(this._timerGoToCustomUrlScheme),this._promiseGoToCustomUrlScheme&&this._promiseGoToCustomUrlScheme.cancel()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onDownloadApp",value:function(){this.props.getLinkApp("Windows"===this.props.osFamily?{downloadFolder:this.props.folderId}:{}).then((function(e){Object(ut.a)(e)})),this.props.countMetrika("click download app",this.props.osFamily),this.props.onClose()}},{key:"_getButtons",value:function(){if(!["Windows","MacOS"].includes(this.props.osFamily)||this.props.isForceCanNotUseApp)return null;var e="Windows"===this.props.osFamily?Xe:Qe;return g.a.createElement(Oe.Button,{className:lt().e("button"),view:!this._tryDownloadWithApp||this.state.checked&&(!this.state.checked||!this.state.hasApp&&this.state.info)?"action":"raised",size:"m",onClick:this._onDownloadApp,iconLeft:function(t){return g.a.createElement(e,{iconSize:"m",cls:t})}},this._buttonText)}},{key:"_getSpinner",value:function(){return!this._tryDownloadWithApp||this.state.checked?null:g.a.createElement(qe.Spin,{view:"default",progress:!0,size:"xxs",className:lt().e("spin")})}},{key:"_getLinkAboutApp",value:function(){return!this._tryDownloadWithApp&&this._osHasApp&&this.props.linkAboutApp?g.a.createElement(Ye.Link,{className:lt().e("about-link"),target:"_blank",theme:"normal",href:this.props.linkAboutApp,onClick:this._onLinkAboutAppClick},this.props.linkAboutAppText):null}},{key:"_onLinkAboutAppClick",value:function(){this.props.countMetrika("click link about app")}},{key:"_getDescription",value:function(){var e=this._description;return this._tryDownloadWithApp&&this.state.checked&&(this.state.info?this.state.hasApp||(e=this.props.descriptionNoApp):e=this.props.descriptionNoInfoApp),g.a.createElement("div",{className:lt().e("description")},e,this._getLinkAboutApp(),this._getSpinner())}},{key:"render",value:function(){return g.a.createElement(D.default,{cls:lt().mix(x.LISTING_PREVENT_DESELECT_CLASS),title:this._title,onClose:this._onClose,visible:!0},this._getDescription(),this._getButtons())}}]),n})(v.Component),dt=n(38);function pt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var ht=(function(e){l()(n,e);var t=pt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._getLinkApp=r._getLinkApp.bind(u()(r)),r._getDownloadUrlScheme=r._getDownloadUrlScheme.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];q.default.count.apply(q.default,["interface elements","big folder"].concat(t))}},{key:"_onDialogClose",value:function(){this.props.closeDialog("download-big-folder")}},{key:"_getLinkApp",value:function(e){return Object(dt.a)("linkApp",e.downloadFolder?{id:this.props.folderId}:{}).then((function(e){return e.url}))}},{key:"_getDownloadUrlScheme",value:function(){return Object(dt.a)("getDownloadUrlScheme",{id:this.props.folderId})}},{key:"render",value:function(){return this.props.visible?g.a.createElement(ft,{title:"Папка слишком большая",titleTryDownload:"Папка скачается с помощью Яндекс.Диска для компьютера",buttonText:"Установить Яндекс.Диск",buttonTextWindows:"Установить Диск и скачать папку",description:"Её нельзя скачать целиком через браузер, но вы можете скачать её по частям.",descriptionTryDownload:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание",descriptionOsHasApp:"Её нельзя скачать целиком через браузер. Скачайте папку с помощью программы для компьютера.",descriptionNoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Не удалось обнаружить программу на компьютере. Установите её, и скачивание папки начнётся автоматически.",descriptionNoInfoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание. Если программы нет, установите ее.",descriptionIfCanNotUseApp:"Её нельзя скачать целиком через браузер. Откройте папку и скачайте файлы по одному.",linkAboutAppText:"Подробнее",folderId:this.props.folderId,osFamily:this.props.osFamily,browserName:this.props.browserName,linkAboutApp:this.props.linkAboutApp,tryDownloadWithApp:this.props.tryDownloadWithApp,needInstallAppToDownload:this.props.needInstallAppToDownload,onClose:this._onDialogClose,getDownloadUrlScheme:this._getDownloadUrlScheme,getLinkApp:this._getLinkApp,countMetrika:this._countMetrika,isForceCanNotUseApp:this.props.isVdFolder}):null}}]),n})(v.Component),mt={closeDialog:S.closeDialog},vt=Object(m.connect)((function(e,t){var n=e.environment.agent,r=n.BrowserName,i=n.OSFamily,o=e.config.links,a=t.dialog,s=Object(Ee.isPathInsideVirtualDiskFiles)(a.data.folderId);return{visible:a.state===S.STATE.OPENED,osFamily:i,browserName:r,folderId:a.data.folderId,linkAboutApp:"".concat(o.help.disk,s?"share/shared-disks.html#shared-disks__upload-folder":"actions-files/download.html#download-big-folder"),isVdFolder:s}}),mt)(ht);vt.dialogName="download-big-folder";var gt=vt,yt=n(227),bt=n(92),_t=n(54),Ot=n(51);n(2126);function wt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var Et=function(){return k()()("select-album-dialog")},St=(function(e){l()(n,e);var t=wt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onSelectAlbum=r._onSelectAlbum.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.props.fetchAlbums()}},{key:"_onClose",value:function(){this.props.updateDialog("selectAlbum",{}),Object(Ot.decideSelectAlbum)(!1),this.props.onCancel()}},{key:"_onSelectAlbum",value:function(e){if("new"===e)this.props.createAlbum(this.props.resourcesIds),q.default.count("interface elements","select album dialog","new");else if("faces"===e)this.props.updateDialog("selectAlbum",{albumType:e});else{if("merge"!==this.props.dialogAction){var t=this.props.resourcesIds.length>1?"group":"file";([this.props.albumType,e].includes("family")||this.props.albums.some((function(t){return t.id===e&&"family"===t.album_type})))&&q.default.count("actions","add to family album",this.props.calledFrom,t),q.default.count("actions","add to album",this.props.calledFrom,t)}else q.default.count("actions","merge album",this.props.isPageAlbum?"album page":"albums list");var n=e;if("favorites"===e)n=this.props.albums.find((function(t){return t.id===e})).personalAlbumId;if([this.props.albumType,e].includes("family"))n=this.props.albums.find((function(t){return t.id===e})).personalAlbumId;this.props.decideSelectAlbum(!0,n)}}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectAlbum",{albumType:null})}},{key:"_getContent",value:function(){if(!this.props.visible)return null;var e=this.props.albumType&&"merge"!==this.props.dialogAction;return g.a.createElement("div",null,g.a.createElement("div",{className:Et().e("title")},e?g.a.createElement(we.default,{onClick:this._onBackClick}):null,"Выберите альбом"),g.a.createElement("div",{className:Et().e("listing")},g.a.createElement(yt.default,{scrollingElementSelector:"."+Et()+" .Modal-Wrapper",albumType:this.props.albumType,onAlbumClick:this._onSelectAlbum,albums:this.props.albums,readonly:!0})))}},{key:"render",value:function(){return g.a.createElement(D.default,{visible:this.props.visible,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",cls:Et().m({noanimated:"merge"===this.props.dialogAction}).mix(x.LISTING_PREVENT_DESELECT_CLASS)},this._getContent())}}]),n})(v.Component),xt={updateDialog:S.updateDialog,closeDialog:S.closeDialog,createAlbum:_t.createAlbum,decideSelectAlbum:Ot.decideSelectAlbum,fetchAlbumsListing:bt.fetchAlbumsListing,fetchAlbums:bt.fetchAlbums},Ct=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.onCancel,o=r.albumType,a=r.excludeAlbumsIds,s=r.action,u=Object(xe.getAlbumsForSelect)(e,o,a||[]),c="sidebar";return"slider"===e.page.dialog?c="slider":"/photo"===e.page.idContext&&(c="photo toolbar"),{isPageAlbum:Object(xe.isPageAlbum)(e),dialogAction:s,calledFrom:c,albumType:o,visible:n.state===S.STATE.OPENED,albums:u,resourcesIds:("string"==typeof n.data.ids?[n.data.ids]:n.data.ids)||[],onCancel:i}}),xt)(St);Ct.dialogName="selectAlbum";var Tt=Ct;function kt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var jt=(function(e){l()(n,e);var t=kt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={title:r.props.title||r._getDefaultTitle()},r._onClose=r._onClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._onTitleChanged=r._onTitleChanged.bind(u()(r)),r}return a()(n,[{key:"componentWillReceiveProps",value:function(e){(e.visible&&!this.props.visible||this.props.title!==e.title)&&this.setState({title:e.title||this._getDefaultTitle()})}},{key:"_getDefaultTitle",value:function(){return this.props.isFacesAlbum?"Имя":"Новый альбом"}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isIosSafari,r=e.progress,i=e.isFacesAlbum,o=this._getErrorText(),a=this.props.title?"Переименовать":i?"Укажите имя":"Укажите название альбома";return g.a.createElement(E.default,{cls:k()()("album-title-dialog").mix(x.LISTING_PREVENT_DESELECT_CLASS),visible:t,title:a,renameText:this.state.title,errorText:o,submitButtonText:this.props.title?"Сохранить":"Продолжить",submitDisabled:this._isSubmitDisabled(),closeButtonAriaLabel:"Закрыть",onClose:this._onClose,onSubmit:this._onSubmit,onTextChange:this._onTitleChanged,isIosSafari:n,progress:r,zIndex:2e3})}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onSubmit",value:function(){this._isSubmitDisabled()||this.props.onSubmit(this.state.title)}},{key:"_onTitleChanged",value:function(e){this.setState({title:e})}},{key:"_getErrorText",value:function(){return this.props.errorText?this.props.errorText:this._isEmptyTitle()?"Название альбома не может быть пустым.":this._isLongTitle()?"Название альбома не может быть длиннее 255 символов":null}},{key:"_isEmptyTitle",value:function(){return!this.state.title.trim().length}},{key:"_isLongTitle",value:function(){return this.state.title.length>255}},{key:"_isSubmitDisabled",value:function(){return this._isEmptyTitle()||this._isLongTitle()}}]),n})(v.Component),Pt=Object(m.connect)((function(e,t){var n=t.dialog,r=Object(C.isIosSafariSelector)(e);return n&&n.data?Object.assign({visible:n.state===S.STATE.OPENED,isIosSafari:r},n.data):{visible:!1,isIosSafari:r}}))(jt);Pt.dialogName="album-title";var Rt=Pt,At=n(834),It=n.n(At),Dt=n(835),Mt=n.n(Dt),Nt=n(836),Lt=n.n(Nt),Ft=n(837),Bt=n.n(Ft),Ut=n(568),zt=n(838),Vt=n.n(zt),Ht=[I,Ut.FamilyFolderCreationDialog,Ut.FamilyAlbumAccessDialog,z,ee,ue,he,Be,$e,gt,Tt,Rt,It.a,Mt.a,Lt.a,Bt.a,Vt.a].concat([n(2152).default]).reduce((function(e,t){return e[t.dialogName]=t,e}),{});t.default=Ht}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(557),o=n(2235),a=n(543);function s(e){var t=Object(o.b)().focusNext,n=Object(a.a)(e.id),s=Object(i.a)({onPressStart:function(e){var n=e.currentTarget,r=e.target,i=e.source,o=document.activeElement;"mouse"===i&&(!n.contains(o)||r!==o&&r!==n)&&t({from:r,tabbable:!0})}}).pressProps,u=Object(r.__assign)(Object(r.__assign)({},s),{role:"group",id:n,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]});return{fieldProps:u,segmentProps:{"aria-controls":e["aria-controls"],"aria-haspopup":e["aria-haspopup"],"aria-invalid":e["aria-invalid"],"aria-labelledby":u["aria-labelledby"]||u.id}}}var u=n(0),c=n(271),l=n(560),f=n(655);function d(e,t){if(function(e){return/^[0-9\u0660-\u0669\u06f0-\u06f9]+$/.test(e)}(t)||/^[ap]$/i.test(t)){var n=(function(e){return e=e.replace(/[\u0660-\u0669]/g,(function(e){return String(e.charCodeAt(0)-1632)})).replace(/[\u06f0-\u06f9]/g,(function(e){return String(e.charCodeAt(0)-1776)})),Number(e)})(t);if("dayPeriod"===e){var r=t.toLowerCase();return"a"===r||1===n?1:"p"===r||2===n?2:null}if(isFinite(n))return n}return null}function p(e,t){var n=e.segment,a=n.type,s=n.value,p=n.max,h=n.text,m=n.isValid,v=n.isDisabled,g=t.resolvedOptions,y=t.increment,b=t.decrement,_=t.extraIncrement,O=t.extraDecrement,w=t.incrementToMax,E=t.decrementToMin,S=t.setSegmentValue,x=Object(c.a)().isRTL,C=Object(o.b)(),T=C.focusNext,k=C.focusPrevious,j=Object(r.__read)(Object(u.useState)(""),2),P=j[0],R=j[1],A=(function(e,t){var n=e.value,r=e.min,i=e.max,o={value:null!==n&&void 0!==n?n:void 0,min:r,max:i};if("hour"!==e.type)return o;var a=t.hourCycle,s=null!==n&&void 0!==n?n:0;switch(a){case"h11":o.value=s%12,o.min=0,o.max=11,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12);break;case"h12":o.value=s%12||12,o.min=1,o.max=12,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12),o.min=o.min||12,o.max=o.max||12,o.min>o.max&&(o.min=1,o.max=12);break;case"h24":o.value=s||24,o.min=r||24,o.max=i||24,o.min>o.max&&(o.min=1,o.max=24);break;case"h23":o.value=s,o.min=r,o.max=i;break;default:throw new Error("Invalid hour cycle")}return o})(n,g),I=Object(f.a)(Object(r.__assign)(Object(r.__assign)({},A),{textValue:h,disabled:v,onIncrement:Object(u.useCallback)((function(){return y(a)}),[y,a]),onDecrement:Object(u.useCallback)((function(){return b(a)}),[b,a]),onExtraIncrement:Object(u.useCallback)((function(){return _(a)}),[_,a]),onExtraDecrement:Object(u.useCallback)((function(){return O(a)}),[O,a]),onIncrementToMax:Object(u.useCallback)((function(){return w(a)}),[w,a]),onDecrementToMin:Object(u.useCallback)((function(){return E(a)}),[E,a])})).spinButtonProps,D=Object(i.a)({onPressStart:function(e){"mouse"===e.source&&e.currentTarget.focus()}}).pressProps,M=Object(u.useCallback)((function(e){S(a,e),(null===e||10*e>=p)&&R("")}),[p,S,a]),N={"aria-invalid":!m,tabIndex:0,onKeyDown:Object(u.useCallback)((function(e){if(!(["Tab","Shift","Alt","Meta"].includes(e.key)||e.ctrlKey||e.metaKey)){e.preventDefault();var t={from:e.currentTarget,tabbable:!0};switch(e.key){case"ArrowLeft":(x?T:k)(t);break;case"ArrowRight":(x?k:T)(t);break;case"Backspace":v||null===s?k(t):M(null);break;default:var n=P+e.key,r=d(a,n);if(v||null===r)return;e.stopPropagation(),M(r);var i=p.toString().length;n.length>=i||10*r>=p?T(t):R(n)}}}),[P,T,k,v,x,p,M,a,s]),onFocus:Object(u.useCallback)((function(){R("")}),[])};return v||(N.inputMode="numeric",N.contentEditable=!0,N.suppressContentEditableWarning=!0),{segmentProps:Object(l.a)(I,D,N)}}var h,m=n(651),v=n(2232),g={year:10,month:3,day:7,hour:2,minute:5,second:5},y=Object(v.a)(new Date(0,0,1,0,0,0,0),1),b=new Date(9999,12,0,23,59,59,999),_=n(2233);!(function(e){e[e.dayPeriod=1]="dayPeriod",e[e.second=2]="second",e[e.minute=4]="minute",e[e.hour=8]="hour",e[e.day=16]="day",e[e.month=32]="month",e[e.year=64]="year"})(h||(h={}));var O={second:0,minute:0,hour:0,day:1,month:1,year:1},w={second:59,minute:59,hour:23,day:31,month:12,year:9999},E=(function(){function e(e){void 0===e&&(e={}),this.components={day:null,hour:null,minute:null,second:null,month:null,year:null},this.filledComponentsMask=0,this.set("day",e.day),this.set("hour",e.hour),this.set("dayPeriod",e.dayPeriod),this.set("minute",e.minute),this.set("second",e.second),this.set("month",e.month),this.set("year",e.year)}return e.from=function(t){if(void 0===t&&(t=null),null===t)return new e;var n=new Date(t),r=n.getHours();return new e({dayPeriod:r<12?1:2,second:n.getSeconds(),minute:n.getMinutes(),hour:r,day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()})},e.isSame=function(e,t,n){switch(e){case"year":return x(t,n);case"month":return C(t,n);case"day":return T(t,n);case"hour":return k(t,n);case"minute":return j(t,n);case"second":return P(t,n);case"dayPeriod":return T(t,n)&&S("dayPeriod",t,n)}},e.isEqual=function(e,t){return P(e,t)},e.isDateComponentType=function(e){return e in h},e.prototype.get=function(e,t){var n,r;switch(e){case"dayPeriod":var i=this.components.hour;return null===i?null!==t&&void 0!==t?t:null:i<12?1:2;default:return null!==(r=null!==(n=this.components[e])&&void 0!==n?n:t)&&void 0!==r?r:null}},e.prototype.has=function(e){return(this.filledComponentsMask&e)===e},e.prototype.with=function(t,n){var i;return new e(Object(r.__assign)(Object(r.__assign)({},this.components),((i={})[t]=n,i)))},e.prototype.toDate=function(e){var t=this.get("month",e.getMonth()+1)-1,n=new Date;return n.setFullYear(this.get("year",e.getFullYear()),t,this.get("day",e.getDate())),n.setHours(this.get("hour",e.getHours()),this.get("minute",e.getMinutes()),this.get("second",e.getSeconds()),0),n.getMonth()!==t&&n.setDate(0),n},e.prototype.set=function(e,t){switch(void 0===t&&(t=null),e){case"dayPeriod":if(null!==t){var n=this.get("hour",0),r=n>=12;t>1!==r?this.components.hour=r?n-12:n+12:this.has(h.hour)||(this.components.hour=0),this.invalidateMask("hour",this.get("hour"))}break;default:this.components[e]=null===t?null:Object(_.a)(t,O[e],w[e])}this.invalidateMask(e,this.get(e))},e.prototype.invalidateMask=function(e,t){null===t?this.filledComponentsMask&=~h[e]:this.filledComponentsMask|=h[e]},e})();function S(e,t,n){return t.get(e)===n.get(e)}function x(e,t){return S("year",e,t)}function C(e,t){return x(e,t)&&S("month",e,t)}function T(e,t){return C(e,t)&&S("day",e,t)}function k(e,t){return T(e,t)&&S("hour",e,t)}function j(e,t){return k(e,t)&&S("minute",e,t)}function P(e,t){return j(e,t)&&S("second",e,t)}var R=n(2231),A=n(50),I=n(41);function D(e){return Object(I.a)(1,arguments),Object(A.a)(e).getTime()}var M=n(808);function N(e,t){return e.formatToParts(t).map((function(e){return"dayperiod"===e.type&&(e.type="dayPeriod"),e}))}var L=(function(){function e(e){var t=e.formatter,n=e.min,r=e.max,i=e.placeholder,o=Object(R.a)(new Date);this.formatter=t,this.resolvedOptions=(function(e){var t=e.resolvedOptions();return void 0!==t.hour&&void 0===t.hourCycle&&(t.hourCycle=t.hour12?"h12":"h23"),t})(t),this.minSpecified=Boolean(null!==n&&void 0!==n&&n),this.maxSpecified=Boolean(null!==r&&void 0!==r&&r),this.minTime=D(null!==n&&void 0!==n?n:y),this.maxTime=D(null!==r&&void 0!==r?r:b),this.min=E.from(this.minTime),this.max=E.from(this.maxTime),this.placeholder=D(null!==i&&void 0!==i?i:o),this.numberFormatter=new Intl.NumberFormat(this.resolvedOptions.locale,{useGrouping:!1}),this.placeholderParts=N(this.formatter,this.placeholder),this.requiredSegments=this.getSegmentsMaskFromFormatParts(this.placeholderParts),this.baseDate=o}return e.prototype.getSegments=function(e){var t=this;return this.formatToParts(e).map((function(n){if(!E.isDateComponentType(n.type))return{type:n.type,text:n.value,isEditable:!1};var r=e.get(n.type),i=t.getLimits(e,n.type),o=i.min,a=i.max,s=null===r,u=null===r||Object(_.b)(r,o,a),c=!s&&u&&o===a;return{type:n.type,text:n.value,isEditable:!0,value:r,min:o,max:a,isDisabled:c,isValid:u,isPlaceholder:s}}))},e.prototype.getLimits=function(e,t){var n={min:0,max:0};switch(t){case"year":n.min=this.min.get("year"),n.max=this.max.get("year");break;case"month":n.min=1,n.max=12,E.isSame("year",e,this.min)&&(n.min=this.min.get("month")),E.isSame("year",e,this.max)&&(n.max=this.max.get("month"));break;case"day":if(n.min=1,n.max=31,e.has(h.year|h.month)){var r=new Date(e.get("year"),e.get("month")-1);n.max=Object(M.a)(r)}E.isSame("month",e,this.min)&&(n.min=this.min.get("day")),E.isSame("month",e,this.max)&&(n.max=this.max.get("day"));break;case"hour":n.min=0,n.max=23,E.isSame("day",e,this.min)&&(n.min=this.min.get("hour")),E.isSame("day",e,this.max)&&(n.max=this.max.get("hour"));break;case"dayPeriod":n.min=1,n.max=2,E.isSame("day",e,this.min)&&(n.min=this.min.get("dayPeriod")),E.isSame("day",e,this.max)&&(n.max=this.max.get("dayPeriod"));break;case"minute":n.min=0,n.max=59,E.isSame("hour",e,this.min)&&(n.min=this.min.get("minute")),E.isSame("hour",e,this.max)&&(n.max=this.max.get("minute"));break;case"second":n.min=0,n.max=59,E.isSame("minute",e,this.min)&&(n.min=this.min.get("second")),E.isSame("minute",e,this.max)&&(n.max=this.max.get("second"))}return n},e.prototype.moveByStep=function(e,t,n){var r=e.get(t),i=this.getLimits(e,t),o=i.min,a=i.max;return null===r||r<o||r>a?this.getInitialValueForStep(t,n,o,a):(function(e,t,n,r,i){void 0===i&&(i=!1);var o=e;if(i){o+=t>0?1:-1;var a=Math.abs(t);o=(t>0?Math.ceil:Math.floor)(o/a)*a}else(o+=t)<n?o=r-(n-o-1):o>r&&(o=n+(o-r-1));return o<n||o>r?t>0?n:r:o})(Object(_.a)(r,o,a),n,o,a,"hour"===t||"minute"===t||"second"===t)},e.prototype.setSegmentValue=function(e,t,n){if(null!==n){var r=this.getLimits(e,t);n=Object(_.a)(n,r.min,r.max)}return e.with(t,n)},e.prototype.toDate=function(e){var t=e.toDate(this.baseDate),n=t.getDate();return e.has(this.requiredSegments)&&n===e.get("day",n)&&Object(_.b)(t.getTime(),this.minTime,this.maxTime)?t:null},e.prototype.normalizeDateComponents=function(e){var t,n,i=e;try{for(var o=Object(r.__values)(["year","minute","day","hour","month","second"]),a=o.next();!a.done;a=o.next()){var s=a.value;null===e.get(s)&&E.isSame(s,this.min,this.max)&&(i=i.with(s,this.min.get(s)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i!==e?i:e},e.prototype.formatValue=function(e,t){var n=this.numberFormatter.format(e);return"numeric"===t?n:n.padStart(2,this.numberFormatter.format(0))},e.prototype.getInitialValueForStep=function(e,t,n,r){return"year"===e?t>0&&this.minSpecified?n:t<0&&this.maxSpecified?r:Object(_.a)(this.baseDate.getFullYear(),n,r):t>0?this.min.get(e,n):this.max.get(e,r)},e.prototype.getSegmentsMaskFromFormatParts=function(e){return e.reduce((function(e,t){return E.isDateComponentType(t.type)?e|h[t.type]:e}),0)},e.prototype.formatToParts=function(e){var t=this;return N(this.formatter,e.toDate(new Date(this.placeholder))).map((function(n,i){if(E.isDateComponentType(n.type)){var o=e.get(n.type);if(null===o)return t.placeholderParts[i];if("day"===n.type){var a=t.resolvedOptions.day;return Object(r.__assign)(Object(r.__assign)({},n),{value:t.formatValue(o,a)})}}return n}))},e})();function F(e){var t=e.value,n=void 0===t?null:t,i=e.min,o=e.max,a=e.placeholder,s=e.formatOptions,c=e.disabled,l=e.readOnly,f=e.onChange,d=Object(u.useRef)(null),p=Object(m.a)(s),h=Object(u.useMemo)((function(){return new L({formatter:p,min:i,max:o,placeholder:a})}),[p,o,i,a]),v=Object(r.__read)(Object(u.useState)((function(){return h.normalizeDateComponents(E.from(n))})),2),y=v[0],b=v[1],_=Object(u.useMemo)((function(){return d.current!==n?E.from(n):y}),[n,y]);d.current=n;var O=Object(u.useMemo)((function(){return h.getSegments(_)}),[h,_]),w=Object(u.useCallback)((function(e,t){if(!c&&!l){var n=h.setSegmentValue(_,e,t);if(!E.isEqual(_,n)){b(n);var r=h.toDate(n);r!==d.current&&(null===f||void 0===f||f({value:r})),d.current=r}}}),[c,l,h,_,f]),S=Object(u.useCallback)((function(e,t){var n=h.moveByStep(_,e,t);w(e,n)}),[h,_,w]),x=Object(u.useCallback)((function(e){return S(e,1)}),[S]),C=Object(u.useCallback)((function(e){return S(e,-1)}),[S]),T=Object(u.useCallback)((function(e){return S(e,g[e]||1)}),[S]),k=Object(u.useCallback)((function(e){return S(e,-(g[e]||1))}),[S]),j=Object(u.useCallback)((function(e){var t=h.getLimits(_,e).max;w(e,t)}),[h,w,_]),P=Object(u.useCallback)((function(e){var t=h.getLimits(_,e).min;w(e,t)}),[h,w,_]);return{resolvedOptions:h.resolvedOptions,segments:O,setSegmentValue:w,increment:x,decrement:C,extraIncrement:T,extraDecrement:k,incrementToMax:j,decrementToMin:P}}n.d(t,"useDateTimeField",(function(){return s})),n.d(t,"useDateTimeFieldSegment",(function(){return p})),n.d(t,"useDateTimeFieldState",(function(){return F}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(2200),o=n(456),a=n(198),s=n(440),u=n(285);function c(e,t){for(var n=new o.a(e,function(e){var n=(function(e){return!Object(u.c)(e)&&Object(s.a)(e)&&Object(a.a)(e)>=0})(e);return t&&n?t(e):n}),r=[],i=[],c=0,l=null;l=n.next();){var f=Object(a.a)(l);0===f?i.push(l):r.push({index:c++,tabIndex:f,node:l})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(i)}var l,f="focusTrapGuard";function d(){return document.activeElement}function p(e,t){return e.contains(t)}function h(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[f]="true",t}function m(e){return Boolean(e.dataset[f])}function v(e){e.parentNode&&e.parentNode.removeChild(e)}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(l||(l={}));var g=(function(){function e(){this.instances=[],this.direction=l.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,o=d();!n||o&&p(t,o)||(!(function(e){var t=Object(r.__read)(c(e,(function(e){return!m(e)})),1)[0];Object(i.a)(t)})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=d();t&&p(e,t)||Object(i.a)(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,o=d();if(this.lastActiveElement=o,this.direction=l.None,o&&d()!==document.body&&!p(t,o)){var a=c(t,(function(e){return!m(e)})),s=a.indexOf(o);if(0===a.length)this.focusScope(t);else if(-1===s){var u=(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?a.indexOf(r):-1,a.length,n);Object(i.a)(a[u])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?l.Backward:l.Forward)},e.prototype.onMouseDown=function(){this.direction=l.None},e})(),y=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(r.__assign)(Object(r.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=h(1),t=h(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){v(e),v(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();function b(e,t){void 0===t&&(t={});var n=g.getInstance();return new y(n,e,t)}var _=n(0),O=n(2199),w=O.a?_.useLayoutEffect:_.useEffect;function E(e){var t=e.enabled,n=e.restoreFocusRef,r=Object(_.useRef)(null),i=Object(_.useRef)(null);t&&!r.current&&(r.current=O.a?document.activeElement:null),Object(_.useEffect)((function(){i.current=n?n.current:null})),Object(_.useEffect)((function(){if(t)return function(){var e=i.current||r.current;r.current=null,i.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])}function S(e){var t=e.scopeRef,n=e.enabled,r=e.restoreFocusRef,i=e.restoreFocus,o=void 0===i||i,a=e.autoFocus,s=void 0===a||a,u=Object(_.useRef)(null),c=Object(_.useRef)(null),l=Object(_.useMemo)((function(){return{autoFocus:s}}),[s]);Object(_.useEffect)((function(){u.current&&u.current.setOptions(l)}),[l]),w((function(){c.current!==t.current&&(c.current=t.current,u.current&&(u.current.deactivate(),u.current=null),c.current&&(u.current=b(c.current,l),n&&u.current.activate()))})),w((function(){if(n&&u.current)return u.current.activate(),function(){var e;null===(e=u.current)||void 0===e||e.deactivate()}}),[n]),E({enabled:n&&o,restoreFocusRef:r})}n.d(t,"createFocusTrap",(function(){return b})),n.d(t,"useFocusTrap",(function(){return S})),n.d(t,"useRestoreFocus",(function(){return E}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(544);function a(e){if(e){var t=e.value.length;e.setSelectionRange(t,t)}}function s(e,t){var n=e.as,s=void 0===n?"input":n,u=e.type,c=void 0===u?"text":u,l=e.autoComplete,f=void 0===l?"off":l,d=Object(r.__rest)(e,["as","type","autoComplete"]),p=Object(o.a)(e,t).focusableProps,h={};return"input"===s&&(h={type:c}),Object(i.useLayoutEffect)((function(){"textarea"===s&&a(t.current)}),[s,t,e.autoFocus]),{ElementType:s,inputProps:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({autoComplete:f},d),p),h)}}var u=n(2200);function c(e,t){var n=e.disabled,o=Object(r.__read)(Object(i.useState)(!1),2),s=o[0],c=o[1];return{isShown:s,buttonProps:{disabled:n,onPress:function(){c(!s),t.current&&Object(u.b)(t.current),requestAnimationFrame((function(){a(t.current)}))},preventFocusOnPress:!0,tabIndex:-1},inputProps:{type:s?"text":"password"}}}function l(e,t){var n=e.onChange,r=e.value,o=e.disabled;return{isActive:!(e.readOnly||o)&&Boolean(r),buttonProps:{disabled:o,onPress:Object(i.useCallback)((function(){if(t.current){Object(u.b)(t.current);var e=Object.create({});e.target=t.current,e.currentTarget=t.current,t.current.value="",null===n||void 0===n||n(e)}}),[t,n]),preventFocusOnPress:!0,tabIndex:-1}}}function f(e,t){var n=e.value,r=e.enabled;Object(i.useLayoutEffect)((function(){if(t.current&&r){var e=t.current;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}),[t,n,r])}n.d(t,"useTextField",(function(){return s})),n.d(t,"usePasswordField",(function(){return c})),n.d(t,"useClearButton",(function(){return l})),n.d(t,"useAutoResize",(function(){return f}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=Object(r.createContext)(null),o=n(2),a=n(544),s=n(557),u=n(560),c=n(278);function l(e,t){var n,l=e.checked,f=e.defaultChecked,d=e.disabled,p=e.name,h=e.onChange,m=e.readOnly,v=e.state,g=Object(o.__rest)(e,["checked","defaultChecked","disabled","name","onChange","readOnly","state"]),y=Object(a.a)(e,t).focusableProps,b=Object(s.a)(e),_=b.isPressed,O=b.pressProps,w=Object(r.useContext)(i),E=w?w.selectedValue===e.value:null!==l&&void 0!==l?l:f,S=(null===w||void 0===w?void 0:w.isReadOnly)||m;return{isPressed:_,rootProps:O,inputProps:Object(u.a)(g,y,{type:"radio",onChange:S?void 0:function(e){var t;w?null===(t=w.setSelectedValue)||void 0===t||t.call(w,e):null===h||void 0===h||h(e)},"aria-invalid":"invalid"===v||void 0,"aria-checked":E||e.defaultChecked,"aria-readonly":S||void 0,autoComplete:Object(c.a)()?"off":void 0,checked:E,name:null!==(n=null===w||void 0===w?void 0:w.name)&&void 0!==n?n:p,disabled:(null===w||void 0===w?void 0:w.isDisabled)||d})}}function f(e){e.onChange;var t=e.disabled,n=e.readOnly,r=Object(o.__rest)(e,["onChange","disabled","readOnly"]);return{rootProps:Object(o.__assign)(Object(o.__assign)({},r),{role:"radiogroup","aria-disabled":t,"aria-readonly":n})}}var d=n(543);function p(e){var t=e.disabled,n=e.readOnly,r=e.name,i=e.value,o=e.onChange;return{isDisabled:t,name:Object(d.a)(r),isReadOnly:n,selectedValue:i,setSelectedValue:o}}n.d(t,"RadioGroupContext",(function(){return i})),n.d(t,"useRadio",(function(){return l})),n.d(t,"useRadioGroup",(function(){return f})),n.d(t,"useRadioGroupState",(function(){return p}))}),(function(e,t,n){"use strict";n.r(t);var r=n(111),i=n.n(r),o=n(49),a=n(38),s=n(14),u=n(46),c=n.n(u),l=n(33),f=n(61),d=n(21),p=n.n(d),h=n(10),m=n.n(h),v=n(28),g=n(35);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=i.a.mark((function e(){var t,n,r,a,s,u,c,l,d,h,m,y,_,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.select)(v.getCurrentAlbumId);case 3:return t=e.sent,e.next=6,Object(o.put)(Object(f.updateAlbum)({id:t,isLoading:!0}));case 6:return n={albumId:t,amount:g.PORTION_SIZE,loadAlbumData:"1"},e.next=9,Object(o.select)(v.getCurrentAlbum);case 9:return((r=e.sent).clusters&&r.clusters.length||(r.bufferedPhotos||[]).length)&&(a="",(r.bufferedPhotos||[]).length?(s=r.bufferedPhotos[r.bufferedPhotos.length-1],a=s.itemId):(u=r.clusters[r.clusters.length-1],a=u.items[u.items.length-1].itemId),n.lastItemId=a,n.loadAlbumData="0"),e.next=13,Object(o.getContext)("rawFetchModel");case 13:return c=e.sent,e.next=16,Object(o.call)(c,"albumWithItems",n);case 16:return l=e.sent,e.next=19,Object(o.getContext)("resourceHelper");case 19:return d=e.sent,e.next=22,Object(o.select)();case 22:return h=e.sent,e.next=25,Object(o.call)(d.preprocessResources,l.resources,h);case 25:if(m=e.sent,!l.album.public){e.next=30;break}return e.next=29,Object(o.call)(d.fixShortUrl,l.album.public.short_url);case 29:l.album.public.short_url=e.sent;case 30:return m=m.map((function(e){return Object.assign({},e,b({albumIds:[].concat(p()(e.albumIds||[]),[t])},b({},"favorites"===l.album.album_type?{favorite:{state:!0,itemId:l.album.items.find((function(t){return t.id===e.id})).itemId}}:{})))})),e.next=33,Object(o.put)(Object(f.fetchAlbumSuccess)({album:l.album,resources:m}));case 33:e.next=52;break;case 35:return e.prev=35,e.t0=e.catch(0),e.next=39,Object(o.select)(v.getCurrentAlbumId);case 39:return y=e.sent,e.next=42,Object(o.put)(Object(f.updateAlbum)({id:y,isLoading:!1}));case 42:return e.next=44,Object(o.getContext)("pageHelper");case 44:if(_=e.sent,"HTTP_404"!==e.t0.id){e.next=50;break}return e.next=48,Object(o.call)(_.go,"/client/albums");case 48:e.next=52;break;case 50:return e.next=52,Object(o.call)(_.go,"/client/error","preserve",{reason:"album2_fetch_error",error:e.t0});case 52:return e.prev=52,e.next=55,Object(o.cancelled)();case 55:if(!e.sent){e.next=61;break}return e.next=58,Object(o.select)(v.getCurrentAlbumId);case 58:return O=e.sent,e.next=61,Object(o.put)(Object(f.updateAlbum)({id:O,isLoading:!1}));case 61:return e.finish(52);case 62:case"end":return e.stop()}}),e,null,[[0,35,52,62]])})),O=n(100),w=n(16),E=Object(O.createAction)(w.ADD_TO_SELECTED,(function(e){return{payload:{resourcesIds:e}}})),S=n(97),x=i.a.mark((function e(t){var n,r,a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.put)(Object(f.setIsSelectingPhotos)(!0));case 3:return e.next=6,Object(o.select)(v.getCurrentAlbum);case 6:if(n=e.sent,r=n.clusters,a=n.isCompleted,-1!==(s=r.findIndex((function(e){return e.id===t})))){e.next=12;break}return e.abrupt("break",24);case 12:return u=r[s].items,e.next=15,Object(o.put)(E(u.map((function(e){return e.id}))));case 15:return e.next=17,Object(o.select)(S.getSelectedResources);case 17:if(c=e.sent,!(a||s<r.length-1||c.length>=g.MAX_ACTIONABLE_SELECTION)){e.next=20;break}return e.abrupt("break",24);case 20:return e.next=22,Object(o.call)(_);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),setTimeout((function(){throw e.t0}),0);case 29:return e.prev=29,e.next=32,Object(o.put)(Object(f.setIsSelectingPhotos)(!1));case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[0,26,29,33]])})),C=i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(o.race)({cancel1:Object(o.take)(w.DESELECT_ALL),cancel2:Object(o.take)(w.DESELECT_RESOURCES),cancel3:Object(o.take)(f.toggleAlbumItemSelection.type),ok:Object(o.call)(x,n)});case 3:case"end":return e.stop()}}),e)})),T=i.a.mark(k);function k(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.setContext)({pageHelper:c.a,resourceHelper:l.default});case 2:return e.next=4,Object(o.all)([Object(o.takeLeading)(f.fetchAlbumWithItems.type,_),Object(o.takeEvery)(f.selectAllItemsInCluster,C)]);case 4:case"end":return e.stop()}}),T)}var j=n(810),P=n.n(j),R=n(811),A=n.n(R),I=n(812),D=n.n(I),M=n(813),N=n.n(M),L=n(816),F=n.n(L);n.d(t,"default",(function(){return z}));var B=i.a.mark(z),U=[k,P.a,A.a,D.a,N.a,F.a];function z(e,t){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.setContext)({dispatch:e,getState:t,rawFetchModel:a.a,metrikaHelper:s.default});case 2:return n.next=4,Object(o.all)(U.map(o.spawn));case 4:case"end":return n.stop()}}),B)}}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(19),a=n(818),s=n.n(a),u=n(819),c=n.n(u),l=n(72),f=n(26),d=n(21),p=n.n(d),h=n(3),m=n.n(h),v=n(4),g=n.n(v),y=n(8),b=n.n(y),_=n(6),O=n.n(_),w=n(7),E=n.n(w),S=n(1),x=n.n(S),C=n(454),T=n(65),k=n(237);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}var P,R=(function(e){O()(n,e);var t=j(n);function n(){return m()(this,n),t.apply(this,arguments)}return g()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fill:"currentColor",d:"M1.227 5.722a.726.726 0 0 1-.675-.995L2.053.957a.726.726 0 0 1 1.275-.14l.656.961a7.749 7.749 0 0 1 12.01 6.473v.038a7.673 7.673 0 0 1-3.07 6.14A7.714 7.714 0 0 1 8.244 16c-1.559 0-3.01-.46-4.226-1.253a7.69 7.69 0 0 1-3.39-5.015.857.857 0 0 1-.015-.133 7.742 7.742 0 0 1-.035-.216.969.969 0 1 1 1.917-.28 5.813 5.813 0 0 0 11.561-.852 5.812 5.812 0 0 0-8.98-4.873L5.9 4.586a.726.726 0 0 1-.6 1.136H1.227z"}),i.a.createElement("path",{fill:"currentColor",d:"M9.116 5.345a.872.872 0 0 0-1.743 0v3.39c0 .275.13.533.349.698l1.937 1.453a.872.872 0 0 0 1.046-1.395L9.116 8.3V5.345z"}))}}]),n})(n(12).default),A=n(94),I=n(11),D=n.n(I),M=(n(1745),function(){return D()()("suggest-item")}),N=function(e){var t=e.type,n=e.ext;switch(t){case"history":return i.a.createElement(R,null);case"content":return i.a.createElement(k.a,null);case"folders":return i.a.createElement(A.default,{type:"dir"});case"files":return i.a.createElement(A.default,{ext:n});default:return null}},L=function(e){var t=e.item;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:M().e("icon")},i.a.createElement(N,{type:t.type,ext:"files"===t.type?t.key.split(".").pop():""})),i.a.createElement("div",{className:M().e("content")},i.a.createElement("div",{className:M().e("text"),dangerouslySetInnerHTML:{__html:t["suggest-text"]}})))},F=n(87),B=n(31),U=n(27),z=n(142),V=n(80),H=n(81),W=n(10),G=n.n(W),$=n(37),q=n.n($),Y=n(14),K=(P={},G()(P,q.a.KEYS.ENTER,"enter"),G()(P,q.a.KEYS.ESC,"esc"),G()(P,q.a.KEYS.UP,"up"),G()(P,q.a.KEYS.RIGHT,"right"),G()(P,q.a.KEYS.DOWN,"down"),P);n(1746);function J(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}var X=n(9),Z=(function(e){O()(n,e);var t=J(n);function n(e){var r;return m()(this,n),(r=t.call(this,e))._renderItem=r._renderItem.bind(b()(r)),r._changeActive=r._changeActive.bind(b()(r)),r._handleItemSelect=r._handleItemSelect.bind(b()(r)),r._changeQuery=r._changeQuery.bind(b()(r)),r._onSubmit=r._onSubmit.bind(b()(r)),r._onStateChanged=r._onStateChanged.bind(b()(r)),r._onKeyDown=r._onKeyDown.bind(b()(r)),r._onResizeDebounced=X.debounce(r._onResize.bind(b()(r)),250),r}return g()(n,[{key:"componentDidMount",value:function(){var e=this.props.suggestQuery;this.props.getSuggestResult(e,{suggestTypes:e&&e.length?z.e.full:z.e.zero}),window.addEventListener("resize",this._onResizeDebounced)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onResizeDebounced)}},{key:"componentDidUpdate",value:function(e){var t=this.props.suggestQuery;this.props.isSearchActive||t||!e.suggestQuery||this._suggest&&this._suggest.fold()}},{key:"_onResize",value:function(){this.props.isSearchActive&&this._suggest&&this._suggest.fold()}},{key:"_renderItem",value:function(e){return i.a.createElement(L,{item:e})}},{key:"_changeActive",value:function(e){this.props.updateSuggestActivation(e)}},{key:"_handleItemSelect",value:function(e,t){return["history","content"].includes(e.type)&&this._onSubmitText(e.text,!1),this.props.suggestItemSelectAction(e,t,!0)}},{key:"_changeQuery",value:function(e){this.props.getSuggestResult(e)}},{key:"_onSubmitText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e||this.props.suggestQuery;n&&(t&&this.props.sendSearchMetrika("input-submit",{queryText:n}),this.props.getSuggestResult(e),this.props.searchAction(n,this.props.searchScope,"formSearch"),this.props.updateSuggestActivation(!1))}},{key:"_onSubmit",value:function(){this._onSubmitText(this.props.suggestQuery)}},{key:"_onStateChanged",value:function(e){e===T.b.UNFOLDED_ACTIVE&&(this.props.isSearchSessionStarted?this.props.sendSearchMetrika("input-focus"):this.props.startSearchSession(),Y.count.apply(void 0,p()(function(e){var t="disk";return"/photo"===e?t="photo":e.startsWith("/album")?t="album":"/trash"===e?t="trash":"/journal"===e?t="history":"/attach"===e&&(t="attach"),["interface elements","search","click",t]}(this.props.idContext)))),this.props.isSuggestDisabled||Object(Y.countSuggest)(e===T.b.UNFOLDED_ACTIVE?"show":"close")}},{key:"_onKeyDown",value:function(e){!(function(e){K[e]&&Y.default.count("interface elements","search suggest","navigation",K[e])})(e.keyCode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestItems,r=t.suggestQuery,o=t.searchPlaceholder,a=t.isSuggestDisabled,s=t.isSliderOpened;return i.a.createElement(C.b,{ref:function(t){e._suggest=t},cls:D()()("client-suggest").toString(),suggestQuery:r,isNarrow:!0,maxLength:100,iconPosition:"right",placeholderDefault:o,placeholderCustom:o,suggestItems:n,renderItem:this._renderItem,showClose:!0,searchButtonText:"Найти",getShowText:function(e){return e.text},getItemType:function(e){return e.type},handleItemSelect:this._handleItemSelect,onTextChange:this._changeQuery,onSubmit:this._onSubmit,onActiveChange:this._changeActive,keepTextWhenFolded:!0,noSuggestPopup:a,noBubbleList:!0,theme:"ps-header",toneDefault:"suggest-ps-header-light",onStateChanged:this._onStateChanged,onKeyDown:this._onKeyDown,ignoreKeyboardEvents:s,popupClassName:this.props.popupClassName})}}]),n})(r.Component),Q={searchAction:U.search,getSuggestResult:z.a,updateSuggestActivation:z.f,startSearchSession:z.c,sendSearchMetrika:z.b,suggestItemSelectAction:z.d},ee=Object(o.connect)((function(e){var t=e.page.idContext,n=e.suggest,r=n.items,i=n.query,o=Object(H.getThemeName)(e);return{idContext:t,suggestItems:r,suggestQuery:i,searchScope:Object(F.g)(e),searchPlaceholder:Object(F.f)(e),isSearchActive:Object(F.b)(e),isSuggestDisabled:Object(F.d)(e),isSearchSessionStarted:Object(F.c)(e),isSliderOpened:Object(B.isSliderOpened)(e),popupClassName:o&&Object(V.isPageDark)(o)&&!Object(V.isContentDark)(o)?Object(V.getContentClassName)(o):void 0}}),Q)(Z),te=n(98),ne=n(36),re=n(48),ie=n(89),oe=n(820),ae=n.n(oe),se=c()(s.a);t.default=Object(o.connect)((function(e){var t=e.config,n=t.urlsBase,r=t.domain,i=t.yandexuid,o=t.links.passport.auth,a=e.user,s=e.page.currentUrl,u=e.environment.session,c=u.locale,l=u.showDocsInHeader,f=e.settings,d=f.closedOverdraftScreen,p=f.roNoB2cTariffPromo,h=e.suggest.query,m=Object(H.getThemeName)(e);return{urlsBase:n,user:a,isUnAuth:Object(ie.isUnAuth)(e),authLink:o,domain:r,locale:c,yandexuid:i,currentUrl:s,shouldShowYaPlus:Object(te.shouldShowYaPlus)(e),isSearchActive:Object(F.b)(e),isDocsPage:Object(ne.isDocsPage)(e),shouldShowDocuments:l||Object(ne.isDocsPage)(e),isShownNewOverdraftScreen:Object(re.getOverdraftType)(e)&&!d,showFan:a.isB2b,enabledNoB2cTariffPromo:Boolean(p&&p.enabled),themeName:m,suggestQuery:h}}))((function(e){var t,n=e.className,o=e.urlsBase,a=e.user,s=e.isUnAuth,u=e.authLink,c=e.domain,d=e.locale,p=e.yandexuid,h=e.currentUrl,m=e.shouldShowYaPlus,v=e.isSearchActive,g=e.isDocsPage,y=e.shouldShowDocuments,b=e.isShownNewOverdraftScreen,_=e.showFan,O=e.enabledNoB2cTariffPromo,w=e.themeName,E=e.suggestQuery,S=Object(r.useMemo)((function(){return{Admin:o.admin,Calendar:o.calendar,Contact:o.mail+"/#contacts",Disk:o.disk,Fan:o.fan,Mail:o.mail,Messenger:o.q,Notes:g?o.notes:"/notes",Premium:"".concat(o.yandex360,"/premium-plans"),Telemost:o.telemost,Documents:g?"/":o.documents}}),[o,g]),x=Object(r.useCallback)((function(){Y.default.count.apply(Y.default,arguments)}),[]),C=Object(r.useRef)(null),T=Object(r.useRef)(null),k=Object(r.useCallback)((function(){window.location.assign(u)}),[u]),j=i.a.createElement(ae.a,null),P=g||b;return i.a.createElement(i.a.Fragment,null,i.a.createElement(se,{links:S,allServicesLink:o.all,isB2bAdmin:a.isConnectAdmin,isB2bUser:a.isB2b,currentService:g?"Documents":"Disk",tld:c,lang:d,timeZone:a.timezone,userProps:s?void 0:{uid:a.uid,name:a.name,avatarId:a.avatarId,yu:p,avatarHost:a.avatarHost,retpath:h,ariaLabel:"Аккаунт",yaplusAvailable:m,hasPlus:a.hasYaPlus},noUserName:!0,LegoPopup:l.Popup,morePopupProps:{mainOffset:8},useLegoV3:!0,theme:Object(V.isPageDark)(w)?"dark":"light",popupTheme:Object(V.isContentDark)(w)?"dark":"light",className:[n,Object(V.getPageClassName)(w)].join(" "),countMetrikaFn:x,searchOpened:v||Boolean(E),leftContent:P?null:i.a.createElement(ee,null),customLogoUrl:null===(t=a.wsHeader)||void 0===t?void 0:t.company_logo,yandex360Link:O||a.isB2b||a.hasProSubscription?"/client/disk":o.yandex360,refs:{header:C,servicesRefs:{Premium:T}},onlyUserHTMLInSSR:!0,showDocuments:y,showFan:_,LegoButton:f.Button,onLoginClick:k,loginButtonProps:{view:"default"},hideTuning:O,rightContent:j}))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=(function(){function e(e){this.cache=null,this.factory=e}return e.prototype[Symbol.iterator]=function(){var e,t,n,i,o,a,s,u,c,l,f;return Object(r.__generator)(this,(function(d){switch(d.label){case 0:if(null!==this.cache)return[3,9];this.cache=[],d.label=1;case 1:d.trys.push([1,6,7,8]),e=Object(r.__values)(this.factory()),t=e.next(),d.label=2;case 2:return t.done?[3,5]:(a=t.value,this.cache.push(a),[4,a]);case 3:d.sent(),d.label=4;case 4:return t=e.next(),[3,2];case 5:return[3,8];case 6:return n=d.sent(),u={error:n},[3,8];case 7:try{t&&!t.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}return[7];case 8:return[2];case 9:d.trys.push([9,14,15,16]),i=Object(r.__values)(this.cache),o=i.next(),d.label=10;case 10:return o.done?[3,13]:[4,a=o.value];case 11:d.sent(),d.label=12;case 12:return o=i.next(),[3,10];case 13:return[3,16];case 14:return s=d.sent(),l={error:s},[3,16];case 15:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(l)throw l.error}return[7];case 16:return[2]}}))},e})();var a=(function(){function e(){}return e.prototype.build=function(e){var t=e.children,n=this;return new o(function(){var e,o,a,s,u,c,l,f,d,p,h,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:e=[],i.Children.forEach(t,(function(t){e.push(t)})),o=0,y.label=1;case 1:y.trys.push([1,12,13,14]),a=Object(r.__values)(e),s=a.next(),y.label=2;case 2:if(s.done)return[3,11];u=s.value,c=n.getNodes({element:u},o),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,l=Object(r.__values)(c),f=l.next(),y.label=4;case 4:return f.done?[3,7]:[4,f.value];case 5:y.sent(),o++,y.label=6;case 6:return f=l.next(),[3,4];case 7:return[3,10];case 8:return d=y.sent(),v={error:d},[3,10];case 9:try{f&&!f.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 10:return s=a.next(),[3,2];case 11:return[3,14];case 12:return p=y.sent(),h={error:p},[3,14];case 13:try{s&&!s.done&&(m=a.return)&&m.call(a)}finally{if(h)throw h.error}return[7];case 14:return[2]}}))})},e.prototype.getNodes=function(e,t,n){var i,o,a,s,u,c,l,f,d,p,h,m,v,g,y,b;return Object(r.__generator)(this,(function(_){switch(_.label){case 0:return(i=this.getCollectionElement(e))?[3,3]:(u=this.createNode(e))?[4,u]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2];case 3:o=i.type.getCollectionNode(i.props),_.label=4;case 4:_.trys.push([4,15,16,17]),a=Object(r.__values)(o),s=a.next(),_.label=5;case 5:if(s.done)return[3,14];u=s.value,c=this.getKey(i,u,t,n),l=this.getNodes(Object(r.__assign)(Object(r.__assign)({},u),{key:c}),t,n),_.label=6;case 6:_.trys.push([6,11,12,13]),y=void 0,f=Object(r.__values)(l),d=f.next(),_.label=7;case 7:if(d.done)return[3,10];if(p=d.value,e.type&&e.type!==p.type)throw new Error('Invalid node type. Expected: "'+e.type+'", actual: "'+p.type+'"');return[4,p];case 8:_.sent(),t++,_.label=9;case 9:return d=f.next(),[3,7];case 10:return[3,13];case 11:return h=_.sent(),y={error:h},[3,13];case 12:try{d&&!d.done&&(b=f.return)&&b.call(f)}finally{if(y)throw y.error}return[7];case 13:return s=a.next(),[3,5];case 14:return[3,17];case 15:return m=_.sent(),v={error:m},[3,17];case 16:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 17:return[2]}}))},e.prototype.createNode=function(e){var t=e.key,n=e.type,i=e.content,a=e.props,s=void 0===a?{}:a,u=e.hasChildren,c=void 0!==u&&u,l=e.children;if(null==t||null==n)return null;var f=this,d={type:n,key:t,props:s,content:i,hasChildren:c,children:new o(function(){var e,t,n,i,o,a,s,u,p,h,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:if(!l||!c)return[2];e=0,y.label=1;case 1:y.trys.push([1,12,13,14]),t=Object(r.__values)(l()),n=t.next(),y.label=2;case 2:if(n.done)return[3,11];i=n.value,o=f.getNodes(i,e,d),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,a=Object(r.__values)(o),s=a.next(),y.label=4;case 4:return s.done?[3,7]:[4,s.value];case 5:y.sent(),e++,y.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return u=y.sent(),v={error:u},[3,10];case 9:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 10:return n=t.next(),[3,2];case 11:return[3,14];case 12:return p=y.sent(),h={error:p},[3,14];case 13:try{n&&!n.done&&(m=t.return)&&m.call(t)}finally{if(h)throw h.error}return[7];case 14:return[2]}}))})};return d},e.prototype.getCollectionElement=function(e){var t=e.element;if(t){if(!(function(e){return Object(i.isValidElement)(e)&&"function"==typeof e.type&&"function"==typeof e.type.getCollectionNode})(t))throw new Error("Unknown element");return t}return null},e.prototype.getKey=function(e,t,n,r){return null!=t.key?t.key:t.element?void 0:null!=e.key?e.key:(null===r||void 0===r?void 0:r.key)?(null===r||void 0===r?void 0:r.key)+"."+n:"$."+n},e})();function s(e,t){var n=e.children,r=Object(i.useRef)(t);return r.current=t,Object(i.useMemo)((function(){var e=(new a).build({children:n});return r.current(e)}),[n])}n.d(t,"CollectionBuilder",(function(){return a})),n.d(t,"useCollection",(function(){return s}))}),(function(e,t,n){"use strict";function r(e,t){var n=e.disabled,r=e.readOnly;return{groupProps:{role:"group",onKeyDown:function(e){n||r||" "===e.key&&(e.preventDefault(),e.stopPropagation(),t.setOpen(!0))}},triggerProps:{tabIndex:-1,onPress:function(){t.setOpen(!t.isOpen)}}}}n.r(t);var i=n(2),o=n(0);function a(e,t){var n=new Date(e);return Boolean(n.getHours()||n.getMinutes()||n.getSeconds()||n.getMilliseconds())?new Date(e):(t=new Date(t),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n)}function s(e){var t=e.onChange,n=e.value,r=void 0===n?null:n,s=Object(o.useMemo)((function(){return r?new Date(r):null}),[r]),u=Object(i.__read)(Object(o.useState)(!1),2),c=u[0],l=u[1];return{value:s,setValue:function(e){c&&l(!1),e.value&&s&&(e.value=a(e.value,s)),null===t||void 0===t||t({value:e.value})},isOpen:c,setOpen:l}}function u(e){var t=e.onChange,n=e.value,r=void 0===n?{start:null,end:null}:n,s=Object(i.__read)(Object(o.useState)(!1),2),u=s[0],c=s[1];return{value:r,setValue:function(e){u&&e.value.start&&e.value.end&&c(!1),e.value.start&&r.start&&(e.value.start=a(e.value.start,r.start)),e.value.end&&r.end&&(e.value.end=a(e.value.end,r.end)),null===t||void 0===t||t({value:e.value})},isOpen:u,setOpen:c}}n.d(t,"useDatePicker",(function(){return r})),n.d(t,"useDatePickerState",(function(){return s})),n.d(t,"useDateRangePickerState",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,u=["bottom","height","left","right","top","width"],c=new Map,l=function e(){var t=[];c.forEach((function(e,n){var r=n.getBoundingClientRect();(function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),u.some((function(n){return e[n]!==t[n]}))})(r,e.rect)&&(e.rect=r,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),s=window.requestAnimationFrame(e)};var f="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function d(e,t){void 0===t&&(t={width:0,height:0});var n=i.useState(e.current),r=n[0],o=n[1],a=i.useReducer(p,t),u=a[0],d=a[1],h=i.useRef(!1);return f((function(){e.current!==r&&o(e.current)})),f((function(){if(r&&!h.current){h.current=!0;var e=r.getBoundingClientRect();d({rect:e})}}),[r]),i.useEffect((function(){if(r){var e=(function(e,t){return{observe:function(){var n=0===c.size;c.has(e)?c.get(e).callbacks.push(t):c.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&l()},unobserve:function(){var n=c.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||c.delete(e),c.size||cancelAnimationFrame(s)}}}})(r,(function(e){d({rect:e})}));return e.observe(),function(){e.unobserve()}}}),[r]),u}function p(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e}var h=function(){return 50},m=function(e){return e},v=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},g=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),r=[],i=t;i<=n;i++)r.push(i);return r};function y(e){var t,n=e.size,r=void 0===n?0:n,o=e.estimateSize,s=void 0===o?h:o,u=e.overscan,c=void 0===u?1:u,l=e.paddingStart,p=void 0===l?0:l,y=e.paddingEnd,_=void 0===y?0:y,O=e.parentRef,w=e.horizontal,E=e.scrollToFn,S=e.useObserver,x=e.initialRect,C=e.onScrollElement,T=e.scrollOffsetFn,k=e.keyExtractor,j=void 0===k?m:k,P=e.measureSize,R=void 0===P?v:P,A=e.rangeExtractor,I=void 0===A?g:A,D=w?"width":"height",M=w?"scrollLeft":"scrollTop",N=i.useRef({scrollOffset:0,measurements:[]}),L=i.useState(0),F=L[0],B=L[1];N.current.scrollOffset=F;var U=(S||d)(O,x)[D];N.current.outerSize=U;var z=i.useCallback((function(e){O.current&&(O.current[M]=e)}),[O,M]),V=E||z;E=i.useCallback((function(e){V(e,z)}),[z,V]);var H=i.useState({}),W=H[0],G=H[1],$=i.useCallback((function(){return G({})}),[]),q=i.useRef([]),Y=i.useMemo((function(){var e=q.current.length>0?Math.min.apply(Math,q.current):0;q.current=[];for(var t=N.current.measurements.slice(0,e),n=e;n<r;n++){var i=j(n),o=W[i],a=t[n-1]?t[n-1].end:p,u="number"==typeof o?o:s(n),c=a+u;t[n]={index:n,start:a,size:u,end:c,key:i}}return t}),[s,W,p,r,j]),K=((null==(t=Y[r-1])?void 0:t.end)||p)+_;N.current.measurements=Y,N.current.totalSize=K;var J=C?C.current:O.current,X=i.useRef(T);X.current=T,f((function(){if(J){var e=function(e){var t=X.current?X.current(e):J[M];B(t)};return e(),J.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){J.removeEventListener("scroll",e)}}B(0)}),[J,M]);var Z=(function(e){var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=b(0,i,(function(e){return t[e].start}),r),a=o;for(;a<i&&t[a].end<r+n;)a++;return{start:o,end:a}})(N.current),Q=Z.start,ee=Z.end,te=i.useMemo((function(){return I({start:Q,end:ee,overscan:c,size:Y.length})}),[Q,ee,c,Y.length,I]),ne=i.useRef(R);ne.current=R;var re=i.useMemo((function(){for(var e=[],t=function(t,n){var r=te[t],i=a(a({},Y[r]),{},{measureRef:function(e){if(e){var t=ne.current(e,w);if(t!==i.size){var n=N.current.scrollOffset;i.start<n&&z(n+(t-i.size)),q.current.push(r),G((function(e){var n;return a(a({},e),{},((n={})[i.key]=t,n))}))}}}});e.push(i)},n=0,r=te.length;n<r;n++)t(n);return e}),[te,z,w,Y]),ie=i.useRef(!1);f((function(){ie.current&&G({}),ie.current=!0}),[s]);var oe=i.useCallback((function(e,t){var n=(void 0===t?{}:t).align,r=void 0===n?"start":n,i=N.current,o=i.scrollOffset,a=i.outerSize;"auto"===r&&(r=e<=o?"start":e>=o+a?"end":"start"),"start"===r?E(e):"end"===r?E(e-a):"center"===r&&E(e-a/2)}),[E]),ae=i.useCallback((function(e,t){var n=void 0===t?{}:t,i=n.align,o=void 0===i?"auto":i,s=(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i})(n,["align"]),u=N.current,c=u.measurements,l=u.scrollOffset,f=u.outerSize,d=c[Math.max(0,Math.min(e,r-1))];if(d){if("auto"===o)if(d.end>=l+f)o="end";else{if(!(d.start<=l))return;o="start"}var p="center"===o?d.start+d.size/2:"end"===o?d.end:d.start;oe(p,a({align:o},s))}}),[oe,r]),se=i.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae.apply(void 0,t),requestAnimationFrame((function(){ae.apply(void 0,t)}))}),[ae]);return{virtualItems:re,totalSize:K,scrollToOffset:oe,scrollToIndex:se,measure:$}}var b=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0};function _(e){var t=e.estimate,n=e.items,r=e.renderElement,a=e.focusedIndex,s=void 0===a?null:a,u=Object(i.useRef)(null),c=Object(i.useCallback)((function(e){return"number"==typeof t?t:t(n[e])}),[t,n]),l=y({size:n.length,parentRef:u,estimateSize:c});return Object(i.useEffect)((function(){null!==s&&l.scrollToIndex(s,{align:"auto"})}),[s,n.length,t]),{innerProps:{style:{position:"relative",height:l.totalSize}},containerProps:{style:{overflowY:"auto"},ref:u},virtualItems:l.virtualItems.map((function(e){return o.a.createElement(i.Fragment,{key:e.key},r({element:n[e.index],style:{transform:"translateY("+e.start+"px)",position:"absolute",top:0,left:0}}))}))}}function O(e){var t=e.collection,n=e.children,i=_({items:t,renderElement:function(e){var t=e.element,r=e.style;return o.a.createElement("div",{style:r},n({element:t}))},estimate:e.estimate,focusedIndex:e.focusedIndex}),a=i.containerProps,s=i.innerProps,u=i.virtualItems;return o.a.createElement("div",{ref:a.ref,style:Object(r.__assign)(Object(r.__assign)({},a.style),{height:e.height,maxHeight:e.maxHeight})},o.a.createElement("div",{style:s.style},u))}n.d(t,"VirtualCollection",(function(){return O})),n.d(t,"useVirtualized",(function(){return _}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=n(0),v=n.n(m),g=n(189),y=n(72),b=(n(1938),n(26)),_=n(423),O=n(424),w=n(9),E=n.n(w),S=n(11),x=n.n(S);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var T=function(){return x()()("calendar")},k=E.a.memoize((function(){return E.a.times(7,(function(e){return __i18n__.i18n.index(["пн","вт","ср","чт","пт","сб","вс"],yr.externals.entityify(e))}))})),j=E.a.memoize((function(){return E.a.times(12,(function(e){return __i18n__.i18n.index(["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],yr.externals.entityify(e))}))})),P=(function(e){l()(n,e);var t=C(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onPrevMonthButtonClick=r._onPrevMonthButtonClick.bind(u()(r)),r._onNextMonthButtonClick=r._onNextMonthButtonClick.bind(u()(r)),r.state={currentMonthTimestamp:r.props.timestamp},r}return a()(n,[{key:"_changeMonth",value:function(e){var t=new Date(this.state.currentMonthTimestamp);t.setMonth(t.getMonth()+e),this.setState({currentMonthTimestamp:t.getTime()})}},{key:"_onPrevMonthButtonClick",value:function(){this._changeMonth(-1)}},{key:"_onNextMonthButtonClick",value:function(){this._changeMonth(1)}},{key:"_onDayClick",value:function(e){var t=new Date(this.props.timestamp),n=new Date(this.state.currentMonthTimestamp);t.setMonth(n.getMonth()),t.setFullYear(n.getFullYear()),t.setDate(e),this.props.onChange(t.getTime())}},{key:"_getTitle",value:function(){var e=new Date(this.state.currentMonthTimestamp);return v.a.createElement("div",{className:T().e("title")},v.a.createElement(b.Button,{className:T().e("prev-button"),size:"s",view:"clear",onClick:this._onPrevMonthButtonClick,icon:_.a}),v.a.createElement("div",{className:T().e("selected-month")},j()[e.getMonth()]+" "+e.getFullYear()),v.a.createElement(b.Button,{className:T().e("next-button"),size:"s",view:"clear",onClick:this._onNextMonthButtonClick,icon:O.a}))}},{key:"_getEmptyWeek",value:function(){return new Array(7).fill("")}},{key:"_calcWeeks",value:function(){var e,t=new Date(this.state.currentMonthTimestamp),n=[],r=this._getEmptyWeek(),i=new Date(this.state.currentMonthTimestamp);for(i.setDate(1);i.getMonth()===t.getMonth();i.setDate(i.getDate()+1))r[e=(i.getDay()+6)%7]=i.getDate(),6===e&&(n.push(r),r=this._getEmptyWeek());return 6!==e&&n.push(r),n}},{key:"_getWeekDaysRows",value:function(){return k().map((function(e,t){return{tag:"th",mods:{weekday:!0,weekend:t>4},data:e}}))}},{key:"_getDaysRows",value:function(){var e=this._calcWeeks(),t=new Date(this.state.currentMonthTimestamp),n=new Date(this.props.timestamp),r=n.getDate(),i=n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear();return e.map((function(e){return e.map((function(e,t){return{data:e,mods:{weekend:t>4,selected:i&&e===r}}}))}))}},{key:"_getCalendar",value:function(){var e=this,t=[this._getWeekDaysRows()].concat(this._getDaysRows()).map((function(t,n){var r=t.map((function(t,n){var r,i=t.tag||"td";return r="number"==typeof t.data?v.a.createElement("div",{className:T().e("cell-inner"),onClick:e._onDayClick.bind(e,t.data)},t.data):t.data,v.a.createElement(i,{key:n,className:T().e("cell").m(t.mods)},r)}));return v.a.createElement("tr",{key:n},r)}));return v.a.createElement("table",{className:T().e("layout")},v.a.createElement("tbody",null,t))}},{key:"render",value:function(){return v.a.createElement("div",{className:T()},this._getTitle(),this._getCalendar())}}]),n})(m.Component);P.defaultProps={timestamp:Date.now()};var R=P;function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var I=(function(e){l()(n,e);var t=A(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return v.a.createElement("path",{d:"M8 3v3h3V3H8m4 0v3h3V3h-3M0 7v3h3V7H0m8 0v3h3V7H8m4 0v3h3V7h-3M0 11v3h3v-3H0m8 0v3h3v-3H8M4 3v3h3V3H4m0 4v3h3V7H4m0 4v3h3v-3H4",fill:"currentColor"})}}]),n})(n(12).default),D=(n(1939),n(199)),M=n.n(D);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var L=function(){return x()()("calendar-dropdown")},F=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isPopupVisible:!1},r._onPopupClose=r._onPopupClose.bind(u()(r)),r._onTextInputClick=r._onTextInputClick.bind(u()(r)),r._onCalendarChange=r._onCalendarChange.bind(u()(r)),r._textinput=v.a.createRef(),r}return a()(n,[{key:"_onTextInputClick",value:function(){this.setState({isPopupVisible:!this.state.isPopupVisible})}},{key:"_onPopupClose",value:function(){this.setState({isPopupVisible:!1})}},{key:"_onCalendarChange",value:function(){var e;this.setState({isPopupVisible:!1}),this.props.onChange&&(e=this.props).onChange.apply(e,arguments)}},{key:"render",value:function(){return v.a.createElement("span",{className:L().mix(this.props.cls)},v.a.createElement(g.Textinput,{view:"default",size:"m",className:L().e("textinput"),type:"text",onClick:this._onTextInputClick,readOnly:!0,disabled:this.props.disabled,value:M.a.timestampToDate(this.props.timestamp/1e3,this.props.dateFormat),iconRight:v.a.createElement(I,{cls:L().e("icon")}),controlRef:this._textinput}),v.a.createElement(y.Popup,{view:"default",target:"anchor",anchor:this._textinput,onClose:this._onPopupClose,visible:this.state.isPopupVisible},v.a.createElement(R,{timestamp:this.props.timestamp,onChange:this._onCalendarChange})))}}]),n})(m.Component);t.default=F}),(function(e,t,n){"use strict";n.r(t);var r=n(29),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),f=n(8),d=n.n(f),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(1901),n(19)),_=n(0),O=n.n(_),w=n(26),E=n(396),S=n(12);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var C=(function(e){h()(n,e);var t=x(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContentSVG",value:function(){return O.a.createElement("path",{d:"M0 14h14v-2H0v2zm0-5h11V7H0v2zm0-5h8V2H0v2z",fill:"currentColor"})}}]),n})(S.default),T=Object(S.iconProvider)(C);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var j=(function(e){h()(n,e);var t=k(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContentSVG",value:function(){return O.a.createElement("path",{d:"M0 2h14v2H0V2zm0 5h11v2H0V7zm0 5h8v2H0v-2z",fill:"currentColor"})}}]),n})(S.default),P=Object(S.iconProvider)(j),R=n(15),A=n(97),I=n(9),D=n.n(I),M=n(11),N=n.n(M);function L(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var F={name:"Названию",size:"Размеру",type:"Типу",mtime:"Дате изменения"},B=(function(e){h()(n,e);var t=L(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={opened:!1},r._onSelectChange=r._onSelectChange.bind(d()(r)),r._setOpened=r._setOpened.bind(d()(r)),r._renderTrigger=r._renderTrigger.bind(d()(r)),r}return l()(n,[{key:"_onChange",value:function(e,t){this.setState({isPopupVisible:!1}),this.props.changeResourcesSort(Object.assign({},this.props.value,a()({},e,t)))}},{key:"_setOpened",value:function(e){this.setState({opened:e})}},{key:"_onSelectChange",value:function(e){var t=this.props.value,n=t.sort,r=t.order,i=e.target.value.filter((function(e){return![n,r].includes(e)}))[0],o=Object.keys(F).includes(i)?"sort":"order";this._onChange(o,i),this._setOpened(!1)}},{key:"_renderTrigger",value:function(e){var t=this.props.value,n=t.sort,r=t.order,o=F[n].toLowerCase(),a="По "+yr.externals.entityify(o);return O.a.createElement(w.Button,i()({},D.a.omit(e,["width"]),{view:"raised","aria-label":"Сортировать по "+yr.externals.entityify(o),checked:!1,iconLeft:"1"===r?T:P}),a)}},{key:"render",value:function(){var e=this.props.value,t=e.sort,n=e.order;return F[t]?O.a.createElement(E.Select,{view:"default",size:"m",className:N()()("listing-sort"),value:[t,n],onChange:this._onSelectChange,setOpened:this._setOpened,opened:this.state.opened,renderTrigger:this._renderTrigger,options:[{title:"",items:Object.keys(F).map((function(e){return{value:e,content:F[e]}}))},{title:"",items:[{value:"1",content:"Возрастанию"},{value:"0",content:"Убыванию"}]}]}):null}}]),n})(_.Component);B.defaultProps={value:{sort:"name",order:"1"}};var U={changeResourcesSort:R.changeResourcesSort};t.default=Object(b.connect)((function(e){return{value:Object(A.getSort)(e)}}),U)(B)}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=(n(2075),n(0)),v=n.n(m),g=n(29),y=n.n(g),b=(n(2076),n(94)),_=n(11),O=n.n(_),w=n(9),E=n.n(w),S=function(){return O()()("create-resource-button")},x=function(e){var t,n=E.a.omit(e,["type","text","cls"]);return t=["dir_plus","dir_family","album"].includes(e.type)?{type:e.type}:{ext:e.type},v.a.createElement("button",y()({},n,{className:S().mix(e.cls),"aria-label":e.text}),v.a.createElement(b.default,y()({cls:S().e("icon"),size:"m"},t)),v.a.createElement("span",{className:S().e("text")},e.text))},C=n(26),T=n(72);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var j=(function(e){l()(n,e);var t=k(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onPopupHide=r._onPopupHide.bind(u()(r)),r._anchor=v.a.createRef(),r}return a()(n,[{key:"_onPopupHide",value:function(){this.props.onPopupHide()}},{key:"render",value:function(){return v.a.createElement("span",{className:this.props.className,ref:this._anchor},v.a.createElement(C.Button,y()({},this.props.anchorProps,{onClick:this.props.onAnchorClick})),v.a.createElement(T.Popup,y()({},this.props.popupProps,{target:"anchor",zIndex:this.props.zIndexGroupLevel,anchor:this._anchor,visible:this.props.isPopupVisible,onClose:this._onPopupHide}),this.props.children))}}]),n})(m.PureComponent);j.defaultProps={isPopupVisible:!1};var P=j,R=n(784),A=n(14);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var D=function(){return O()()("create-resource-popup-with-anchor")},M=(function(e){l()(n,e);var t=I(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isPopupVisible:!1},r._onAnchorClick=r._onAnchorClick.bind(u()(r)),r._closePopup=r._closePopup.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.default.count.apply(A.default,t.concat(["listing"]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOfficeAllowed,r=t.isFamilyCreationAllowed,i=[v.a.createElement(x,{key:"create-folder",onClick:function(){e._closePopup(),e.props.onFolderCreate(),e._countMetrika("interface elements","create new","folder")},text:"Папку",type:"dir_plus",cls:D().e("create-item")}),r?v.a.createElement(x,{key:"create-family-folder",onClick:function(){e._closePopup(),e.props.onFolderCreate(!0),A.default.count("interface elements","create new","family folder","left column",{role:e.props.familyRoleMetrikaKey,feature:e.props.hasFamilyFeature})},text:"Семейную папку",type:"dir_family",cls:D().e("create-item")}):null,n?v.a.createElement(x,{key:"create-word",onClick:function(){e._closePopup(),e.props.onEditorOpen("docx"),e._countMetrika("interface elements","create new","docx")},text:"Текстовый документ",type:"doc",cls:D().e("create-item")}):null],o=[n?v.a.createElement(x,{key:"create-excel",onClick:function(){e._closePopup(),e.props.onEditorOpen("xlsx"),e._countMetrika("interface elements","create new","xlsx")},text:"Таблицу",type:"xls",cls:D().e("create-item")}):null,n?v.a.createElement(x,{key:"create-powerpoint",onClick:function(){e._closePopup(),e.props.onEditorOpen("pptx"),e._countMetrika("interface elements","create new","pptx")},text:"Презентацию",type:"ppt",cls:D().e("create-item")}):null,v.a.createElement(x,{key:"create-album",onClick:function(){e._closePopup(),e.props.onCreateAlbum(),e._countMetrika("interface elements","create new","album")},text:"Альбом",type:"album",cls:D().e("create-item")})];return v.a.createElement(P,{onAnchorClick:this._onAnchorClick,onPopupHide:this._closePopup,isPopupVisible:this.state.isPopupVisible,className:D(),popupProps:{view:"default",direction:["bottom-start"],mainOffset:-40-(this.props.isFirefox?1:0),className:D().e("popup").mix(this.props.popupCls)},anchorProps:{width:"max",size:"m",view:this.props.view||"raised",iconLeft:this.props.iconLeft||R.a,children:["Создать"],onClick:this._onAnchorClick},zIndexGroupLevel:2e3},v.a.createElement("h3",{className:D().e("title")},"Создать"),v.a.createElement("div",{className:D().e("create-items")},v.a.createElement(v.a.Fragment,null,i,n&&r?null:o)),n&&r?v.a.createElement("div",{className:D().e("create-items")},o):null)}},{key:"_closePopup",value:function(){this.setState({isPopupVisible:!1})}},{key:"_onAnchorClick",value:function(){var e=!this.state.isPopupVisible;e&&A.default.count("interface elements","create new","button_click"),this.setState({isPopupVisible:e})}}]),n})(m.Component);t.default=M}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(34),a=(n(1879),Object(o.cn)("ListTile")),s=a("Leading"),u=a("Trailing"),c=function(e){var t=e.children,n=e.leading,r=e.trailing,o=e.className,c=e.inline,l=e.alignItems,f=e.leftSpace,d=e.rightSpace,p=e.onClick;return i.a.createElement("div",{onClick:p,className:a({inline:c,alignItems:l},[o])},n&&i.a.createElement("div",{className:s},n),i.a.createElement("div",{className:a("Wrapper",{leftSpace:f,rightSpace:d})},t),r&&i.a.createElement("div",{className:u},r))};c.displayName=a(),n.d(t,"cnListTile",(function(){return a})),n.d(t,"ListTile",(function(){return c}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(34),s=n(91),u=(n(1533),Object(a.cn)("Image")),c=function(e){var t=e.src,n=e.src2x,a=e.srcSet,c=e.sizes,l=e.fallbackSrc,f=e.className,d=e.imageClassName,p=e.stub,h=e.alt,m=e.ariaLabel,v=e.onClick,g=e.loading,y=void 0===g?"lazy":g,b=e.width,_=e.height,O=e.borderRadius,w=e.innerRef,E=Object(r.__read)(Object(i.useState)(!1),2),S=E[0],x=E[1],C=Object(r.__read)(Object(i.useState)(!1),2),T=C[0],k=C[1],j=Object(r.__read)(Object(i.useState)(!1),2),P=j[0],R=j[1],A=Object(r.__read)(Object(i.useState)(!1),2),I=A[0],D=A[1],M=Object(i.useRef)(null),N=Object(i.useMemo)((function(){return Object(s.a)(M,w)}),[M,w]),L=t||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",F=a||(n?n+" 2x":void 0),B=Object(i.useCallback)((function(){if(!M.current)return!1;var e=M.current,t=e.naturalWidth,n=e.naturalHeight;return t>0&&n>0}),[M]);Object(i.useEffect)((function(){var e=setTimeout((function(){S||B()||R(!0)}),50);return function(){return clearTimeout(e)}}),[S,B,R]),Object(i.useEffect)((function(){!S&&M.current&&M.current.complete&&x(!0)}),[S]);var U=Object(i.useCallback)((function(){x(!0)}),[]),z=Object(i.useCallback)((function(){k(!0)}),[]),V=u("Container",[f]),H=u({loaded:S,loading:P,animated:P&&S},[p?void 0:f,d]),W=Object(i.useCallback)((function(){D(!0)}),[]),G={};void 0!==b&&(G.width=b),void 0!==_&&(G.height=_),void 0!==O&&(G.borderRadius=O);var $=o.a.createElement("img",{style:G,alt:h,"aria-hidden":m?"false":"true","aria-label":m,className:H,onAnimationEnd:W,onClick:v,onError:z,onLoad:U,ref:N,src:T&&l?l:L,srcSet:F,sizes:c,loading:y});return p?o.a.createElement("div",{className:V,style:G},P&&!I&&p,$):$};c.displayName=u(),n.d(t,"Image",(function(){return c}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=Object(r.useRef)(e);t.current=e;var n=Object(r.useCallback)((function(e){var n=t.current,r=n.onFocus,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!0))}),[]),i=Object(r.useCallback)((function(e){var n=t.current,r=n.onBlur,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!1))}),[]),o={};return e.disabled||((e.onFocus||e.onFocusChange)&&(o.onFocus=n),(e.onBlur||e.onFocusChange)&&(o.onBlur=i)),{focusProps:o}}function o(e){var t=Object(r.useRef)(e),n=Object(r.useRef)({within:!1});t.current=e;var i=Object(r.useCallback)((function(e){var r=t.current,i=r.onFocusWithin,o=r.onFocusWithinChange,a=n.current;a.within||(a.within=!0,null===i||void 0===i||i(e),null===o||void 0===o||o(!0))}),[]),o=Object(r.useCallback)((function(e){var r=t.current,i=r.onBlurWithin,o=r.onFocusWithinChange,a=n.current;a.within&&!e.currentTarget.contains(e.relatedTarget)&&(a.within=!1,null===i||void 0===i||i(e),null===o||void 0===o||o(!1))}),[]),a={};return!e.disabled&&(e.onFocusWithin||e.onBlurWithin||e.onFocusWithinChange)&&(a.onFocus=i,a.onBlur=o),{focusWithinProps:a}}n.d(t,"useFocus",(function(){return i})),n.d(t,"useFocusWithin",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=[],o=null,a=null;function s(){return i[i.length-1]}function u(e,t,n){var r=s();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&(function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))})(r.refs,e.target)||r.onClose({nativeEvent:e,source:t})}function c(e){var t=e.key;"Escape"!==t&&"Esc"!==t||u(e,"esc")}function l(e){o=e.target,a=s(),u(e,"click","pressdown")}function f(e){var t=o;o=null;var n=a;a=null,e.button>0||n===s()&&t===e.target&&u(e,"click","pressup")}var d=Object.freeze({count:function(){return i.length},addOverlay:function(e){0===i.length&&(document.addEventListener("keyup",c),document.addEventListener("pointerdown",l,!0),document.addEventListener("click",f,!0)),i.push(e)},removeOverlay:function(e){i.splice(i.indexOf(e),1),0===i.length&&(document.removeEventListener("keyup",c),document.removeEventListener("pointerdown",l,!0),document.removeEventListener("click",f,!0))},getTopOverlayOptions:s});function p(e){var t=e.visible,n=e.onClose,i=e.essentialRefs,o=e.unsafe_strategy,a=void 0===o?"pressdown":o,s=Object(r.useRef)({onClose:n,refs:i,closeStrategy:a});s.current.onClose=n,s.current.refs=i,Object(r.useEffect)((function(){if(t){var e=s.current;return d.addOverlay(e),function(){d.removeOverlay(e)}}}),[t])}n.d(t,"useOverlay",(function(){return p}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),f=n(7),d=n.n(f),p=n(1),h=n.n(p),m=(n(2115),n(718),n(0)),v=n.n(m),g=n(19),y=n(26),b=n(189),_=n(318),O=n(69),w=n(23),E=n(33),S=n(22),x=n.n(S),C=n(38),T=n(35),k={INVALID_NAME:function(e){return"Название папки не может содержать символ «/»"},NAME_TOO_LONG:function(e){return"Название папки не может быть длиннее 255 символов"},FOLDER_EXISTS:function(e){return"Папка с именем «"+e+"» уже существует"},OTHER:function(e){return"Не удалось создать папку «"+yr.externals.entityify(e)+"»"}},j=n(14),P=n(11),R=n.n(P);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}n.d(t,"CreateFolderForm",(function(){return D}));var I=function(){return R()()("create-folder-form")},D=(function(e){l()(n,e);var t=A(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._defaultState={folderName:"Новая папка"},r.state=r._defaultState,r._onSubmit=r._onSubmit.bind(u()(r)),r._onChange=r._onChange.bind(u()(r)),r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r._inputRef=v.a.createRef(),r}return a()(n,[{key:"componentDidMount",value:function(){this._doInputFocused(),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){e.folderId===this.props.folderId&&e.visible===this.props.visible||this._hideError(),this.props.visible&&!e.visible&&this._doInputFocused()}},{key:"componentWillUnmount",value:function(){this.props.createRef&&this.props.createRef(null)}},{key:"_doInputFocused",value:function(){var e=this;requestAnimationFrame((function(){e._inputRef.current&&(e._inputRef.current.select(),e._inputRef.current.focus())}))}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.createFolder(t,this.state.folderName),j.default.count("interface elements","select folder dialog","create-folder",this.props.diskWebSelectFolderListingExp?"listing":"tree","submit",t.split("/").length-2)}},{key:"_hideError",value:function(){this.props.createFolderError&&this.props.updateDialog(this.props.dialogName,{createFolderError:null})}},{key:"_onChange",value:function(e){this.setState({folderName:e.target.value}),this._hideError()}},{key:"_onTooltipClose",value:function(){this._hideError()}},{key:"reset",value:function(){this.setState(this._defaultState)}},{key:"render",value:function(){var e=this.props,t=e.creatingFolder,n=e.createFolderError,r=e.disableButton,i=this.state.folderName,o=r||!i;return v.a.createElement("form",{className:I(),onSubmit:this._onSubmit},v.a.createElement(_.Tooltip,{hasTail:!0,view:"default",state:"alert",size:"s",className:I().e("error-popup").toString(),anchor:this._inputRef,direction:["top","bottom"],visible:!!n,onClose:this._onTooltipClose},v.a.createElement("div",{className:I().e("error-popup-text")},n)),v.a.createElement("div",{className:I().e("input-wrapper")},v.a.createElement(b.Textinput,{type:"text",view:"default",size:"s",value:i,name:"newFolderName",controlRef:this._inputRef,onChange:this._onChange}),v.a.createElement(O.Spin,{view:"default",className:I().e("spin"),progress:t,size:"xxs"})),v.a.createElement(y.Button,{view:"raised",size:"s",progress:t,disabled:o,className:I().e("submit"),type:"submit"},"Создать"))}}]),n})(m.Component),M={updateDialog:w.updateDialog,createFolder:function(e,t){return function(n,r){var i=E.default.validateName(t);if(t&&!i){n(Object(w.updateDialog)("selectFolder",{creatingFolder:!0}));var o=x.a.join(e,t);Object(C.a)("do-resource-create-folder",{id:o},{retriesLeft:0,retryOffline:!1}).then((function(){r().dialogs.selectFolder.data.onSubmit({folderId:o,name:t})})).catch((function(e){var r=k.OTHER;e&&e.id&&(r=(function(e){return"HTTP_412"===e||"HTTP_405"===e?T.STATUS_CREATE_FOLDER.EXISTS:T.STATUS_CREATE_FOLDER.UNKNOWN})(e.id)===T.STATUS_CREATE_FOLDER.EXISTS?k.FOLDER_EXISTS:k.OTHER),n(Object(w.updateDialog)("selectFolder",{creatingFolder:!1,createFolderError:r(t)}))}))}else{var a=i===E.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"NAME_TOO_LONG":"INVALID_NAME";n(Object(w.updateDialog)("selectFolder",{createFolderError:k[a](t)}))}}}};t.default=Object(g.connect)((function(e,t){var n=t.dialogName,r=e.dialogs,i=e.environment.session.experiment.diskWebSelectFolderListingExp,o=r[n],a=o.data,s=a.folderId,u=a.creatingFolder,c=a.createFolderError;return{visible:o.state===w.STATE.OPENED,diskWebSelectFolderListingExp:i,folderId:s,creatingFolder:u,createFolderError:c}}),M)(D)}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(271),a=n(650),s=n(430),u=function(e){var t=e.locale,n=e.children,r=Object(o.a)();return i.a.createElement(s.b,null,i.a.createElement(a.a,{locale:t||r.locale},n))};n.d(t,"Provider",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(73),i=n(369),o=n(370),a=n(371),s=n(372),u=n(373),c=n(374);n.d(t,"cnRadiobox",(function(){return r.b})),n.d(t,"Radiobox",(function(){return r.a})),n.d(t,"withSizeM",(function(){return i.a})),n.d(t,"withSizeS",(function(){return o.a})),n.d(t,"withThemeNormal",(function(){return a.a})),n.d(t,"withThemePseudo",(function(){return s.a})),n.d(t,"withViewDefault",(function(){return u.a})),n.d(t,"withViewOutline",(function(){return c.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,"useForkRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){Object(r.useImperativeHandle)(t,(function(){return e.current}))}n.d(t,"useForwardedRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0);function o(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],a=Object(i.useRef)({});return a.current={disabled:e.disabled},{isHovered:n,hoverProps:Object(i.useMemo)((function(){var e={onPointerEnter:function(){a.current.disabled||o(!0)},onPointerLeave:function(){o(!1)}};return e}),[])}}n.d(t,"useHover",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=e.bind,n=e.onAction,i=e.disabled,o=Object(r.useRef)({onAction:n});o.current.onAction=n,Object(r.useEffect)((function(){var e=function(e){t===e.code&&o.current.onAction(e)};return i||document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[i,t])}n.d(t,"useKeyBinding",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(544),o=n(557),a=n(560),s=n(278);function u(e,t){var n,u=e.as,c=void 0===u?"button":u,l=e.disabled,f=e.href,d=e.target,p=e.rel,h=e.type,m=void 0===h?"button":h,v=(e.tabIndex,e.onPress,e.onPressEnd,e.onPressStart,e.onPressUp,e.preventFocusOnPress,Object(r.__rest)(e,["as","disabled","href","target","rel","type","tabIndex","onPress","onPressEnd","onPressStart","onPressUp","preventFocusOnPress"]));"button"===c?(n={type:m,disabled:l},Object(s.a)()&&(n.autoComplete="off")):n={role:"button",tabIndex:l?void 0:0,href:"a"===c&&l?void 0:f,target:"a"===c?d:void 0,type:"input"===c?m:void 0,disabled:"input"===c?l:void 0,"aria-disabled":l&&"input"!==c?l:void 0,rel:"a"===c?p:void 0};var g=Object(i.a)(e,t).focusableProps,y=Object(o.a)(e),b=y.isPressed,_=y.pressProps;return{buttonProps:Object(a.a)(v,n,g,_),ElementType:c,isPressed:b}}n.d(t,"useButton",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(654);function a(e,t){var n=e.indeterminate,a=void 0!==n&&n,s=Object(r.__rest)(e,["indeterminate"]),u=Object(o.a)(s,t);return Object(i.useEffect)((function(){t.current&&(t.current.indeterminate=a)})),Object(r.__assign)(Object(r.__assign)({},u),{inputProps:Object(r.__assign)(Object(r.__assign)({},u.inputProps),{"aria-checked":a?"mixed":u.inputProps.checked})})}n.d(t,"useCheckbox",(function(){return a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(654);function o(e,t){var n=Object(i.a)(e,t);return Object(r.__assign)(Object(r.__assign)({},n),{inputProps:Object(r.__assign)(Object(r.__assign)({},n.inputProps),{role:"switch"})})}n.d(t,"useSwitch",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(543);function i(e){var t=Object(r.a)(),n=Object(r.a)(e.id);return{labelProps:{id:t,htmlFor:"label"===e.behavior?n:void 0},fieldProps:{"aria-labelledby":t,id:n}}}n.d(t,"useLabel",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(102),i=n(389),o=n(390),a=n(391),s=n(392);n.d(t,"cnTooltip",(function(){return r.b})),n.d(t,"Tooltip",(function(){return r.a})),n.d(t,"withSizeL",(function(){return i.a})),n.d(t,"withSizeM",(function(){return o.a})),n.d(t,"withSizeS",(function(){return a.a})),n.d(t,"withViewDefault",(function(){return s.a}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(2),i=null;function o(e){if(function(){if(null===i){i=!1;try{document.createElement("div").focus({get preventScroll(){return i=!0,!0}})}catch(e){}}return i}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var i=Object(r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.element,u=a.scrollTop,c=a.scrollLeft;s.scrollTop=u,s.scrollLeft=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})(t)}}function a(e,t){if(e)try{t?o(e):e.focus()}catch(e){}}}),,,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34),i=Object(r.cn)("Button2")}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(85);function o(e,t){return Object(i.a)()?Object(r.useLayoutEffect)(e,t):Object(r.useEffect)(e,t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),i=n(41);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63),i=n(50),o=n(41);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),a=Object(r.a)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}}),(function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.min(Math.max(e,t),n)}function i(e,t,n){return e>=t&&e<=n}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),i=n(41);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e).getDay();return 0===t||6===t}}),(function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(2),s=n(2200),u=n(456),c=n(198),l=n(440);!(function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward"})(r||(r={}));var f=(function(){function e(e){this.walker=new u.a(e,function(t){return e!==t&&e.contains(t)&&Object(l.a)(t)})}return e.prototype.findElement=function(e,t){for(var n=e===r.Forward;this.walker.current;n?this.walker.next():this.walker.previous())if(t(this.walker.current))return this.walker.current;return null},e.prototype.findElementWithTabIndex=function(e,t){return this.findElement(t,(function(t){return Object(c.a)(t)===e}))},e.prototype.findFirstElementWithGreaterTabIndex=function(e){return this.findElement(e,(function(e){return Object(c.a)(e)>=0}))},e.prototype.findElementWithGreaterTabIndex=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=null;this.walker.current;this.walker.next()){var r=Object(c.a)(this.walker.current);if(r>e&&(!n||r<t)&&(n=this.walker.current,t=r),t===e+1)break}return this.walker.current=n,n},e.prototype.findElementWithLowerTabIndex=function(e){for(var t=0,n=null;this.walker.current;this.walker.previous()){var r=Object(c.a)(this.walker.current);if(r<e&&r>t&&(n=this.walker.current,t=r),t===e-1)break}return this.walker.current=n,n},e.prototype.findNextFocusable=function(e){var t=this.walker.current,n=t?Object(c.a)(t):0;if(t){if(!e)return this.walker.next();if(n>=0){this.walker.next();var i=this.findElementWithTabIndex(n,r.Forward);if(i)return i}else{var o=this.findFirstElementWithGreaterTabIndex(r.Forward);if(o)return o}if(0===n)return null}if(this.walker.first(),!e)return this.walker.current;var a=this.findElementWithGreaterTabIndex(n);return a||(this.walker.first(),this.findElementWithTabIndex(0,r.Forward))},e.prototype.findPreviousFocusable=function(e){var t=this.walker.current;if(t?this.walker.previous():this.walker.last(),!e)return this.walker.current;var n,i=t?Object(c.a)(t):0;if(i<0){if(n=this.findFirstElementWithGreaterTabIndex(r.Backward))return n}else if(n=this.findElementWithTabIndex(i,r.Backward))return n;return this.walker.last(),this.findElementWithLowerTabIndex(i>0?i:Number.MAX_SAFE_INTEGER)},Object.defineProperty(e.prototype,"scope",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.walker.current},enumerable:!1,configurable:!0}),e.prototype.next=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findNextFocusable(t);return!i&&r?this.findNextFocusable(t):i},e.prototype.previous=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findPreviousFocusable(t);return!i&&r?this.findPreviousFocusable(t):i},e.prototype.first=function(e){return this.next({from:null,tabbable:e})},e.prototype.last=function(e){return this.previous({from:null,tabbable:e})},e})();n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var d=Object(i.createContext)(null),p=function(e){var t=e.scopeRef,n=e.autoFocus,r=e.children,u=Object(i.useMemo)((function(){return (function(e){var t=null;function n(n){return e.current&&(null===t||void 0===t?void 0:t.scope)!==e.current&&(t=new f(e.current)),t?n(t):null}return{focusFirst:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.first(r)}));return Object(s.a)(i,t),i},focusLast:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.last(r)}));return Object(s.a)(i,t),i},focusNext:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.next(r)}));return Object(s.a)(i,t),i},focusPrevious:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.previous(r)}));return Object(s.a)(i,t),i}}})(t)}),[t]);return Object(i.useEffect)((function(){n&&u.focusFirst()}),[]),o.a.createElement(d.Provider,{value:u},r)};function h(){var e=Object(i.useContext)(d);if(!e)throw new Error("Could not find focus manager context value. Please ensure the component is wrapped in a <FocusManagerScope />");return e}})]);